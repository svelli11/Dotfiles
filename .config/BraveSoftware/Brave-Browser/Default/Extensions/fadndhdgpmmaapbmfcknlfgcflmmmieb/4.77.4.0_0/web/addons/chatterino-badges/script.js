(()=>{var h=Object.defineProperty;var o=(i,a)=>h(i,"name",{value:a,configurable:!0});(()=>{var i={};const d=class d extends FrankerFaceZ.utilities.addon.Addon{constructor(...e){super(...e),this.inject("chat"),this.inject("chat.badges"),this.inject("settings"),this.badgeUrl="https://api.chatterino.com/badges",this.maxBadgeId=-1,this.settings.add("addon.chatterino_badges.badges",{default:!0,ui:{path:"Add-Ons > Chatterino Badges >> Badges",title:"Enable Badges",description:"Show all available Chatterino user badges",component:"setting-check-box"},changed:()=>this.updateBadges()})}onEnable(){this.updateBadges()}getIdFromIndex(e){return`addon.chatterino_badges.badge-${e}`}async updateBadges(){if(this.removeBadges(),this.settings.get("addon.chatterino_badges.badges")){const g=(await(await fetch(this.badgeUrl)).json()).badges;this.maxBadgeId=g.length-1;for(let s=0;s<=this.maxBadgeId;s++){const t=g[s],n=this.getIdFromIndex(s);this.badges.loadBadgeData(n,{id:`chatterino-${s}`,title:t.tooltip,slot:77,image:t.image1,urls:{1:t.image1,2:t.image2,4:t.image3},click_url:"https://chatterino.com/",svg:!1}),this.badges.setBulk("addon.chatterino_badges",n,t.users)}}this.emit("chat:update-lines")}removeBadges(){for(let e=0;e<=this.maxBadgeId;e++)this.badges.deleteBulk("addon.chatterino_badges",this.getIdFromIndex(e));this.maxBadgeId=-1}};o(d,"ChatterinoBadges");let a=d;a.register("chatterino-badges",null,"1.0.0")})();})();

//# sourceMappingURL=script.js.map