{"version":3,"file":"chatterino-badges/script.js","mappings":"oGAAA,MAAM,EAAN,MAAM,UAAyB,kCAAM,CACpC,eAAeA,EAAM,CACpB,MAAM,GAAGA,CAAI,EAEb,KAAK,OAAO,MAAM,EAClB,KAAK,OAAO,aAAa,EACzB,KAAK,OAAO,UAAU,EAEtB,KAAK,SAAW,oCAChB,KAAK,WAAa,GAElB,KAAK,SAAS,IAAI,iCAAkC,CACnD,QAAS,GACT,GAAI,CACH,KAAM,wCACN,MAAO,gBACP,YAAa,4CACb,UAAW,mBACZ,EACA,QAAS,IAAM,KAAK,aAAa,CAClC,CAAC,CACF,CAEA,UAAW,CACV,KAAK,aAAa,CACnB,CAEA,eAAeC,EAAO,CACrB,MAAO,iCAAiCA,CAAK,EAC9C,CAEA,MAAM,cAAe,CAGpB,GAFA,KAAK,aAAa,EAEd,KAAK,SAAS,IAAI,gCAAgC,EAAG,CAGxD,MAAMC,GADY,MADD,MAAM,MAAM,KAAK,QAAQ,GACT,KAAK,GACb,OACzB,KAAK,WAAaA,EAAO,OAAS,EAElC,QAASC,EAAI,EAAGA,GAAK,KAAK,WAAYA,IAAK,CAC1C,MAAMC,EAAQF,EAAOC,CAAC,EAChBE,EAAU,KAAK,eAAeF,CAAC,EACrC,KAAK,OAAO,cAAcE,EAAS,CAClC,GAAI,cAAcF,CAAC,GACnB,MAAOC,EAAM,QACb,KAAM,GACN,MAAOA,EAAM,OACb,KAAM,CACL,EAAGA,EAAM,OACT,EAAGA,EAAM,OACT,EAAGA,EAAM,MACV,EACA,UAAW,0BACX,IAAK,EACN,CAAC,EACD,KAAK,OAAO,QAAQ,0BAA2BC,EAASD,EAAM,KAAK,CACpE,CACD,CAEA,KAAK,KAAK,mBAAmB,CAC9B,CAEA,cAAe,CACd,QAASD,EAAI,EAAGA,GAAK,KAAK,WAAYA,IACrC,KAAK,OAAO,WAAW,0BAA2B,KAAK,eAAeA,CAAC,CAAC,EAGzE,KAAK,WAAa,EACnB,CACD,EAtEqC,wBAArC,IAAMG,EAAN,EAwEAA,EAAiB,SAAS,iC","sources":["webpack://ffz-addons/./src/chatterino-badges/index.js"],"sourcesContent":["class ChatterinoBadges extends Addon {\n\tconstructor(...args) {\n\t\tsuper(...args);\n\n\t\tthis.inject('chat');\n\t\tthis.inject('chat.badges');\n\t\tthis.inject('settings');\n\n\t\tthis.badgeUrl = 'https://api.chatterino.com/badges';\n\t\tthis.maxBadgeId = -1;\n\n\t\tthis.settings.add('addon.chatterino_badges.badges', {\n\t\t\tdefault: true,\n\t\t\tui: {\n\t\t\t\tpath: 'Add-Ons > Chatterino Badges >> Badges',\n\t\t\t\ttitle: 'Enable Badges',\n\t\t\t\tdescription: 'Show all available Chatterino user badges',\n\t\t\t\tcomponent: 'setting-check-box',\n\t\t\t},\n\t\t\tchanged: () => this.updateBadges()\n\t\t});\n\t}\n\n\tonEnable() {\n\t\tthis.updateBadges();\n\t}\n\n\tgetIdFromIndex(index) {\n\t\treturn `addon.chatterino_badges.badge-${index}`;\n\t}\n\n\tasync updateBadges() {\n\t\tthis.removeBadges();\n\n\t\tif (this.settings.get('addon.chatterino_badges.badges')) {\n\t\t\tconst response = await fetch(this.badgeUrl);\n\t\t\tconst badgeData = await response.json();\n\t\t\tconst badges = badgeData.badges;\n\t\t\tthis.maxBadgeId = badges.length - 1;\n\n\t\t\tfor (let i = 0; i <= this.maxBadgeId; i++) {\n\t\t\t\tconst badge = badges[i];\n\t\t\t\tconst badgeId = this.getIdFromIndex(i);\n\t\t\t\tthis.badges.loadBadgeData(badgeId, {\n\t\t\t\t\tid: `chatterino-${i}`,\n\t\t\t\t\ttitle: badge.tooltip,\n\t\t\t\t\tslot: 77,\n\t\t\t\t\timage: badge.image1,\n\t\t\t\t\turls: {\n\t\t\t\t\t\t1: badge.image1,\n\t\t\t\t\t\t2: badge.image2,\n\t\t\t\t\t\t4: badge.image3,\n\t\t\t\t\t},\n\t\t\t\t\tclick_url: 'https://chatterino.com/',\n\t\t\t\t\tsvg: false,\n\t\t\t\t});\n\t\t\t\tthis.badges.setBulk('addon.chatterino_badges', badgeId, badge.users);\n\t\t\t}\n\t\t}\n\n\t\tthis.emit('chat:update-lines');\n\t}\n\n\tremoveBadges() {\n\t\tfor (let i = 0; i <= this.maxBadgeId; i++) {\n\t\t\tthis.badges.deleteBulk('addon.chatterino_badges', this.getIdFromIndex(i));\n\t\t}\n\n\t\tthis.maxBadgeId = -1;\n\t}\n}\n\nChatterinoBadges.register();"],"names":["args","index","badges","i","badge","badgeId","ChatterinoBadges"],"sourceRoot":""}