{"version":3,"file":"no-bad-emotes/script.js","mappings":"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","sources":["webpack://ffz-addons/./node_modules/.pnpm/string.fromcodepoint@0.2.1/node_modules/string.fromcodepoint/fromcodepoint.js","webpack://ffz-addons/./node_modules/.pnpm/unescape-js@1.1.4/node_modules/unescape-js/dist/index.js","webpack://ffz-addons/webpack/bootstrap","webpack://ffz-addons/webpack/runtime/compat get default export","webpack://ffz-addons/webpack/runtime/define property getters","webpack://ffz-addons/webpack/runtime/global","webpack://ffz-addons/webpack/runtime/hasOwnProperty shorthand","webpack://ffz-addons/webpack/runtime/publicPath","webpack://ffz-addons/./src/no-bad-emotes/index.js"],"sourcesContent":["/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */\nif (!String.fromCodePoint) {\n\t(function() {\n\t\tvar defineProperty = (function() {\n\t\t\t// IE 8 only supports `Object.defineProperty` on DOM elements\n\t\t\ttry {\n\t\t\t\tvar object = {};\n\t\t\t\tvar $defineProperty = Object.defineProperty;\n\t\t\t\tvar result = $defineProperty(object, object, object) && $defineProperty;\n\t\t\t} catch(error) {}\n\t\t\treturn result;\n\t\t}());\n\t\tvar stringFromCharCode = String.fromCharCode;\n\t\tvar floor = Math.floor;\n\t\tvar fromCodePoint = function(_) {\n\t\t\tvar MAX_SIZE = 0x4000;\n\t\t\tvar codeUnits = [];\n\t\t\tvar highSurrogate;\n\t\t\tvar lowSurrogate;\n\t\t\tvar index = -1;\n\t\t\tvar length = arguments.length;\n\t\t\tif (!length) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\tvar result = '';\n\t\t\twhile (++index < length) {\n\t\t\t\tvar codePoint = Number(arguments[index]);\n\t\t\t\tif (\n\t\t\t\t\t!isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n\t\t\t\t\tcodePoint < 0 || // not a valid Unicode code point\n\t\t\t\t\tcodePoint > 0x10FFFF || // not a valid Unicode code point\n\t\t\t\t\tfloor(codePoint) != codePoint // not an integer\n\t\t\t\t) {\n\t\t\t\t\tthrow RangeError('Invalid code point: ' + codePoint);\n\t\t\t\t}\n\t\t\t\tif (codePoint <= 0xFFFF) { // BMP code point\n\t\t\t\t\tcodeUnits.push(codePoint);\n\t\t\t\t} else { // Astral code point; split in surrogate halves\n\t\t\t\t\t// http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n\t\t\t\t\tcodePoint -= 0x10000;\n\t\t\t\t\thighSurrogate = (codePoint >> 10) + 0xD800;\n\t\t\t\t\tlowSurrogate = (codePoint % 0x400) + 0xDC00;\n\t\t\t\t\tcodeUnits.push(highSurrogate, lowSurrogate);\n\t\t\t\t}\n\t\t\t\tif (index + 1 == length || codeUnits.length > MAX_SIZE) {\n\t\t\t\t\tresult += stringFromCharCode.apply(null, codeUnits);\n\t\t\t\t\tcodeUnits.length = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\tif (defineProperty) {\n\t\t\tdefineProperty(String, 'fromCodePoint', {\n\t\t\t\t'value': fromCodePoint,\n\t\t\t\t'configurable': true,\n\t\t\t\t'writable': true\n\t\t\t});\n\t\t} else {\n\t\t\tString.fromCodePoint = fromCodePoint;\n\t\t}\n\t}());\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"string.fromcodepoint\");\n\n/**\n * \\\\ - matches the backslash which indicates the beginning of an escape sequence\n * (\n *   u\\{([0-9A-Fa-f]+)\\} - first alternative; matches the variable-length hexadecimal escape sequence (\\u{ABCD0})\n * |\n *   u([0-9A-Fa-f]{4}) - second alternative; matches the 4-digit hexadecimal escape sequence (\\uABCD)\n * |\n *   x([0-9A-Fa-f]{2}) - third alternative; matches the 2-digit hexadecimal escape sequence (\\xA5)\n * |\n *   ([1-7][0-7]{0,2}|[0-7]{2,3}) - fourth alternative; matches the up-to-3-digit octal escape sequence (\\5 or \\512)\n * |\n *   (['\"tbrnfv0\\\\]) - fifth alternative; matches the special escape characters (\\t, \\n and so on)\n * |\n *   \\U([0-9A-Fa-f]+) - sixth alternative; matches the 8-digit hexadecimal escape sequence used by python (\\U0001F3B5)\n * )\n */\nvar jsEscapeRegex = /\\\\(u\\{([0-9A-Fa-f]+)\\}|u([0-9A-Fa-f]{4})|x([0-9A-Fa-f]{2})|([1-7][0-7]{0,2}|[0-7]{2,3})|(['\"tbrnfv0\\\\]))|\\\\U([0-9A-Fa-f]{8})/g;\nvar usualEscapeSequences = {\n  '0': '\\0',\n  'b': '\\b',\n  'f': '\\f',\n  'n': '\\n',\n  'r': '\\r',\n  't': '\\t',\n  'v': '\\v',\n  '\\'': '\\'',\n  '\"': '\"',\n  '\\\\': '\\\\'\n};\n\nvar fromHex = function fromHex(str) {\n  return String.fromCodePoint(parseInt(str, 16));\n};\n\nvar fromOct = function fromOct(str) {\n  return String.fromCodePoint(parseInt(str, 8));\n};\n\nvar _default = function _default(string) {\n  return string.replace(jsEscapeRegex, function (_, __, varHex, longHex, shortHex, octal, specialCharacter, python) {\n    if (varHex !== undefined) {\n      return fromHex(varHex);\n    } else if (longHex !== undefined) {\n      return fromHex(longHex);\n    } else if (shortHex !== undefined) {\n      return fromHex(shortHex);\n    } else if (octal !== undefined) {\n      return fromOct(octal);\n    } else if (python !== undefined) {\n      return fromHex(python);\n    } else {\n      return usualEscapeSequences[specialCharacter];\n    }\n  });\n};\n\nexports.default = _default;\nmodule.exports = exports.default;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && !scriptUrl) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl + \"../\";","const { has, addWordSeparators, glob_to_regex, escape_regex } = FrankerFaceZ.utilities.object; \n\nimport unescape from 'unescape-js';\n\nconst COMMON_WORDS = require('./common.json');\n\nconst TERM_FLAGS = ['g', 'gi'];\n\nfunction formatTerms(data) {\n\tconst out = [];\n\n\tfor(let i=0; i < data.length; i++) {\n\t\tconst list = data[i];\n\t\tif ( list[0].length )\n\t\t\tlist[1].push(`^(?:${list[0].join('|')})$`);\n\n\t\tout.push(list[1].length ? new RegExp(list[1].join('|'), TERM_FLAGS[i] || 'gi') : null);\n\t}\n\n\treturn out;\n}\n\nclass NoBadEmotes extends Addon {\n\n\tconstructor(name, parent) {\n\t\tsuper(name, parent);\n\n\t\tthis._use_common = null;\n\n\t\tthis.inject('chat.emotes');\n\n\t\tthis.doesEmoteMatch = this.doesEmoteMatch.bind(this);\n\n\t\t// Settings\n\t\tthis.settings.add('addon.nobademotes.process-outgoing', {\n\t\t\tdefault: false,\n\t\t\tui: {\n\t\t\t\tpath: 'Add-Ons > No Bad Emotes >> General',\n\t\t\t\ttitle: 'Escape filtered emotes in outgoing chat messages.',\n\t\t\t\tdescription: 'The filtering this add-on performs is client-only, so normally your filtering only affects what you see. If you enable this, any messages you send will be modified based on your filtering rules to prevent you from inadvertently using an emote that you have filtered out.',\n\t\t\t\tcomponent: 'setting-check-box'\n\t\t\t}\n\t\t});\n\n\t\tthis.settings.add('addon.nobademotes.outgoing-escape', {\n\t\t\tdefault: '\\\\u{E0002}{NAME}',\n\t\t\tprocess(ctx, val) {\n\t\t\t\ttry {\n\t\t\t\t\treturn unescape(val);\n\t\t\t\t} catch(err) {\n\t\t\t\t\treturn `\\u{E0002}{NAME}`;\n\t\t\t\t}\n\t\t\t},\n\t\t\tui: {\n\t\t\t\tpath: 'Add-Ons > No Bad Emotes >> Advanced @{\"sort\": 99}',\n\t\t\t\ttitle: 'Escape Character',\n\t\t\t\tdescription: 'The character(s) to add to an emote\\'s name when escaping filtered emotes in outgoing chat messages. Use `\\'{\\'NAME\\'}\\'` where the emote\\'s name should go. Standard escape sequences are supported.',\n\t\t\t\tcomponent: 'setting-text-box',\n\t\t\t\tvalidate(val) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tunescape(val);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} catch(err) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.settings.add('addon.nobademotes.no-filter-personal', {\n\t\t\tdefault: false,\n\t\t\tui: {\n\t\t\t\tpath: 'Add-Ons > No Bad Emotes >> General @{\"sort\": -99}',\n\t\t\t\ttitle: 'Do not filter emotes out of personal emote sets.',\n\t\t\t\tcomponent: 'setting-check-box'\n\t\t\t},\n\t\t\tchanged: () => this.emotes.updateFiltered()\n\t\t});\n\n\t\tthis.settings.add('addon.nobademotes.no-filter-global', {\n\t\t\tdefault: false,\n\t\t\tui: {\n\t\t\t\tpath: 'Add-Ons > No Bad Emotes >> General @{\"sort\": -99}',\n\t\t\t\ttitle: 'Do not filter emotes out of global emote sets.',\n\t\t\t\tcomponent: 'setting-check-box'\n\t\t\t},\n\t\t\tchanged: () => this.emotes.updateFiltered()\n\t\t});\n\n\t\tthis.settings.add('addon.nobademotes.use-all-lower', {\n\t\t\tdefault: false,\n\t\t\tui: {\n\t\t\t\tpath: 'Add-Ons > No Bad Emotes >> Basic',\n\t\t\t\ttitle: 'Filter out emotes with names that are all lowercase letters.',\n\t\t\t\tcomponent: 'setting-check-box'\n\t\t\t},\n\t\t\tchanged: () => this.emotes.updateFiltered()\n\t\t});\n\n\t\tthis.settings.add('addon.nobademotes.ban-short', {\n\t\t\tdefault: false,\n\t\t\tui: {\n\t\t\t\tpath: 'Add-Ons > No Bad Emotes >> Basic',\n\t\t\t\ttitle: 'Filter out emotes with names shorter than 3 characters.',\n\t\t\t\tcomponent: 'setting-check-box'\n\t\t\t},\n\t\t\tchanged: () => this.emotes.updateFiltered()\n\t\t});\n\n\t\tthis.settings.add('addon.nobademotes.custom-names', {\n\t\t\tdefault: [],\n\t\t\ttype: 'array_merge',\n\t\t\talways_inherit: true,\n\t\t\tui: {\n\t\t\t\tpath: 'Add-Ons > No Bad Emotes >> Custom Words @{\"description\": \"Flexible filters for removing emotes based on their name. Please see [Chat > Filtering > Syntax Help](~) for details on how to use this.\"}',\n\t\t\t\tcomponent: 'basic-terms'\n\t\t\t}\n\t\t});\n\n\t\tthis.settings.add('__filter:addon.nobademotes.custom-names', {\n\t\t\trequires: ['addon.nobademotes.custom-names'],\n\t\t\tequals: 'requirements',\n\t\t\tprocess(ctx) {\n\t\t\t\tconst val = ctx.get('addon.nobademotes.custom-names');\n\t\t\t\tif ( ! val || ! val.length )\n\t\t\t\t\treturn null;\n\n\t\t\t\tconst data = [\n\t\t\t\t\t[ // sensitive\n\t\t\t\t\t\t[], [] // word\n\t\t\t\t\t],\n\t\t\t\t\t[ // intensitive\n\t\t\t\t\t\t[], []\n\t\t\t\t\t]\n\t\t\t\t];\n\n\t\t\t\tlet had_non = false;\n\n\t\t\t\tfor(const item of val) {\n\t\t\t\t\tconst t = item.t,\n\t\t\t\t\t\tsensitive = item.s,\n\t\t\t\t\t\tword = has(item, 'w') ? item.w : t !== 'raw';\n\t\t\t\t\tlet v = item.v;\n\n\t\t\t\t\tif ( t === 'glob' )\n\t\t\t\t\t\tv = glob_to_regex(v);\n\n\t\t\t\t\telse if ( t !== 'regex' && t !== 'raw' )\n\t\t\t\t\t\tv = escape_regex(v);\n\n\t\t\t\t\tif ( ! v || ! v.length )\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\thad_non = true;\n\n\t\t\t\t\tdata[sensitive ? 0 : 1][word ? 0 : 1].push(v);\n\t\t\t\t}\n\n\t\t\t\tif ( ! had_non )\n\t\t\t\t\treturn null;\n\n\t\t\t\treturn had_non ? formatTerms(data) : null\n\t\t\t},\n\t\t\tchanged: () => this.emotes.updateFiltered()\n\t\t});\n\n\t\tthis.settings.add('addon.nobademotes.use-common', {\n\t\t\tdefault: true,\n\t\t\tui: {\n\t\t\t\tpath: 'Add-Ons > No Bad Emotes >> Common Words',\n\t\t\t\ttitle: 'Filter out emotes with names matching a list of common English words.',\n\t\t\t\tcomponent: 'setting-check-box'\n\t\t\t},\n\t\t\tchanged: val => this.onUseCommon(val)\n\t\t});\n\n\t\tthis.settings.add('addon.nobademotes.capitalization-mode', {\n\t\t\tdefault: 0,\n\t\t\tui: {\n\t\t\t\tpath: 'Add-Ons > No Bad Emotes >> Common Words',\n\t\t\t\ttitle: 'Capitalization Mode',\n\t\t\t\tsort: 99,\n\t\t\t\tdescription: 'By default, we only filter common words if the emote name is all lower-case. You can optionally include emotes with the first letter capitalized.',\n\t\t\t\tcomponent: 'setting-select-box',\n\t\t\t\tdata: [\n\t\t\t\t\t{value: 0, title: 'Lowercase Only'},\n\t\t\t\t\t{value: 1, title: 'Lowercase or Initial Capital'}\n\t\t\t\t]\n\t\t\t},\n\t\t\tchanged: () => {\n\t\t\t\tif ( this._use_common && this.common_words?.length )\n\t\t\t\t\tthis.emotes.updateFiltered()\n\t\t\t}\n\t\t});\n\n\t}\n\n\tonEnable() {\n\t\t// Call this before adding our filter so we only process once.\n\t\tthis.onUseCommon(this.settings.get('addon.nobademotes.use-common'));\n\n\t\tthis.on('chat:pre-send-message', this.processOutbound);\n\n\t\tthis.emotes.addFilter({\n\t\t\ttype: 'nobademotes',\n\t\t\ttest: this.doesEmoteMatch\n\t\t});\n\t}\n\n\tonDisable() {\n\t\tthis.emotes.removeFilter('nobademotes');\n\t\tthis.off('chat:pre-send-message', this.processOutbound);\n\t}\n\n\t// Common Words\n\n\tonUseCommon(val) {\n\t\t// No change? No problem :D\n\t\tif ( this._use_common === val )\n\t\t\treturn;\n\n\t\t// Check if we have set this before. We don't update filters the first\n\t\t// time around.\n\t\tconst was_set = this._use_common == null;\n\n\t\t// And update the value.\n\t\tthis._use_common = val;\n\n\t\t// If we're just disabling, or if we've already loaded, then we don't\n\t\t// need to worry about loading.\n\t\tif ( ! val || this.common_words ) {\n\t\t\t// But we might need to update the filters.\n\t\t\tif ( was_set )\n\t\t\t\tthis.emotes.updateFiltered();\n\t\t\treturn;\n\t\t}\n\n\t\tthis.loadCommonWords();\n\t}\n\n\tasync loadCommonWords() {\n\t\tif ( this._loading_common || this.common_words?.length )\n\t\t\treturn;\n\n\t\tthis._loading_common = true;\n\n\t\tlet data;\n\t\ttry {\n\t\t\tdata = await fetch(COMMON_WORDS).then(resp => resp.ok ? resp.json() : null);\n\t\t} catch(err) {\n\t\t\tthis.log.warn('Unable to load common words list.', err);\n\t\t\tthis._loading_common = false;\n\t\t\treturn;\n\t\t}\n\n\t\tif ( ! Array.isArray(data?.words) ) {\n\t\t\tthis._loading_common = false;\n\t\t\tthis.common_words = [];\n\t\t\treturn;\n\t\t}\n\n\t\tthis._loading_common = false;\n\t\tthis.common_words = data.words;\n\t\tthis.log.info(`Loaded ${data.words.length} common words.`);\n\n\t\tif ( this._use_common )\n\t\t\tthis.emotes.updateFiltered();\n\t}\n\n\n\t// Outbound Messages\n\n\tprocessOutbound(event) {\n\t\tif ( ! this.settings.get('addon.nobademotes.process-outgoing') )\n\t\t\treturn;\n\n\t\tconst site = this.resolve('site'),\n\t\t\tuser = site?.getUser?.();\n\n\t\tconst bad_emotes = new Set;\n\n\t\tfor(const set of this.emotes.getSets(user?.id, user?.login, null, event.channel)) {\n\t\t\tfor(const emote of Object.values(set.disabled_emotes)) {\n\t\t\t\tif ( emote?.name )\n\t\t\t\t\tbad_emotes.add(emote.name);\n\t\t\t}\n\t\t}\n\n\t\tif ( ! bad_emotes.size )\n\t\t\treturn;\n\n\t\tconst out = [],\n\t\t\tchar = this.settings.get('addon.nobademotes.outgoing-escape');\n\n\t\tfor(const word of event.message.split(/ /g)) {\n\t\t\tif ( bad_emotes.has(word) ) {\n\t\t\t\tout.push(char.replace(/\\{NAME\\}/g, word));\n\t\t\t} else\n\t\t\t\tout.push(word);\n\t\t}\n\n\t\tevent.message = out.join(' ');\n\t}\n\n\n\t// Filtering\n\n\tdoesEmoteMatch(emote, set) {\n\t\tif ( set ) {\n\t\t\tif ( this.settings.get('addon.nobademotes.no-filter-global') && this.emotes.default_sets.includes(set.id) )\n\t\t\t\treturn false;\n\n\t\t\tif ( set.personal && this.settings.get('addon.nobademotes.no-filter-personal') )\n\t\t\t\treturn false;\n\t\t}\n\n\t\tconst no_short = this.settings.get('addon.nobademotes.ban-short');\n\t\tif ( no_short && emote.name.length < 3 )\n\t\t\treturn true;\n\n\t\tconst lname = emote.name.toLowerCase();\n\n\t\tconst no_lower = this.settings.get('addon.nobademotes.use-all-lower');\n\t\tif ( no_lower && lname === emote.name )\n\t\t\treturn true;\n\n\t\tif ( this.doesCommonNameMatch(emote, lname) )\n\t\t\treturn true;\n\n\t\tif ( this.doesCustomMatch(emote) )\n\t\t\treturn true;\n\t}\n\n\tdoesCommonNameMatch(emote, lname) {\n\t\tif ( ! this._use_common || ! this.common_words )\n\t\t\treturn false;\n\n\t\tconst cap_mode = this.settings.get('addon.nobademotes.capitalization-mode');\n\t\tif ( cap_mode === 0 && lname !== emote.name )\n\t\t\treturn false;\n\n\t\tif ( cap_mode === 1 && emote.name.slice(1) !== lname.slice(1) )\n\t\t\treturn false;\n\n\t\treturn this.common_words.includes(lname);\n\t}\n\n\tdoesCustomMatch(emote) {\n\t\tconst filters = this.settings.get('__filter:addon.nobademotes.custom-names');\n\t\tif ( ! filters )\n\t\t\treturn false;\n\n\t\tfor(let i = 0; i < filters.length; i++) {\n\t\t\tif ( filters[i] ) {\n\t\t\t\tfilters[i].lastIndex = -1;\n\t\t\t\tif ( filters[i].test(emote.name) )\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\n}\n\nNoBadEmotes.register();\n"],"names":["defineProperty","object","$defineProperty","result","stringFromCharCode","floor","fromCodePoint","_","MAX_SIZE","codeUnits","highSurrogate","lowSurrogate","index","length","codePoint","exports","jsEscapeRegex","usualEscapeSequences","fromHex","str","fromOct","_default","string","__","varHex","longHex","shortHex","octal","specialCharacter","python","module","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","definition","key","obj","prop","scriptUrl","document","scripts","i","has","addWordSeparators","glob_to_regex","escape_regex","COMMON_WORDS","TERM_FLAGS","formatTerms","data","out","list","name","parent","ctx","val","had_non","item","t","sensitive","word","v","was_set","resp","err","event","site","user","bad_emotes","set","emote","char","lname","cap_mode","filters","NoBadEmotes"],"sourceRoot":""}