{"version":3,"file":"emoteless/script.js","mappings":"oGAAA,MAAM,EAAN,MAAM,UAAsB,kCAAM,CAEjC,eAAeA,EAAM,CACpB,MAAM,GAAGA,CAAI,EAEb,KAAK,OAAO,MAAM,EAElB,KAAK,SAAS,IAAI,0BAA2B,CAC5C,QAAS,GAET,GAAI,CACH,KAAM,uCACN,MAAO,gBACP,YAAa,wDACb,UAAW,mBACZ,CACD,CAAC,EAED,KAAK,cAAgB,CACpB,KAAM,kBACN,SAAU,EAEV,QAAQC,EAAQC,EAAK,CACpB,GAAI,CAAC,KAAK,QAAQ,IAAI,yBAAyB,EAAG,OAAOD,EAEzD,IAAIE,EAAY,GAChB,UAAUC,KAASH,EAClB,GAAIG,EAAM,OAAS,QACnB,IAAIA,EAAM,OAAS,QAAU,wBAAwB,KAAKA,EAAM,IAAI,EAAG,CACjE,SAAS,KAAKA,EAAM,IAAI,GAAG,KAAK,IAAI,MAAMA,EAAM,IAAI,EACzD,QACD,CACAD,EAAY,GACZ,MAGD,OAAGA,GAAa,KAEhBD,EAAI,YAAc,IAEXD,CACR,CACD,CACD,CAEA,UAAW,CACV,KAAK,KAAK,aAAa,KAAK,aAAa,EACzC,KAAK,KAAK,mBAAmB,CAC9B,CAEA,WAAY,CACX,KAAK,KAAK,gBAAgB,KAAK,aAAa,EAC5C,KAAK,KAAK,mBAAmB,CAC9B,CACD,EAtDkC,qBAAlC,IAAMI,EAAN,EAwDAA,EAAc,SAAS,yB","sources":["webpack://ffz-addons/./src/emoteless/index.js"],"sourcesContent":["class EmoteLessChat extends Addon {\n\n\tconstructor(...args) {\n\t\tsuper(...args);\n\n\t\tthis.inject('chat');\n\n\t\tthis.settings.add('emote_less_chat.enabled', {\n\t\t\tdefault: true,\n\n\t\t\tui: {\n\t\t\t\tpath: 'Add-Ons > Emote Less Chat >> Enabled',\n\t\t\t\ttitle: 'Enable filter',\n\t\t\t\tdescription: 'Removes every chat message, that only contains emotes',\n\t\t\t\tcomponent: 'setting-check-box',\n\t\t\t},\n\t\t});\n\n\t\tthis.messageFilter = {\n\t\t\ttype: 'emote_less_chat',\n\t\t\tpriority: 9,\n\n\t\t\tprocess(tokens, msg) {\n\t\t\t\tif (!this.context.get('emote_less_chat.enabled')) return tokens;\n\n\t\t\t\tlet emoteOnly = true;\n\t\t\t\tfor(const token of tokens) {\n\t\t\t\t\tif (token.type === 'emote') continue;\n\t\t\t\t\tif (token.type === 'text' && /^(\\s|[^\\x20-\\x7E])+$/g.test(token.text)) {\n\t\t\t\t\t\tif (!/^\\s+$/g.test(token.text)) this.log.debug(token.text);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\temoteOnly = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif(emoteOnly == false) return tokens;\n\n\t\t\t\tmsg.ffz_removed = true;\n\n\t\t\t\treturn tokens;\n\t\t\t}\n\t\t}\n\t}\n\n\tonEnable() {\n\t\tthis.chat.addTokenizer(this.messageFilter);\n\t\tthis.emit('chat:update-lines');\n\t}\n\n\tonDisable() {\n\t\tthis.chat.removeTokenizer(this.messageFilter);\n\t\tthis.emit('chat:update-lines');\n\t}\n}\n\nEmoteLessChat.register();\n"],"names":["args","tokens","msg","emoteOnly","token","EmoteLessChat"],"sourceRoot":""}