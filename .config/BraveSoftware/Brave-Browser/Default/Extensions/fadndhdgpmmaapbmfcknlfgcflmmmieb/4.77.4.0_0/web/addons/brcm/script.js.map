{"version":3,"file":"brcm/script.js","mappings":"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","sources":["webpack://ffz-addons/webpack/bootstrap","webpack://ffz-addons/webpack/runtime/define property getters","webpack://ffz-addons/webpack/runtime/ensure chunk","webpack://ffz-addons/webpack/runtime/get javascript chunk filename","webpack://ffz-addons/webpack/runtime/global","webpack://ffz-addons/webpack/runtime/hasOwnProperty shorthand","webpack://ffz-addons/webpack/runtime/load script","webpack://ffz-addons/webpack/runtime/make namespace object","webpack://ffz-addons/webpack/runtime/publicPath","webpack://ffz-addons/webpack/runtime/jsonp chunk loading","webpack://ffz-addons/./src/brcm/utils.js","webpack://ffz-addons/./src/brcm/config/config.js","webpack://ffz-addons/./src/brcm/config/menu_config.js","webpack://ffz-addons/./src/brcm/module/module.js","webpack://ffz-addons/./src/brcm/module/chat_module.js","webpack://ffz-addons/./src/brcm/module/video_player_module.js","webpack://ffz-addons/./src/brcm/preset/preset.js","webpack://ffz-addons/./src/brcm/preset/firefox_preset.js","webpack://ffz-addons/./src/brcm/preset/twitch_preset.js","webpack://ffz-addons/./src/brcm/index.js"],"sourcesContent":["// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + \"brcm/vue\" + \".js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"ffz-addons:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t\tif (script.src.indexOf(window.location.origin + '/') !== 0) {\n\t\t\tscript.crossOrigin = \"anonymous\";\n\t\t}\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && !scriptUrl) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl + \"../\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t742: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = globalThis[\"ffzAddonsWebpackJsonp\"] = globalThis[\"ffzAddonsWebpackJsonp\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","/**\n * @param {MouseEvent} event\n * @returns {{x: number, y: number}}\n */\nexport const getMousePos = event => ({\n\tx: event.pageX ? event.pageX : event.clientX + (document.documentElement.scrollLeft ?\n\t\tdocument.documentElement.scrollLeft : document.body.scrollLeft),\n\ty: event.pageY ? event.pageY : event.clientY + (document.documentElement.scrollTop ?\n\t\tdocument.documentElement.scrollTop : document.body.scrollTop)\n});\n\n/**\n * @param {HTMLElement||EventTarget} element\n * @param {number} [parentCount = Number.MAX_SAFE_INTEGER]\n * @param {number} [itr = 0]\n * @returns {string}\n */\nexport const getParentClassNames = (element, parentCount = Number.MAX_SAFE_INTEGER, itr = 0) =>\n\t`${element.className} ${(itr < parentCount) && element.parentElement ? getParentClassNames(element.parentElement, parentCount, ++itr) : ''}`;\n\n/**\n * @param {number} start\n * @param {number} end\n * @param {number} [step]\n * @returns {number[]}\n */\nexport const range = (start, end, step = 1) => {\n\tif (start === end) return [start];\n\treturn [start, ...range(start + 1, end)].filter(n => n % step === 0);\n};\n\n/**\n * @param {string} str\n * @returns {string}\n */\nexport const titlize = str => str.split('_').map(word => word.charAt(0).toUpperCase() + word.substring(1).toLowerCase()).join(' ');\n\n/**\n * @param {string} str\n * @returns {string}\n */\nexport const capitalize = str => (str.charAt(0).toUpperCase() + str.substring(1).toLowerCase()).split('_').join(' ');\n\n/**\n * @param {string} moduleKey\n * @param {string} submoduleKey\n * @returns {string}\n */\nexport const getConfigKey = (moduleKey, submoduleKey) => `add_ons.brcm.module.${moduleKey}.module.config.${submoduleKey}`;\n","import {capitalize, range} from '../utils.js';\n\nexport class ConfigPath {\n\t/**\n\t * @type {string[]}\n\t */\n\t#segmentList = [];\n\t\n\t/**\n\t * @param {string} pathSegment\n\t * @param {number} [sort]\n\t * @param {string} [description]\n\t * @returns {ConfigPath}\n\t */\n\taddSegment(pathSegment, sort, description) {\n\t\tconst ops = {};\n\t\tif (sort) ops.sort = sort;\n\t\tif (description) ops.description = description;\n\t\t\n\t\tthis.#segmentList.push(`${pathSegment}@${JSON.stringify(ops)}`);\n\t\treturn this;\n\t}\n\t\n\t/**\n\t * @returns {ConfigPath}\n\t */\n\tcopy() {\n\t\tconst copy = new ConfigPath();\n\t\tthis.#segmentList.forEach(segment => copy.#segmentList.push(segment));\n\t\treturn copy;\n\t}\n\t\n\t/**\n\t * @returns {string}\n\t */\n\ttoString() {\n\t\tconst starter = 'Add-Ons > BRCM';\n\t\tswitch (this.#segmentList.length) {\n\t\t\tcase 0:\n\t\t\t\treturn starter.replace('>', '>>');\n\t\t\tcase 1:\n\t\t\t\treturn `${starter} >> ${this.#segmentList[0]}`;\n\t\t\tcase 2:\n\t\t\t\treturn `${starter} > ${this.#segmentList[0]} >> ${this.#segmentList[1]}`;\n\t\t\tdefault:\n\t\t\t\tconst end = this.#segmentList.pop();\n\t\t\t\treturn `${starter} > ${this.#segmentList.join(' > ')} >> ${end}`;\n\t\t}\n\t}\n}\n\nexport class Config {\n\t/**\n\t * @typedef {Object} ConfigObject\n\t * @template {*} T\n\t * @property {T} default\n\t * @property {Object} ui\n\t * @property {function(): void} [changed]\n\t * @property {function(*, *): any} [process]\n\t * @property {T} [ui.default]\n\t * @property {{value: T, title: string}[]} [ui.data]\n\t * @property {string} ui.path\n\t * @property {string} ui.title\n\t * @property {string} [ui.description]\n\t * @property {number} [ui.sort]\n\t * @property {('setting-check-box'|'setting-select-box'|'setting-color-box'|'setting-text-box')} [ui.component]\n\t * @property {function(T): *} [ui.process]\n\t */\n\t\n\t/**\n\t * @type {ConfigObject}\n\t */\n\tconfig;\n\t\n\t/**\n\t * @type {string}\n\t */\n\tkey;\n\t\n\t/**\n\t * @param {string} key\n\t * @param {ConfigPath} [path]\n\t * @param {string} [title]\n\t * @param {string} [description]\n\t */\n\tconstructor(key, path = new ConfigPath(), title, description) {\n\t\tthis.key    = key;\n\t\tthis.config = {\n\t\t\tui: {\n\t\t\t\tpath : path.toString(),\n\t\t\t\ttitle: title || capitalize(key)\n\t\t\t}\n\t\t};\n\t\t\n\t\tif (description) this.config.ui.description = description;\n\t}\n\t\n\t/**\n\t * @param {string} title\n\t * @returns {Config}\n\t */\n\tsetTitle(title) {\n\t\tthis.title = title;\n\t\treturn this;\n\t}\n\t\n\t/**\n\t * @param {string} description\n\t * @returns {Config}\n\t */\n\tsetDescription(description) {\n\t\tthis.config.ui.description = description;\n\t\treturn this;\n\t}\n\t\n\t/**\n\t * @param {function(): void} func\n\t * @returns Config\n\t */\n\tsetOnChangeEvent(func) {\n\t\tthis.config.changed = func;\n\t\treturn this;\n\t}\n\t\n\t/**\n\t * @param {number} sort\n\t * @returns Config\n\t */\n\tsetSort(sort) {\n\t\tthis.config.ui.sort = sort;\n\t\treturn this;\n\t}\n\t\n\t/**\n\t * @param {ConfigPath|string} path\n\t * @returns Config\n\t */\n\tsetPath(path) {\n\t\t//Wrap in template string to call toString()\n\t\tthis.config.ui.path = `${path}`;\n\t\treturn this;\n\t}\n\t\n\t/**\n\t * @param {function(*, *): *} process\n\t */\n\tsetProcess(process) {\n\t\tthis.config.process = process;\n\t\treturn this;\n\t}\n\t\n\t/**\n\t * @template {*} T\n\t * @param {function(T): T} process\n\t */\n\tsetUIProcess(process) {\n\t\tthis.config.ui.process = process;\n\t\treturn this;\n\t}\n}\n\nexport class BooleanConfig extends Config {\n\t/**\n\t * @param {string} key\n\t * @param {boolean} defaultValue\n\t * @param {ConfigPath} [path]\n\t * @param {string} [title]\n\t * @param {string} [description]\n\t */\n\tconstructor(key, defaultValue, path, title, description) {\n\t\tsuper(key, path, title, description);\n\t\tthis.config.default      = defaultValue;\n\t\tthis.config.ui.component = 'setting-check-box';\n\t}\n}\n\nexport class ColorConfig extends Config {\n\t/**\n\t * @param {string} key\n\t * @param {string} defaultValue\n\t * @param {ConfigPath} [path]\n\t * @param {string} [title]\n\t * @param {string} [description]\n\t */\n\tconstructor(key, defaultValue, path, title, description) {\n\t\tsuper(key, path, title, description);\n\t\tthis.config.default      = defaultValue;\n\t\tthis.config.ui.component = 'setting-color-box';\n\t}\n}\n\nexport class SelectBoxConfig extends Config {\n\t/**\n\t * @template {*} T\n\t * @param {string} key\n\t * @param {T} defaultValue\n\t * @param {{value: T, title: string}[]} data\n\t * @param {string} [title]\n\t * @param {ConfigPath} [path]\n\t * @param {string} [description]\n\t */\n\tconstructor(key, defaultValue, data, path, title, description) {\n\t\tsuper(key, path, title, description);\n\t\tthis.config.default      = defaultValue;\n\t\tthis.config.ui.data      = data;\n\t\tthis.config.ui.component = 'setting-select-box';\n\t}\n}\n\nexport class IntSelectBoxConfig extends Config {\n\t/**\n\t * @param {string} key\n\t * @param {function(number): string} formatFunc\n\t * @param {number} defaultValue\n\t * @param {number} min\n\t * @param {number} max\n\t * @param {number} [step = 1]\n\t * @param {ConfigPath} [path]\n\t * @param {string} [title]\n\t * @param {string} [description]\n\t */\n\tconstructor(key, formatFunc, defaultValue, min, max, step = 1, path, title, description) {\n\t\tsuper(key, path, title, description);\n\t\tthis.config.default      = defaultValue;\n\t\tthis.config.ui.data      = range(min, max, step).map(n => ({value: n, title: formatFunc(n)}));\n\t\tthis.config.ui.component = 'setting-select-box';\n\t}\n}\n\nexport class TextBoxConfig extends Config {\n\t/**\n\t * @param {string} key\n\t * @param {string} defaultValue\n\t * @param {ConfigPath} [path]\n\t * @param {function(string): *} [valueProcess]\n\t * @param {function(*, *): *} [process]\n\t * @param {string} [title]\n\t * @param {string} [description]\n\t */\n\tconstructor(key, defaultValue, path, valueProcess, process, title, description) {\n\t\tsuper(key, path, title, description);\n\t\tthis.config.default      = defaultValue;\n\t\tthis.config.ui.component = 'setting-text-box';\n\t\tif (process) this.config.process = process;\n\t\tif (valueProcess) this.config.ui.process = valueProcess;\n\t}\n}\n\nexport class IntTextBoxConfig extends Config {\n\t/**\n\t * @param {string} key\n\t * @param {number} defaultValue\n\t * @param {number} min\n\t * @param {number} max\n\t * @param {string} [title]\n\t * @param {ConfigPath} [path]\n\t * @param {string} [description]\n\t */\n\tconstructor(key, defaultValue, min, max, path, title, description) {\n\t\tsuper(key, path, title, description);\n\t\tthis.config.default      = defaultValue;\n\t\tthis.config.ui.process   = (val) => {\n\t\t\tval = parseInt(val, 10);\n\t\t\tif (!max) max = Number.MAX_SAFE_INTEGER;\n\t\t\tif (!min) min = Number.MIN_SAFE_INTEGER;\n\t\t\treturn isNaN(val) || !isFinite(val) ? defaultValue : val > max ? max : val < min ? min : val;\n\t\t};\n\t\tthis.config.ui.component = 'setting-text-box';\n\t}\n}\n","import {BooleanConfig, ColorConfig, ConfigPath, TextBoxConfig} from './config.js';\n\n/*\n * Everything exported from this class will be created\n * as if it extends the Config class. If something is\n * exported that does not, it will cause the everything\n * after that value to not be loaded.\n */\n\nconst process = (val, defaultVal) => {\n\tif(val.endsWith('rem')){\n\t\tconst n = parseInt(val.split('rem')[0]);\n\t\treturn isNaN(n) || !isFinite(n) ? `${defaultVal}px` : val;\n\t} else if(val.endsWith('px')){\n\t\tconst n = parseInt(val.split('px')[0]);\n\t\treturn isNaN(n) || !isFinite(n) ? `${defaultVal}px` : val;\n\t} else {\n\t\tconst n = parseInt(val);\n\t\treturn isNaN(n) || !isFinite(n) ? `${defaultVal}px` : `${val}px`;\n\t}\n};\n\nlet sort                                      = 0;\nexport const pathConfig                       = new ConfigPath().addSegment('Config', sort++);\nexport const config_displayHeader             = new BooleanConfig('display_header', true, pathConfig);\nexport const config_displayHeaderSeparators   = new BooleanConfig('display_header_separator', true, pathConfig);\nexport const config_displayMenuItemSeparators = new BooleanConfig('display_menu_item_separators', false, pathConfig);\nexport const config_headerTextSize            = new TextBoxConfig('header_text_size', `15px`, pathConfig).setUIProcess(n => process(n, 15));\nexport const config_menuItemTextSize          = new TextBoxConfig('menu_item_text_size', `12px`, pathConfig).setUIProcess(n => process(n, 12));\nexport const config_borderRadius              = new TextBoxConfig('border_radius', `3px`, pathConfig).setUIProcess(n => process(n, 3));\nexport const config_borderWidth               = new TextBoxConfig('border_width', `1px`, pathConfig).setUIProcess(n => process(n, 1));\nexport const config_menuWidth                 = new TextBoxConfig('menu_width', `150px`, pathConfig).setUIProcess(n => process(n, 150));\n\nexport const pathColors                 = new ConfigPath().addSegment('Colors', sort++);\nexport const color_header_background    = new ColorConfig('header_background', 'rgb(24,24,27)', pathColors);\nexport const color_menu_item_background = new ColorConfig('menu_item_background', 'rgb(31,31,35)', pathColors);\nexport const color_background           = new ColorConfig('background', 'rgb(31,31,35)', pathColors);\nexport const color_border               = new ColorConfig('border', 'rgb(54,54,57)', pathColors);\nexport const color_highlight            = new ColorConfig('highlight', 'rgb(76,76,79)', pathColors);\nexport const color_header_separators    = new ColorConfig('header_separators', 'rgb(53,53,57)', pathColors);\nexport const color_menu_item_separators = new ColorConfig('menu_item_separators', 'rgb(53,53,57)', pathColors);\nexport const color_text                 = new ColorConfig('text', 'rgb(255,255,255)', pathColors);\n\nexport const pathCSS     = new ConfigPath().addSegment('Custom CSS', sort++);\nexport const css_enabled = new BooleanConfig('css_enabled', false, pathCSS, 'Enabled').setSort(0);\n","import {BooleanConfig, ColorConfig, Config, ConfigPath, IntSelectBoxConfig, SelectBoxConfig} from '../config/config.js';\nimport {BetterRightClickMenuAddon}                                                           from '../index.js';\nimport {capitalize, titlize}                                                                 from '../utils.js';\n\nexport class RightClickSubModule {\n\t/**\n\t * @type {string}\n\t */\n\tkey;\n\t\n\t/**\n\t * @type {ConfigPath}\n\t */\n\tpath;\n\t\n\t/**\n\t * @type {string}\n\t */\n\ttitle;\n\t\n\t/**\n\t * @type {string}\n\t */\n\tdescription;\n\t\n\t/**\n\t * @type {function(BetterRightClickMenuAddon): void}\n\t */\n\tclickFunc;\n\t\n\t/**\n\t * @type {boolean}\n\t */\n\trequiresVIP = false;\n\t\n\t/**\n\t * @type {boolean}\n\t */\n\trequiresMod = false;\n\t\n\t/**\n\t * @type {boolean}\n\t */\n\trequiresBroadcaster = false;\n\t\n\t/**\n\t * @param {string} key\n\t * @param {ConfigPath} path\n\t * @param {function(BetterRightClickMenuAddon): void} clickFunc\n\t */\n\tconstructor(key, path, clickFunc) {\n\t\tthis.key       = key;\n\t\tthis.path      = path;\n\t\tthis.clickFunc = clickFunc;\n\t\tthis.title     = capitalize(key);\n\t}\n\t\n\t/**\n\t * @returns {RightClickSubModule}\n\t */\n\tsetRequiresVIP() {\n\t\tthis.requiresVIP = true;\n\t\treturn this;\n\t}\n\t\n\t/**\n\t * @returns {RightClickSubModule}\n\t */\n\tsetRequiresMod() {\n\t\tthis.requiresMod = true;\n\t\treturn this;\n\t}\n\t\n\t/**\n\t * @returns {RightClickSubModule}\n\t */\n\tsetRequiresBroadcaster() {\n\t\tthis.requiresBroadcaster = true;\n\t\treturn this;\n\t}\n\t\n\t/**\n\t * @param {string} title\n\t * @returns {RightClickSubModule}\n\t */\n\tsetTitle(title) {\n\t\tthis.title = title;\n\t\treturn this;\n\t}\n\t\n\t/**\n\t * @param {string} description\n\t * @returns {RightClickSubModule}\n\t */\n\tsetDescription(description) {\n\t\tthis.description = description;\n\t\treturn this;\n\t}\n\t\n\t/**\n\t * @param {BetterRightClickMenuAddon} brcm\n\t * @returns {void}\n\t */\n\tonClick(brcm) {\n\t\tthis.clickFunc(brcm);\n\t}\n}\n\nexport class RightClickModule {\n\t/**\n\t * @type {BetterRightClickMenuAddon} brcm\n\t */\n\tbrcm;\n\t\n\t/**\n\t * @type {string}\n\t */\n\tkey;\n\t\n\t/**\n\t * @type {string}\n\t */\n\tname;\n\t\n\t/**\n\t * @type {ConfigPath}\n\t */\n\tpath;\n\t\n\t/**\n\t * @type {boolean}\n\t */\n\tsupportsHeader = false;\n\t\n\t/**\n\t * @type {string[]}\n\t */\n\tinjects = [];\n\t\n\t/**\n\t * @type {RightClickSubModule[]}\n\t */\n\tmodules = [];\n\t\n\t/**\n\t * @type {(Config||BooleanConfig||ColorConfig||ConfigPath||IntSelectBoxConfig||SelectBoxConfig)[]}\n\t */\n\tconfigs = [];\n\t\n\t/**\n\t * @type {boolean}\n\t */\n\tdisplayConfigRequirements = true;\n\t\n\t/**\n\t * @type {boolean}\n\t */\n\tdisplayMenuRequirements = true;\n\t\n\t/**\n\t * @param {BetterRightClickMenuAddon} brcm\n\t * @param {string} key Unique key associated with the module\n\t * @param {string} [name]\n\t */\n\tconstructor(brcm, key, name) {\n\t\tthis.brcm = brcm;\n\t\tthis.key  = key;\n\t\tthis.name = name || titlize(this.key);\n\t}\n\t\n\t/**\n\t * Checks whether the element is a valid element to show the menu when right clicking it\n\t * @param {EventTarget} element\n\t * @returns {boolean}\n\t */\n\tcheckElement(element) {\n\t\treturn false;\n\t}\n\t\n\t/**\n\t * @param {MouseEvent} event\n\t * @param {HTMLElement} menuElement\n\t * @returns {boolean}\n\t */\n\tonClickElement(event, menuElement) {\n\t\treturn false;\n\t}\n}\n","import {ConfigPath, IntSelectBoxConfig}        from '../config/config.js';\nimport {getConfigKey, getParentClassNames}     from '../utils.js';\nimport {RightClickModule, RightClickSubModule} from './module.js';\n\nexport class ChatModule extends RightClickModule {\n\t/**\n\t * @type {string}\n\t */\n\tuser;\n\t\n\t/**\n\t * @param {BetterRightClickMenuAddon} brcm\n\t */\n\tconstructor(brcm) {\n\t\tsuper(brcm, 'chat');\n\t\t\n\t\tthis.supportsHeader            = true;\n\t\tthis.displayConfigRequirements = false;\n\t\tthis.displayMenuRequirements   = false;\n\t\t\n\t\tthis.path         = new ConfigPath().addSegment(this.name);\n\t\tconst configPath  = this.path.copy().addSegment('Config', 1);\n\t\tconst toggleUPath = this.path.copy().addSegment('Toggles (User)', 2);\n\t\tconst toggleMPath = this.path.copy().addSegment('Toggles (Moderation)', 3);\n\t\tconst toggleBPath = this.path.copy().addSegment('Toggles (Broadcaster)', 4);\n\t\t\n\t\t\n\t\tthis.configs.push(new IntSelectBoxConfig(\n\t\t\t'timeout_duration',\n\t\t\tn => `${n} Seconds`,\n\t\t\t300, 30, 1800, 30\n\t\t).setPath(configPath));\n\t\t\n\t\t\n\t\tthis.modules.push(new RightClickSubModule('block', toggleUPath, brcm =>\n\t\t\tbrcm.sendMessage(`/block ${this.user}`)));\n\t\t\n\t\tthis.modules.push(new RightClickSubModule('open_in_this_tab', toggleUPath, _ =>\n\t\t\twindow.location.href = `https://twitch.tv/${this.user}`));\n\t\t\n\t\tthis.modules.push(new RightClickSubModule('open_in_new_tab', toggleUPath, _ =>\n\t\t\twindow.open(`https://twitch.tv/${this.user}`, '_blank')));\n\t\t\n\t\tthis.modules.push(new RightClickSubModule('ping', toggleUPath, brcm =>\n\t\t\tbrcm.sendMessage(`@${this.user}`)));\n\t\t\n\t\tthis.modules.push(new RightClickSubModule('unblock', toggleUPath, brcm =>\n\t\t\tbrcm.sendMessage(`/unblock ${this.user}`)));\n\t\t\n\t\t\n\t\tthis.modules.push(new RightClickSubModule('ban', toggleMPath, brcm =>\n\t\t\tbrcm.sendMessage(`/ban ${this.user}`)).setRequiresMod());\n\t\t\n\t\tthis.modules.push(new RightClickSubModule('purge', toggleMPath, brcm =>\n\t\t\tbrcm.sendMessage(`/timeout ${this.user} 1`)).setRequiresMod());\n\t\t\n\t\tthis.modules.push(new RightClickSubModule('timeout', toggleMPath, brcm =>\n\t\t\tbrcm.sendMessage(`/timeout ${this.user} ${brcm.settings.get(getConfigKey(this.key, 'timeout_duration'))}`)).setRequiresMod());\n\t\t\n\t\tthis.modules.push(new RightClickSubModule('unban', toggleMPath, brcm =>\n\t\t\tbrcm.sendMessage(`/unban ${this.user}`)).setRequiresMod());\n\t\t\n\t\t\n\t\tthis.modules.push(new RightClickSubModule('mod', toggleBPath, brcm =>\n\t\t\tbrcm.sendMessage(`/mod ${this.user}`)).setRequiresBroadcaster().setTitle('Add Mod'));\n\t\t\n\t\tthis.modules.push(new RightClickSubModule('vip', toggleBPath, brcm =>\n\t\t\tbrcm.sendMessage(`/vip ${this.user}`)).setRequiresBroadcaster().setTitle('Add VIP'));\n\t\t\n\t\tthis.modules.push(new RightClickSubModule('host', toggleBPath, brcm =>\n\t\t\tbrcm.sendMessage(`/host ${this.user}`)).setRequiresBroadcaster());\n\t\t\n\t\tthis.modules.push(new RightClickSubModule('raid', toggleBPath, brcm =>\n\t\t\tbrcm.sendMessage(`/raid ${this.user}`)).setRequiresBroadcaster());\n\t\t\n\t\tthis.modules.push(new RightClickSubModule('unmod', toggleBPath, brcm =>\n\t\t\tbrcm.sendMessage(`/unmod ${this.user}`)).setRequiresBroadcaster().setTitle('Remove Mod'));\n\t\t\n\t\tthis.modules.push(new RightClickSubModule('unvip', toggleBPath, brcm =>\n\t\t\tbrcm.sendMessage(`/unvip ${this.user}`)).setRequiresBroadcaster().setTitle('Remove VIP'));\n\t\t\n\t\t\n\t\tthis.modules = this.modules.sort((a, b) => {\n\t\t\ta = a.title.toLowerCase();\n\t\t\tb = b.title.toLowerCase();\n\t\t\treturn a < b ? -1 : a > b ? 1 : 0;\n\t\t});\n\t}\n\t\n\tcheckElement(element) {\n\t\treturn getParentClassNames(element, 5).includes('chat-line__message');\n\t}\n\t\n\tonClickElement(event, menuElement) {\n\t\tlet chatElement;\n\t\tlet parentElement = event.target;\n\t\twhile (parentElement.parentElement) {\n\t\t\tif (parentElement.classList.contains('chat-line__message')) {\n\t\t\t\tchatElement = parentElement;\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\tparentElement = parentElement.parentElement;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (!chatElement || !chatElement.hasAttribute('data-user')) return true;\n\t\t\n\t\tthis.user   = chatElement.getAttribute('data-user');\n\t\tthis.userID = chatElement.getAttribute('data-user-id');\n\t\tthis.room   = chatElement.getAttribute('data-room');\n\t\tthis.roomID = chatElement.getAttribute('data-room-id');\n\t\t\n\t\tconst headerEl = menuElement.getElementsByClassName('header');\n\t\tif (headerEl.length === 1) {\n\t\t\theaderEl[0].innerText = this.user;\n\t\t\t// noinspection JSUnresolvedVariable\n\t\t\tthis.brcm.twitch_data.getUser(this.userID).then(user => {\n\t\t\t\t// noinspection JSUnresolvedVariable\n\t\t\t\tif (user.stream) headerEl[0].innerText += ' (Live)';\n\t\t\t});\n\t\t}\n\t}\n}\n","import {ConfigPath}                            from '../config/config.js';\nimport {getParentClassNames}                   from '../utils.js';\nimport {RightClickModule, RightClickSubModule} from './module.js';\n\nexport class VideoPlayerModule extends RightClickModule {\n\t\n\t/**\n\t * @param {BetterRightClickMenuAddon} brcm\n\t */\n\tconstructor(brcm) {\n\t\tsuper(brcm, 'video_player');\n\t\t\n\t\tthis.injects = ['site.player'];\n\t\t\n\t\tthis.path        = new ConfigPath().addSegment(this.name);\n\t\tconst configPath = this.path.copy().addSegment('Config', 1);\n\t\tconst togglePath = this.path.copy().addSegment('Toggles', 2);\n\t\t\n\t\tthis.modules.push(new RightClickSubModule('clip', togglePath, brcm => {\n\t\t\tconst el = document.querySelectorAll('[data-a-target=\"player-clip-button\"]');\n\t\t\tif (el.length === 1) {\n\t\t\t\tel[0].click();\n\t\t\t} else {\n\t\t\t\talert(`ERROR: Couldn't find clip button.`);\n\t\t\t}\n\t\t}));\n\t\t\n\t\t// noinspection JSUnresolvedVariable\n\t\tif (document.pictureInPictureEnabled) {\n\t\t\t// noinspection JSUnresolvedVariable,JSUnresolvedFunction\n\t\t\tthis.modules.push(new RightClickSubModule('picture_in_picture', togglePath, brcm =>\n\t\t\t\tbrcm.player.Player.instances.forEach(player => brcm.player.pipPlayer(player))));\n\t\t}\n\t\t\n\t\t// noinspection JSUnresolvedVariable,JSUnresolvedFunction\n\t\tthis.modules.push(new RightClickSubModule('reset_player', togglePath, brcm =>\n\t\t\tbrcm.player.Player.instances.forEach(player => brcm.player.resetPlayer(player))));\n\t}\n\t\n\tcheckElement(element) {\n\t\treturn getParentClassNames(element).includes('video-player__container');\n\t}\n\t\n\tonClickElement(event, menuElement) {}\n}\n","export class Preset {\n\t/**\n\t * @type string\n\t */\n\tkey;\n\t\n\t/**\n\t * @type string\n\t */\n\tname;\n\t\n\t/**\n\t * @type string\n\t */\n\tcss;\n\t\n\t/**\n\t * @param {string} key\n\t * @param {string} name\n\t * @param {string} css\n\t */\n\tconstructor(key, name, css) {\n\t\tthis.key  = key;\n\t\tthis.name = name;\n\t\tthis.css  = css.trim();\n\t}\n}\n","import {Preset} from './preset.js';\n\nexport class FirefoxDarkPreset extends Preset {\n\tconstructor() {\n\t\tsuper('ffdark', 'Firefox (Dark)',\n`#brcm-main-container .show {\n\tbackground-color: rgb(59,63,69);\n\tborder:           1px solid rgb(95,98,102);\n\tborder-radius:    0px;\n\tcolor:            rgb(255,255,255);\n\tbox-shadow:       0 0 10px rgba(0,0,0,0.75);\n\tmin-width:        190px;\n\t\n\tpadding-top:      2px;\n\tpadding-bottom:   2px;\n\tpadding-left:     2px;\n\tpadding-right:    2px;\n}\n\n#brcm-main-container .show li.separator-header {\n\tbackground-color: rgb(71,77,82);\n\theight:           1px;\n\tmargin-left:      12px;\n}\n\n#brcm-main-container .show li.separator-menu-item {\n\tbackground-color: rgb(71,77,82);\n\theight:           1px;\n\tmargin-left:      20px;\n}\n\n#brcm-main-container .show li.header {\n\tbackground-color: rgb(59,63,69);\n\tfont-size:        14px;\n\tpadding-top:      6px;\n\tpadding-bottom:   6px;\n\tpadding-left:     10px;\n\tpadding-right:    10px;\n}\n\n#brcm-main-container .show li:not(.separator-menu-item):not(.separator-header):not(.header) {\n\tbackground-color: rgb(59,63,69);\n\tfont-size:        12px;\n\tpadding-top:      3px;\n\tpadding-bottom:   2px;\n\tpadding-left:     23px;\n\tpadding-right:    6px;\n}\n\n#brcm-main-container .show li:not(.separator-menu-item):not(.separator-header):not(.header):hover {\n\tbackground-color: rgb(87,91,96);\n}`);\n\t}\n}\n\nexport class FirefoxLightPreset extends Preset {\n\tconstructor() {\n\t\tsuper('fflight', 'Firefox (Light)',\n`#brcm-main-container .show {\n\tbackground-color: rgb(242,242,242);\n\tborder:           1px solid rgb(221,221,221);\n\tborder-radius:    0px;\n\tcolor:            rgb(0,0,0);\n\tbox-shadow:       0 0 10px rgba(0,0,0,0.75);\n\tmin-width:        190px;\n\t\n\tpadding-top:      2px;\n\tpadding-bottom:   2px;\n\tpadding-left:     2px;\n\tpadding-right:    2px;\n}\n\n#brcm-main-container .show li.separator-header {\n\tbackground-color: rgb(221,221,221);\n\theight:           1px;\n\tmargin-left:      12px;\n}\n\n#brcm-main-container .show li.separator-menu-item {\n\tbackground-color: rgb(221,221,221);\n\theight:           1px;\n\tmargin-left:      20px;\n}\n\n#brcm-main-container .show li.header {\n\tbackground-color: rgb(242,242,242);\n\tfont-size:        14px;\n\tpadding:          6px 10px;\n}\n\n#brcm-main-container .show li:not(.separator-menu-item):not(.separator-header):not(.header) {\n\tbackground-color: rgb(242,242,242);\n\tfont-size:        12px;\n\tpadding-top:      3px;\n\tpadding-bottom:   2px;\n\tpadding-left:     23px;\n\tpadding-right:    6px;\n}\n\n#brcm-main-container .show li:not(.separator-menu-item):not(.separator-header):not(.header):hover {\n\tbackground-color: rgb(144,201,246);\n}`);\n\t}\n}\n","import {Preset} from './preset.js';\n\nexport class TwitchDefaultPreset extends Preset {\n\tconstructor() {\n\t\tsuper('twitch', 'Twitch (Default)',\n`#brcm-main-container .show {\n\t\tborder:           1px solid #232223;\n\t\tborder-radius:    3px;\n\t\tcolor:            #FFFFFF;\n\t\tbox-shadow:       0 0 3px rgb(0,0,0);\n\t\tmin-width:        150px;\n}\n\n#brcm-main-container .show li.separator-header {\n\t\tbackground-color: #232223;\n\t\theight:           1px;\n}\n\n#brcm-main-container .show li.separator-menu-item {\n\t\tbackground-color: #232223;\n\t\theight:           1px;\n}\n\n#brcm-main-container .show li.header {\n\t\tbackground-color: #18181B;\n\t\tfont-size:        15px;\n\t\tpadding:          2px 6px;\n}\n\n#brcm-main-container .show li:not(.separator-menu-item):not(.separator-header):not(.header) {\n\t\tbackground-color: #1E1E22;\n\t\tfont-size:        12px;\n\t\tpadding:          4px 6px;\n}\n\n#brcm-main-container .show li:not(.separator-menu-item):not(.separator-header):not(.header):hover {\n\t\tbackground-color: #772CE8;\n}`);\n\t}\n}\n\nexport class TwitchFZZPreset extends Preset {\n\tconstructor() {\n\t\tsuper('twitch_ffz', 'Twitch (FFZ)',\n`#brcm-main-container .show {\n    color:            var(--color-text-base) !important;\n    background-color: var(--color-background-alt) !important;\n    border:           var(--border-width-default) solid var(--color-border-base) !important;\n    box-shadow:       var(--shadow-elevation-3) !important;\n    border-radius:    var(--border-radius-small) !important;\n    min-width:        150px !important;\n}\n\n#brcm-main-container .show li.separator-header {\n    background-color: var(--color-border-base) !important;\n    height:           var(--border-width-default) !important;\n}\n\n#brcm-main-container .show li.separator-menu-item {\n    background-color: var(--color-border-base) !important;\n    height:           var(--border-width-default) !important;\n}\n\n#brcm-main-container .show li.header {\n    background-color: var(--color-background-base) !important;\n    font-size:        var(--font-size-4) !important;\n    padding:          var(--button-padding-y) var(--button-padding-x) !important;\n}\n\n#brcm-main-container .show li:not(.separator-menu-item):not(.separator-header):not(.header) {\n    font-size:        var(--font-size-5) !important;\n    padding:          var(--button-padding-y) var(--button-padding-x) !important;\n}\n\n#brcm-main-container .show li:not(.separator-menu-item):not(.separator-header):not(.header):hover {\n    background-color: var(--color-background-button-text-hover) !important;\n}`);\n\t}\n}\n","import {BooleanConfig, Config, ConfigPath}     from './config/config.js';\nimport * as MenuConfig                         from './config/menu_config.js';\nimport {ChatModule}                            from './module/chat_module.js';\nimport {RightClickModule}                      from './module/module.js';\nimport {VideoPlayerModule}                     from './module/video_player_module.js';\nimport {FirefoxDarkPreset, FirefoxLightPreset} from './preset/firefox_preset.js';\nimport {Preset}                                from './preset/preset.js';\nimport {TwitchDefaultPreset, TwitchFZZPreset}  from './preset/twitch_preset.js';\nimport {getConfigKey, getMousePos}             from './utils.js';\n\n// noinspection JSUnresolvedVariable\nconst {createElement} = FrankerFaceZ.utilities.dom;\n\n// noinspection JSUnusedGlobalSymbols,JSUnresolvedVariable,JSUnresolvedFunction,SpellCheckingInspection\nexport class BetterRightClickMenuAddon extends Addon {\n\t/**\n\t * All modules in this array will be automatically\n\t * loaded when the addon is loaded. Modules are\n\t * required to extend {@link RightClickModule} and\n\t * implement both {@link RightClickModule#onClickElement}\n\t * and {@link RightClickModule#checkElement}. This\n\t * file requires no other modifications to add a module,\n\t * the same applies to presets below.\n\t *\n\t * @type {RightClickModule[]}\n\t */\n\tmodules = [\n\t\tnew ChatModule(this),\n\t\tnew VideoPlayerModule(this)\n\t];\n\t\n\t/**\n\t * @type {Preset[]}\n\t */\n\tmenuPresets = [\n\t\tnew Preset('empty', 'Custom', ''),\n\t\tnew TwitchDefaultPreset(),\n\t\tnew TwitchFZZPreset(),\n\t\tnew FirefoxDarkPreset(),\n\t\tnew FirefoxLightPreset()\n\t];\n\t\n\t/**\n\t * @type {HTMLElement}\n\t */\n\tcustomStyleElement;\n\t\n\t/**\n\t * @type {HTMLElement}\n\t */\n\tstaticStyleElement;\n\t\n\t/**\n\t * @type {HTMLElement}\n\t */\n\tcontainerElement;\n\t\n\tconstructor(...args) {\n\t\tsuper(...args);\n\t\t\n\t\tthis.log.info('Constructing BRCM');\n\t\t\n\t\tconst injects = ['chat.actions', 'chat.badges', 'site.chat', 'site.twitch_data'];\n\t\tthis.modules.forEach(module => module.injects.forEach(inject => injects.push(inject)));\n\t\t[...new Set(injects)].forEach(inject => this.inject(inject));\n\t\t\n\t\tthis.loadMenuSettings();\n\t\tthis.loadModuleSettings();\n\t\tthis.loadDevBadge();\n\t\t\n\t\tthis.log.info('Successfully constructed BRCM');\n\t}\n\t\n\t//<editor-fold desc=\"Load Settings\">\n\t/**\n\t * @returns {void}\n\t */\n\tloadMenuSettings() {\n\t\tlet menuSort = 0;\n\t\tfor (const configKey in MenuConfig) {\n\t\t\tif (!(MenuConfig[configKey] instanceof Config)) continue;\n\t\t\tthis.settings.add(getConfigKey('menu', MenuConfig[configKey].key), MenuConfig[configKey].setSort(menuSort++).setOnChangeEvent(() => this.reloadElements()).config);\n\t\t}\n\t\t\n\t\tthis.settings.addUI(getConfigKey('menu', 'css'), {\n\t\t\tui: {\n\t\t\t\tpath       : `${MenuConfig.pathCSS}`,\n\t\t\t\tsort       : 999999,\n\t\t\t\ttitle      : 'Preset',\n\t\t\t\tdescription: 'Presets require Custom CSS to be enabled. Twitch (FFZ) preset uses variables provided by FFZ to mimic the custom style set by yourself.',\n\t\t\t\tdata       : this.menuPresets.map(preset => ({value: preset.key, title: preset.name})),\n\t\t\t\tcomponent  : () => import('./components/preset-combobox.vue'),\n\t\t\t\tgetPreset  : value => this.menuPresets[value],\n\t\t\t\tonChange   : () => this.reloadElements()\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.settings.add(getConfigKey('menu', 'css'), {\n\t\t\tdefault: this.menuPresets[0].css,\n\t\t\tui     : {\n\t\t\t\tpath     : `${MenuConfig.pathCSS}`,\n\t\t\t\tsort     : Number.MAX_SAFE_INTEGER,\n\t\t\t\tvalue    : this.getCSS(),\n\t\t\t\tcomponent: () => import('./components/setting-css-text-area.vue'),\n\t\t\t\tisValid  : value => this._getCSS() !== value,\n\t\t\t\tchanged  : () => {\n\t\t\t\t\tthis.setCSS();\n\t\t\t\t\tthis.setHTML();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\t\n\t/**\n\t * @returns {void}\n\t */\n\tloadModuleSettings() {\n\t\tlet moduleSort = 0;\n\t\tlet configSort = 0;\n\t\tfor (const module of this.modules) {\n\t\t\tthis.settings.add(getConfigKey(module.key, 'enabled'), new BooleanConfig('enabled', true, module.path.copy().addSegment(`Main ${module.name} Toggle`, -100).toString()).setOnChangeEvent(() => this.reloadElements()).config);\n\t\t\tfor (const config of module.configs) {\n\t\t\t\tthis.settings.add(getConfigKey(module.key, config.key), config.setSort(configSort++).setOnChangeEvent(() => this.reloadElements()).config);\n\t\t\t}\n\t\t\t\n\t\t\tfor (const submodule of module.modules) {\n\t\t\t\tconst props = {\n\t\t\t\t\tdefault: true,\n\t\t\t\t\tui     : {\n\t\t\t\t\t\tsort     : moduleSort++,\n\t\t\t\t\t\tpath     : `${submodule.path}`,\n\t\t\t\t\t\ttitle    : (module.displayConfigRequirements ? (submodule.requiresMod ? '(Moderator) ' : submodule.requiresBroadcaster ? '(Broadcaster) ' : '') : '') + submodule.title,\n\t\t\t\t\t\tcomponent: 'setting-check-box'\n\t\t\t\t\t},\n\t\t\t\t\tchanged: () => this.reloadElements()\n\t\t\t\t};\n\t\t\t\tif (submodule.description) props.ui.description = submodule.description;\n\t\t\t\tthis.settings.add(getConfigKey(module.key, submodule.key), props);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//</editor-fold>\n\t\n\t//<editor-fold desc=\"FFZ Events\">\n\t/**\n\t * @returns {void}\n\t */\n\tonEnable() {\n\t\tthis.log.info('Setting up BRCM');\n\t\t\n\t\tdocument.body.appendChild(this.containerElement = createElement('div', {id: 'brcm-main-container', className: 'chat-shell'}));\n\t\tdocument.head.appendChild(this.staticStyleElement = createElement('style', null, this.getStaticCSS()));\n\t\tthis.reloadElements();\n\t\tdocument.addEventListener('contextmenu', event => this.onRightClick(event));\n\t\tdocument.addEventListener('click', event => this.onLeftClick(event));\n\t\t\n\t\tthis.log.info('Successfully setup BRCM');\n\t}\n\t\n\t/**\n\t * @returns {void}\n\t */\n\tonDisable() {\n\t\tthis.log.info('Disabling BRCM');\n\t\t\n\t\tdocument.removeEventListener('contextmenu', event => this.onRightClick(event));\n\t\tdocument.removeEventListener('click', event => this.onLeftClick(event));\n\t\t\n\t\tif (this.containerElement) {\n\t\t\tthis.containerElement.remove();\n\t\t\tthis.containerElement = null;\n\t\t}\n\t\tif (this.customStyleElement) {\n\t\t\tthis.customStyleElement.remove();\n\t\t\tthis.customStyleElement = null;\n\t\t}\n\t\tif (this.staticStyleElement) {\n\t\t\tthis.staticStyleElement.remove();\n\t\t\tthis.staticStyleElement = null;\n\t\t}\n\t\t\n\t\tthis.log.info('Successfully disabled BRCM');\n\t}\n\t\n\t//</editor-fold>\n\t\n\t//<editor-fold desc=\"Mouse Events\">\n\t/**\n\t * @param {MouseEvent} event\n\t * @returns {void}\n\t */\n\tonRightClick(event) {\n\t\tfor (const child of this.containerElement.children) {\n\t\t\tif (child === event.target.parentElement) {\n\t\t\t\tthis.onLeftClick(event);\n\t\t\t\tevent.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t\n\t\tfor (const child of this.containerElement.children) {\n\t\t\tif (child.className === 'show') {\n\t\t\t\tchild.className = 'hide';\n\t\t\t\tevent.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t\n\t\tfor (const module of this.modules) {\n\t\t\tif (this.settings.get(getConfigKey(module.key, 'enabled')) && module.checkElement(event.target)) {\n\t\t\t\tconst menuElement = document.getElementById(`brcm-${module.key}-menu`);\n\t\t\t\tif (module.onClickElement(event, menuElement)) continue;\n\t\t\t\tevent.preventDefault();\n\t\t\t\t\n\t\t\t\tconst mousePos         = getMousePos(event);\n\t\t\t\tmenuElement.className  = 'show';\n\t\t\t\tmenuElement.style.top  = `${mousePos.y - (window.innerHeight - event.pageY > menuElement.offsetHeight ? 0 : menuElement.offsetHeight)}px`;\n\t\t\t\tmenuElement.style.left = `${mousePos.x - (window.innerWidth - event.pageX > menuElement.offsetWidth ? 0 : menuElement.offsetWidth)}px`;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t/**\n\t * @param {MouseEvent} event\n\t * @returns {void}\n\t */\n\tonLeftClick(event) {\n\t\tfor (const child of this.containerElement.children) {\n\t\t\tif (child.className === 'show') {\n\t\t\t\tchild.className = 'hide';\n\t\t\t}\n\t\t\t\n\t\t\tif (event.target.parentElement === child && child.id.split('-').length === 3) {\n\t\t\t\tconst moduleKey       = child.id.split('-')[1];\n\t\t\t\tconst modulesFiltered = this.modules.filter(module => module.key === moduleKey);\n\t\t\t\t\n\t\t\t\tif (modulesFiltered.length === 1) {\n\t\t\t\t\tconst module            = modulesFiltered[0];\n\t\t\t\t\tconst submoduleFiltered = module.modules.filter(submodule => submodule.key === event.target.className);\n\t\t\t\t\t\n\t\t\t\t\tif (submoduleFiltered.length === 1) {\n\t\t\t\t\t\tconst submodule = submoduleFiltered[0];\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ((submodule.requiresMod ? this.isMod() : true))\n\t\t\t\t\t\t\tsubmodule.onClick(this);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//</editor-fold>\n\t\n\t//<editor-fold desc=\"Document manipulation (Need a better name)\">\n\t/**\n\t * @returns {void}\n\t */\n\treloadElements() {\n\t\tconsole.log('reloading');\n\t\t\n\t\tthis.setCSS();\n\t\tthis.setHTML();\n\t\t\n\t\tconst textArea = document.getElementById('brcm-css-text-area');\n\t\tif (textArea && !this.getMenuSetting('css')) textArea.textContent = this.getCSS();\n\t}\n\t\n\t/**\n\t * @returns {void}\n\t */\n\tsetHTML() {\n\t\tif (!this.containerElement) return;\n\t\t\n\t\tthis.containerElement.remove();\n\t\tdocument.body.appendChild(this.containerElement = createElement('div', {id: 'brcm-main-container', className: 'chat-shell'}));\n\t\t\n\t\tthis.modules.forEach(module => {\n\t\t\tconst moduleElement = createElement('ul', {id: `brcm-${module.key}-menu`, className: 'hide'});\n\t\t\t\n\t\t\tif (this.getMenuSetting(MenuConfig.config_displayHeader) && module.supportsHeader) {\n\t\t\t\tmoduleElement.appendChild(createElement('li', {className: 'header'}));\n\t\t\t\t\n\t\t\t\tif (this.getMenuSetting(MenuConfig.config_displayHeaderSeparators))\n\t\t\t\t\tmoduleElement.appendChild(createElement('li', {className: 'separator-header'}));\n\t\t\t}\n\t\t\t\n\t\t\tmodule.modules.filter(submodule => this.settings.get(getConfigKey(module.key, submodule.key)))\n\t\t\t\t.filter(submodule => submodule.requiresVIP ? this.isVIP() : true)\n\t\t\t\t.filter(submodule => submodule.requiresMod ? this.isMod() : true)\n\t\t\t\t.filter(submodule => submodule.requiresBroadcaster ? this.isBroadcaster() : true)\n\t\t\t\t.forEach(submodule => {\n\t\t\t\t\tif (this.getMenuSetting(MenuConfig.config_displayMenuItemSeparators) && moduleElement.childElementCount > 0\n\t\t\t\t\t\t&& (moduleElement.lastElementChild ? !moduleElement.lastElementChild.className.includes('separator') : true))\n\t\t\t\t\t\tmoduleElement.appendChild(createElement('li', {className: 'separator-menu-item'}));\n\t\t\t\t\tmoduleElement.appendChild(createElement('li', {className: submodule.key}, (module.displayMenuRequirements ? (submodule.requiresMod ? '(Mod) ' : submodule.requiresBroadcaster ? '(Streamer) ' : '') : '') + submodule.title));\n\t\t\t\t});\n\t\t\t\n\t\t\tthis.containerElement.appendChild(moduleElement);\n\t\t});\n\t}\n\t\n\t/**\n\t * @returns {void}\n\t */\n\tsetCSS() {\n\t\tconst css = this.getCSS();\n\t\tif (this.customStyleElement) {\n\t\t\tthis.customStyleElement.textContent = css;\n\t\t} else {\n\t\t\tdocument.head.appendChild(this.customStyleElement = createElement('style', null, css));\n\t\t}\n\t}\n\t\n\t/**\n\t * @returns {string}\n\t */\n\tgetCSS() {\n\t\treturn this.getMenuSetting('css_enabled') ? (this.getMenuSetting('css') ? this.getMenuSetting('css') : this._getCSS()) : this._getCSS();\n\t}\n\t\n\t/**\n\t * @returns {string}\n\t */\n\t_getCSS() {\n\t\treturn `#brcm-main-container .show {\n\tbackground-color: ${this.getMenuSetting(MenuConfig.color_background)};\n\tborder:           ${this.getMenuSetting(MenuConfig.config_borderWidth)} solid ${this.getMenuSetting(MenuConfig.color_border)};\n\tborder-radius:    ${this.getMenuSetting(MenuConfig.config_borderRadius)};\n\tcolor:            ${this.getMenuSetting(MenuConfig.color_text)};\n\tbox-shadow:       0 0 3px rgb(0,0,0);\n\tmin-width:        ${this.getMenuSetting(MenuConfig.config_menuWidth)};\n}\n\n#brcm-main-container .show li.separator-header {\n\tbackground-color: ${this.getMenuSetting(MenuConfig.color_header_separators)};\n\theight:           1px;\n}\n\n#brcm-main-container .show li.separator-menu-item {\n\tbackground-color: ${this.getMenuSetting(MenuConfig.color_menu_item_separators)};\n\theight:           1px;\n}\n\n#brcm-main-container .show li.header {\n\tbackground-color: ${this.getMenuSetting(MenuConfig.color_header_background)};\n\tfont-size:        ${this.getMenuSetting(MenuConfig.config_headerTextSize)};\n\tpadding-top:      2px;\n\tpadding-bottom:   2px;\n\tpadding-left:     6px;\n\tpadding-right:    6px;\n}\n\n#brcm-main-container .show li:not(.separator-menu-item):not(.separator-header):not(.header) {\n\tbackground-color: ${this.getMenuSetting(MenuConfig.color_menu_item_background)};\n\tfont-size:        ${this.getMenuSetting(MenuConfig.config_menuItemTextSize)};\n\tpadding-top:      4px;\n\tpadding-bottom:   4px;\n\tpadding-left:     6px;\n\tpadding-right:    6px;\n}\n\n#brcm-main-container .show li:not(.separator-menu-item):not(.separator-header):not(.header):hover {\n\tbackground-color: ${this.getMenuSetting(MenuConfig.color_highlight)};\n}`;\n\t}\n\t\n\tgetStaticCSS() {\n\t\treturn `#brcm-css-text-area {\n\tfont-family:        \"Roboto Mono\";\n}\n\n#brcm-main-container .show {\n\tdisplay:            block;\n\tposition:           absolute;\n\tz-index:            ${Number.MAX_SAFE_INTEGER};\n}\n\n#brcm-main-container .hide {\n\tdisplay:            none;\n}\n\n#brcm-main-container .show li {\n\tlist-style-type:    none;\n}\n\n#brcm-main-container .show li:not(.separator-menu-item):not(.separator-header):not(.header):hover {\n\tbackground-color: var(--color-background-accent);\n\tcursor:           default;\n}`;\n\t}\n\t\n\t//</editor-fold>\n\t\n\t//<editor-fold desc=\"Util Methods\">\n\t/**\n\t * @param {string} message\n\t * @returns {void}\n\t */\n\tsendMessage(message) {\n\t\tthis.chat.ChatService.first.sendMessage(message);\n\t}\n\t\n\t/**\n\t * @param {boolean} [explicit = false]\n\t * @returns {boolean}\n\t */\n\tisVIP(explicit = false) {\n\t\treturn (explicit ? false : this.isMod()) || this.chat.ChatContainer.first.props.commandPermissionLevel === 1;\n\t}\n\t\n\t/**\n\t * @param {boolean} [explicit = false]\n\t * @returns {boolean}\n\t */\n\tisMod(explicit) {\n\t\treturn (explicit ? false : this.isBroadcaster()) || this.chat.ChatContainer.first.props.commandPermissionLevel === 2;\n\t}\n\t\n\t/**\n\t * @returns {boolean}\n\t */\n\tisBroadcaster() {\n\t\treturn this.chat.ChatContainer.first.props.commandPermissionLevel === 3;\n\t}\n\t\n\t/**\n\t * @param {Config||string} config\n\t * @returns {*}\n\t */\n\tgetMenuSetting(config) {\n\t\treturn this.settings.get(getConfigKey('menu', config.key || config));\n\t}\n\t\n\t/**\n\t * @returns {void}\n\t */\n\tloadDevBadge() {\n\t\tthis.badges.loadBadgeData('add_ons.brcm--badge-developer', {\n\t\t\tid   : 'brcm_developer',\n\t\t\ttitle: 'BRCM Developer',\n\t\t\tslot : 7,\n\t\t\tcolor: '#71D400',\n\t\t\timage: 'https://i.imgur.com/OFA5S7d.png',\n\t\t\turls : {\n\t\t\t\t1: 'https://i.imgur.com/OFA5S7d.png',\n\t\t\t\t2: 'https://i.imgur.com/bkIP2Sq.png',\n\t\t\t\t4: 'https://i.imgur.com/rrD2aTS.png'\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.resolve('chat').getUser(523772148, 'l3afme').addBadge('add_ons.brcm', 'add_ons.brcm--badge-developer');\n\t}\n\t\n\t//</editor-fold>\n}\n\nBetterRightClickMenuAddon.register();\n"],"names":["__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__","exports","definition","key","chunkId","promises","obj","prop","inProgress","dataWebpackPrefix","url","done","script","needAttach","scripts","i","s","onScriptComplete","prev","event","timeout","doneFns","fn","scriptUrl","document","installedChunks","installedChunkData","promise","resolve","reject","error","loadingEnded","errorType","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","data","chunkIds","moreModules","runtime","id","result","chunkLoadingGlobal","getMousePos","getParentClassNames","element","parentCount","itr","range","start","end","step","n","titlize","str","word","capitalize","getConfigKey","moduleKey","submoduleKey","pathSegment","sort","description","ops","copy","segment","starter","ConfigPath","path","title","func","process","Config","defaultValue","BooleanConfig","ColorConfig","SelectBoxConfig","formatFunc","min","max","IntSelectBoxConfig","valueProcess","TextBoxConfig","val","IntTextBoxConfig","defaultVal","pathConfig","config_displayHeader","config_displayHeaderSeparators","config_displayMenuItemSeparators","config_headerTextSize","config_menuItemTextSize","config_borderRadius","config_borderWidth","config_menuWidth","pathColors","color_header_background","color_menu_item_background","color_background","color_border","color_highlight","color_header_separators","color_menu_item_separators","color_text","pathCSS","css_enabled","clickFunc","brcm","RightClickSubModule","name","menuElement","RightClickModule","configPath","toggleUPath","toggleMPath","toggleBPath","_","a","b","chatElement","parentElement","headerEl","user","ChatModule","togglePath","el","player","VideoPlayerModule","css","Preset","FirefoxDarkPreset","FirefoxLightPreset","TwitchDefaultPreset","TwitchFZZPreset","createElement","args","injects","inject","menuSort","configKey","preset","value","moduleSort","configSort","config","submodule","props","child","mousePos","modulesFiltered","submoduleFiltered","textArea","moduleElement","message","explicit","BetterRightClickMenuAddon"],"sourceRoot":""}