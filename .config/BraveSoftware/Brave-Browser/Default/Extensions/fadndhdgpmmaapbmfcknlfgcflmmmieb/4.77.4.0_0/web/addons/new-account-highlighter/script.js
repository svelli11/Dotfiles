(()=>{var f=Object.defineProperty;var a=(g,o)=>f(g,"name",{value:o,configurable:!0});(()=>{var i;var g={},o=Object.defineProperty,p=a((s,e,t)=>e in s?o(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,"__defNormalProp"),l=a((s,e,t)=>(p(s,typeof e!="symbol"?e+"":e,t),t),"__publicField");const c=(i=class extends FrankerFaceZ.utilities.addon.Addon{constructor(...e){super(...e),l(this,"updateTimer",null),this.inject("chat"),this.settings.add("newusers.minage",{default:"7d",ui:{path:"Add-Ons > New User Highlighter >> Highlights",title:"Minimum account age",description:"Users whose account is younger than the specified time will be highlighted in chat.",component:"setting-select-box",data:()=>{const h=Object.keys(i.Mappings).map(n=>({value:n,title:n}));return h.push({value:null,title:"Disabled"}),h}},changed:()=>this.emit("chat:update-lines")}),this.settings.add("newusers.priority",{default:0,ui:{path:"Add-Ons > New User Highlighter >> Highlights",title:"Highlight Priority",component:"setting-text-box",type:"number",process:"to_int"},changed:()=>this.emit("chat:update-lines")}),this.settings.add("newusers.highlightcolor",{default:"#FFFFFF",ui:{path:"Add-Ons > New User Highlighter >> Highlights",title:"Highlight Color",description:"Set the color for your highlights",component:"setting-color-box"},changed:()=>this.emit("chat:update-lines")}),this.chat.addHighlightReason("user-age","Minimum Account Age");const t=this,r={type:"newaccount_highlight",priority:95,process(h,n){const d=t.settings.get("newusers.minage"),u=i.Mappings[d],m=u?u.uid:Number.MAX_VALUE;return n.user.userID>m&&this.applyHighlight(n,t.settings.get("newusers.priority"),t.settings.get("newusers.highlightcolor"),"user-age"),h}};this.chat.addTokenizer(r)}async refreshMappings(){const t=await fetch("https://ffz.0x.bot/api/mappings.json").then(r=>r.ok?r.json():null);t&&(i.Mappings=t)}onLoad(){return this.refreshMappings()}onEnable(){this.updateTimer=setInterval(()=>{this.refreshMappings()},1e3*60*25+Math.floor(Math.random()*Math.floor(1e3*60*10)))}onDisable(){clearInterval(this.updateTimer)}async onUnload(){}},a(i,"_NewAccountHighlighter2"),i);l(c,"Mappings",{"7d":0}),c.register("new-account-highlighter",null,"1.1.1")})();})();

//# sourceMappingURL=script.js.map