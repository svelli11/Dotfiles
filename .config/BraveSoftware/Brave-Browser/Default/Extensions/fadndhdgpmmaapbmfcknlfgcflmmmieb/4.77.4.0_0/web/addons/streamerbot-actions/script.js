(()=>{var k=Object.defineProperty;var b=(m,h)=>k(m,"name",{value:h,configurable:!0});(()=>{var m={},h={};function t(e){var o=h[e];if(o!==void 0)return o.exports;var r=h[e]={exports:{}};return m[e](r,r.exports,t),r.exports}b(t,"__webpack_require__"),t.m=m,t.d=(e,o)=>{for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},t.f={},t.e=e=>Promise.all(Object.keys(t.f).reduce((o,r)=>(t.f[r](e,o),o),[])),t.u=e=>"streamerbot-actions/vue.js",t.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={},o="ffz-addons:";t.l=(r,n,u,s)=>{if(e[r]){e[r].push(n);return}var i,d;if(u!==void 0)for(var c=document.getElementsByTagName("script"),a=0;a<c.length;a++){var l=c[a];if(l.getAttribute("src")==r||l.getAttribute("data-webpack")==o+u){i=l;break}}i||(d=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,t.nc&&i.setAttribute("nonce",t.nc),i.setAttribute("data-webpack",o+u),i.src=r,i.src.indexOf(window.location.origin+"/")!==0&&(i.crossOrigin="anonymous")),e[r]=[n];var p=b((w,_)=>{i.onerror=i.onload=null,clearTimeout(f);var y=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),y&&y.forEach(S=>S(_)),w)return w(_)},"onScriptComplete"),f=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),d&&document.head.appendChild(i)}})(),t.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var o=t.g.document;if(!e&&o&&(o.currentScript&&(e=o.currentScript.src),!e)){var r=o.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&!e;)e=r[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e+"../"})(),(()=>{var e={746:0};t.f.j=(n,u)=>{var s=t.o(e,n)?e[n]:void 0;if(s!==0)if(s)u.push(s[2]);else{var i=new Promise((l,p)=>s=e[n]=[l,p]);u.push(s[2]=i);var d=t.p+t.u(n),c=new Error,a=b(l=>{if(t.o(e,n)&&(s=e[n],s!==0&&(e[n]=void 0),s)){var p=l&&(l.type==="load"?"missing":l.type),f=l&&l.target&&l.target.src;c.message="Loading chunk "+n+` failed.
(`+p+": "+f+")",c.name="ChunkLoadError",c.type=p,c.request=f,s[1](c)}},"loadingEnded");t.l(d,a,"chunk-"+n,n)}};var o=b((n,u)=>{var[s,i,d]=u,c,a,l=0;if(s.some(f=>e[f]!==0)){for(c in i)t.o(i,c)&&(t.m[c]=i[c]);if(d)var p=d(t)}for(n&&n(u);l<s.length;l++)a=s[l],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0},"webpackJsonpCallback"),r=globalThis.ffzAddonsWebpackJsonp=globalThis.ffzAddonsWebpackJsonp||[];r.forEach(o.bind(null,0)),r.push=o.bind(null,r.push.bind(r))})();var A={};const v=class v extends FrankerFaceZ.utilities.addon.Addon{constructor(...o){super(...o),this.inject("chat.actions"),this.inject("chat")}async onLoad(){}onEnable(){this.actions.addAction("streamerbot",{presets:[{appearance:{type:"icon",icon:"ffz-i-mod"}}],defaults:{url:"ws://localhost:8080",actionId:"",payload:"{}"},editor:()=>t.e(127).then(t.bind(t,5316)),title:"Streamerbot Action",description_i18n:null,description(o){return`Action ID: ${o.options.actionId}`},tooltip(o){const r=this.replaceVariables(o.options.actionId,o);return[createElement("div",{key:"add_ons.ffz-streamerbot.desc.title",class:"tw-border-b tw-mg-b-05"},"Run StreamerBot Action"),createElement("div",{key:"add_ons.ffz-streamerbot.desc.action_id",class:"tw-align-left"},"Action ID: ",r)]},click(o,r){const n=this.replaceVariables(r.options.url,r),u=this.replaceVariables(r.options.actionId,r),s=JSON.parse(this.replaceVariables(r.options.payload,r)),i=`ffz.doaction.${Date.now()}`,d=new WebSocket(n);d.onerror=c=>{r.room?.login&&this.addNotice(r.room.login,this.i18n.t("addon.streamerbot-actions.error","There was an error sending the action to StreamerBot."))},d.onopen=()=>{d.send(JSON.stringify({id:i,request:"DoAction",action:{id:u},args:s}))},d.onmessage=c=>{try{const a=JSON.parse(c.data);if(a.status!=="error")return;r.room?.login?this.addNotice(r.room.login,this.i18n.t("addon.streamerbot-actions.error",`Error running StreamerBot action: ${a.error}`)):console.error(a),d.close()}catch(a){r.room?.login?this.addNotice(r.room.login,this.i18n.t("addon.streamerbot-actions.error","There was an error sending the action to StreamerBot.")):console.error(a),d.close()}}}})}};b(v,"DoStreamerbotAction");let g=v;g.register("streamerbot-actions",null,"1.0.0")})();})();

//# sourceMappingURL=script.js.map