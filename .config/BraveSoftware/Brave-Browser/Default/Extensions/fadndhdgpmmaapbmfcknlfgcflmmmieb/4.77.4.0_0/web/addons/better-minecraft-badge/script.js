(()=>{var c=Object.defineProperty;var h=(d,s)=>c(d,"name",{value:s,configurable:!0});(()=>{var d={};const r=class r extends FrankerFaceZ.utilities.addon.Addon{constructor(...e){super(...e),this.inject("chat.badges"),this.idBadge="minecraft-15th-anniversary-celebration",this.newBadgeUrl="https://cdn.frankerfacez.com/emoticon/753195",this.originalBadgeUrl=null}onEnable(){this._updateTwitchBadges=this.badges.updateTwitchBadges,this.badges.updateTwitchBadges=(e,...t)=>{try{this.rememberOriginalBadgeUrl(e),e=this.replaceBadge(e,this.idBadge,this.newBadgeUrl)}catch(i){this.log.error(i)}this._updateTwitchBadges(e,...t)},this.getBadgeUrl(this.idBadge)!==this.newBadgeUrl&&this.badges.twitch_badges&&this.badges.updateTwitchBadges(this.badges.twitch_badges)}onDisable(){this.badges.updateTwitchBadges=this._updateTwitchBadges;const e=this.replaceBadge(this.badges.twitch_badges,this.idBadge,this.originalBadgeUrl);this.badges.updateTwitchBadges(e)}getBadgeUrl(e,t=null){const i=t||this.badges.twitch_badges||{};if(!i||Object.keys(i).length===0)return null;let a;return Array.isArray(i)?a=i.find(g=>g.setID===e):a=i[e][1],a?.image1x?a.image1x.slice(0,-2):null}rememberOriginalBadgeUrl(e=null){if(this.originalBadgeUrl)return;const t=this.getBadgeUrl(this.idBadge,e);t&&(this.originalBadgeUrl=t)}replaceBadge(e,t,i){if(Array.isArray(e)&&e?.length){const a=JSON.parse(JSON.stringify(e)),g=a.find(n=>n.setID===t);return this._replaceBadgeImages(g,i),a}else if(e[t]){const a=e[t][1];return this._replaceBadgeImages(a,i),e}}_replaceBadgeImages(e,t){e&&(e.image1x=`${t}/1`,e.image2x=`${t}/2`,e.image4x=`${t}/${t.includes("cdn.frankerfacez.com")?"4":"3"}`)}};h(r,"BetterMineBadge");let s=r;s.register("better-minecraft-badge",null,"1.0.0")})();})();

//# sourceMappingURL=script.js.map