{"version":3,"file":"content/4715.js","mappings":"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","sources":["webpack://MALSync/./src/_minimal/components/description.vue?3af9","webpack://MALSync/./src/_minimal/components/description.vue","webpack://MALSync/./src/_minimal/components/description.vue?a7fb","webpack://MALSync/./src/_minimal/components/description.vue?ae5a","webpack://MALSync/./src/_minimal/components/form/form-slider.vue?e26f","webpack://MALSync/./src/_minimal/components/form/form-slider.vue","webpack://MALSync/./src/_minimal/components/form/form-slider.vue?f97e","webpack://MALSync/./src/_minimal/components/form/form-slider.vue?c78b","webpack://MALSync/./src/_provider/metaOverviewAbstract.ts","webpack://MALSync/./src/_provider/Local/metaOverview.ts","webpack://MALSync/./src/utils/time.ts","webpack://MALSync/./src/_provider/MyAnimeList_hybrid/metaOverview.ts","webpack://MALSync/./src/_provider/MyAnimeList_legacy/metaOverview.ts","webpack://MALSync/./src/_provider/MyAnimeList_api/metaOverview.ts","webpack://MALSync/./src/_provider/AniList/metaOverview.ts","webpack://MALSync/./src/_provider/Kitsu/metaOverview.ts","webpack://MALSync/./src/_provider/Simkl/metaOverview.ts","webpack://MALSync/./src/_provider/Shikimori/metaOverview.ts","webpack://MALSync/./src/_minimal/components/modal.vue?f3bc","webpack://MALSync/./src/_minimal/components/modal.vue","webpack://MALSync/./src/_minimal/components/modal.vue?4668","webpack://MALSync/./src/_minimal/components/modal.vue?ba54","webpack://MALSync/./src/_minimal/components/overview/overview-image.vue?6727","webpack://MALSync/./src/_minimal/components/overview/overview-image.vue","webpack://MALSync/./src/_minimal/components/overview/overview-image.vue?ac52","webpack://MALSync/./src/_minimal/components/overview/overview-image.vue?e21c","webpack://MALSync/./src/_minimal/components/text-scroller.vue?35f5","webpack://MALSync/./src/_minimal/components/text-scroller.vue","webpack://MALSync/./src/_minimal/components/text-scroller.vue?2199","webpack://MALSync/./src/_minimal/components/text-scroller.vue?4ed4","webpack://MALSync/./src/_minimal/components/overview/overview-image-language.vue?327f","webpack://MALSync/./src/_minimal/components/overview/overview-image-language.vue","webpack://MALSync/./src/_minimal/components/overview/overview-image-language.vue?e3f5","webpack://MALSync/./src/_minimal/components/overview/overview-image-language.vue?82e2","webpack://MALSync/./src/_minimal/components/form/form-click.vue?3310","webpack://MALSync/./src/_minimal/components/form/form-click.vue","webpack://MALSync/./src/_minimal/components/form/form-click.vue?e847","webpack://MALSync/./src/_minimal/components/form/form-click.vue?87ec","webpack://MALSync/./src/_minimal/components/error/error-single.vue?3d9e","webpack://MALSync/./src/_minimal/components/error/error-single.vue","webpack://MALSync/./src/_minimal/components/overview/overview-update-ui.vue?642f","webpack://MALSync/./src/_minimal/components/overview/overview-update-ui.vue","webpack://MALSync/./src/_minimal/components/overview/overview-update-ui.vue?4f25","webpack://MALSync/./src/_minimal/components/overview/overview-update-ui.vue?d9e3","webpack://MALSync/./src/_minimal/components/overview/overview-streaming.vue?a097","webpack://MALSync/./src/_minimal/components/overview/overview-streaming.vue","webpack://MALSync/./src/_minimal/components/overview/overview-streaming.vue?1550","webpack://MALSync/./src/_minimal/components/overview/overview-streaming.vue?4068","webpack://MALSync/./src/_minimal/components/overview/overview-characters.vue?f0be","webpack://MALSync/./src/_minimal/components/overview/overview-characters.vue","webpack://MALSync/./src/_minimal/components/overview/overview-characters.vue?c101","webpack://MALSync/./src/_minimal/components/pagination.vue?2c30","webpack://MALSync/./src/_minimal/components/pagination.vue","webpack://MALSync/./src/_minimal/components/pagination.vue?beca","webpack://MALSync/./src/_minimal/components/pagination.vue?91dc","webpack://MALSync/./src/_minimal/components/overview/overview-reviews.vue?7c2b","webpack://MALSync/./src/_minimal/components/overview/overview-reviews.vue","webpack://MALSync/./src/_minimal/components/overview/overview-reviews-meta.ts","webpack://MALSync/./src/_minimal/components/overview/overview-reviews.vue?6ad1","webpack://MALSync/./src/_minimal/components/overview/overview-reviews.vue?7b30","webpack://MALSync/./src/_minimal/components/overview/overview-info.vue?29de","webpack://MALSync/./src/_minimal/components/overview/overview-info.vue","webpack://MALSync/./src/_minimal/components/overview/overview-info.vue?3c9c","webpack://MALSync/./src/_minimal/components/overview/overview-info.vue?b177","webpack://MALSync/./src/_minimal/components/overview/overview-recommendations.vue?2acc","webpack://MALSync/./src/_minimal/components/overview/overview-recommendations.vue","webpack://MALSync/./src/_minimal/components/overview/overview-recommendations-meta.ts","webpack://MALSync/./src/_minimal/components/overview/overview-recommendations.vue?e80e","webpack://MALSync/./src/_minimal/components/overview/overview-recommendations.vue?ce31","webpack://MALSync/./src/_minimal/components/overview/overview-related.vue?d40c","webpack://MALSync/./src/_minimal/components/overview/overview-related.vue","webpack://MALSync/./src/_minimal/components/overview/overview-related.vue?3893","webpack://MALSync/./src/_minimal/components/error/error-meta.vue?aeef","webpack://MALSync/./src/_minimal/components/error/error-meta.vue","webpack://MALSync/./src/_minimal/views/overview.vue?970e","webpack://MALSync/./src/_minimal/views/overview.vue","webpack://MALSync/./src/_provider/metaDataFactory.ts","webpack://MALSync/./src/_minimal/views/overview.vue?8f8d","webpack://MALSync/./src/_minimal/views/overview.vue?182c"],"sourcesContent":["import { useCssVars as _useCssVars, unref as _unref, defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, createElementBlock as _createElementBlock, Fragment as _Fragment, normalizeClass as _normalizeClass } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 1,\n  class: \"close-button-box\"\n}\n\nimport { computed, onMounted, PropType, Ref, ref, watch } from 'vue';\n\nimport FormButton from './form/form-button.vue';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'description',\n  props: {\n  loading: {\n    type: Boolean,\n    default: false,\n  },\n  fade: {\n    type: Boolean,\n    default: false,\n  },\n  height: {\n    type: [Number, String] as PropType<number | 'dynamic'>,\n    default: 240,\n  },\n  minheight: {\n    type: String,\n    default: '150px',\n  },\n},\n  setup(__props) {\n\n_useCssVars(_ctx => ({\n  \"676ec35c\": (heightstyle.value),\n  \"25985d61\": (__props.minheight)\n}))\n\nconst props = __props;\n\nconst open = ref(false);\nconst overflow = ref(true);\n\nconst inner = ref(null) as Ref<HTMLElement | null>;\n\nconst calcOverflow = () => {\n  overflow.value = true;\n  if (inner.value) {\n    const { scrollHeight, clientHeight } = inner.value;\n    overflow.value = Boolean(scrollHeight > clientHeight);\n  }\n};\n\nconst heightstyle = computed(() => {\n  if (props.height === 'dynamic') return 'auto';\n  return `${props.height}px`;\n});\n\nonMounted(() => {\n  calcOverflow();\n});\n\nwatch(\n  () => props.loading,\n  () => calcOverflow(),\n);\n\nwatch(inner, () => calcOverflow());\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"description\", { close: !open.value && overflow.value, loading: __props.loading, fade: __props.fade, dynamic: __props.height === 'dynamic' }])\n  }, [\n    (!__props.loading)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          _createElementVNode(\"div\", {\n            ref_key: \"inner\",\n            ref: inner,\n            class: \"open-gradient\",\n            dir: \"auto\"\n          }, [\n            _renderSlot(_ctx.$slots, \"default\")\n          ], 512 /* NEED_PATCH */),\n          (!open.value && overflow.value)\n            ? (_openBlock(), _createBlock(FormButton, {\n                key: 0,\n                class: \"open-button\",\n                animation: false,\n                onClick: _cache[0] || (_cache[0] = ($event: any) => (open.value = true))\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(_toDisplayString(_ctx.lang('settings_read_more')), 1 /* TEXT */)\n                ]),\n                _: 1 /* STABLE */\n              }))\n            : _createCommentVNode(\"v-if\", true),\n          (open.value)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createVNode(FormButton, {\n                  class: \"close-button\",\n                  animation: false,\n                  onClick: _cache[1] || (_cache[1] = ($event: any) => (open.value = false))\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(_ctx.lang('settings_read_less')), 1 /* TEXT */)\n                  ]),\n                  _: 1 /* STABLE */\n                })\n              ]))\n            : _createCommentVNode(\"v-if\", true)\n        ], 64 /* STABLE_FRAGMENT */))\n      : _createCommentVNode(\"v-if\", true)\n  ], 2 /* CLASS */))\n}\n}\n\n})","<template>\n  <div\n    class=\"description\"\n    :class=\"{ close: !open && overflow, loading, fade, dynamic: height === 'dynamic' }\"\n  >\n    <template v-if=\"!loading\">\n      <div ref=\"inner\" class=\"open-gradient\" dir=\"auto\">\n        <slot></slot>\n      </div>\n      <FormButton\n        v-if=\"!open && overflow\"\n        class=\"open-button\"\n        :animation=\"false\"\n        @click=\"open = true\"\n      >\n        {{ lang('settings_read_more') }}\n      </FormButton>\n      <div v-if=\"open\" class=\"close-button-box\">\n        <FormButton class=\"close-button\" :animation=\"false\" @click=\"open = false\">\n          {{ lang('settings_read_less') }}\n        </FormButton>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, onMounted, PropType, Ref, ref, watch } from 'vue';\n\nimport FormButton from './form/form-button.vue';\n\nconst props = defineProps({\n  loading: {\n    type: Boolean,\n    default: false,\n  },\n  fade: {\n    type: Boolean,\n    default: false,\n  },\n  height: {\n    type: [Number, String] as PropType<number | 'dynamic'>,\n    default: 240,\n  },\n  minheight: {\n    type: String,\n    default: '150px',\n  },\n});\n\nconst open = ref(false);\nconst overflow = ref(true);\n\nconst inner = ref(null) as Ref<HTMLElement | null>;\n\nconst calcOverflow = () => {\n  overflow.value = true;\n  if (inner.value) {\n    const { scrollHeight, clientHeight } = inner.value;\n    overflow.value = Boolean(scrollHeight > clientHeight);\n  }\n};\n\nconst heightstyle = computed(() => {\n  if (props.height === 'dynamic') return 'auto';\n  return `${props.height}px`;\n});\n\nonMounted(() => {\n  calcOverflow();\n});\n\nwatch(\n  () => props.loading,\n  () => calcOverflow(),\n);\n\nwatch(inner, () => calcOverflow());\n</script>\n\n<style lang=\"less\" scoped>\n@import '../less/_globals.less';\n.description {\n  position: relative;\n\n  .open-button {\n    position: absolute;\n    bottom: 1px;\n    left: 50%;\n    transform: translateX(-50%);\n    font-weight: 500;\n  }\n\n  .close-button-box {\n    display: flex;\n    justify-content: center;\n    margin-top: @spacer-half;\n    font-weight: 500;\n  }\n\n  &.close {\n    overflow: hidden;\n\n    .open-gradient {\n      max-height: v-bind(heightstyle);\n      mask-image: linear-gradient(180deg, #000 60%, transparent);\n      /* stylelint-disable-next-line property-no-vendor-prefix */\n      -webkit-mask-image: linear-gradient(180deg, #000 60%, transparent);\n    }\n  }\n\n  &.loading {\n    .skeleton-text-block();\n\n    height: v-bind(heightstyle);\n\n    &.fade {\n      .skeleton-text-block-fade();\n    }\n  }\n\n  &.dynamic {\n    height: 100%;\n    min-height: v-bind(minheight);\n    position: relative;\n    &.close .open-gradient {\n      max-height: 100%;\n      height: 100%;\n      position: absolute;\n    }\n  }\n}\n</style>\n","import script from \"./description.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./description.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./description.vue?vue&type=style&index=0&id=366cdbb6&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-366cdbb6\"],['__file',\"description.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-366cdbb6 {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.description[data-v-366cdbb6] {\\n  position: relative;\\n}\\n.description .open-button[data-v-366cdbb6] {\\n  position: absolute;\\n  bottom: 1px;\\n  left: 50%;\\n  transform: translateX(-50%);\\n  font-weight: 500;\\n}\\n.description .close-button-box[data-v-366cdbb6] {\\n  display: flex;\\n  justify-content: center;\\n  margin-top: var(--size-spacer-half);\\n  font-weight: 500;\\n}\\n.description.close[data-v-366cdbb6] {\\n  overflow: hidden;\\n}\\n.description.close .open-gradient[data-v-366cdbb6] {\\n  max-height: var(--676ec35c);\\n  mask-image: linear-gradient(180deg, #000 60%, transparent);\\n  /* stylelint-disable-next-line property-no-vendor-prefix */\\n  -webkit-mask-image: linear-gradient(180deg, #000 60%, transparent);\\n}\\n.description.loading[data-v-366cdbb6] {\\n  position: relative;\\n  overflow: hidden;\\n  transition: background-color 0.1s ease-in-out;\\n  background-color: var(--cl-backdrop);\\n  width: 100%;\\n  border-radius: 0.25rem;\\n  height: var(--676ec35c);\\n}\\n.description.loading[data-v-366cdbb6]::after {\\n  opacity: var(--cl-loading);\\n  transition: opacity 0.25s ease-in-out;\\n  animation: skeleton-loading-malsync-366cdbb6 1.5s infinite;\\n  content: '';\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  transform: translateX(-100%);\\n  z-index: 1;\\n  background: linear-gradient(90deg, hsla(0, 0%, 100%, 0), var(--cl-backdrop), hsla(0, 0%, 100%, 0));\\n  filter: brightness(1.15);\\n}\\n.description.loading.fade[data-v-366cdbb6] {\\n  position: relative;\\n  overflow: hidden;\\n  transition: background-color 0.1s ease-in-out;\\n  background-color: var(--cl-backdrop);\\n  width: 100%;\\n  border-radius: 0.25rem;\\n  mask-image: linear-gradient(180deg, #000 0%, transparent 50%);\\n  /* stylelint-disable-next-line property-no-vendor-prefix */\\n  -webkit-mask-image: linear-gradient(180deg, #000 0%, transparent 50%);\\n}\\n.description.loading.fade[data-v-366cdbb6]::after {\\n  opacity: var(--cl-loading);\\n  transition: opacity 0.25s ease-in-out;\\n  animation: skeleton-loading-malsync-366cdbb6 1.5s infinite;\\n  content: '';\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  transform: translateX(-100%);\\n  z-index: 1;\\n  background: linear-gradient(90deg, hsla(0, 0%, 100%, 0), var(--cl-backdrop), hsla(0, 0%, 100%, 0));\\n  filter: brightness(1.15);\\n}\\n.description.dynamic[data-v-366cdbb6] {\\n  height: 100%;\\n  min-height: var(--25985d61);\\n  position: relative;\\n}\\n.description.dynamic.close .open-gradient[data-v-366cdbb6] {\\n  max-height: 100%;\\n  height: 100%;\\n  position: absolute;\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { computed, PropType } from 'vue';\n\nimport VueSlider from 'vue-slider-component/dist-css/vue-slider-component.umd.min';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'form-slider',\n  props: {\n  options: {\n    type: Array as PropType<{ value: string; title?: string; label?: string }[]>,\n    required: false,\n    default: null,\n  },\n  min: {\n    type: Number,\n    default: null,\n  },\n  max: {\n    type: Number,\n    default: null,\n  },\n  interval: {\n    type: Number,\n    default: 1,\n  },\n  modelValue: {\n    type: [String, Number],\n    require: true,\n    default: '',\n  },\n  color: {\n    type: String as PropType<'default' | 'blue' | 'violet'>,\n    default: 'default',\n  },\n  disabled: {\n    type: Boolean,\n    default: false,\n  },\n},\n  emits: ['update:modelValue'],\n  setup(__props, { emit: __emit }) {\n\nconst props = __props;\n\nconst emit = __emit;\n\nconst picked = computed({\n  get() {\n    return props.modelValue;\n  },\n  set(value) {\n    emit('update:modelValue', value);\n  },\n});\n\nconst optionsComputed = computed(() => {\n  if (!props.options) return undefined;\n  return props.options.map(option => {\n    return {\n      value: option.value.toString(),\n      label: option.label || option.title,\n    };\n  });\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"slider-bar\", __props.color])\n  }, [\n    _createVNode(_unref(VueSlider), {\n      modelValue: picked.value,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((picked).value = $event)),\n      lazy: true,\n      data: optionsComputed.value,\n      height: 10,\n      \"dot-size\": 16,\n      \"hide-label\": true,\n      min: __props.min,\n      max: __props.max,\n      interval: __props.interval,\n      disabled: __props.disabled,\n      \"data-value\": \"value\",\n      \"data-label\": \"label\"\n    }, null, 8 /* PROPS */, [\"modelValue\", \"data\", \"min\", \"max\", \"interval\", \"disabled\"])\n  ], 2 /* CLASS */))\n}\n}\n\n})","<template>\n  <div class=\"slider-bar\" :class=\"color\">\n    <vue-slider\n      v-model=\"picked\"\n      :lazy=\"true\"\n      :data=\"optionsComputed\"\n      :height=\"10\"\n      :dot-size=\"16\"\n      :hide-label=\"true\"\n      :min=\"min\"\n      :max=\"max\"\n      :interval=\"interval\"\n      :disabled=\"disabled\"\n      data-value=\"value\"\n      data-label=\"label\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, PropType } from 'vue';\n\nimport VueSlider from 'vue-slider-component/dist-css/vue-slider-component.umd.min';\n\nconst props = defineProps({\n  options: {\n    type: Array as PropType<{ value: string; title?: string; label?: string }[]>,\n    required: false,\n    default: null,\n  },\n  min: {\n    type: Number,\n    default: null,\n  },\n  max: {\n    type: Number,\n    default: null,\n  },\n  interval: {\n    type: Number,\n    default: 1,\n  },\n  modelValue: {\n    type: [String, Number],\n    require: true,\n    default: '',\n  },\n  color: {\n    type: String as PropType<'default' | 'blue' | 'violet'>,\n    default: 'default',\n  },\n  disabled: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst emit = defineEmits(['update:modelValue']);\n\nconst picked = computed({\n  get() {\n    return props.modelValue;\n  },\n  set(value) {\n    emit('update:modelValue', value);\n  },\n});\n\nconst optionsComputed = computed(() => {\n  if (!props.options) return undefined;\n  return props.options.map(option => {\n    return {\n      value: option.value.toString(),\n      label: option.label || option.title,\n    };\n  });\n});\n</script>\n\n<style lang=\"less\">\n@import '../../less/modules/vue-slider-component.less';\n@import '../../less/_globals.less';\n\n.vue-slider {\n  .vue-slider-rail {\n    background-color: var(--cl-backdrop);\n\n    .vue-slider-process {\n      background-color: var(--slider-body);\n      box-shadow: 0 2px 6px var(--slider-body);\n    }\n  }\n\n  .vue-slider-mark-step {\n    display: none;\n  }\n\n  .vue-slider-dot {\n    transition: opacity @fast-transition;\n\n    .vue-slider-dot-handle {\n      opacity: 0;\n      box-shadow: none;\n      background-color: var(--slider-body);\n      filter: brightness(0.8);\n\n      &.vue-slider-dot-handle-focus {\n        opacity: 1;\n      }\n    }\n  }\n\n  .vue-slider-dot-tooltip {\n    .vue-slider-dot-tooltip-inner {\n      background-color: var(--slider-body);\n      border-color: var(--slider-body);\n    }\n  }\n}\n\n.slider-bar {\n  --slider-body: var(--cl-primary);\n  .link();\n\n  &:hover {\n    .vue-slider-dot-handle {\n      opacity: 1;\n    }\n  }\n\n  .vue-slider-disabled {\n    .vue-slider-dot-handle,\n    .vue-slider-dot-tooltip {\n      opacity: 0;\n    }\n  }\n\n  &.blue {\n    --slider-body: #56ccf2;\n  }\n\n  &.violet {\n    --slider-body: #bb6bd9;\n  }\n}\n</style>\n","import script from \"./form-slider.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./form-slider.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./form-slider.vue?vue&type=style&index=0&id=15a69a62&inline&lang=less\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__file',\"form-slider.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable property-no-vendor-prefix */\\n.vue-slider-dot {\\n  position: absolute;\\n  -webkit-transition: all 0s;\\n  transition: all 0s;\\n  z-index: 5;\\n}\\n.vue-slider-dot:focus {\\n  outline: none;\\n}\\n.vue-slider-dot-tooltip {\\n  position: absolute;\\n  visibility: hidden;\\n}\\n.vue-slider-dot-hover:hover .vue-slider-dot-tooltip {\\n  visibility: visible;\\n}\\n.vue-slider-dot-tooltip-show {\\n  visibility: visible;\\n}\\n.vue-slider-dot-tooltip-top {\\n  top: -10px;\\n  left: 50%;\\n  -webkit-transform: translate(-50%, -100%);\\n  transform: translate(-50%, -100%);\\n}\\n.vue-slider-dot-tooltip-bottom {\\n  bottom: -10px;\\n  left: 50%;\\n  -webkit-transform: translate(-50%, 100%);\\n  transform: translate(-50%, 100%);\\n}\\n.vue-slider-dot-tooltip-left {\\n  left: -10px;\\n  top: 50%;\\n  -webkit-transform: translate(-100%, -50%);\\n  transform: translate(-100%, -50%);\\n}\\n.vue-slider-dot-tooltip-right {\\n  right: -10px;\\n  top: 50%;\\n  -webkit-transform: translate(100%, -50%);\\n  transform: translate(100%, -50%);\\n}\\n.vue-slider-marks {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n}\\n.vue-slider-mark {\\n  position: absolute;\\n  z-index: 1;\\n}\\n.vue-slider-ltr .vue-slider-mark,\\n.vue-slider-rtl .vue-slider-mark {\\n  width: 0;\\n  height: 100%;\\n  top: 50%;\\n}\\n.vue-slider-ltr .vue-slider-mark-step,\\n.vue-slider-rtl .vue-slider-mark-step {\\n  top: 0;\\n}\\n.vue-slider-ltr .vue-slider-mark-label,\\n.vue-slider-rtl .vue-slider-mark-label {\\n  top: 100%;\\n  margin-top: 10px;\\n}\\n.vue-slider-ltr .vue-slider-mark {\\n  -webkit-transform: translate(-50%, -50%);\\n  transform: translate(-50%, -50%);\\n}\\n.vue-slider-ltr .vue-slider-mark-step {\\n  left: 0;\\n}\\n.vue-slider-ltr .vue-slider-mark-label {\\n  left: 50%;\\n  -webkit-transform: translateX(-50%);\\n  transform: translateX(-50%);\\n}\\n.vue-slider-rtl .vue-slider-mark {\\n  -webkit-transform: translate(50%, -50%);\\n  transform: translate(50%, -50%);\\n}\\n.vue-slider-rtl .vue-slider-mark-step {\\n  right: 0;\\n}\\n.vue-slider-rtl .vue-slider-mark-label {\\n  right: 50%;\\n  -webkit-transform: translateX(50%);\\n  transform: translateX(50%);\\n}\\n.vue-slider-ttb .vue-slider-mark,\\n.vue-slider-btt .vue-slider-mark {\\n  width: 100%;\\n  height: 0;\\n  left: 50%;\\n}\\n.vue-slider-ttb .vue-slider-mark-step,\\n.vue-slider-btt .vue-slider-mark-step {\\n  left: 0;\\n}\\n.vue-slider-ttb .vue-slider-mark-label,\\n.vue-slider-btt .vue-slider-mark-label {\\n  left: 100%;\\n  margin-left: 10px;\\n}\\n.vue-slider-btt .vue-slider-mark {\\n  -webkit-transform: translate(-50%, 50%);\\n  transform: translate(-50%, 50%);\\n}\\n.vue-slider-btt .vue-slider-mark-step {\\n  top: 0;\\n}\\n.vue-slider-btt .vue-slider-mark-label {\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n  transform: translateY(-50%);\\n}\\n.vue-slider-ttb .vue-slider-mark {\\n  -webkit-transform: translate(-50%, -50%);\\n  transform: translate(-50%, -50%);\\n}\\n.vue-slider-ttb .vue-slider-mark-step {\\n  bottom: 0;\\n}\\n.vue-slider-ttb .vue-slider-mark-label {\\n  bottom: 50%;\\n  -webkit-transform: translateY(50%);\\n  transform: translateY(50%);\\n}\\n.vue-slider-mark-step,\\n.vue-slider-mark-label {\\n  position: absolute;\\n}\\n.vue-slider {\\n  position: relative;\\n  -webkit-box-sizing: content-box;\\n  box-sizing: content-box;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n  display: block;\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n}\\n.vue-slider-rail {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  -webkit-transition-property: width, height, left, right, top, bottom;\\n  transition-property: width, height, left, right, top, bottom;\\n}\\n.vue-slider-process {\\n  position: absolute;\\n  z-index: 1;\\n}\\n/* component style */\\n.vue-slider-disabled {\\n  opacity: 0.5;\\n  cursor: not-allowed;\\n}\\n/* rail style */\\n.vue-slider-rail {\\n  background-color: #ccc;\\n  border-radius: 15px;\\n}\\n/* process style */\\n.vue-slider-process {\\n  background-color: #3498db;\\n  border-radius: 15px;\\n}\\n/* mark style */\\n.vue-slider-mark {\\n  z-index: 4;\\n}\\n.vue-slider-mark:first-child .vue-slider-mark-step,\\n.vue-slider-mark:last-child .vue-slider-mark-step {\\n  display: none;\\n}\\n.vue-slider-mark-step {\\n  width: 100%;\\n  height: 100%;\\n  border-radius: 50%;\\n  background-color: rgba(0, 0, 0, 0.16);\\n}\\n.vue-slider-mark-label {\\n  font-size: 0.875rem;\\n  white-space: nowrap;\\n}\\n/* dot style */\\n.vue-slider-dot-handle {\\n  cursor: pointer;\\n  width: 100%;\\n  height: 100%;\\n  border-radius: 50%;\\n  background-color: #fff;\\n  box-sizing: border-box;\\n  box-shadow: 0.5px 0.5px 2px 1px rgba(0, 0, 0, 0.32);\\n}\\n.vue-slider-dot-handle-focus {\\n  box-shadow: 0 0 1px 2px rgba(52, 152, 219, 0.36);\\n}\\n.vue-slider-dot-handle-disabled {\\n  cursor: not-allowed;\\n  background-color: #ccc;\\n}\\n.vue-slider-dot-tooltip-inner {\\n  font-size: 0.875rem;\\n  white-space: nowrap;\\n  padding: 2px 5px;\\n  min-width: 20px;\\n  text-align: center;\\n  color: #fff;\\n  border-radius: 5px;\\n  border-color: #3498db;\\n  background-color: #3498db;\\n  box-sizing: content-box;\\n}\\n.vue-slider-dot-tooltip-inner::after {\\n  content: '';\\n  position: absolute;\\n}\\n.vue-slider-dot-tooltip-inner-top::after {\\n  top: 100%;\\n  left: 50%;\\n  transform: translate(-50%, 0);\\n  height: 0;\\n  width: 0;\\n  border-color: transparent;\\n  border-style: solid;\\n  border-width: 5px;\\n  border-top-color: inherit;\\n}\\n.vue-slider-dot-tooltip-inner-bottom::after {\\n  bottom: 100%;\\n  left: 50%;\\n  transform: translate(-50%, 0);\\n  height: 0;\\n  width: 0;\\n  border-color: transparent;\\n  border-style: solid;\\n  border-width: 5px;\\n  border-bottom-color: inherit;\\n}\\n.vue-slider-dot-tooltip-inner-left::after {\\n  left: 100%;\\n  top: 50%;\\n  transform: translate(0, -50%);\\n  height: 0;\\n  width: 0;\\n  border-color: transparent;\\n  border-style: solid;\\n  border-width: 5px;\\n  border-left-color: inherit;\\n}\\n.vue-slider-dot-tooltip-inner-right::after {\\n  right: 100%;\\n  top: 50%;\\n  transform: translate(0, -50%);\\n  height: 0;\\n  width: 0;\\n  border-color: transparent;\\n  border-style: solid;\\n  border-width: 5px;\\n  border-right-color: inherit;\\n}\\n.vue-slider-dot-tooltip-wrapper {\\n  opacity: 0;\\n  transition: all 0.3s;\\n}\\n.vue-slider-dot-tooltip-wrapper-show {\\n  opacity: 1;\\n}\\n/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.vue-slider .vue-slider-rail {\\n  background-color: var(--cl-backdrop);\\n}\\n.vue-slider .vue-slider-rail .vue-slider-process {\\n  background-color: var(--slider-body);\\n  box-shadow: 0 2px 6px var(--slider-body);\\n}\\n.vue-slider .vue-slider-mark-step {\\n  display: none;\\n}\\n.vue-slider .vue-slider-dot {\\n  transition: opacity 0.25s;\\n}\\n.vue-slider .vue-slider-dot .vue-slider-dot-handle {\\n  opacity: 0;\\n  box-shadow: none;\\n  background-color: var(--slider-body);\\n  filter: brightness(0.8);\\n}\\n.vue-slider .vue-slider-dot .vue-slider-dot-handle.vue-slider-dot-handle-focus {\\n  opacity: 1;\\n}\\n.vue-slider .vue-slider-dot-tooltip .vue-slider-dot-tooltip-inner {\\n  background-color: var(--slider-body);\\n  border-color: var(--slider-body);\\n}\\n.slider-bar {\\n  --slider-body: var(--cl-primary);\\n  cursor: pointer;\\n}\\n.slider-bar:hover .vue-slider-dot-handle {\\n  opacity: 1;\\n}\\n.slider-bar .vue-slider-disabled .vue-slider-dot-handle,\\n.slider-bar .vue-slider-disabled .vue-slider-dot-tooltip {\\n  opacity: 0;\\n}\\n.slider-bar.blue {\\n  --slider-body: #56ccf2;\\n}\\n.slider-bar.violet {\\n  --slider-body: #bb6bd9;\\n}\\n\"","import { Cache } from '../utils/Cache';\n\nexport interface Overview {\n  title: string;\n  alternativeTitle: string[];\n  description: string;\n  image: string;\n  imageLarge: string;\n  imageBanner?: string;\n  characters: {\n    img: string;\n    name: string;\n    url: string;\n    subtext?: string;\n  }[];\n  statistics: {\n    title: string;\n    body: string;\n  }[];\n  info: {\n    title: string;\n    body: (\n      | {\n          text: string;\n          url?: string;\n          subtext?: string;\n        }\n      | {\n          date: Date | string;\n          type: 'weektime';\n        }\n    )[];\n  }[];\n  openingSongs: {\n    title: string;\n    author: string;\n    episode: string;\n    url?: string;\n  }[];\n  endingSongs: {\n    title: string;\n    author: string;\n    episode: string;\n    url?: string;\n  }[];\n  related: {\n    type: string;\n    links: {\n      url: string;\n      title: string;\n      type: 'anime' | 'manga';\n      id: number | string;\n      list?: {\n        status: number;\n        score: number;\n        episode: number;\n      };\n    }[];\n  }[];\n  recommendations?: Recommendation[];\n  reviews?: Review[];\n}\n\nexport type Recommendation = {\n  entry: {\n    title: string;\n    url: string;\n    image: string;\n    list?: {\n      status: number;\n      score: number;\n      episode: number;\n    };\n  };\n  stats?: {\n    users: string;\n  };\n  user?: {\n    name: string;\n    href: string;\n  };\n  body?: {\n    text: string;\n    more: {\n      url: string;\n      number: number;\n    };\n  };\n};\n\nexport type Review = {\n  user: {\n    name: string;\n    image: string;\n    href: string;\n  };\n  body: {\n    people: number;\n    date: string;\n    rating: number;\n    text: string;\n  };\n};\n\nexport abstract class MetaOverviewAbstract {\n  constructor(protected url: string) {\n    this.logger = con.m('Meta [O]', 'green');\n    return this;\n  }\n\n  protected abstract readonly type: 'anime' | 'manga';\n\n  private run = false;\n\n  async init() {\n    if (this.run) return this;\n\n    const cache = this.getCache();\n    if (await cache.hasValueAndIsNotEmpty()) {\n      this.logger.log('Cached');\n      this.meta = await cache.getValue();\n      this.run = true;\n      await this.fillOverviewState();\n      return this;\n    }\n\n    await this._init();\n    this.run = true;\n    await cache.setValue(this.getMeta());\n    await this.fillOverviewState();\n    return this;\n  }\n\n  protected async fillOverviewState() {\n    for (const relation in this.meta.related) {\n      for (const link in this.meta.related[relation].links) {\n        // eslint-disable-next-line no-await-in-loop\n        const dbEntry = await api.request.database('entry', {\n          id: this.meta.related[relation].links[link].id,\n          type: this.meta.related[relation].links[link].type,\n        });\n        if (dbEntry) {\n          this.meta.related[relation].links[link].list = {\n            status: dbEntry.status,\n            score: dbEntry.score,\n            episode: dbEntry.watchedEp,\n          };\n        }\n      }\n    }\n  }\n\n  protected abstract _init();\n\n  protected logger;\n\n  protected meta: Overview = {\n    title: '',\n    alternativeTitle: [],\n    description: '',\n    image: '',\n    imageLarge: '',\n    characters: [],\n    statistics: [],\n    info: [],\n    openingSongs: [],\n    endingSongs: [],\n    related: [],\n  };\n\n  getMeta() {\n    return this.meta;\n  }\n\n  cacheObj?: Cache = undefined;\n\n  getCache() {\n    if (this.cacheObj) return this.cacheObj;\n    this.cacheObj = new Cache(\n      `v4/${api.storage.lang('locale')}/${this.url}`,\n      5 * 24 * 60 * 60 * 1000,\n    );\n    return this.cacheObj;\n  }\n}\n","import { MetaOverviewAbstract } from '../metaOverviewAbstract';\n\nexport class MetaOverview extends MetaOverviewAbstract {\n  constructor(url) {\n    super(url);\n    this.logger = this.logger.m('Local');\n    this.type = utils.urlPart(url, 3) === 'anime' ? 'anime' : 'manga';\n    return this;\n  }\n\n  protected readonly type;\n\n  async _init() {\n    return this;\n  }\n}\n","export function dateFromTimezoneToTimezone(\n  date: Date,\n  sourceTimezone: string,\n  targetTimezone: string = 'UTC',\n): Date {\n  const sourceDate = new Date(new Date().toLocaleString('en-US', { timeZone: sourceTimezone }));\n  const targetDate = new Date(new Date().toLocaleString('en-US', { timeZone: targetTimezone }));\n  const diff = sourceDate.getTime() - targetDate.getTime();\n\n  return new Date(date.getTime() - diff);\n}\n\nexport function getWeektime(weekDay: string, time: string): Date | null {\n  const daysOfWeek = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n  const dayIndex = daysOfWeek.findIndex(\n    day =>\n      day.toLowerCase() === weekDay.toLowerCase() ||\n      weekDay.toLowerCase().startsWith(day.toLowerCase()),\n  );\n\n  if (dayIndex === -1) return null;\n\n  // time has format 'hh:mm' or 'hh:mm am/pm'\n  const [timeStr, modifier] = time.split(' ');\n  const [hours, minutes] = timeStr.split(':').map(Number);\n\n  let hoursUTC = hours;\n  if (modifier?.toLowerCase() === 'pm' && hours !== 12) {\n    hoursUTC += 12;\n  } else if (modifier?.toLowerCase() === 'am' && hours === 12) {\n    hoursUTC = 0;\n  }\n\n  return new Date(Date.UTC(2017, 0, dayIndex + 1, hoursUTC, minutes, 0, 0));\n}\n","import { MetaOverview as temp } from '../MyAnimeList_legacy/metaOverview';\n\nexport const MetaOverview = temp;\n","import { MetaOverviewAbstract } from '../metaOverviewAbstract';\nimport { UrlNotSupportedError } from '../Errors';\nimport { dateFromTimezoneToTimezone, getWeektime } from '../../utils/time';\nimport { IntlDateTime, IntlDuration, IntlRange } from '../../utils/IntlWrapper';\n\nexport class MetaOverview extends MetaOverviewAbstract {\n  constructor(url) {\n    super(url);\n    this.logger = this.logger.m('MAL');\n    if (url.match(/myanimelist\\.net\\/(anime|manga)\\/\\d*/i)) {\n      this.type = utils.urlPart(url, 3) === 'anime' ? 'anime' : 'manga';\n      this.malId = Number(utils.urlPart(url, 4));\n      return this;\n    }\n    throw new UrlNotSupportedError(url);\n  }\n\n  protected readonly type;\n\n  private readonly malId: number;\n\n  async _init() {\n    this.logger.log('Retrieve', this.type, `MAL: ${this.malId}`);\n\n    const data = await this.getData();\n    // this.logger.log('Data', data);\n\n    this.title(data);\n    this.description(data);\n    this.image(data);\n    this.alternativeTitle(data);\n    this.characters(data);\n    this.statistics(data);\n    this.info(data);\n    this.openingSongs(data);\n    this.endingSongs(data);\n    this.related(data);\n\n    this.logger.log('Res', this.meta);\n  }\n\n  private async getData() {\n    return api.request\n      .xhr('GET', `https://myanimelist.net/${this.type}/${this.malId}`)\n      .then(response => {\n        return response.responseText;\n      });\n  }\n\n  private title(data) {\n    let title = '';\n\n    const useAltTitle = api.settings.get('forceEnglishTitles');\n\n    try {\n      if (useAltTitle) {\n        title = data\n          .split('class=\"title-english')[1]\n          .split('>')[1]\n          .split('</')[0]\n          .split('<br')[0]\n          .replace(/&quot;/g, '\"')\n          .replace(/&#039;/g, \"'\");\n      } else {\n        title = data\n          .split('itemprop=\"name\">')[1]\n          .split('</')[0]\n          .split('<br')[0]\n          .replace(/&quot;/g, '\"')\n          .replace(/&#039;/g, \"'\");\n      }\n    } catch (e) {\n      console.log('[iframeOverview] Error:', e);\n    }\n    this.meta.title = $('<div>').html(j.html(title)).text();\n  }\n\n  private description(data) {\n    let description = '';\n    try {\n      description = data.split('itemprop=\"description\">')[1].split('</p')[0].split('</span')[0];\n    } catch (e) {\n      console.log('[iframeOverview] Error:', e);\n    }\n    this.meta.description = description;\n  }\n\n  private image(data) {\n    let image = '';\n    let imageLarge = '';\n    try {\n      image = data.split('property=\"og:image\"')[1].split('content=\"')[1].split('\"')[0];\n      if (image) {\n        const ending = image.split('.').pop();\n        imageLarge = image.replace(`.${ending}`, `l.${ending}`);\n      }\n    } catch (e) {\n      console.log('[iframeOverview] Error:', e);\n    }\n    this.meta.image = image;\n    this.meta.imageLarge = imageLarge ?? image;\n  }\n\n  private alternativeTitle(data) {\n    let altTitle: any[] = [];\n\n    try {\n      const tempHtml = j.$.parseHTML(\n        `<div>${data.split('<h2>Alternative Titles</h2>')[1].split('<h2>')[0]}</div>`,\n      );\n      altTitle = j\n        .$(tempHtml)\n        .find('.spaceit_pad')\n        .toArray()\n        .map(function (i) {\n          return utils.getBaseText(j.$(i)).trim();\n        });\n    } catch (e) {\n      console.log('[iframeOverview] Error:', e);\n    }\n\n    this.meta.alternativeTitle = altTitle;\n  }\n\n  private characters(data) {\n    const charArray: any[] = [];\n    try {\n      const characterBlock = data.split('detail-characters-list')[1].split('</h2>')[0];\n      const charHtml = j.$.parseHTML(`<div class=\"detail-characters-list ${characterBlock}`);\n\n      j.$.each(j.$(charHtml).find(':not(td) > table'), (index, value) => {\n        const regexDimensions = /\\/r\\/\\d*x\\d*/g;\n        let charImg = j.$(value).find('img').first().attr('data-src');\n        if (charImg && regexDimensions.test(charImg)) {\n          charImg = charImg.replace(regexDimensions, '');\n        } else {\n          charImg = '';\n        }\n\n        charImg = utils.handleMalImages(charImg);\n\n        const charObjLink = j.$(value).find('.borderClass .spaceit_pad').first().parent();\n\n        charArray.push({\n          img: charImg,\n          name: charObjLink.find('a').first().text(),\n          url: charObjLink.find('a').first().attr('href'),\n          subtext: charObjLink.find('.spaceit_pad').first().text().trim(),\n        });\n      });\n    } catch (e) {\n      console.log('[iframeOverview] Error:', e);\n    }\n    this.meta.characters = charArray;\n  }\n\n  private statistics(data) {\n    const stats: any[] = [];\n    try {\n      const statsBlock = data.split('<h2>Statistics</h2>')[1].split('<h2>')[0];\n      // @ts-ignore\n      const tempHtml = j.$.parseHTML(statsBlock);\n      const This = this;\n      j.$.each(j.$(tempHtml).filter('div').slice(0, 5), function (index, value) {\n        const title = j.$(value).find('.dark_text').text();\n        const body =\n          typeof j.$(value).find('span[itemprop=ratingValue]').height() !== 'undefined'\n            ? j.$(value).find('span[itemprop=ratingValue]').text()\n            : j.$(value).clone().children().remove().end().text();\n        stats.push({\n          title: This.translateTitle(title),\n          body: body.trim(),\n        });\n      });\n    } catch (e) {\n      console.log('[iframeOverview] Error:', e);\n    }\n    this.meta.statistics = stats;\n  }\n\n  private info(data) {\n    const html: any[] = [];\n    try {\n      const infoBlock = data.split('<h2>Information</h2>')[1].split('<h2>')[0];\n      const infoData = j.$.parseHTML(infoBlock);\n      j.$.each(j.$(infoData).filter('div'), (index, value) => {\n        let title = j.$(value).find('.dark_text').text();\n        j.$(value).find('.dark_text').remove();\n\n        const aTags: { text: string; url: string; subtext?: string }[] = j\n          .$(value)\n          .find('a')\n          .map((i, el) => {\n            return {\n              text: j.$(el).text().trim(),\n              url: utils.absoluteLink(j.$(el).attr('href'), 'https://myanimelist.net'),\n            };\n          })\n          .toArray();\n\n        j.$(value).find('a, span').remove();\n\n        const textTags = j.$(value).text().split(',');\n\n        let body: any[] = [];\n\n        if (!aTags.length) {\n          body = textTags.map(el => {\n            const match = el.match(/(\\w+)\\s+at\\s+(\\d{2}:\\d{2})\\s+\\(JST\\)/i);\n\n            if (match) {\n              const dayString = match[1];\n              const timeString = match[2];\n\n              const weekDate = getWeektime(dayString, timeString);\n              if (weekDate) {\n                const broadcastDate = dateFromTimezoneToTimezone(weekDate, 'Asia/Tokyo');\n                return {\n                  date: broadcastDate,\n                  type: 'weektime',\n                };\n              }\n            }\n\n            return {\n              text: el.trim(),\n            };\n          });\n        } else if (aTags.length === textTags.length) {\n          body = aTags.map((el, i) => {\n            el.subtext = textTags[i]\n              .trim()\n              .replace(/(^\\(|\\)$)/gi, '')\n              .trim();\n            return el;\n          });\n        } else {\n          body = aTags;\n        }\n        switch (title.trim()) {\n          case 'Published:':\n          case 'Aired:': {\n            title =\n              title === 'Published:'\n                ? api.storage.lang('overview_sidebar_Published')\n                : api.storage.lang('overview_sidebar_Aired');\n            const range = body.map(e => e.text.toString()).toString();\n            // NOTE - For anime/continuous aired titles with start and end date\n            if (range.includes(' to ')) {\n              const start = range.split('to')[0].trim();\n              const end = range.split('to')[1].trim();\n              const rangeDate = new IntlRange(start, end).getDateTimeRangeText();\n              body = [{ text: rangeDate }];\n              break;\n            }\n            // NOTE - For movies/titles with only 1 air date\n            body = [{ text: `${new IntlDateTime(range).getDateTimeText()}` }];\n            break;\n          }\n          case 'Duration:': {\n            title = api.storage.lang('overview_sidebar_Duration');\n            const durationString: string = body[0].text;\n            const match = durationString.match(/\\d+/g);\n            // NOTE - For anime with episodes\n            if (match) {\n              if (durationString.includes('min') && match.length === 1) {\n                const minutes = Number(match[0]);\n                const result = new IntlDuration()\n                  .setDurationFormatted({ minutes })\n                  .getRelativeText();\n                body = [{ text: `${result}` }];\n                break;\n              }\n              // NOTE - For movies with total duration\n              const hours = Number(match[0]) || 0;\n              const minutes = Number(match[1]) || 0;\n              const result = new IntlDuration().setDuration({ hours, minutes }).getRelativeText();\n              body = [{ text: `${result}` }];\n              break;\n            }\n          }\n          default:\n            break;\n        }\n        title = this.translateTitle(title);\n        html.push({\n          title,\n          body,\n        });\n      });\n      this.getExternalLinks(html, data);\n    } catch (e) {\n      console.log('[iframeOverview] Error:', e);\n    }\n    this.meta.info = html;\n  }\n\n  translateTitle(title: string) {\n    const clearTitle = title.replace(':', '').trim();\n    const titleTranslated = api.storage.lang(`overview_sidebar_${clearTitle}`);\n    return titleTranslated || title;\n  }\n\n  getExternalLinks(html, data) {\n    try {\n      const infoBlock = `${data.split('<h2>External Links</h2>')[1].split('</div>')[0]}</div>`;\n      const infoData = j.$.parseHTML(infoBlock);\n\n      const body: any[] = [];\n      j.$.each(j.$(infoData).find('a'), (index, value) => {\n        body.push({\n          text: j.$(value).text(),\n          url: j.$(value).attr('href'),\n        });\n      });\n      if (body.length) {\n        html.push({\n          title: `${api.storage.lang('overview_sidebar_external_links')}`,\n          body,\n        });\n      }\n    } catch (e) {\n      console.log('[iframeOverview] Error:', e);\n    }\n  }\n\n  openingSongs(data) {\n    const openingSongs: {\n      title: string;\n      author: string;\n      episode: string;\n      url?: string;\n    }[] = [];\n\n    try {\n      const openingBlock = `<table border${\n        data.split('opnening\">')[1].split('<table border')[1].split('</table>')[0]\n      }</table>`;\n      const openingData = j.$(j.$.parseHTML(openingBlock));\n      if (openingData.find('td').length > 1) {\n        openingData.find('tr').each((_, el) => {\n          let title = $(el).find('.theme-song-title').text().trim();\n\n          if (!title) {\n            title = utils.getBaseText($(el).find('[id^=\"youtube_url_\"]').parent()).trim();\n          }\n\n          let url = $(el).find('[id^=\"youtube_url_\"]').first().attr('value')?.replace('music.', '');\n\n          if (!url) {\n            url = $(el).find('[id^=\"spotify_url_\"]').first().attr('value');\n          }\n\n          openingSongs.push({\n            title: title.replace(/(^\"|\"$)/g, ''),\n            author: $(el).find('.theme-song-artist').text().trim(),\n            episode: $(el)\n              .find('.theme-song-episode')\n              .text()\n              .trim()\n              .replace(/(^\\(|\\)$)/g, ''),\n            url,\n          });\n        });\n      }\n    } catch (e) {\n      console.log('[iframeOverview] Error:', e);\n    }\n\n    this.meta.openingSongs = openingSongs;\n  }\n\n  endingSongs(data) {\n    const endingSongs: {\n      title: string;\n      author: string;\n      episode: string;\n      url?: string;\n    }[] = [];\n\n    try {\n      const endingBlock = `<table border${\n        data.split(' ending\">')[1].split('<table border')[1].split('</table>')[0]\n      }</table>`;\n\n      const endingData = j.$(j.$.parseHTML(endingBlock));\n      if (endingData.find('td').length > 1) {\n        endingData.find('tr').each((_, el) => {\n          let title = $(el).find('.theme-song-title').text().trim();\n\n          if (!title) {\n            title = utils.getBaseText($(el).find('[id^=\"youtube_url_\"]').parent()).trim();\n          }\n\n          let url = $(el).find('[id^=\"youtube_url_\"]').first().attr('value')?.replace('music.', '');\n\n          if (!url) {\n            url = $(el).find('[id^=\"spotify_url_\"]').first().attr('value');\n          }\n\n          endingSongs.push({\n            title: title.replace(/(^\"|\"$)/g, ''),\n            author: $(el).find('.theme-song-artist').text().trim(),\n            episode: $(el)\n              .find('.theme-song-episode')\n              .text()\n              .trim()\n              .replace(/(^\\(|\\)$)/g, ''),\n            url,\n          });\n        });\n      }\n    } catch (e) {\n      console.log('[iframeOverview] Error:', e);\n    }\n\n    this.meta.endingSongs = endingSongs;\n  }\n\n  private related(data) {\n    const el: { type: string; links: any[] }[] = [];\n    try {\n      const relatedBlock = data.split('Related ')[1].split('</h2>')[1].split('<h2>')[0];\n      const related = j.$.parseHTML(relatedBlock);\n\n      j.$.each(\n        j.$(related).filter('.related-entries').find('.entry .content'),\n        function (index, value) {\n          const links: { url: string; title: string; type: string; id: number }[] = [];\n          j.$(value)\n            .find('a')\n            .each(function (indexB, valueB) {\n              const url =\n                utils.absoluteLink(j.$(valueB).attr('href'), 'https://myanimelist.net') || '';\n              if (url) {\n                links.push({\n                  url,\n                  title: j.$(valueB).parent().text(),\n                  type: utils.urlPart(url, 3),\n                  id: Number(utils.urlPart(url, 4)),\n                });\n              }\n            });\n          el.push({\n            type: j\n              .$(value)\n              .find('.relation')\n              .first()\n              .text()\n              .trim()\n              .replace(/\\(.*\\)$/gi, ''),\n            links,\n          });\n        },\n      );\n\n      j.$.each(j.$(related).filter('.related-entries').find('table tr'), function (index, value) {\n        const links: { url: string; title: string; type: string; id: number }[] = [];\n        j.$(value)\n          .find('.borderClass')\n          .last()\n          .find('a')\n          .each(function (indexB, valueB) {\n            const url =\n              utils.absoluteLink(j.$(valueB).attr('href'), 'https://myanimelist.net') || '';\n            if (url) {\n              links.push({\n                url,\n                title: j.$(valueB).parent().text(),\n                type: utils.urlPart(url, 3),\n                id: Number(utils.urlPart(url, 4)),\n              });\n            }\n          });\n        el.push({\n          type: j.$(value).find('.borderClass').first().text(),\n          links,\n        });\n      });\n    } catch (e) {\n      console.log('[iframeOverview] Error:', e);\n    }\n    this.meta.related = el;\n  }\n}\n","/* eslint-disable no-shadow */\nimport { MetaOverviewAbstract } from '../metaOverviewAbstract';\nimport { UrlNotSupportedError } from '../Errors';\nimport * as helper from './helper';\nimport { dateFromTimezoneToTimezone, getWeektime } from '../../utils/time';\nimport { IntlDuration, IntlRange } from '../../utils/IntlWrapper';\n\nenum mediaTypeDefinition {\n  unknown = 'Unknown',\n  tv = 'TV',\n  ova = 'OVA',\n  movie = 'Movie',\n  special = 'Special',\n  ona = 'ONA',\n  music = 'Music',\n  manga = 'Manga',\n  novel = 'Novel',\n  one_shot = 'One shot',\n  doujinshi = 'Doujinshi',\n  manhwa = 'Manhwa',\n  manhua = 'Manhua',\n  oel = 'OEL',\n}\n\nenum airingStatusDefinition {\n  finished_airing = 'Finished Airing',\n  currently_airing = 'Currently Airing',\n  not_yet_aired = 'Not Yet Aired',\n  finished = 'Finished',\n  currently_publishing = 'Currently Publishing',\n  not_yet_published = 'Not Yet Published',\n}\n\nenum sourceDefinition {\n  other = 'Other',\n  original = 'Original',\n  manga = 'Manga',\n  '4_koma_manga' = '4 Koma Manga',\n  web_manga = 'Web Manga',\n  digital_manga = 'Digital Manga',\n  novel = 'Novel',\n  light_novel = 'Light Novel',\n  visual_novel = 'Visual Novel',\n  game = 'Game',\n  card_game = 'Card Game',\n  book = 'Book',\n  picture_book = 'Picture Book',\n  radio = 'Radio',\n  music = 'Music',\n}\n\nenum ratingDefinition {\n  g = 'G - All Ages',\n  pg = 'PG - Children',\n  pg_13 = 'PG 13 - Teens 13 and Older',\n  r = 'R - 17+ (violence & profanity)',\n  'r+' = 'R+ - Profanity & Mild Nudity',\n  rx = 'Rx - Hentai',\n}\n\nexport class MetaOverview extends MetaOverviewAbstract {\n  constructor(url) {\n    super(url);\n    this.logger = this.logger.m('MAL');\n    if (url.match(/myanimelist\\.net\\/(anime|manga)\\/\\d*/i)) {\n      this.type = utils.urlPart(url, 3) === 'anime' ? 'anime' : 'manga';\n      this.malId = Number(utils.urlPart(url, 4));\n      return;\n    }\n    throw new UrlNotSupportedError(url);\n  }\n\n  protected readonly type;\n\n  private readonly malId: number;\n\n  async _init() {\n    this.logger.log('Retrieve', this.type, this.malId);\n\n    const data = await this.getData();\n    this.logger.log('Data', data);\n\n    this.title(data);\n    this.description(data);\n    this.image(data);\n    this.alternativeTitle(data);\n    this.statistics(data);\n    this.info(data);\n    this.related(data);\n\n    this.logger.log('Res', this.meta);\n  }\n\n  private async getData() {\n    return this.apiCall({\n      type: 'GET',\n      path: `${this.type}/${this.malId}`,\n      fields: [\n        'synopsis',\n        'alternative_titles',\n        'mean',\n        'rank',\n        'popularity',\n        'num_list_users',\n        'num_scoring_users',\n        'related_anime',\n        'related_manga',\n        // Info\n        'media_type',\n        'num_episodes',\n        'num_chapters',\n        'num_volumes',\n        'status',\n        'start_date',\n        'end_date',\n        'start_season',\n        'broadcast',\n        'studios',\n        'authors{first_name,last_name}',\n        'source',\n        'genres',\n        'average_episode_duration',\n        'rating',\n        'serialization',\n      ],\n    });\n  }\n\n  private title(data) {\n    const useAltTitle = api.settings.get('forceEnglishTitles');\n    if (useAltTitle) {\n      this.meta.title = data.alternative_titles.en || data.title;\n    } else {\n      this.meta.title = data.title;\n    }\n  }\n\n  private description(data) {\n    if (data.synopsis) this.meta.description = data.synopsis;\n  }\n\n  private image(data) {\n    if (data.main_picture && data.main_picture.medium) this.meta.image = data.main_picture.medium;\n    this.meta.imageLarge = data.main_picture?.large || data.main_picture?.medium || '';\n  }\n\n  private alternativeTitle(data) {\n    if (data.alternative_titles) {\n      for (const prop in data.alternative_titles) {\n        const el = data.alternative_titles[prop];\n        if (Array.isArray(el)) {\n          this.meta.alternativeTitle = this.meta.alternativeTitle.concat(el);\n        } else if (el) this.meta.alternativeTitle.push(el);\n      }\n    }\n  }\n\n  private statistics(data) {\n    if (data.mean)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Score'),\n        body: data.mean,\n      });\n\n    if (data.rank)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Ranked'),\n        body: `#${data.rank}`,\n      });\n\n    if (data.popularity)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Popularity'),\n        body: `#${data.popularity}`,\n      });\n\n    if (data.num_list_users)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Members'),\n        body: data.num_list_users.toLocaleString(),\n      });\n\n    if (data.num_scoring_users)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Votes'),\n        body: data.num_scoring_users.toLocaleString(),\n      });\n  }\n\n  private info(data) {\n    if (data.media_type) {\n      const format = mediaTypeDefinition[data.media_type];\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Format'),\n        body: [\n          {\n            text: format ?? data.media_type,\n            url: `https://myanimelist.net/top${this.type}.php?type=${data.media_type}`,\n          },\n        ],\n      });\n    }\n\n    if (data.num_episodes) {\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Episodes'),\n        body: [{ text: data.num_episodes }],\n      });\n    } else if (data.num_episodes === 0) {\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Episodes'),\n        body: [{ text: 'Unknown' }],\n      });\n    }\n\n    if (data.num_chapters) {\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Chapters'),\n        body: [{ text: data.num_chapters }],\n      });\n    } else if (data.num_chapters === 0) {\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Chapters'),\n        body: [{ text: 'Unknown' }],\n      });\n    }\n\n    if (data.num_volumes) {\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Volumes'),\n        body: [{ text: data.num_volumes }],\n      });\n    } else if (data.num_volumes === 0) {\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Volumes'),\n        body: [{ text: 'Unknown' }],\n      });\n    }\n\n    if (data.status) {\n      const format = airingStatusDefinition[data.status];\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Status'),\n        body: [{ text: format ?? data.status }],\n      });\n    }\n\n    if (data.start_date) {\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Aired'),\n        body: [\n          {\n            text: new IntlRange(data.start_date, data.end_date).getDateTimeRangeText(),\n          },\n        ],\n      });\n    }\n\n    if (data.start_season) {\n      let format = '';\n      if (data.start_season.season) format += `${data.start_season.season} `;\n      if (data.start_season.year) format += data.start_season.year;\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Season'),\n        body: [\n          {\n            url: `https://myanimelist.net/${this.type}/season/${data.start_season.year}/${data.start_season.season}`,\n            text: format,\n          },\n        ],\n      });\n    }\n\n    if (data.broadcast) {\n      let format = '';\n      if (data.broadcast.day_of_the_week) format += `${data.broadcast.day_of_the_week} `;\n      if (data.broadcast.day_of_the_week && data.broadcast.start_time) format += 'at ';\n      if (data.broadcast.start_time) format += `${data.broadcast.start_time} (JST)`;\n      let body: any = [{ text: format }];\n\n      if (data.broadcast.day_of_the_week && data.broadcast.start_time) {\n        const weekDate = getWeektime(data.broadcast.day_of_the_week, data.broadcast.start_time);\n\n        if (weekDate) {\n          const broadcastDate = dateFromTimezoneToTimezone(weekDate, 'Asia/Tokyo');\n          body = [\n            {\n              date: broadcastDate,\n              type: 'weektime',\n            },\n          ];\n        }\n      }\n\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Broadcast'),\n        body,\n      });\n    }\n\n    if (data.studios) {\n      const studios: any[] = [];\n      data.studios.forEach(function (i, index) {\n        studios.push({\n          text: i.name,\n          url: `https://myanimelist.net/anime/producer/${i.id}`,\n        });\n      });\n      if (studios.length)\n        this.meta.info.push({\n          title: api.storage.lang('overview_sidebar_Studios'),\n          body: studios,\n        });\n    }\n\n    if (data.authors) {\n      const authors: any[] = [];\n      data.authors.forEach(function (i, index) {\n        authors.push({\n          text: `${i.node.last_name ?? ''}${i.node.last_name && i.node.first_name ? ',' : ''} ${\n            i.node.first_name ?? ''\n          }`,\n          url: `https://myanimelist.net/people/${i.node.id}`,\n          subtext: i.role || '',\n        });\n      });\n      if (authors.length)\n        this.meta.info.push({\n          title: api.storage.lang('overview_sidebar_Authors'),\n          body: authors,\n        });\n    }\n\n    if (data.source) {\n      const format = sourceDefinition[data.source];\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Source'),\n        body: [{ text: format ?? data.source }],\n      });\n    }\n\n    if (data.genres) {\n      const genres: any[] = [];\n      data.genres.forEach((i, index) => {\n        genres.push({\n          text: i.name,\n          url: `https://myanimelist.net/${this.type}/genre/${i.id}`,\n        });\n      });\n      if (genres.length)\n        this.meta.info.push({\n          title: api.storage.lang('overview_sidebar_Genres'),\n          body: genres,\n        });\n    }\n\n    if (data.average_episode_duration) {\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Duration'),\n        body: [\n          {\n            text: `${new IntlDuration().setRelativeTime(data.average_episode_duration, 'seconds', 'Duration').getRelativeText()}`,\n          },\n        ],\n      });\n    }\n\n    if (data.rating) {\n      const format = ratingDefinition[data.rating];\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Rating'),\n        body: [{ text: format ?? data.rating }],\n      });\n    }\n\n    if (data.serialization) {\n      const serialization: any[] = [];\n      data.serialization.forEach(function (i, index) {\n        serialization.push({\n          text: i.node.name,\n          url: `https://myanimelist.net/manga/magazine/${i.node.id}`,\n        });\n      });\n      if (serialization.length)\n        this.meta.info.push({\n          title: api.storage.lang('overview_sidebar_Serialization'),\n          body: serialization,\n        });\n    }\n  }\n\n  private related(data) {\n    const links: any = {};\n\n    if (data.related_anime.length) {\n      data.related_anime.forEach(el => {\n        if (typeof links[el.relation_type] === 'undefined') {\n          links[el.relation_type] = {\n            type: el.relation_type_formatted,\n            links: [],\n          };\n        }\n\n        links[el.relation_type].links.push({\n          url: `https://myanimelist.net/anime/${el.node.id}`,\n          title: el.node.title,\n          id: el.node.id,\n          type: 'anime',\n        });\n      });\n    }\n\n    if (data.related_manga.length) {\n      data.related_manga.forEach(el => {\n        if (typeof links[el.relation_type] === 'undefined') {\n          links[el.relation_type] = {\n            type: el.relation_type_formatted,\n            links: [],\n          };\n        }\n\n        links[el.relation_type].links.push({\n          url: `https://myanimelist.net/manga/${el.node.id}`,\n          title: el.node.title,\n          id: el.node.id,\n          type: 'manga',\n        });\n      });\n    }\n\n    this.meta.related = Object.keys(links).map(key => links[key]);\n  }\n\n  protected apiCall = helper.apiCall;\n}\n","import { MetaOverviewAbstract, Recommendation, Review } from '../metaOverviewAbstract';\nimport { UrlNotSupportedError } from '../Errors';\nimport * as helper from './helper';\nimport { IntlDateTime, IntlDuration } from '../../utils/IntlWrapper';\n\nexport class MetaOverview extends MetaOverviewAbstract {\n  constructor(url) {\n    super(url);\n    this.logger = this.logger.m('Anilist');\n    if (url.match(/anilist\\.co\\/(anime|manga)\\/\\d*/i)) {\n      this.type = utils.urlPart(url, 3) === 'anime' ? 'anime' : 'manga';\n      this.aniId = Number(utils.urlPart(url, 4));\n      this.malId = NaN;\n      return this;\n    }\n    if (url.match(/myanimelist\\.net\\/(anime|manga)\\/\\d*/i)) {\n      this.type = utils.urlPart(url, 3) === 'anime' ? 'anime' : 'manga';\n      this.malId = Number(utils.urlPart(url, 4));\n      this.aniId = NaN;\n      return this;\n    }\n    throw new UrlNotSupportedError(url);\n  }\n\n  protected readonly type;\n\n  private readonly aniId: number;\n\n  private readonly malId: number;\n\n  async _init() {\n    this.logger.log(\n      'Retrieve',\n      this.type,\n      this.aniId ? `Anilist: ${this.aniId}` : `MAL: ${this.malId}`,\n    );\n\n    const data = await this.getData();\n    this.logger.log('Data', data);\n\n    this.title(data);\n    this.description(data);\n    this.image(data);\n    this.alternativeTitle(data);\n    this.characters(data);\n    this.statistics(data);\n    this.info(data);\n    this.related(data);\n    this.reviews(data);\n    this.recommendations(data);\n\n    this.logger.log('Res', this.meta);\n  }\n\n  private async getData() {\n    let selectId = this.malId;\n    let selectQuery = 'idMal';\n    if (Number.isNaN(this.malId)) {\n      selectId = this.aniId;\n      selectQuery = 'id';\n    }\n\n    const query = `\n    query ($id: Int, $type: MediaType) {\n      Media (${selectQuery}: $id, type: $type) {\n        id\n        idMal\n        siteUrl\n        episodes\n        chapters\n        volumes\n        averageScore\n        synonyms\n        description(asHtml: true)\n        coverImage{\n          large\n          extraLarge\n        }\n        bannerImage\n        title {\n          userPreferred\n          romaji\n          english\n          native\n        }\n        characters (perPage: 8, sort: [ROLE, ID]) {\n            edges {\n                id\n                role\n                node {\n                    id\n                    siteUrl\n                    name {\n                        first\n                        last\n                    }\n                    image {\n                        large\n                    }\n                }\n            }\n        }\n        popularity\n        favourites\n        rankings {\n          id\n          rank\n          type\n          format\n          year\n          season\n          allTime\n          context\n        }\n        relations {\n            edges {\n                id\n                relationType (version: 2)\n                node {\n                    id\n                    type\n                    siteUrl\n                    title {\n                        userPreferred\n                    }\n                }\n            }\n        }\n        format\n        episodes\n        duration\n        status\n        startDate {\n          year\n          month\n          day\n        }\n        endDate {\n          year\n          month\n          day\n        }\n        season\n        studios {\n            edges {\n                isMain\n                node {\n                    siteUrl\n                    id\n                    name\n                }\n            }\n        }\n        reviews {\n            nodes {\n                rating\n                createdAt\n                score\n                body(asHtml: true)\n                user {\n                    name\n                    siteUrl\n                    avatar {\n                      medium\n                    }\n                }\n\n            }\n        }\n        recommendations (sort: [RATING_DESC]) {\n            nodes {\n                rating\n                mediaRecommendation {\n                    title {\n                        userPreferred\n                    }\n                    siteUrl\n                    coverImage {\n                        large\n                    }\n                }\n            }\n        }\n        ${\n          this.type === 'manga'\n            ? `\n        staff {\n            edges {\n                id\n                role\n                node {\n                    siteUrl\n                    name {\n                        userPreferred\n                    }\n                }\n            }\n        }\n          `\n            : ''\n        }\n        source(version: 2)\n        genres\n        externalLinks {\n          site\n          url\n        }\n      }\n    }\n    `;\n    const variables = {\n      id: selectId,\n      type: this.type.toUpperCase(),\n    };\n\n    return this.apiCall(query, variables);\n  }\n\n  private title(data) {\n    const title = data?.data?.Media?.title?.userPreferred;\n    if (title) this.meta.title = title;\n  }\n\n  private description(data) {\n    const description = data?.data?.Media?.description;\n    if (description) this.meta.description = description;\n  }\n\n  private image(data) {\n    const image = helper.imgCheck(data?.data?.Media?.coverImage?.large);\n    if (image) this.meta.image = image;\n    this.meta.imageLarge = helper.imgCheck(data?.data?.Media?.coverImage?.extraLarge) || image;\n    this.meta.imageBanner = helper.imgCheck(data?.data?.Media?.bannerImage);\n  }\n\n  private alternativeTitle(data) {\n    const titles = data?.data?.Media?.title;\n    if (titles) {\n      for (const prop in titles) {\n        const el = data.data.Media.title[prop];\n        if (el) {\n          this.meta.alternativeTitle.push(el);\n        }\n      }\n    }\n  }\n\n  private characters(data) {\n    const chars = data?.data?.Media?.characters?.edges;\n    if (chars) {\n      chars.forEach(i => {\n        let name = '';\n        let role = '';\n        if (i.node.name.last) name += i.node.name.last;\n        if (i.node.name.first && i.node.name.last) {\n          name += ', ';\n        }\n        if (i.node.name.first) name += i.node.name.first;\n        if (i.role) {\n          role = i.role.charAt(0).toUpperCase() + i.role.slice(1).toLowerCase();\n        }\n        this.meta.characters.push({\n          img: helper.imgCheck(i.node.image.large),\n          name,\n          subtext: role,\n          url: i.node.siteUrl,\n        });\n      });\n    }\n  }\n\n  private statistics(data) {\n    if (data.data.Media.averageScore)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Score'),\n        body: data.data.Media.averageScore,\n      });\n\n    if (data.data.Media.favourites)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Favorites'),\n        body: data.data.Media.favourites,\n      });\n\n    if (data.data.Media.popularity)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Popularity'),\n        body: data.data.Media.popularity,\n      });\n\n    data.data.Media.rankings.forEach(i => {\n      if (this.meta.statistics.length < 4 && i.allTime) {\n        let title = `${i.context.replace('all time', '').trim()}:`;\n        title = title.charAt(0).toUpperCase() + title.slice(1);\n\n        if (title === 'Highest rated:') title = api.storage.lang('overview_sidebar_Ranked');\n\n        this.meta.statistics.push({\n          title,\n          body: `#${i.rank}`,\n        });\n      }\n    });\n  }\n\n  private info(data) {\n    if (data.data.Media.format) {\n      let format = data.data.Media.format.toLowerCase().replace('_', ' ');\n      format = format.charAt(0).toUpperCase() + format.slice(1);\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Format'),\n        body: [{ text: format }],\n      });\n    }\n\n    if (data.data.Media.episodes)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Episodes'),\n        body: [{ text: data.data.Media.episodes }],\n      });\n\n    if (data.data.Media.duration)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Duration'),\n        body: [\n          {\n            text: `${new IntlDuration().setRelativeTime(data.data.Media.duration, 'minutes', 'Duration').getRelativeText()}`,\n          },\n        ],\n      });\n\n    if (data.data.Media.status) {\n      let status = data.data.Media.status.toLowerCase().replace('_', ' ');\n      status = status.charAt(0).toUpperCase() + status.slice(1);\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Status'),\n        body: [{ text: status }],\n      });\n    }\n\n    if (data.data.Media.startDate.year)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Start_Date'),\n        body: [\n          {\n            text: new IntlDateTime(\n              new Date(\n                data.data.Media.startDate.year,\n                data.data.Media.startDate.month,\n                data.data.Media.startDate.day,\n              ),\n            ).getDateTimeText(),\n          },\n        ],\n      });\n\n    if (data.data.Media.endDate.year)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_End_Date'),\n        body: [\n          {\n            text: new IntlDateTime(\n              new Date(\n                data.data.Media.endDate.year,\n                data.data.Media.endDate.month,\n                data.data.Media.endDate.day,\n              ),\n            ).getDateTimeText(),\n          },\n        ],\n      });\n\n    if (data.data.Media.season) {\n      let season = data.data.Media.season.toLowerCase().replace('_', ' ');\n      season = season.charAt(0).toUpperCase() + season.slice(1);\n      if (data.data.Media.endDate.year) season += ` ${data.data.Media.endDate.year}`;\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Season'),\n        body: [{ text: season }],\n      });\n    }\n\n    const studios: any = [];\n    data.data.Media.studios.edges.forEach(function (i, index) {\n      if (i.isMain) {\n        studios.push({\n          text: i.node.name,\n          url: i.node.siteUrl,\n        });\n      }\n    });\n    if (studios.length)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Studios'),\n        body: studios,\n      });\n\n    if (data.data.Media.staff && data.data.Media.staff.edges.length) {\n      const authors: any[] = [];\n      data.data.Media.staff.edges\n        .filter(author => {\n          return !['Editing', 'Translator', 'Lettering', 'Touch-up'].find(ignore =>\n            author.role.toLowerCase().includes(ignore.toLowerCase()),\n          );\n        })\n        .forEach(author => {\n          const role = author.role.replace(/(original|design|\\([^)]*\\))/gi, '').trim();\n\n          authors.push({\n            text: author.node.name.userPreferred,\n            url: author.node.siteUrl,\n            subtext: role || '',\n          });\n        });\n      if (authors.length)\n        this.meta.info.push({\n          title: api.storage.lang('overview_sidebar_Authors'),\n          body: authors,\n        });\n    }\n\n    if (data.data.Media.source) {\n      let source = data.data.Media.source.toLowerCase().replace('_', ' ');\n      source = source.charAt(0).toUpperCase() + source.slice(1);\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Source'),\n        body: [{ text: source }],\n      });\n    }\n\n    if (data.data.Media.genres) {\n      const gen: any[] = [];\n      data.data.Media.genres.forEach(function (i, index) {\n        gen.push({\n          text: i,\n          url: `https://anilist.co/search/anime?includedGenres=${i}`,\n        });\n      });\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Genres'),\n        body: gen,\n      });\n    }\n\n    const external: any[] = [];\n    data.data.Media.externalLinks.forEach(function (i, index) {\n      external.push({\n        text: i.site,\n        url: i.url,\n      });\n    });\n    if (external.length)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_external_links'),\n        body: external,\n      });\n  }\n\n  private related(data) {\n    const links: any = {};\n    data.data.Media.relations.edges.forEach(i => {\n      if (typeof links[i.relationType] === 'undefined') {\n        let title = i.relationType.toLowerCase().replace('_', ' ');\n        title = title.charAt(0).toUpperCase() + title.slice(1);\n\n        links[i.relationType] = {\n          type: title,\n          links: [],\n        };\n      }\n      links[i.relationType].links.push({\n        url: i.node.siteUrl,\n        title: i.node.title.userPreferred,\n        id: i.node.id,\n        type: i.node.type.toLowerCase(),\n      });\n    });\n    this.meta.related = Object.keys(links).map(key => links[key]);\n  }\n\n  private reviews(data) {\n    const reviews: Review[] = [];\n    data.data.Media.reviews.nodes.forEach(i => {\n      reviews.push({\n        body: {\n          people: i.rating,\n          date: new IntlDateTime(i.createdAt * 1000).getDateTimeText({ dateStyle: 'medium' }),\n          rating: i.score,\n          text: i.body,\n        },\n        user: {\n          name: i.user.name,\n          image: i.user.avatar.medium,\n          href: i.user.siteUrl,\n        },\n      });\n    });\n    this.meta.reviews = reviews;\n  }\n\n  private recommendations(data) {\n    const recommendations: Recommendation[] = [];\n    data.data.Media.recommendations.nodes.forEach(i => {\n      if (!i.mediaRecommendation) return;\n      recommendations.push({\n        entry: {\n          title: i.mediaRecommendation.title.userPreferred,\n          url: i.mediaRecommendation.siteUrl,\n          image: i.mediaRecommendation.coverImage.large,\n        },\n        stats: {\n          users: i.rating,\n        },\n      });\n    });\n    this.meta.recommendations = recommendations;\n  }\n\n  protected apiCall = helper.apiCall;\n}\n","import { MetaOverviewAbstract } from '../metaOverviewAbstract';\nimport { NotFoundError, UrlNotSupportedError } from '../Errors';\nimport * as helper from './helper';\nimport { IntlDateTime, IntlDuration } from '../../utils/IntlWrapper';\n\nexport class MetaOverview extends MetaOverviewAbstract {\n  constructor(url) {\n    super(url);\n    this.logger = this.logger.m('Kitsu');\n\n    if (url.match(/kitsu\\.app\\/(anime|manga)\\/.*/i)) {\n      this.type = utils.urlPart(url, 3) === 'anime' ? 'anime' : 'manga';\n      this.kitsuSlug = utils.urlPart(url, 4);\n      this.malId = NaN;\n      return this;\n    }\n    if (url.match(/myanimelist\\.net\\/(anime|manga)\\/\\d*/i)) {\n      this.type = utils.urlPart(url, 3) === 'anime' ? 'anime' : 'manga';\n      this.malId = Number(utils.urlPart(url, 4));\n      this.kitsuSlug = '';\n      return this;\n    }\n    throw new UrlNotSupportedError(url);\n  }\n\n  protected readonly type;\n\n  private kitsuSlug: string;\n\n  private kitsuId = NaN;\n\n  private readonly malId: number;\n\n  private animeInfo: any;\n\n  animeI() {\n    return this.animeInfo.data;\n  }\n\n  async _init() {\n    this.logger.log(\n      'Retrieve',\n      this.type,\n      this.kitsuSlug ? `Kitsu: ${this.kitsuSlug}` : `MAL: ${this.malId}`,\n    );\n\n    await this.getData();\n    this.logger.log('Data', this.animeInfo);\n\n    this.title();\n    this.description();\n    this.image();\n    this.alternativeTitle();\n    this.characters();\n    this.statistics();\n    this.info();\n    this.related();\n\n    this.logger.log('Res', this.meta);\n  }\n\n  private async getData() {\n    if (!this.kitsuSlug) {\n      const kitsuRes = await helper.malToKitsu(this.malId, this.type);\n      try {\n        const relation = kitsuRes.data.find(\n          item => item.relationships.item.data.type === this.type,\n        );\n        if (!relation) throw new NotFoundError(`No entry found for malId ${this.malId}`);\n        this.kitsuId = Number(relation.relationships.item.data.id);\n        kitsuRes.included.forEach(el => {\n          if (Number(el.id) === this.kitsuId) {\n            this.kitsuSlug = el.attributes.slug;\n          }\n        });\n        if (!this.kitsuSlug) throw new NotFoundError(`No slug found for ${this.kitsuId}`);\n      } catch (e) {\n        throw new NotFoundError(e.message);\n      }\n    }\n    return this.apiCall(\n      'GET',\n      `https://kitsu.app/api/edge/${this.type}?filter[slug]=${this.kitsuSlug}&include=characters.character,mediaRelationships.destination,categories&fields[categories]=slug,title&nsfw=true`,\n      {},\n      true,\n    ).then(res => {\n      try {\n        res.data = res.data[0];\n        // eslint-disable-next-line no-unused-expressions, @typescript-eslint/no-unused-expressions\n        res.data.attributes.slug;\n      } catch (e) {\n        throw new NotFoundError(e.message);\n      }\n\n      this.animeInfo = res;\n    });\n  }\n\n  private title() {\n    this.meta.title = helper.getTitle(\n      this.animeI().attributes.titles,\n      this.animeI().attributes.canonicalTitle,\n    );\n  }\n\n  private description() {\n    this.meta.description = `<span style=\"white-space: pre-line;\">${this.animeI().attributes.synopsis.replace(\n      '',\n      ' ',\n    )}</span>`;\n  }\n\n  private image() {\n    this.meta.image =\n      this.animeI().attributes.posterImage && this.animeI().attributes.posterImage.small\n        ? this.animeI().attributes.posterImage.small\n        : '';\n    this.meta.imageLarge =\n      this.animeI().attributes.posterImage && this.animeI().attributes.posterImage.original\n        ? this.animeI().attributes.posterImage.original\n        : '';\n    this.meta.imageBanner =\n      this.animeI().attributes.coverImage && this.animeI().attributes.coverImage.large\n        ? this.animeI().attributes.coverImage.large\n        : '';\n  }\n\n  private alternativeTitle() {\n    for (const prop in this.animeI().attributes.abbreviatedTitles) {\n      const el = this.animeI().attributes.abbreviatedTitles[prop];\n      if (el !== this.meta.title && el) {\n        this.meta.alternativeTitle.push(el);\n      }\n    }\n\n    for (const prop in this.animeI().attributes.titles) {\n      const el = this.animeI().attributes.titles[prop];\n      if (el !== this.meta.title && el) {\n        this.meta.alternativeTitle.push(el);\n      }\n    }\n  }\n\n  private characters() {\n    if (this.animeInfo.included && this.animeInfo.included.length) {\n      this.animeInfo.included.forEach(i => {\n        if (i.type === 'characters' && this.meta.characters.length < 10) {\n          const { name } = i.attributes;\n\n          this.meta.characters.push({\n            img: i.attributes.image !== null ? i.attributes.image.original : '',\n            name,\n            url: `https://myanimelist.net/character/${i.attributes.malId}`,\n          });\n        }\n      });\n    }\n  }\n\n  private statistics() {\n    if (this.animeI().attributes.averageRating !== null)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Score'),\n        body: this.animeI().attributes.averageRating,\n      });\n\n    if (this.animeI().attributes.ratingRank !== null)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Ranked'),\n        body: `#${this.animeI().attributes.ratingRank}`,\n      });\n\n    if (this.animeI().attributes.popularityRank !== null)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Popularity'),\n        body: `#${this.animeI().attributes.popularityRank}`,\n      });\n\n    if (this.animeI().attributes.userCount !== null)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Members'),\n        body: this.animeI().attributes.userCount,\n      });\n  }\n\n  private info() {\n    if (\n      typeof this.animeI().attributes.subtype !== 'undefined' &&\n      this.animeI().attributes.subtype !== null\n    ) {\n      let format = this.animeI().attributes.subtype.toLowerCase().replace('_', ' ');\n      format = format.charAt(0).toUpperCase() + format.slice(1);\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Format'),\n        body: [{ text: format }],\n      });\n    }\n\n    if (\n      typeof this.animeI().attributes.episodeCount !== 'undefined' &&\n      this.animeI().attributes.episodeCount !== null\n    )\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Episodes'),\n        body: [{ text: this.animeI().attributes.episodeCount }],\n      });\n\n    if (\n      typeof this.animeI().attributes.episodeLength !== 'undefined' &&\n      this.animeI().attributes.episodeLength !== null\n    )\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Duration'),\n        body: [\n          {\n            text: `${new IntlDuration().setRelativeTime(this.animeI().attributes.episodeLength, 'minutes', 'Duration').getRelativeText()}`,\n          },\n        ],\n      });\n\n    if (\n      typeof this.animeI().attributes.status !== 'undefined' &&\n      this.animeI().attributes.status !== null\n    ) {\n      let status = this.animeI().attributes.status.toLowerCase().replace('_', ' ');\n      status = status.charAt(0).toUpperCase() + status.slice(1);\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Status'),\n        body: [{ text: status }],\n      });\n    }\n\n    if (this.animeI().attributes.startDate)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Start_Date'),\n        body: [\n          {\n            text: new IntlDateTime(this.animeI().attributes.startDate).getDateTimeText(),\n          },\n        ],\n      });\n\n    if (this.animeI().attributes.endDate)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_End_Date'),\n        body: [\n          {\n            text: new IntlDateTime(this.animeI().attributes.endDate).getDateTimeText(),\n          },\n        ],\n      });\n\n    const genres: any[] = [];\n    if (this.animeInfo.included && this.animeInfo.included.length) {\n      this.animeInfo.included.forEach(i => {\n        if (i.type === 'categories' && genres.length < 6) {\n          genres.push({\n            text: i.attributes.title,\n            url: `https://kitsu.app/${this.type}?categories=${i.attributes.slug}`,\n          });\n        }\n      });\n    }\n    if (genres.length)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Genres'),\n        body: genres,\n      });\n\n    if (\n      typeof this.animeI().attributes.ageRating !== 'undefined' &&\n      this.animeI().attributes.ageRating !== null\n    )\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Rating'),\n        body: [{ text: this.animeI().attributes.ageRating }],\n      });\n\n    if (this.animeI().attributes.totalLength)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Total_Playtime'),\n        body: [\n          {\n            text: `${new IntlDuration().setRelativeTime(this.animeI().attributes.totalLength, 'minutes', 'Duration').getRelativeText()}`,\n          },\n        ],\n      });\n  }\n\n  private related() {\n    const links: any = {};\n    const an: any[] = [];\n    if (this.animeInfo.included && this.animeInfo.included.length) {\n      this.animeInfo.included.forEach(function (i) {\n        if (i.type === 'manga' || i.type === 'anime') {\n          an[i.id] = {\n            url: `https://kitsu.app/${i.type}/${i.attributes.slug}`,\n            title: helper.getTitle(i.attributes.titles, i.attributes.canonicalTitle),\n            id: i.id,\n            type: i.type,\n          };\n        }\n      });\n\n      this.animeInfo.included.forEach(function (i) {\n        if (i.type === 'mediaRelationships') {\n          if (typeof links[i.attributes.role] === 'undefined') {\n            let title = i.attributes.role.toLowerCase().replace('_', ' ');\n            title = title.charAt(0).toUpperCase() + title.slice(1);\n\n            links[i.attributes.role] = {\n              type: title,\n              links: [],\n            };\n          }\n          const tempEl = an[i.relationships.destination.data.id];\n          links[i.attributes.role].links.push(tempEl);\n        }\n      });\n    }\n    this.meta.related = Object.keys(links).map(key => links[key]);\n  }\n\n  protected apiCall = helper.apiCall;\n}\n","import { MetaOverviewAbstract } from '../metaOverviewAbstract';\nimport { NotFoundError, UrlNotSupportedError } from '../Errors';\nimport * as helper from './helper';\nimport { dateFromTimezoneToTimezone, getWeektime } from '../../utils/time';\nimport { IntlDuration } from '../../utils/IntlWrapper';\n\nexport class MetaOverview extends MetaOverviewAbstract {\n  constructor(url) {\n    super(url);\n    this.logger = this.logger.m('Simkl');\n\n    if (url.match(/simkl\\.com\\/(anime|manga)\\/\\d*/i)) {\n      this.type = utils.urlPart(url, 3) === 'anime' ? 'anime' : 'manga';\n      this.simklId = parseInt(utils.urlPart(url, 4));\n      this.malId = NaN;\n      if (this.type === 'manga') throw 'Simkl has no manga support';\n      return this;\n    }\n    if (url.match(/myanimelist\\.net\\/(anime|manga)\\/\\d*/i)) {\n      this.type = utils.urlPart(url, 3) === 'anime' ? 'anime' : 'manga';\n      this.malId = Number(utils.urlPart(url, 4));\n      this.simklId = NaN;\n      if (this.type === 'manga') throw 'Simkl has no manga support';\n      return this;\n    }\n\n    throw new UrlNotSupportedError(url);\n  }\n\n  protected readonly type;\n\n  private simklId: number;\n\n  private readonly malId: number;\n\n  async _init() {\n    this.logger.log(\n      'Retrieve',\n      this.type,\n      this.simklId ? `Simkl: ${this.simklId}` : `MAL: ${this.malId}`,\n    );\n\n    const data = await this.getData();\n    this.logger.log('Data', data);\n\n    this.title(data);\n    this.description(data);\n    this.image(data);\n    this.alternativeTitle(data);\n    // this.characters(data);\n    this.statistics(data);\n    this.info(data);\n    this.related(data);\n\n    this.logger.log('Res', this.meta);\n  }\n\n  private async getData() {\n    let de;\n    if (Number.isNaN(this.malId)) {\n      de = { simkl: this.simklId };\n    } else {\n      de = { mal: this.malId };\n    }\n\n    if (Number.isNaN(this.simklId)) {\n      const el = await this.call('https://api.simkl.com/search/id', de, true);\n      if (!el?.length) throw new NotFoundError(`simklId: ${this.simklId}`);\n      this.simklId = el[0].ids.simkl;\n    }\n\n    return this.call(`https://api.simkl.com/anime/${this.simklId}`, { extended: 'full' }, true);\n  }\n\n  private title(data) {\n    const { title } = data;\n    if (title) this.meta.title = title;\n  }\n\n  private description(data) {\n    const description = data.overview;\n    if (description) this.meta.description = description;\n  }\n\n  private image(data) {\n    const image = data.poster;\n    if (image) this.meta.image = `https://simkl.in/posters/${image}_ca.jpg`;\n    if (image) this.meta.imageLarge = `https://simkl.in/posters/${image}_m.jpg`;\n    if (image) this.meta.imageBanner = `https://simkl.in/posters/${image}_w.jpg`;\n  }\n\n  private alternativeTitle(data) {\n    if (typeof data.en_title !== 'undefined' && data.en_title)\n      this.meta.alternativeTitle.push(data.en_title);\n  }\n\n  private statistics(data) {\n    if (data.ratings.simkl.rating)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Score'),\n        body: data.ratings.simkl.rating,\n      });\n    if (data.ratings.mal && data.ratings.mal.rating)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Mal_Score'),\n        body: data.ratings.mal.rating,\n      });\n\n    if (data.rank && data.rank)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Ranked'),\n        body: `#${data.rank}`,\n      });\n    if (data.ratings.simkl.votes)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Votes'),\n        body: data.ratings.simkl.votes,\n      });\n  }\n\n  private info(data) {\n    if (data.anime_type)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Format'),\n        body: [{ text: data.anime_type }],\n      });\n\n    if (data.total_episodes)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Episodes'),\n        body: [{ text: data.total_episodes }],\n      });\n\n    if (data.status)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Status'),\n        body: [{ text: data.status }],\n      });\n\n    if (data.year)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Season'),\n        body: [{ text: data.year }],\n      });\n\n    if (data.airs && data.airs.day && data.airs.time) {\n      let body: any = [{ text: `${data.airs.day} at ${data.airs.time}` }];\n\n      const weekDate = getWeektime(data.airs.day, data.airs.time);\n      if (weekDate) {\n        const broadcastDate = dateFromTimezoneToTimezone(\n          weekDate,\n          data.airs.timezone || 'Asia/Tokyo',\n        );\n        body = [\n          {\n            date: broadcastDate,\n            type: 'weektime',\n          },\n        ];\n      }\n\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Broadcast'),\n        body,\n      });\n    }\n\n    if (data.network)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Licensor'),\n        body: [{ text: data.network }],\n      });\n\n    const genres: any[] = [];\n    data.genres.forEach(i => {\n      if (genres.length < 6) {\n        genres.push({\n          text: i,\n          url: `https://simkl.com/${this.type}/${i.toLowerCase()}`,\n        });\n      }\n    });\n    if (genres.length)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Genres'),\n        body: genres,\n      });\n\n    if (data.runtime)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Duration'),\n        body: [\n          {\n            text: `${new IntlDuration().setRelativeTime(data.runtime, 'minutes', 'Duration').getRelativeText()}`,\n          },\n        ],\n      });\n\n    if (data.certification)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Rating'),\n        body: [{ text: data.certification }],\n      });\n  }\n\n  private related(data) {\n    const links: any = {};\n    if (!data.relations) return;\n    data.relations.forEach(i => {\n      if (!links[i.relation_type]) {\n        let title = i.relation_type.toLowerCase().replace('_', ' ');\n        title = title.charAt(0).toUpperCase() + title.slice(1);\n\n        links[i.relation_type] = {\n          type: title,\n          links: [],\n        };\n      }\n      links[i.relation_type].links.push({\n        url: `https://simkl.com/anime/${i.ids.simkl}/${i.ids.slug}`,\n        title: i.title,\n        type: 'anime',\n        id: i.ids.simkl,\n      });\n    });\n    this.meta.related = Object.keys(links).map(key => links[key]);\n  }\n\n  protected call = helper.call;\n\n  protected errorHandling = helper.errorHandling;\n}\n","import { MetaOverviewAbstract } from '../metaOverviewAbstract';\nimport { UrlNotSupportedError } from '../Errors';\nimport * as helper from './helper';\nimport { IntlDateTime, IntlDuration } from '../../utils/IntlWrapper';\n\nexport class MetaOverview extends MetaOverviewAbstract {\n  constructor(url) {\n    super(url);\n    this.logger = this.logger.m('Shiki');\n    if (url.match(/shikimori\\.one\\/(animes|mangas|ranobe)\\/\\D?\\d+/i)) {\n      this.type = utils.urlPart(url, 3) === 'animes' ? 'anime' : 'manga';\n      const res = utils.urlPart(url, 4).match(/^\\D?(\\d+)/);\n      if (res && res[1]) {\n        this.malId = Number(res[1]);\n        return this;\n      }\n    }\n    if (url.match(/myanimelist\\.net\\/(anime|manga)\\/\\d*/i)) {\n      this.type = utils.urlPart(url, 3) === 'anime' ? 'anime' : 'manga';\n      this.malId = Number(utils.urlPart(url, 4));\n      return this;\n    }\n    throw new UrlNotSupportedError(url);\n  }\n\n  protected readonly type;\n\n  private readonly malId: number;\n\n  async _init() {\n    this.logger.log('Retrieve', this.type, this.malId);\n\n    const data = await this.getData();\n    this.logger.log('Data', data);\n\n    this.title(data);\n    this.description(data);\n    this.image(data);\n    this.alternativeTitle(data);\n    this.characters(data);\n    this.statistics(data);\n    this.info(data);\n    this.related(data);\n\n    this.logger.log('Res', this.meta);\n  }\n\n  private async getData() {\n    const meta = await helper.apiCall({\n      path: `${this.type}s/${this.malId}`,\n      type: 'GET',\n    });\n\n    const roles = await helper.apiCall({\n      path: `${this.type}s/${this.malId}/roles`,\n      type: 'GET',\n    });\n\n    const related = await helper.apiCall({\n      path: `${this.type}s/${this.malId}/related`,\n      type: 'GET',\n    });\n\n    return {\n      meta,\n      roles,\n      related,\n    };\n  }\n\n  private title(data) {\n    this.meta.title = helper.title(data.meta.russian, data.meta.name, true);\n  }\n\n  private description(data) {\n    if (data.meta.description_html) this.meta.description = data.meta.description_html;\n  }\n\n  private image(data) {\n    this.meta.image = data.meta.image.original ? `${helper.domain}${data.meta.image.original}` : '';\n    this.meta.imageLarge = this.meta.image;\n  }\n\n  private alternativeTitle(data) {\n    this.meta.alternativeTitle = [\n      ...(data.meta.english || []),\n      ...(data.meta.japanese || []),\n      ...(data.meta.synonyms || []),\n    ].filter(el => el);\n  }\n\n  private characters(data) {\n    const chars = data.roles;\n    if (chars) {\n      chars.forEach(i => {\n        if (i.character && i.character.id) {\n          this.meta.characters.push({\n            img: i.character.image.original ? `${helper.domain}${i.character.image.original}` : '',\n            name: helper.title(i.character.russian, i.character.name),\n            subtext: helper.title(\n              i.roles_russian.length ? i.roles_russian[0] : null,\n              i.roles.length ? i.roles[0] : null,\n            ),\n            url: `${helper.domain}${i.character.url}`,\n          });\n        }\n\n        this.meta.characters.sort((a, b) => {\n          const roles = ['Main', 'Supporting'];\n          const aRole = a.subtext ? roles.indexOf(a.subtext) : 2;\n          const bRole = b.subtext ? roles.indexOf(b.subtext) : 2;\n          return aRole - bRole;\n        });\n\n        this.meta.characters = this.meta.characters.slice(0, 10);\n      });\n    }\n  }\n\n  private statistics(data) {\n    if (data.meta.score)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Score'),\n        body: data.meta.score,\n      });\n\n    if (data.meta.rates_statuses_stats) {\n      const watching = data.meta.rates_statuses_stats.find(el =>\n        ['Watching', ''].includes(el.name),\n      );\n      const planned = data.meta.rates_statuses_stats.find(el =>\n        ['Planned to Read', 'Planned to Watch', ''].includes(el.name),\n      );\n      const reading = data.meta.rates_statuses_stats.find(el =>\n        ['Reading', ''].includes(el.name),\n      );\n      const dropped = data.meta.rates_statuses_stats.find(el =>\n        ['Dropped', ''].includes(el.name),\n      );\n      const hold = data.meta.rates_statuses_stats.find(el =>\n        ['On Hold', ''].includes(el.name),\n      );\n      const completed = data.meta.rates_statuses_stats.find(el =>\n        ['Completed', '', ''].includes(el.name),\n      );\n\n      if (watching && watching.value) {\n        this.meta.statistics.push({\n          title: `${api.storage.lang('UI_Status_watching_anime')}:`,\n          body: watching.value,\n        });\n      }\n      if (planned && planned.value) {\n        this.meta.statistics.push({\n          title: `${this.type === 'manga' ? api.storage.lang('UI_Status_planTo_manga') : api.storage.lang('UI_Status_planTo_anime')}:`,\n          body: planned.value,\n        });\n      }\n      if (reading && reading.value) {\n        this.meta.statistics.push({\n          title: `${api.storage.lang('UI_Status_watching_manga')}:`,\n          body: reading.value,\n        });\n      }\n      if (dropped && dropped.value) {\n        this.meta.statistics.push({\n          title: `${api.storage.lang('UI_Status_Dropped')}:`,\n          body: dropped.value,\n        });\n      }\n      if (hold && hold.value) {\n        this.meta.statistics.push({\n          title: `${api.storage.lang('UI_Status_OnHold')}:`,\n          body: hold.value,\n        });\n      }\n      if (completed && completed.value) {\n        this.meta.statistics.push({\n          title: `${api.storage.lang('UI_Status_Completed')}:`,\n          body: completed.value,\n        });\n      }\n    }\n  }\n\n  private info(data) {\n    if (data.meta.kind)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Format'),\n        body: [{ text: utils.upperCaseFirstLetter(data.meta.kind) }],\n      });\n\n    if (data.meta.duration)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Duration'),\n        body: [\n          {\n            text: `${new IntlDuration().setRelativeTime(data.meta.duration, 'minutes', 'Duration').getRelativeText()}`,\n          },\n        ],\n      });\n\n    if (data.meta.status)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Status'),\n        body: [{ text: utils.upperCaseFirstLetter(data.meta.status) }],\n      });\n\n    if (data.meta.aired_on)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Start_Date'),\n        body: [{ text: `${new IntlDateTime(data.meta.aired_on).getDateTimeText()}` }],\n      });\n\n    if (data.meta.released_on)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_End_Date'),\n        body: [{ text: `${new IntlDateTime(data.meta.released_on).getDateTimeText()}` }],\n      });\n\n    if (this.type === 'manga' && data.roles && data.roles.length) {\n      const authors: (typeof this.meta.info)[0]['body'] = [];\n      data.roles.forEach(i => {\n        if (i.person && i.person.id) {\n          let text = helper.title(i.person.russian, i.person.name);\n          if (i.roles && i.roles.length) text += ` (${i.roles[0]})`;\n\n          authors.push({\n            text,\n            url: `${helper.domain}${i.person.url}`,\n          });\n        }\n      });\n\n      if (authors.length)\n        this.meta.info.push({\n          title: `${api.storage.lang('overview_sidebar_Authors')}`,\n          body: authors,\n        });\n    }\n\n    if (data.meta.studios && data.meta.studios.length) {\n      const studios: (typeof this.meta.info)[0]['body'] = [];\n      data.meta.studios.forEach(i => {\n        studios.push({\n          text: i.name,\n          url: `https://shikimori.one/animes/studio/${i.id}`,\n        });\n      });\n\n      if (studios.length)\n        this.meta.info.push({\n          title: api.storage.lang('overview_sidebar_Studios'),\n          body: studios,\n        });\n    }\n\n    const genres: (typeof this.meta.info)[0]['body'] = [];\n    data.meta.genres.forEach(i => {\n      genres.push({\n        text: i.name,\n        url: `https://shikimori.one/${this.type}s/genre/${i.id}`,\n      });\n    });\n    if (genres.length)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Genres'),\n        body: genres,\n      });\n  }\n\n  private related(data) {\n    const links: typeof this.meta.related = [];\n\n    data.related.forEach(element => {\n      if (!links[element.relation]) {\n        links[element.relation] = {\n          type: helper.title(element.relation_russian, element.relation),\n          links: [],\n        };\n      }\n\n      let meta = element.manga;\n      let type: 'anime' | 'manga' = 'manga';\n      if (element.anime && element.anime.id) {\n        meta = element.anime;\n        type = 'anime';\n      }\n\n      links[element.relation].links.push({\n        url: `${helper.domain}${meta.url}`,\n        title: helper.title(meta.russian, meta.name),\n        type,\n        id: meta.id,\n      });\n    });\n\n    this.meta.related = Object.values(links);\n  }\n\n  protected apiCall = helper.apiCall;\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderSlot as _renderSlot, withModifiers as _withModifiers, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Transition as _Transition, withCtx as _withCtx, createVNode as _createVNode, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock } from \"vue\"\n\nimport {\n  Teleport as teleport_,\n  type TeleportProps,\n  type VNodeProps,\n  ref,\n  watch,\n  inject,\n} from 'vue';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'modal',\n  props: {\n  modelValue: {\n    type: Boolean,\n    default: false,\n  },\n},\n  emits: ['update:modelValue'],\n  setup(__props, { emit: __emit }) {\n\nconst rootHtml = inject('rootHtml') as HTMLElement;\n\nconst props = __props;\n\nconst emit = __emit;\n\nconst state = ref(props.modelValue);\nwatch(state, value => {\n  emit('update:modelValue', value);\n});\n\nwatch(\n  () => props.modelValue,\n  value => {\n    state.value = value;\n  },\n);\n\n// https://github.com/vuejs/core/issues/2855\nconst Teleport = teleport_ as {\n  new (): {\n    $props: VNodeProps & TeleportProps;\n  };\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(Teleport)), { to: _unref(rootHtml) }, {\n    default: _withCtx(() => [\n      _createVNode(_Transition, {\n        name: \"fade-shrink-in\",\n        appear: \"\"\n      }, {\n        default: _withCtx(() => [\n          (state.value)\n            ? (_openBlock(), _createElementBlock(\"div\", {\n                key: 0,\n                class: \"modal\",\n                onClick: _cache[1] || (_cache[1] = ($event: any) => (state.value = false))\n              }, [\n                _createElementVNode(\"div\", {\n                  class: \"content\",\n                  onClick: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"stop\"]))\n                }, [\n                  _renderSlot(_ctx.$slots, \"default\")\n                ])\n              ]))\n            : _createCommentVNode(\"v-if\", true)\n        ]),\n        _: 3 /* FORWARDED */\n      })\n    ]),\n    _: 3 /* FORWARDED */\n  }, 8 /* PROPS */, [\"to\"]))\n}\n}\n\n})","<template>\n  <component :is=\"Teleport\" :to=\"rootHtml\">\n    <transition name=\"fade-shrink-in\" appear>\n      <div v-if=\"state\" class=\"modal\" @click=\"state = false\">\n        <div class=\"content\" @click.stop>\n          <slot></slot>\n        </div>\n      </div>\n    </transition>\n  </component>\n</template>\n\n<script lang=\"ts\" setup>\nimport {\n  Teleport as teleport_,\n  type TeleportProps,\n  type VNodeProps,\n  ref,\n  watch,\n  inject,\n} from 'vue';\n\nconst rootHtml = inject('rootHtml') as HTMLElement;\n\nconst props = defineProps({\n  modelValue: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst emit = defineEmits(['update:modelValue']);\n\nconst state = ref(props.modelValue);\nwatch(state, value => {\n  emit('update:modelValue', value);\n});\n\nwatch(\n  () => props.modelValue,\n  value => {\n    state.value = value;\n  },\n);\n\n// https://github.com/vuejs/core/issues/2855\nconst Teleport = teleport_ as {\n  new (): {\n    $props: VNodeProps & TeleportProps;\n  };\n};\n</script>\n\n<style lang=\"less\" scoped>\n.modal {\n  z-index: 20;\n  background-color: rgb(0 0 0 / 45.9%);\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  .content {\n    display: inline-block;\n    background-color: var(--cl-white);\n    max-width: min(95%, 800px);\n    max-height: 90%;\n    overflow: auto;\n  }\n}\n</style>\n","import script from \"./modal.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./modal.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./modal.vue?vue&type=style&index=0&id=6be48f99&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-6be48f99\"],['__file',\"modal.vue\"]])\n\nexport default __exports__","export default \".modal[data-v-6be48f99] {\\n  z-index: 20;\\n  background-color: rgba(0, 0, 0, 0.459);\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  bottom: 0;\\n  right: 0;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.modal .content[data-v-6be48f99] {\\n  display: inline-block;\\n  background-color: var(--cl-white);\\n  max-width: min(95%, 800px);\\n  max-height: 90%;\\n  overflow: auto;\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withModifiers as _withModifiers, createBlock as _createBlock, normalizeClass as _normalizeClass } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"progress\"\n}\nconst _hoisted_2 = [\"src\"]\nconst _hoisted_3 = [\"src\"]\n\nimport { computed, PropType, ref } from 'vue';\nimport { SingleAbstract } from '../../../_provider/singleAbstract';\nimport ImageFit from '../image-fit.vue';\nimport Modal from '../modal.vue';\nimport PillSplit from '../pill-split.vue';\nimport MediaLink from '../media-link.vue';\nimport MediaPillProgress from '../media/media-pill-progress.vue';\nimport Arrow from '../arrow.vue';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'overview-image',\n  props: {\n  src: {\n    type: String,\n    required: true,\n  },\n  single: {\n    type: Object as PropType<SingleAbstract | null>,\n    default: null,\n  },\n  loading: {\n    type: Boolean,\n    default: false,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\nconst imgModal = ref(false);\n\nconst streaming = computed(() => {\n  const streamingEl = {\n    url: '',\n    favicon: '',\n    continueUrl: '',\n  };\n\n  if (!props.single) return streamingEl;\n\n  const overview = props.single.getStreamingUrl() || '';\n  const resumeUrlObj = props.single.getResumeWatching();\n  const continueUrlObj = props.single.getContinueWatching();\n  const ep = props.single.getEpisode();\n\n  streamingEl.url = overview;\n\n  if (continueUrlObj && continueUrlObj.ep === ep + 1) {\n    streamingEl.continueUrl = continueUrlObj.url;\n  } else if (resumeUrlObj && resumeUrlObj.ep === ep) {\n    streamingEl.continueUrl = resumeUrlObj.url;\n  } else if (overview) {\n    streamingEl.continueUrl = overview;\n  }\n\n  if (streamingEl.url) {\n    streamingEl.favicon = utils.favicon(streamingEl.url.split('/')[2]);\n  }\n\n  return streamingEl;\n});\n\nconst progress = computed(() => {\n  if (!props.single) return false;\n  const progressEl = props.single.getProgress();\n  if (!progressEl) return false;\n  if (!progressEl.isAiring()) return false;\n  return progressEl;\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"overviewImage\", { hov: __props.src, notLoading: !__props.loading }]),\n    onClick: _cache[2] || (_cache[2] = ($event: any) => (imgModal.value = true))\n  }, [\n    _createVNode(ImageFit, {\n      class: \"over\",\n      src: __props.src,\n      loading: __props.loading\n    }, null, 8 /* PROPS */, [\"src\", \"loading\"]),\n    (progress.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          _createVNode(MediaPillProgress, { progress: progress.value }, null, 8 /* PROPS */, [\"progress\"])\n        ]))\n      : _createCommentVNode(\"v-if\", true),\n    (streaming.value.url)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 1,\n          class: \"streaming\",\n          onClick: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"stop\"]))\n        }, [\n          _createVNode(PillSplit, {\n            right: Boolean(streaming.value.url),\n            left: Boolean(streaming.value.url),\n            reverse: true,\n            color: \"secondary\"\n          }, {\n            right: _withCtx(() => [\n              _createVNode(MediaLink, {\n                href: streaming.value.url,\n                class: \"stream-link\"\n              }, {\n                default: _withCtx(() => [\n                  _createElementVNode(\"img\", {\n                    class: \"img-icons\",\n                    src: streaming.value.favicon\n                  }, null, 8 /* PROPS */, _hoisted_2)\n                ]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"href\"])\n            ]),\n            left: _withCtx(() => [\n              _createVNode(MediaLink, {\n                href: streaming.value.continueUrl\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(_toDisplayString(_ctx.lang(`overview_Continue_${__props.single?.getType()}`)) + \" \", 1 /* TEXT */),\n                  _createVNode(Arrow)\n                ]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"href\"])\n            ]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"right\", \"left\"])\n        ]))\n      : _createCommentVNode(\"v-if\", true),\n    (__props.src)\n      ? (_openBlock(), _createBlock(Modal, {\n          key: 2,\n          modelValue: imgModal.value,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((imgModal).value = $event))\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"img\", {\n              src: __props.src,\n              class: \"modal-image\"\n            }, null, 8 /* PROPS */, _hoisted_3)\n          ]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"modelValue\"]))\n      : _createCommentVNode(\"v-if\", true)\n  ], 2 /* CLASS */))\n}\n}\n\n})","<template>\n  <div class=\"overviewImage\" :class=\"{ hov: src, notLoading: !loading }\" @click=\"imgModal = true\">\n    <ImageFit class=\"over\" :src=\"src\" :loading=\"loading\" />\n    <div v-if=\"progress\" class=\"progress\">\n      <MediaPillProgress :progress=\"progress\" />\n    </div>\n    <div v-if=\"streaming.url\" class=\"streaming\" @click.stop>\n      <PillSplit\n        :right=\"Boolean(streaming.url)\"\n        :left=\"Boolean(streaming.url)\"\n        :reverse=\"true\"\n        color=\"secondary\"\n      >\n        <template #right>\n          <MediaLink :href=\"streaming.url\" class=\"stream-link\">\n            <img class=\"img-icons\" :src=\"streaming.favicon\" />\n          </MediaLink>\n        </template>\n        <template #left>\n          <MediaLink :href=\"streaming.continueUrl\">\n            {{ lang(`overview_Continue_${single?.getType()}`) }} <Arrow />\n          </MediaLink>\n        </template>\n      </PillSplit>\n    </div>\n    <Modal v-if=\"src\" v-model=\"imgModal\">\n      <img :src=\"src\" class=\"modal-image\" />\n    </Modal>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, PropType, ref } from 'vue';\nimport { SingleAbstract } from '../../../_provider/singleAbstract';\nimport ImageFit from '../image-fit.vue';\nimport Modal from '../modal.vue';\nimport PillSplit from '../pill-split.vue';\nimport MediaLink from '../media-link.vue';\nimport MediaPillProgress from '../media/media-pill-progress.vue';\nimport Arrow from '../arrow.vue';\n\nconst props = defineProps({\n  src: {\n    type: String,\n    required: true,\n  },\n  single: {\n    type: Object as PropType<SingleAbstract | null>,\n    default: null,\n  },\n  loading: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst imgModal = ref(false);\n\nconst streaming = computed(() => {\n  const streamingEl = {\n    url: '',\n    favicon: '',\n    continueUrl: '',\n  };\n\n  if (!props.single) return streamingEl;\n\n  const overview = props.single.getStreamingUrl() || '';\n  const resumeUrlObj = props.single.getResumeWatching();\n  const continueUrlObj = props.single.getContinueWatching();\n  const ep = props.single.getEpisode();\n\n  streamingEl.url = overview;\n\n  if (continueUrlObj && continueUrlObj.ep === ep + 1) {\n    streamingEl.continueUrl = continueUrlObj.url;\n  } else if (resumeUrlObj && resumeUrlObj.ep === ep) {\n    streamingEl.continueUrl = resumeUrlObj.url;\n  } else if (overview) {\n    streamingEl.continueUrl = overview;\n  }\n\n  if (streamingEl.url) {\n    streamingEl.favicon = utils.favicon(streamingEl.url.split('/')[2]);\n  }\n\n  return streamingEl;\n});\n\nconst progress = computed(() => {\n  if (!props.single) return false;\n  const progressEl = props.single.getProgress();\n  if (!progressEl) return false;\n  if (!progressEl.isAiring()) return false;\n  return progressEl;\n});\n</script>\n\n<style lang=\"less\" scoped>\n@import '../../less/_globals.less';\n.overviewImage {\n  .border-radius();\n\n  overflow: hidden;\n  position: relative;\n  .over {\n    .fullSize();\n  }\n\n  &.hov {\n    .click-move-down();\n    .link();\n  }\n\n  &.notLoading {\n    .box-shadow();\n  }\n\n  height: 200px;\n  .__breakpoint-desktop__({\n    height: auto;\n    aspect-ratio: @aspect-ratio-cover;\n  });\n}\n\n.modal-image {\n  max-width: 100%;\n  max-height: 85vh;\n}\n\n.streaming {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  margin: 10px;\n  border-radius: 30px;\n  .block-select();\n\n  .pill {\n    user-select: none;\n  }\n\n  .img-icons {\n    width: 18px;\n    height: 18px;\n  }\n\n  .stream-link {\n    display: flex;\n  }\n}\n.progress {\n  position: absolute;\n  top: 0;\n  right: 0;\n  margin: 10px;\n}\n</style>\n","import script from \"./overview-image.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./overview-image.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./overview-image.vue?vue&type=style&index=0&id=fe0403ea&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-fe0403ea\"],['__file',\"overview-image.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-fe0403ea {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.overviewImage[data-v-fe0403ea] {\\n  border-radius: 10px;\\n  overflow: hidden;\\n  position: relative;\\n  height: 200px;\\n}\\n.overviewImage .over[data-v-fe0403ea] {\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  bottom: 0;\\n  height: 100%;\\n  width: 100%;\\n}\\n.overviewImage.hov[data-v-fe0403ea] {\\n  transition: transform 0.25s ease;\\n  cursor: pointer;\\n}\\n.overviewImage.hov[data-v-fe0403ea]:active {\\n  transition-delay: 0s !important;\\n  transform: translateY(3px);\\n}\\n.overviewImage.notLoading[data-v-fe0403ea] {\\n  box-shadow: 0 11px 21px rgba(0, 0, 0, 0.065), 0 4px 8px rgba(0, 0, 0, 0.1);\\n}\\n@media screen and (min-width: 900px) {\\n.overviewImage[data-v-fe0403ea] {\\n    height: auto;\\n    aspect-ratio: 225/350;\\n}\\n}\\n.modal-image[data-v-fe0403ea] {\\n  max-width: 100%;\\n  max-height: 85vh;\\n}\\n.streaming[data-v-fe0403ea] {\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  margin: 10px;\\n  border-radius: 30px;\\n  user-select: none;\\n}\\n.streaming .pill[data-v-fe0403ea] {\\n  user-select: none;\\n}\\n.streaming .img-icons[data-v-fe0403ea] {\\n  width: 18px;\\n  height: 18px;\\n}\\n.streaming .stream-link[data-v-fe0403ea] {\\n  display: flex;\\n}\\n.progress[data-v-fe0403ea] {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  margin: 10px;\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 1,\n  class: \"loading-placeholder\"\n}\n\nimport { ref } from 'vue';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'text-scroller',\n  props: {\n  loading: {\n    type: Boolean,\n    default: false,\n  },\n},\n  setup(__props) {\n\n\n\nconst open = ref(false);\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"horizontal-scroller\", { open: open.value, loading: __props.loading }]),\n    dir: \"ltr\",\n    onClick: _cache[0] || (_cache[0] = ($event: any) => (open.value = !open.value))\n  }, [\n    (!__props.loading)\n      ? _renderSlot(_ctx.$slots, \"default\", { key: 0 })\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_1))\n  ], 2 /* CLASS */))\n}\n}\n\n})","<template>\n  <div class=\"horizontal-scroller\" dir=\"ltr\" :class=\"{ open, loading }\" @click=\"open = !open\">\n    <slot v-if=\"!loading\" />\n    <div v-else class=\"loading-placeholder\"></div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref } from 'vue';\n\ndefineProps({\n  loading: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst open = ref(false);\n</script>\n\n<style lang=\"less\" scoped>\n@import '../less/_globals.less';\n\n.horizontal-scroller {\n  white-space: nowrap;\n  overflow: hidden;\n\n  @media (hover: none) {\n    @gradient: linear-gradient(270deg, transparent, #000 100px);\n\n    white-space: nowrap !important;\n    overflow-x: auto;\n    padding-right: 30px;\n    mask-image: @gradient;\n    /* stylelint-disable-next-line property-no-vendor-prefix */\n    -webkit-mask-image: @gradient;\n  }\n\n  @media (hover: hover) {\n    @gradient: linear-gradient(270deg, transparent, #000 100px);\n    .link();\n\n    line-height: 1.5;\n    mask-image: @gradient;\n    /* stylelint-disable-next-line property-no-vendor-prefix */\n    -webkit-mask-image: @gradient;\n  }\n\n  &.open {\n    white-space: inherit;\n    mask-image: none;\n    /* stylelint-disable-next-line property-no-vendor-prefix */\n    -webkit-mask-image: none;\n  }\n\n  &.loading {\n    width: 20em;\n  }\n}\n\n.loading-placeholder {\n  .skeleton-text();\n\n  height: 1.3em;\n}\n</style>\n","import script from \"./text-scroller.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./text-scroller.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./text-scroller.vue?vue&type=style&index=0&id=4b9b25a8&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-4b9b25a8\"],['__file',\"text-scroller.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-4b9b25a8 {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.horizontal-scroller[data-v-4b9b25a8] {\\n  white-space: nowrap;\\n  overflow: hidden;\\n}\\n@media (hover: none) {\\n.horizontal-scroller[data-v-4b9b25a8] {\\n    white-space: nowrap !important;\\n    overflow-x: auto;\\n    padding-right: 30px;\\n    mask-image: linear-gradient(270deg, transparent, #000 100px);\\n    /* stylelint-disable-next-line property-no-vendor-prefix */\\n    -webkit-mask-image: linear-gradient(270deg, transparent, #000 100px);\\n}\\n}\\n@media (hover: hover) {\\n.horizontal-scroller[data-v-4b9b25a8] {\\n    cursor: pointer;\\n    line-height: 1.5;\\n    mask-image: linear-gradient(270deg, transparent, #000 100px);\\n    /* stylelint-disable-next-line property-no-vendor-prefix */\\n    -webkit-mask-image: linear-gradient(270deg, transparent, #000 100px);\\n}\\n}\\n.horizontal-scroller.open[data-v-4b9b25a8] {\\n  white-space: inherit;\\n  mask-image: none;\\n  /* stylelint-disable-next-line property-no-vendor-prefix */\\n  -webkit-mask-image: none;\\n}\\n.horizontal-scroller.loading[data-v-4b9b25a8] {\\n  width: 20em;\\n}\\n.loading-placeholder[data-v-4b9b25a8] {\\n  position: relative;\\n  overflow: hidden;\\n  transition: background-color 0.1s ease-in-out;\\n  background-color: var(--cl-backdrop);\\n  width: 20em;\\n  height: 1em;\\n  margin-bottom: 0.2em;\\n  border-radius: 0.25rem;\\n  max-width: 100%;\\n  height: 1.3em;\\n}\\n.loading-placeholder[data-v-4b9b25a8]::after {\\n  opacity: var(--cl-loading);\\n  transition: opacity 0.25s ease-in-out;\\n  animation: skeleton-loading-malsync-4b9b25a8 1.5s infinite;\\n  content: '';\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  transform: translateX(-100%);\\n  z-index: 1;\\n  background: linear-gradient(90deg, hsla(0, 0%, 100%, 0), var(--cl-backdrop), hsla(0, 0%, 100%, 0));\\n  filter: brightness(1.15);\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, Fragment as _Fragment, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"progress\"\n}\nconst _hoisted_2 = [\"title\"]\nconst _hoisted_3 = {\n  key: 0,\n  class: \"material-icons icon-type\"\n}\nconst _hoisted_4 = { class: \"text\" }\nconst _hoisted_5 = [\"title\"]\nconst _hoisted_6 = {\n  key: 0,\n  class: \"material-icons\"\n}\nconst _hoisted_7 = { class: \"episode\" }\nconst _hoisted_8 = {\n  key: 1,\n  class: \"material-icons\",\n  title: \"Dropped\"\n}\nconst _hoisted_9 = { key: 1 }\n\nimport { computed, PropType } from 'vue';\nimport { SingleAbstract } from '../../../_provider/singleAbstract';\nimport FormDropdown from '../form/form-dropdown.vue';\nimport FormButton from '../form/form-button.vue';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'overview-image-language',\n  props: {\n  single: {\n    type: Object as PropType<SingleAbstract | null>,\n    default: null,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\nconst state = computed({\n  get() {\n    if (!props.single) return '';\n    return props.single.getProgressMode();\n  },\n  set(value) {\n    if (props.single) props.single.setProgressMode(value);\n  },\n});\n\nconst options = computed(() => {\n  if (!props.single) return [];\n\n  const optionsArray = [\n    { title: api.storage.lang('settings_progress_default'), value: '' },\n    ...props.single.getProgressOptions().map(option => ({\n      title: option.label,\n      value: option.key,\n      meta: option,\n    })),\n    { title: api.storage.lang('settings_progress_disabled'), value: 'off' },\n  ];\n\n  return optionsArray;\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (__props.single && options.value.length > 2)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createVNode(FormDropdown, {\n          modelValue: state.value,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((state).value = $event)),\n          options: options.value,\n          \"align-items\": \"left\"\n        }, {\n          select: _withCtx(() => [\n            _createVNode(FormButton, {\n              tabindex: -1,\n              animation: false,\n              padding: \"mini\"\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"div\", {\n                  class: \"btn\",\n                  title: __props.single.getProgressKey()?.key\n                }, [\n                  (__props.single.getProgressKey())\n                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                        (__props.single.getType() !== 'manga')\n                          ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, _toDisplayString(__props.single.getProgressKey()?.type === 'sub' ? 'subtitles' : 'record_voice_over'), 1 /* TEXT */))\n                          : _createCommentVNode(\"v-if\", true),\n                        _createElementVNode(\"span\", _hoisted_4, _toDisplayString(__props.single.getProgressKey()?.lang.toUpperCase()), 1 /* TEXT */)\n                      ], 64 /* STABLE_FRAGMENT */))\n                    : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                        _createTextVNode(_toDisplayString(_ctx.lang('settings_Interval_Off').toUpperCase()), 1 /* TEXT */)\n                      ], 64 /* STABLE_FRAGMENT */))\n                ], 8 /* PROPS */, _hoisted_2)\n              ]),\n              _: 1 /* STABLE */\n            })\n          ]),\n          option: _withCtx((slotProps) => [\n            (slotProps.option.meta)\n              ? (_openBlock(), _createElementBlock(\"div\", {\n                  key: 0,\n                  class: \"entry\",\n                  title: slotProps.option.meta.key\n                }, [\n                  (__props.single.getType() !== 'manga')\n                    ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, _toDisplayString(slotProps.option.meta.type === 'sub' ? 'subtitles' : 'record_voice_over'), 1 /* TEXT */))\n                    : _createCommentVNode(\"v-if\", true),\n                  _createElementVNode(\"span\", _hoisted_7, _toDisplayString(__props.single.getType() === 'manga' ? 'CH' : 'EP') + \" \" + _toDisplayString(slotProps.option.meta.episode), 1 /* TEXT */),\n                  _createElementVNode(\"span\", null, _toDisplayString(slotProps.option.meta.label), 1 /* TEXT */),\n                  (slotProps.option.meta.dropped)\n                    ? (_openBlock(), _createElementBlock(\"span\", _hoisted_8, \"warning\"))\n                    : _createCommentVNode(\"v-if\", true)\n                ], 8 /* PROPS */, _hoisted_5))\n              : (_openBlock(), _createElementBlock(\"div\", _hoisted_9, _toDisplayString(slotProps.option.title), 1 /* TEXT */))\n          ]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"modelValue\", \"options\"])\n      ]))\n    : _createCommentVNode(\"v-if\", true)\n}\n}\n\n})","<template>\n  <div v-if=\"single && options.length > 2\" class=\"progress\">\n    <FormDropdown v-model=\"state\" :options=\"options\" align-items=\"left\">\n      <template #select>\n        <FormButton :tabindex=\"-1\" :animation=\"false\" padding=\"mini\">\n          <div class=\"btn\" :title=\"single.getProgressKey()?.key\">\n            <template v-if=\"single.getProgressKey()\">\n              <span v-if=\"single.getType() !== 'manga'\" class=\"material-icons icon-type\">\n                {{ single.getProgressKey()?.type === 'sub' ? 'subtitles' : 'record_voice_over' }}\n              </span>\n              <span class=\"text\">\n                {{ single.getProgressKey()?.lang.toUpperCase() }}\n              </span>\n            </template>\n            <template v-else> {{ lang('settings_Interval_Off').toUpperCase() }} </template>\n          </div>\n        </FormButton>\n      </template>\n      <template #option=\"slotProps\">\n        <div v-if=\"slotProps.option.meta\" class=\"entry\" :title=\"slotProps.option.meta.key\">\n          <span v-if=\"single.getType() !== 'manga'\" class=\"material-icons\">\n            {{ slotProps.option.meta.type === 'sub' ? 'subtitles' : 'record_voice_over' }}\n          </span>\n          <span class=\"episode\">\n            {{ single.getType() === 'manga' ? 'CH' : 'EP' }}\n            {{ slotProps.option.meta.episode }}\n          </span>\n          <span>{{ slotProps.option.meta.label }}</span>\n          <span v-if=\"slotProps.option.meta.dropped\" class=\"material-icons\" title=\"Dropped\"\n            >warning</span\n          >\n        </div>\n        <div v-else>{{ slotProps.option.title }}</div>\n      </template>\n    </FormDropdown>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, PropType } from 'vue';\nimport { SingleAbstract } from '../../../_provider/singleAbstract';\nimport FormDropdown from '../form/form-dropdown.vue';\nimport FormButton from '../form/form-button.vue';\n\nconst props = defineProps({\n  single: {\n    type: Object as PropType<SingleAbstract | null>,\n    default: null,\n  },\n});\n\nconst state = computed({\n  get() {\n    if (!props.single) return '';\n    return props.single.getProgressMode();\n  },\n  set(value) {\n    if (props.single) props.single.setProgressMode(value);\n  },\n});\n\nconst options = computed(() => {\n  if (!props.single) return [];\n\n  const optionsArray = [\n    { title: api.storage.lang('settings_progress_default'), value: '' },\n    ...props.single.getProgressOptions().map(option => ({\n      title: option.label,\n      value: option.key,\n      meta: option,\n    })),\n    { title: api.storage.lang('settings_progress_disabled'), value: 'off' },\n  ];\n\n  return optionsArray;\n});\n</script>\n\n<style lang=\"less\" scoped>\n@import '../../less/_globals.less';\n\n.episode {\n  .border-radius-small();\n\n  background-color: var(--cl-primary);\n  color: white;\n  font-size: @small-text;\n  padding: 2px 5px;\n}\n\n.entry {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.btn {\n  display: flex;\n  gap: 5px;\n}\n\n.icon-type {\n  line-height: 0;\n  transform: translateY(50%);\n}\n</style>\n","import script from \"./overview-image-language.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./overview-image-language.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./overview-image-language.vue?vue&type=style&index=0&id=3267b298&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-3267b298\"],['__file',\"overview-image-language.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-3267b298 {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.episode[data-v-3267b298] {\\n  border-radius: 5px;\\n  background-color: var(--cl-primary);\\n  color: white;\\n  font-size: 0.875rem;\\n  padding: 2px 5px;\\n}\\n.entry[data-v-3267b298] {\\n  display: flex;\\n  align-items: center;\\n  gap: 10px;\\n}\\n.btn[data-v-3267b298] {\\n  display: flex;\\n  gap: 5px;\\n}\\n.icon-type[data-v-3267b298] {\\n  line-height: 0;\\n  transform: translateY(50%);\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vShow as _vShow, normalizeClass as _normalizeClass, withDirectives as _withDirectives, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"form-click\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"star-score-wrap\"\n}\nconst _hoisted_3 = { class: \"el-rate\" }\nconst _hoisted_4 = [\"onClick\", \"onMouseover\"]\nconst _hoisted_5 = {\n  key: 1,\n  class: \"smile-score-wrap\"\n}\nconst _hoisted_6 = { class: \"el-rate\" }\nconst _hoisted_7 = [\"onClick\", \"onMouseover\"]\n\nimport { PropType, ref, watch } from 'vue';\n\ninterface Option {\n  value: string | number;\n  title?: string;\n  label?: string;\n  meta?: any;\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'form-click',\n  props: {\n  options: {\n    type: Array as PropType<Option[]>,\n    required: true,\n  },\n  type: {\n    type: String as PropType<'star' | 'smiley'>,\n    default: 'star',\n  },\n  modelValue: {\n    type: [String, Number],\n    require: true,\n    default: '',\n  },\n  size: {\n    type: String as PropType<'small' | 'medium' | 'large'>,\n    default: 'medium',\n  },\n  disabled: {\n    type: Boolean,\n    default: false,\n  },\n},\n  emits: ['update:modelValue'],\n  setup(__props, { emit: __emit }) {\n\nconst props = __props;\n\nconst emit = __emit;\n\nconst picked = ref(props.modelValue);\nconst hoverValue = ref(0);\n\nwatch(picked, value => {\n  emit('update:modelValue', value);\n});\nwatch(\n  () => props.modelValue,\n  value => {\n    picked.value = value;\n  },\n);\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (__props.type === 'star')\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", _hoisted_3, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.options.slice().reverse(), (i) => {\n              return _withDirectives((_openBlock(), _createElementBlock(\"span\", {\n                key: i.value,\n                class: _normalizeClass([\"el-rate__item\", { active: i.value <= picked.value, hoverActive: (i.value as number) <= hoverValue.value }]),\n                onClick: ($event: any) => (Number(picked.value) !== Number(i.value) ? (picked.value = i.value) : (picked.value = 0)),\n                onMouseover: ($event: any) => (hoverValue.value = Number(i.value)),\n                onMouseout: _cache[0] || (_cache[0] = ($event: any) => (hoverValue.value = 0))\n              }, _toDisplayString(i.value <= picked.value || (i.value as number) <= hoverValue.value ? '' : ''), 43 /* TEXT, CLASS, PROPS, NEED_HYDRATION */, _hoisted_4)), [\n                [_vShow, i.value]\n              ])\n            }), 128 /* KEYED_FRAGMENT */))\n          ])\n        ]))\n      : (__props.type === 'smiley')\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n            _createElementVNode(\"div\", _hoisted_6, [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.options.slice().reverse(), (i) => {\n                return _withDirectives((_openBlock(), _createElementBlock(\"span\", {\n                  key: i.value,\n                  class: _normalizeClass([\"el-rate__item\", { active: i.value == picked.value && !hoverValue.value, hoverActive: i.value == hoverValue.value }]),\n                  onClick: ($event: any) => (Number(picked.value) !== Number(i.value) ? (picked.value = i.value) : (picked.value = 0)),\n                  onMouseover: ($event: any) => (hoverValue.value = Number(i.value)),\n                  onMouseout: _cache[1] || (_cache[1] = ($event: any) => (hoverValue.value = 0))\n                }, _toDisplayString(i.label), 43 /* TEXT, CLASS, PROPS, NEED_HYDRATION */, _hoisted_7)), [\n                  [_vShow, i.value]\n                ])\n              }), 128 /* KEYED_FRAGMENT */))\n            ])\n          ]))\n        : _createCommentVNode(\"v-if\", true)\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"form-click\">\n    <div v-if=\"type === 'star'\" class=\"star-score-wrap\">\n      <div class=\"el-rate\">\n        <span\n          v-for=\"i in options.slice().reverse()\"\n          v-show=\"i.value\"\n          :key=\"i.value\"\n          class=\"el-rate__item\"\n          :class=\"{ active: i.value <= picked, hoverActive: (i.value as number) <= hoverValue }\"\n          @click=\"Number(picked) !== Number(i.value) ? (picked = i.value) : (picked = 0)\"\n          @mouseover=\"hoverValue = Number(i.value)\"\n          @mouseout=\"hoverValue = 0\"\n        >\n          {{ i.value <= picked || (i.value as number) <= hoverValue ? '' : '' }}\n        </span>\n      </div>\n    </div>\n\n    <div v-else-if=\"type === 'smiley'\" class=\"smile-score-wrap\">\n      <div class=\"el-rate\">\n        <span\n          v-for=\"i in options.slice().reverse()\"\n          v-show=\"i.value\"\n          :key=\"i.value\"\n          class=\"el-rate__item\"\n          :class=\"{ active: i.value == picked && !hoverValue, hoverActive: i.value == hoverValue }\"\n          @click=\"Number(picked) !== Number(i.value) ? (picked = i.value) : (picked = 0)\"\n          @mouseover=\"hoverValue = Number(i.value)\"\n          @mouseout=\"hoverValue = 0\"\n        >\n          {{ i.label }}\n        </span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { PropType, ref, watch } from 'vue';\n\ninterface Option {\n  value: string | number;\n  title?: string;\n  label?: string;\n  meta?: any;\n}\n\nconst props = defineProps({\n  options: {\n    type: Array as PropType<Option[]>,\n    required: true,\n  },\n  type: {\n    type: String as PropType<'star' | 'smiley'>,\n    default: 'star',\n  },\n  modelValue: {\n    type: [String, Number],\n    require: true,\n    default: '',\n  },\n  size: {\n    type: String as PropType<'small' | 'medium' | 'large'>,\n    default: 'medium',\n  },\n  disabled: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst emit = defineEmits(['update:modelValue']);\n\nconst picked = ref(props.modelValue);\nconst hoverValue = ref(0);\n\nwatch(picked, value => {\n  emit('update:modelValue', value);\n});\nwatch(\n  () => props.modelValue,\n  value => {\n    picked.value = value;\n  },\n);\n</script>\n\n<style lang=\"less\" scoped>\n@import '../../less/_globals.less';\n\n.form-click {\n  .el-rate__item {\n    .link();\n\n    font-size: 20px;\n    display: inline-block;\n  }\n\n  .star-score-wrap {\n    margin-left: 5px;\n\n    .el-rate__item {\n      &.hoverActive {\n        color: var(--cl-primary);\n      }\n    }\n  }\n\n  .smile-score-wrap {\n    .el-rate__item {\n      filter: grayscale(100%);\n      transition:\n        transform @fast-transition ease,\n        filter @fast-transition ease;\n      transform: scale(1);\n\n      &.active,\n      &.hoverActive {\n        filter: grayscale(0%);\n      }\n      &:hover {\n        transform: scale(1.2);\n      }\n    }\n  }\n}\n</style>\n","import script from \"./form-click.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./form-click.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./form-click.vue?vue&type=style&index=0&id=0357b00c&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-0357b00c\"],['__file',\"form-click.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-0357b00c {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.form-click .el-rate__item[data-v-0357b00c] {\\n  cursor: pointer;\\n  font-size: 20px;\\n  display: inline-block;\\n}\\n.form-click .star-score-wrap[data-v-0357b00c] {\\n  margin-left: 5px;\\n}\\n.form-click .star-score-wrap .el-rate__item.hoverActive[data-v-0357b00c] {\\n  color: var(--cl-primary);\\n}\\n.form-click .smile-score-wrap .el-rate__item[data-v-0357b00c] {\\n  filter: grayscale(100%);\\n  transition: transform 0.25s ease, filter 0.25s ease;\\n  transform: scale(1);\\n}\\n.form-click .smile-score-wrap .el-rate__item.active[data-v-0357b00c],\\n.form-click .smile-score-wrap .el-rate__item.hoverActive[data-v-0357b00c] {\\n  filter: grayscale(0%);\\n}\\n.form-click .smile-score-wrap .el-rate__item[data-v-0357b00c]:hover {\\n  transform: scale(1.2);\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveDirective as _resolveDirective, createElementVNode as _createElementVNode, withDirectives as _withDirectives, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nimport ErrorGeneral from './error-general.vue';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'error-single',\n  props: {\n  error: {\n    type: String,\n    default: '',\n  },\n},\n  setup(__props) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_dompurify_html = _resolveDirective(\"dompurify-html\")!\n\n  return (__props.error)\n    ? (_openBlock(), _createBlock(ErrorGeneral, { key: 0 }, {\n        default: _withCtx(() => [\n          _withDirectives(_createElementVNode(\"span\", null, null, 512 /* NEED_PATCH */), [\n            [_directive_dompurify_html, __props.error]\n          ])\n        ]),\n        _: 1 /* STABLE */\n      }))\n    : _createCommentVNode(\"v-if\", true)\n}\n}\n\n})","import script from \"./error-single.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./error-single.vue?vue&type=script&lang=ts&setup=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__file',\"error-single.vue\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementBlock as _createElementBlock, unref as _unref, vShow as _vShow, withDirectives as _withDirectives, Fragment as _Fragment, normalizeClass as _normalizeClass, withKeys as _withKeys } from \"vue\"\n\nconst _hoisted_1 = { class: \"list-select\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"label-row\"\n}\nconst _hoisted_3 = { class: \"label\" }\nconst _hoisted_4 = { class: \"dots\" }\nconst _hoisted_5 = { class: \"progress-select\" }\nconst _hoisted_6 = { class: \"label-row\" }\nconst _hoisted_7 = { class: \"label\" }\nconst _hoisted_8 = { class: \"progress-picked\" }\nconst _hoisted_9 = {\n  key: 0,\n  class: \"volume-select\"\n}\nconst _hoisted_10 = { class: \"label-row\" }\nconst _hoisted_11 = { class: \"label\" }\nconst _hoisted_12 = { class: \"score-select\" }\nconst _hoisted_13 = { class: \"label-row\" }\nconst _hoisted_14 = { class: \"label\" }\nconst _hoisted_15 = { class: \"update-buttons\" }\n\nimport { computed, PropType, ref } from 'vue';\nimport { SingleAbstract } from '../../../_provider/singleAbstract';\nimport FormText from '../form/form-text.vue';\nimport FormDropdown from '../form/form-dropdown.vue';\nimport FormSlider from '../form/form-slider.vue';\nimport StateDot from '../state-dot.vue';\nimport FormButton from '../form/form-button.vue';\nimport { ScoreOption } from '../../../_provider/ScoreMode/ScoreModeStrategy';\nimport OverviewImageLanguage from './overview-image-language.vue';\nimport FormClick from '../form/form-click.vue';\nimport ErrorSingle from '../error/error-single.vue';\nimport MediaProgressPill from '../media/media-progress-pill.vue';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'overview-update-ui',\n  props: {\n  single: {\n    type: Object as PropType<SingleAbstract | null>,\n    default: () => ({}),\n  },\n  loading: {\n    type: Boolean,\n    default: false,\n  },\n  type: {\n    type: String as PropType<'anime' | 'manga'>,\n    default: 'anime',\n  },\n},\n  setup(__props) {\n\nconst singleLoading = ref(false);\n\nconst props = __props;\n\nconst volume = computed({\n  get() {\n    if (props.single && props.single.isAuthenticated()) {\n      if (Number.isNaN(props.single.getVolume())) return '';\n      return props.single.getVolume().toString();\n    }\n    return '';\n  },\n  set(value) {\n    if (props.single && props.single.isAuthenticated()) {\n      props.single.setVolume(Number(value));\n    }\n  },\n});\n\nconst episode = computed({\n  get() {\n    if (props.single && props.single.isAuthenticated()) {\n      if (Number.isNaN(props.single.getEpisode())) return '';\n      return props.single.getEpisode().toString();\n    }\n    return '';\n  },\n  set(value) {\n    if (props.single && props.single.isAuthenticated()) {\n      props.single.setEpisode(Number(value));\n    }\n  },\n});\n\nconst scoreModeStrategy = computed(() => {\n  if (props.single) {\n    return props.single.getScoreMode();\n  }\n  return null;\n});\n\nconst score = computed({\n  get() {\n    if (props.single && props.single.isAuthenticated() && scoreModeStrategy.value) {\n      return scoreModeStrategy.value.valueToOptionValue(props.single.getAbsoluteScore()).toString();\n    }\n    return '';\n  },\n  set(value) {\n    if (props.single && props.single.isAuthenticated() && scoreModeStrategy.value) {\n      props.single.setAbsoluteScore(scoreModeStrategy.value.optionValueToValue(Number(value) || 0));\n    }\n  },\n});\n\nconst scoreTextField = computed({\n  get() {\n    return !Number(score.value) ? '' : score.value;\n  },\n  set(value) {\n    score.value = value || '0';\n  },\n});\n\nconst status = computed({\n  get() {\n    if (props.single && props.single.isAuthenticated()) {\n      return props.single.getStatusCheckboxValue() || 6;\n    }\n    return 6;\n  },\n  set(value) {\n    if (props.single && props.single.isAuthenticated()) {\n      props.single.handleStatusCheckbox(value);\n    }\n  },\n});\n\nconst sortedOptions = (options: ScoreOption[]) => {\n  return options.sort((a, b) => a.value - b.value);\n};\n\nconst progress = computed(() => {\n  if (!props.single) return false;\n  const progressEl = props.single.getProgress();\n  if (!progressEl) return false;\n  if (!progressEl.isAiring() || !progressEl.getCurrentEpisode()) return false;\n  return progressEl;\n});\n\nasync function update() {\n  if (props.single) {\n    singleLoading.value = true;\n    await props.single.update();\n    singleLoading.value = false;\n  }\n}\n\nasync function sync() {\n  if (props.single) {\n    singleLoading.value = true;\n    await props.single.sync();\n    await props.single.update();\n    singleLoading.value = false;\n  }\n}\n\nasync function remove() {\n  if (props.single) {\n    singleLoading.value = true;\n    await props.single.delete();\n    singleLoading.value = false;\n  }\n}\n\nconst episodeLang = utils.episode;\n\nreturn (_ctx: any,_cache: any) => {\n  return (__props.single && __props.single.getLastError())\n    ? (_openBlock(), _createBlock(ErrorSingle, {\n        key: 0,\n        error: __props.single.getLastErrorMessage()\n      }, null, 8 /* PROPS */, [\"error\"]))\n    : (_openBlock(), _createElementBlock(\"div\", {\n        key: 1,\n        class: _normalizeClass([\"update-ui\", { loading: __props.loading, singleLoading: singleLoading.value }])\n      }, [\n        _createElementVNode(\"div\", {\n          class: _normalizeClass([\"form-section\", { notOnList: !__props.single?.isOnList() || false }])\n        }, [\n          _createElementVNode(\"div\", _hoisted_1, [\n            (__props.single)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n                  _createElementVNode(\"span\", _hoisted_3, _toDisplayString(_ctx.lang('UI_Status')), 1 /* TEXT */),\n                  _createVNode(FormDropdown, {\n                    modelValue: status.value,\n                    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((status).value = $event)),\n                    options: __props.single.getStatusCheckbox() as any,\n                    \"align-items\": \"left\"\n                  }, {\n                    select: _withCtx((slotProps) => [\n                      _createVNode(FormButton, {\n                        tabindex: -1,\n                        animation: false,\n                        padding: \"mini\",\n                        class: \"dots\"\n                      }, {\n                        default: _withCtx(() => [\n                          _createVNode(StateDot, {\n                            status: Number(slotProps.value),\n                            \"relative-height\": true\n                          }, null, 8 /* PROPS */, [\"status\"]),\n                          _createTextVNode(\" \" + _toDisplayString(slotProps.currentTitle), 1 /* TEXT */)\n                        ]),\n                        _: 2 /* DYNAMIC */\n                      }, 1024 /* DYNAMIC_SLOTS */)\n                    ]),\n                    option: _withCtx((slotProps) => [\n                      _createElementVNode(\"div\", _hoisted_4, [\n                        _createVNode(StateDot, {\n                          status: Number(slotProps.option.value)\n                        }, null, 8 /* PROPS */, [\"status\"]),\n                        _createTextVNode(\" \" + _toDisplayString(slotProps.option.label), 1 /* TEXT */)\n                      ])\n                    ]),\n                    _: 1 /* STABLE */\n                  }, 8 /* PROPS */, [\"modelValue\", \"options\"])\n                ]))\n              : _createCommentVNode(\"v-if\", true)\n          ]),\n          _createElementVNode(\"div\", _hoisted_5, [\n            (__props.single)\n              ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                  _createElementVNode(\"div\", _hoisted_6, [\n                    _createElementVNode(\"span\", _hoisted_7, _toDisplayString(_unref(episodeLang)(__props.type)), 1 /* TEXT */),\n                    _createVNode(FormText, {\n                      modelValue: episode.value,\n                      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((episode).value = $event)),\n                      type: \"mini\",\n                      suffix: `/${__props.single.getTotalEpisodes() || '? '}`\n                    }, {\n                      placeholder: _withCtx(({ picked, suffix }) => [\n                        _createElementVNode(\"div\", _hoisted_8, [\n                          _createTextVNode(_toDisplayString(picked) + _toDisplayString(picked ? suffix : '') + \" \", 1 /* TEXT */),\n                          (progress.value)\n                            ? (_openBlock(), _createBlock(MediaProgressPill, {\n                                key: 0,\n                                \"watched-ep\": Number(episode.value),\n                                episode: progress.value.getCurrentEpisode(),\n                                text: progress.value.getPredictionText()\n                              }, null, 8 /* PROPS */, [\"watched-ep\", \"episode\", \"text\"]))\n                            : _createCommentVNode(\"v-if\", true)\n                        ])\n                      ]),\n                      _: 1 /* STABLE */\n                    }, 8 /* PROPS */, [\"modelValue\", \"suffix\"]),\n                    _createVNode(OverviewImageLanguage, { single: __props.single }, null, 8 /* PROPS */, [\"single\"]),\n                    _withDirectives(_createElementVNode(\"span\", {\n                      class: \"label increase\",\n                      onClick: _cache[2] || (_cache[2] = ($event: any) => (episode.value = String(Number(episode.value) + 1)))\n                    }, \" + \", 512 /* NEED_PATCH */), [\n                      [_vShow, !(__props.single.getTotalEpisodes() && Number(episode.value) === __props.single.getTotalEpisodes())]\n                    ])\n                  ]),\n                  _createVNode(FormSlider, {\n                    modelValue: episode.value,\n                    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((episode).value = $event)),\n                    disabled: !__props.single.getTotalEpisodes(),\n                    min: 0,\n                    max: __props.single.getTotalEpisodes(),\n                    color: \"blue\"\n                  }, null, 8 /* PROPS */, [\"modelValue\", \"disabled\", \"max\"])\n                ], 64 /* STABLE_FRAGMENT */))\n              : _createCommentVNode(\"v-if\", true)\n          ]),\n          (__props.type === 'manga')\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [\n                (__props.single)\n                  ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                      _createElementVNode(\"div\", _hoisted_10, [\n                        _createElementVNode(\"span\", _hoisted_11, _toDisplayString(_ctx.lang('UI_Volume')), 1 /* TEXT */),\n                        _createVNode(FormText, {\n                          modelValue: volume.value,\n                          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((volume).value = $event)),\n                          type: \"mini\",\n                          suffix: `/${__props.single.getTotalVolumes() || '?'}`\n                        }, null, 8 /* PROPS */, [\"modelValue\", \"suffix\"]),\n                        _withDirectives(_createElementVNode(\"span\", {\n                          class: \"label increase\",\n                          onClick: _cache[5] || (_cache[5] = ($event: any) => (volume.value = String(Number(volume.value) + 1)))\n                        }, \" + \", 512 /* NEED_PATCH */), [\n                          [_vShow, !(__props.single.getTotalVolumes() && Number(volume.value) === __props.single.getTotalVolumes())]\n                        ])\n                      ]),\n                      _createVNode(FormSlider, {\n                        modelValue: volume.value,\n                        \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((volume).value = $event)),\n                        disabled: !__props.single.getTotalVolumes(),\n                        min: 0,\n                        max: __props.single.getTotalVolumes()\n                      }, null, 8 /* PROPS */, [\"modelValue\", \"disabled\", \"max\"])\n                    ], 64 /* STABLE_FRAGMENT */))\n                  : _createCommentVNode(\"v-if\", true)\n              ]))\n            : _createCommentVNode(\"v-if\", true),\n          _createElementVNode(\"div\", _hoisted_12, [\n            (__props.single && scoreModeStrategy.value)\n              ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                  _createElementVNode(\"div\", _hoisted_13, [\n                    _createElementVNode(\"span\", _hoisted_14, _toDisplayString(_ctx.lang('UI_Score')), 1 /* TEXT */),\n                    (scoreModeStrategy.value.ui.module === 'input')\n                      ? (_openBlock(), _createBlock(FormText, {\n                          key: 0,\n                          modelValue: scoreTextField.value,\n                          \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((scoreTextField).value = $event)),\n                          type: \"mini\",\n                          \"simple-placeholder\": true,\n                          \"strict-validation\": true,\n                          validation: \n                  value => {\n                    return Boolean(\n                      String(value).match(new RegExp((scoreModeStrategy.value!.ui as any).pattern)),\n                    );\n                  }\n                ,\n                          placeholder: _ctx.lang('UI_Score_Not_Rated')\n                        }, null, 8 /* PROPS */, [\"modelValue\", \"validation\", \"placeholder\"]))\n                      : (scoreModeStrategy.value.ui.module === 'click')\n                        ? (_openBlock(), _createBlock(FormClick, {\n                            key: 1,\n                            modelValue: score.value,\n                            \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((score).value = $event)),\n                            options: scoreModeStrategy.value.getOptions() as any,\n                            type: scoreModeStrategy.value.ui.type\n                          }, null, 8 /* PROPS */, [\"modelValue\", \"options\", \"type\"]))\n                        : (_openBlock(), _createBlock(FormDropdown, {\n                            key: 2,\n                            modelValue: score.value,\n                            \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event: any) => ((score).value = $event)),\n                            \"align-items\": \"left\",\n                            options: scoreModeStrategy.value.getOptions() as any\n                          }, {\n                            select: _withCtx((slotProps) => [\n                              _createVNode(FormButton, {\n                                tabindex: -1,\n                                animation: false,\n                                padding: \"mini\"\n                              }, {\n                                default: _withCtx(() => [\n                                  _createTextVNode(_toDisplayString(slotProps.currentTitle), 1 /* TEXT */)\n                                ]),\n                                _: 2 /* DYNAMIC */\n                              }, 1024 /* DYNAMIC_SLOTS */)\n                            ]),\n                            _: 1 /* STABLE */\n                          }, 8 /* PROPS */, [\"modelValue\", \"options\"]))\n                  ]),\n                  _createVNode(FormSlider, {\n                    modelValue: score.value,\n                    \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event: any) => ((score).value = $event)),\n                    color: \"violet\",\n                    options: sortedOptions(__props.single.getScoreCheckbox()) as any\n                  }, null, 8 /* PROPS */, [\"modelValue\", \"options\"])\n                ], 64 /* STABLE_FRAGMENT */))\n              : _createCommentVNode(\"v-if\", true)\n          ])\n        ], 2 /* CLASS */),\n        _createElementVNode(\"div\", _hoisted_15, [\n          (!__props.single?.isOnList() || false)\n            ? (_openBlock(), _createElementBlock(\"div\", {\n                key: 0,\n                class: \"update-button add\",\n                tabindex: \"0\",\n                onKeydown: _cache[11] || (_cache[11] = _withKeys(($event: any) => (sync()), [\"enter\"])),\n                onClick: _cache[12] || (_cache[12] = ($event: any) => (sync()))\n              }, [\n                _cache[19] || (_cache[19] = _createElementVNode(\"span\", { class: \"material-icons\" }, \"bookmark_add\", -1 /* HOISTED */)),\n                _createTextVNode(\" \" + _toDisplayString(_ctx.lang('Add')), 1 /* TEXT */)\n              ], 32 /* NEED_HYDRATION */))\n            : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                (__props.single.isDirty())\n                  ? (_openBlock(), _createElementBlock(\"div\", {\n                      key: 0,\n                      class: \"update-button\",\n                      tabindex: \"0\",\n                      onKeydown: _cache[13] || (_cache[13] = _withKeys(($event: any) => (sync()), [\"enter\"])),\n                      onClick: _cache[14] || (_cache[14] = ($event: any) => (sync()))\n                    }, [\n                      _cache[20] || (_cache[20] = _createElementVNode(\"span\", { class: \"material-icons\" }, \"cloud_upload\", -1 /* HOISTED */)),\n                      _createTextVNode(\" \" + _toDisplayString(_ctx.lang('Update')), 1 /* TEXT */)\n                    ], 32 /* NEED_HYDRATION */))\n                  : (_openBlock(), _createElementBlock(\"div\", {\n                      key: 1,\n                      class: \"update-button\",\n                      tabindex: \"0\",\n                      onKeydown: _cache[15] || (_cache[15] = _withKeys(($event: any) => (update()), [\"enter\"])),\n                      onClick: _cache[16] || (_cache[16] = ($event: any) => (update()))\n                    }, [\n                      _cache[21] || (_cache[21] = _createElementVNode(\"span\", { class: \"material-icons\" }, \"cloud_download\", -1 /* HOISTED */)),\n                      _createTextVNode(\" \" + _toDisplayString(_ctx.lang('Synchronize')), 1 /* TEXT */)\n                    ], 32 /* NEED_HYDRATION */)),\n                _createElementVNode(\"div\", {\n                  class: \"update-button\",\n                  tabindex: \"0\",\n                  onKeydown: _cache[17] || (_cache[17] = _withKeys(($event: any) => (remove()), [\"enter\"])),\n                  onClick: _cache[18] || (_cache[18] = ($event: any) => (remove()))\n                }, [\n                  _cache[22] || (_cache[22] = _createElementVNode(\"span\", { class: \"material-icons\" }, \"remove_circle_outline\", -1 /* HOISTED */)),\n                  _createTextVNode(\" \" + _toDisplayString(_ctx.lang('Remove')), 1 /* TEXT */)\n                ], 32 /* NEED_HYDRATION */)\n              ], 64 /* STABLE_FRAGMENT */))\n        ])\n      ], 2 /* CLASS */))\n}\n}\n\n})","<template>\n  <ErrorSingle v-if=\"single && single.getLastError()\" :error=\"single.getLastErrorMessage()\" />\n  <div v-else class=\"update-ui\" :class=\"{ loading, singleLoading }\">\n    <div class=\"form-section\" :class=\"{ notOnList: !single?.isOnList() || false }\">\n      <div class=\"list-select\">\n        <div v-if=\"single\" class=\"label-row\">\n          <span class=\"label\">{{ lang('UI_Status') }}</span>\n          <FormDropdown\n            v-model=\"status\"\n            :options=\"single.getStatusCheckbox() as any\"\n            align-items=\"left\"\n          >\n            <template #select=\"slotProps\">\n              <FormButton :tabindex=\"-1\" :animation=\"false\" padding=\"mini\" class=\"dots\">\n                <StateDot :status=\"Number(slotProps.value)\" :relative-height=\"true\" />\n                {{ slotProps.currentTitle }}\n              </FormButton>\n            </template>\n            <template #option=\"slotProps\">\n              <div class=\"dots\">\n                <StateDot :status=\"Number(slotProps.option.value)\" />\n                {{ slotProps.option.label }}\n              </div>\n            </template>\n          </FormDropdown>\n        </div>\n      </div>\n      <div class=\"progress-select\">\n        <template v-if=\"single\">\n          <div class=\"label-row\">\n            <span class=\"label\">{{ episodeLang(type) }}</span>\n            <FormText\n              v-model=\"episode\"\n              type=\"mini\"\n              :suffix=\"`/${single.getTotalEpisodes() || '? '}`\"\n            >\n              <template #placeholder=\"{ picked, suffix }\">\n                <div class=\"progress-picked\">\n                  {{ picked }}{{ picked ? suffix : '' }}\n                  <MediaProgressPill\n                    v-if=\"progress\"\n                    :watched-ep=\"Number(episode)\"\n                    :episode=\"progress.getCurrentEpisode()\"\n                    :text=\"progress.getPredictionText()\"\n                  />\n                </div>\n              </template>\n            </FormText>\n            <OverviewImageLanguage :single=\"single\" />\n            <span\n              v-show=\"!(single.getTotalEpisodes() && Number(episode) === single.getTotalEpisodes())\"\n              class=\"label increase\"\n              @click=\"episode = String(Number(episode) + 1)\"\n            >\n              +\n            </span>\n          </div>\n          <FormSlider\n            v-model=\"episode\"\n            :disabled=\"!single.getTotalEpisodes()\"\n            :min=\"0\"\n            :max=\"single.getTotalEpisodes()\"\n            color=\"blue\"\n          />\n        </template>\n      </div>\n      <div v-if=\"type === 'manga'\" class=\"volume-select\">\n        <template v-if=\"single\">\n          <div class=\"label-row\">\n            <span class=\"label\">{{ lang('UI_Volume') }}</span>\n            <FormText\n              v-model=\"volume\"\n              type=\"mini\"\n              :suffix=\"`/${single.getTotalVolumes() || '?'}`\"\n            />\n            <span\n              v-show=\"!(single.getTotalVolumes() && Number(volume) === single.getTotalVolumes())\"\n              class=\"label increase\"\n              @click=\"volume = String(Number(volume) + 1)\"\n            >\n              +\n            </span>\n          </div>\n          <FormSlider\n            v-model=\"volume\"\n            :disabled=\"!single.getTotalVolumes()\"\n            :min=\"0\"\n            :max=\"single.getTotalVolumes()\"\n          />\n        </template>\n      </div>\n      <div class=\"score-select\">\n        <template v-if=\"single && scoreModeStrategy\">\n          <div class=\"label-row\">\n            <span class=\"label\">{{ lang('UI_Score') }}</span>\n            <template v-if=\"scoreModeStrategy.ui.module === 'input'\">\n              <FormText\n                v-model=\"scoreTextField\"\n                type=\"mini\"\n                :simple-placeholder=\"true\"\n                :strict-validation=\"true\"\n                :validation=\"\n                  value => {\n                    return Boolean(\n                      String(value).match(new RegExp((scoreModeStrategy!.ui as any).pattern)),\n                    );\n                  }\n                \"\n                :placeholder=\"lang('UI_Score_Not_Rated')\"\n              />\n            </template>\n            <template v-else-if=\"scoreModeStrategy.ui.module === 'click'\">\n              <FormClick\n                v-model=\"score\"\n                :options=\"scoreModeStrategy.getOptions() as any\"\n                :type=\"scoreModeStrategy.ui.type\"\n              />\n            </template>\n            <template v-else>\n              <FormDropdown\n                v-model=\"score\"\n                align-items=\"left\"\n                :options=\"scoreModeStrategy.getOptions() as any\"\n              >\n                <template #select=\"slotProps\">\n                  <FormButton :tabindex=\"-1\" :animation=\"false\" padding=\"mini\">\n                    {{ slotProps.currentTitle }}\n                  </FormButton>\n                </template>\n              </FormDropdown>\n            </template>\n          </div>\n          <FormSlider\n            v-model=\"score\"\n            color=\"violet\"\n            :options=\"sortedOptions(single.getScoreCheckbox()) as any\"\n          />\n        </template>\n      </div>\n    </div>\n    <div class=\"update-buttons\">\n      <div\n        v-if=\"!single?.isOnList() || false\"\n        class=\"update-button add\"\n        tabindex=\"0\"\n        @keydown.enter=\"sync()\"\n        @click=\"sync()\"\n      >\n        <span class=\"material-icons\">bookmark_add</span>\n        {{ lang('Add') }}\n      </div>\n      <template v-else>\n        <div\n          v-if=\"single.isDirty()\"\n          class=\"update-button\"\n          tabindex=\"0\"\n          @keydown.enter=\"sync()\"\n          @click=\"sync()\"\n        >\n          <span class=\"material-icons\">cloud_upload</span>\n          {{ lang('Update') }}\n        </div>\n        <div v-else class=\"update-button\" tabindex=\"0\" @keydown.enter=\"update()\" @click=\"update()\">\n          <span class=\"material-icons\">cloud_download</span>\n          {{ lang('Synchronize') }}\n        </div>\n        <div class=\"update-button\" tabindex=\"0\" @keydown.enter=\"remove()\" @click=\"remove()\">\n          <span class=\"material-icons\">remove_circle_outline</span>\n          {{ lang('Remove') }}\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, PropType, ref } from 'vue';\nimport { SingleAbstract } from '../../../_provider/singleAbstract';\nimport FormText from '../form/form-text.vue';\nimport FormDropdown from '../form/form-dropdown.vue';\nimport FormSlider from '../form/form-slider.vue';\nimport StateDot from '../state-dot.vue';\nimport FormButton from '../form/form-button.vue';\nimport { ScoreOption } from '../../../_provider/ScoreMode/ScoreModeStrategy';\nimport OverviewImageLanguage from './overview-image-language.vue';\nimport FormClick from '../form/form-click.vue';\nimport ErrorSingle from '../error/error-single.vue';\nimport MediaProgressPill from '../media/media-progress-pill.vue';\n\nconst singleLoading = ref(false);\n\nconst props = defineProps({\n  single: {\n    type: Object as PropType<SingleAbstract | null>,\n    default: () => ({}),\n  },\n  loading: {\n    type: Boolean,\n    default: false,\n  },\n  type: {\n    type: String as PropType<'anime' | 'manga'>,\n    default: 'anime',\n  },\n});\n\nconst volume = computed({\n  get() {\n    if (props.single && props.single.isAuthenticated()) {\n      if (Number.isNaN(props.single.getVolume())) return '';\n      return props.single.getVolume().toString();\n    }\n    return '';\n  },\n  set(value) {\n    if (props.single && props.single.isAuthenticated()) {\n      props.single.setVolume(Number(value));\n    }\n  },\n});\n\nconst episode = computed({\n  get() {\n    if (props.single && props.single.isAuthenticated()) {\n      if (Number.isNaN(props.single.getEpisode())) return '';\n      return props.single.getEpisode().toString();\n    }\n    return '';\n  },\n  set(value) {\n    if (props.single && props.single.isAuthenticated()) {\n      props.single.setEpisode(Number(value));\n    }\n  },\n});\n\nconst scoreModeStrategy = computed(() => {\n  if (props.single) {\n    return props.single.getScoreMode();\n  }\n  return null;\n});\n\nconst score = computed({\n  get() {\n    if (props.single && props.single.isAuthenticated() && scoreModeStrategy.value) {\n      return scoreModeStrategy.value.valueToOptionValue(props.single.getAbsoluteScore()).toString();\n    }\n    return '';\n  },\n  set(value) {\n    if (props.single && props.single.isAuthenticated() && scoreModeStrategy.value) {\n      props.single.setAbsoluteScore(scoreModeStrategy.value.optionValueToValue(Number(value) || 0));\n    }\n  },\n});\n\nconst scoreTextField = computed({\n  get() {\n    return !Number(score.value) ? '' : score.value;\n  },\n  set(value) {\n    score.value = value || '0';\n  },\n});\n\nconst status = computed({\n  get() {\n    if (props.single && props.single.isAuthenticated()) {\n      return props.single.getStatusCheckboxValue() || 6;\n    }\n    return 6;\n  },\n  set(value) {\n    if (props.single && props.single.isAuthenticated()) {\n      props.single.handleStatusCheckbox(value);\n    }\n  },\n});\n\nconst sortedOptions = (options: ScoreOption[]) => {\n  return options.sort((a, b) => a.value - b.value);\n};\n\nconst progress = computed(() => {\n  if (!props.single) return false;\n  const progressEl = props.single.getProgress();\n  if (!progressEl) return false;\n  if (!progressEl.isAiring() || !progressEl.getCurrentEpisode()) return false;\n  return progressEl;\n});\n\nasync function update() {\n  if (props.single) {\n    singleLoading.value = true;\n    await props.single.update();\n    singleLoading.value = false;\n  }\n}\n\nasync function sync() {\n  if (props.single) {\n    singleLoading.value = true;\n    await props.single.sync();\n    await props.single.update();\n    singleLoading.value = false;\n  }\n}\n\nasync function remove() {\n  if (props.single) {\n    singleLoading.value = true;\n    await props.single.delete();\n    singleLoading.value = false;\n  }\n}\n\nconst episodeLang = utils.episode;\n</script>\n\n<style lang=\"less\" scoped>\n@import '../../less/_globals.less';\n\n.update-buttons,\n.label {\n  color: var(--cl-light-text);\n}\n\n.update-ui {\n  .list-select {\n    margin-bottom: @spacer-half;\n    padding-bottom: 3px;\n    min-height: 36px;\n  }\n  .progress-select {\n    margin-bottom: @spacer-half;\n    min-height: 60px;\n  }\n  .score-select {\n    min-height: 60px;\n  }\n  .volume-select {\n    margin-bottom: @spacer-half;\n    min-height: 60px;\n  }\n\n  .form-section {\n    margin-bottom: @spacer-half;\n  }\n\n  .update-buttons {\n    display: flex;\n    justify-content: space-around;\n    text-align: center;\n    align-items: center;\n\n    .__breakpoint-desktop__({\n      min-height: 48px;\n    });\n\n    .update-button {\n      .click-move-down();\n      .link();\n      .border-radius();\n      .block-select();\n\n      vertical-align: middle;\n      padding: 10px 15px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      flex-wrap: wrap;\n      gap: 10px;\n\n      &.add {\n        width: 100%;\n        background-color: var(--cl-primary);\n        color: white;\n        border: 2px solid var(--cl-primary);\n        &:hover {\n          border-color: white;\n        }\n      }\n\n      &:hover {\n        background-color: var(--cl-primary);\n        color: white;\n      }\n    }\n  }\n\n  .dots {\n    display: flex;\n    align-items: center;\n  }\n\n  .label-row {\n    display: flex;\n    align-items: center;\n    gap: 5px;\n    padding-bottom: 5px;\n  }\n\n  .notOnList {\n    opacity: 0.5;\n    transition: opacity @fast-transition ease-in-out;\n  }\n\n  &:hover .notOnList {\n    opacity: 1;\n  }\n\n  &.loading {\n    .form-section,\n    .update-buttons {\n      .skeleton-text-block();\n      * {\n        visibility: hidden;\n      }\n    }\n  }\n\n  &.singleLoading {\n    .form-section {\n      pointer-events: none;\n    }\n    .update-buttons {\n      .skeleton-text-block();\n      * {\n        visibility: hidden;\n      }\n    }\n  }\n}\n\n.progress-picked {\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  justify-content: center;\n}\n\n.increase {\n  .click-move-down();\n  .link();\n  .block-select();\n}\n</style>\n","import script from \"./overview-update-ui.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./overview-update-ui.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./overview-update-ui.vue?vue&type=style&index=0&id=0fecc957&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-0fecc957\"],['__file',\"overview-update-ui.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-0fecc957 {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.update-buttons[data-v-0fecc957],\\n.label[data-v-0fecc957] {\\n  color: var(--cl-light-text);\\n}\\n.update-ui .list-select[data-v-0fecc957] {\\n  margin-bottom: var(--size-spacer-half);\\n  padding-bottom: 3px;\\n  min-height: 36px;\\n}\\n.update-ui .progress-select[data-v-0fecc957] {\\n  margin-bottom: var(--size-spacer-half);\\n  min-height: 60px;\\n}\\n.update-ui .score-select[data-v-0fecc957] {\\n  min-height: 60px;\\n}\\n.update-ui .volume-select[data-v-0fecc957] {\\n  margin-bottom: var(--size-spacer-half);\\n  min-height: 60px;\\n}\\n.update-ui .form-section[data-v-0fecc957] {\\n  margin-bottom: var(--size-spacer-half);\\n}\\n.update-ui .update-buttons[data-v-0fecc957] {\\n  display: flex;\\n  justify-content: space-around;\\n  text-align: center;\\n  align-items: center;\\n}\\n@media screen and (min-width: 900px) {\\n.update-ui .update-buttons[data-v-0fecc957] {\\n    min-height: 48px;\\n}\\n}\\n.update-ui .update-buttons .update-button[data-v-0fecc957] {\\n  transition: transform 0.25s ease;\\n  cursor: pointer;\\n  border-radius: 10px;\\n  user-select: none;\\n  vertical-align: middle;\\n  padding: 10px 15px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  flex-wrap: wrap;\\n  gap: 10px;\\n}\\n.update-ui .update-buttons .update-button[data-v-0fecc957]:active {\\n  transition-delay: 0s !important;\\n  transform: translateY(3px);\\n}\\n.update-ui .update-buttons .update-button.add[data-v-0fecc957] {\\n  width: 100%;\\n  background-color: var(--cl-primary);\\n  color: white;\\n  border: 2px solid var(--cl-primary);\\n}\\n.update-ui .update-buttons .update-button.add[data-v-0fecc957]:hover {\\n  border-color: white;\\n}\\n.update-ui .update-buttons .update-button[data-v-0fecc957]:hover {\\n  background-color: var(--cl-primary);\\n  color: white;\\n}\\n.update-ui .dots[data-v-0fecc957] {\\n  display: flex;\\n  align-items: center;\\n}\\n.update-ui .label-row[data-v-0fecc957] {\\n  display: flex;\\n  align-items: center;\\n  gap: 5px;\\n  padding-bottom: 5px;\\n}\\n.update-ui .notOnList[data-v-0fecc957] {\\n  opacity: 0.5;\\n  transition: opacity 0.25s ease-in-out;\\n}\\n.update-ui:hover .notOnList[data-v-0fecc957] {\\n  opacity: 1;\\n}\\n.update-ui.loading .form-section[data-v-0fecc957],\\n.update-ui.loading .update-buttons[data-v-0fecc957] {\\n  position: relative;\\n  overflow: hidden;\\n  transition: background-color 0.1s ease-in-out;\\n  background-color: var(--cl-backdrop);\\n  width: 100%;\\n  border-radius: 0.25rem;\\n}\\n.update-ui.loading .form-section[data-v-0fecc957]::after,\\n.update-ui.loading .update-buttons[data-v-0fecc957]::after {\\n  opacity: var(--cl-loading);\\n  transition: opacity 0.25s ease-in-out;\\n  animation: skeleton-loading-malsync-0fecc957 1.5s infinite;\\n  content: '';\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  transform: translateX(-100%);\\n  z-index: 1;\\n  background: linear-gradient(90deg, hsla(0, 0%, 100%, 0), var(--cl-backdrop), hsla(0, 0%, 100%, 0));\\n  filter: brightness(1.15);\\n}\\n.update-ui.loading .form-section[data-v-0fecc957] *,\\n.update-ui.loading .update-buttons[data-v-0fecc957] * {\\n  visibility: hidden;\\n}\\n.update-ui.singleLoading .form-section[data-v-0fecc957] {\\n  pointer-events: none;\\n}\\n.update-ui.singleLoading .update-buttons[data-v-0fecc957] {\\n  position: relative;\\n  overflow: hidden;\\n  transition: background-color 0.1s ease-in-out;\\n  background-color: var(--cl-backdrop);\\n  width: 100%;\\n  border-radius: 0.25rem;\\n}\\n.update-ui.singleLoading .update-buttons[data-v-0fecc957]::after {\\n  opacity: var(--cl-loading);\\n  transition: opacity 0.25s ease-in-out;\\n  animation: skeleton-loading-malsync-0fecc957 1.5s infinite;\\n  content: '';\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  transform: translateX(-100%);\\n  z-index: 1;\\n  background: linear-gradient(90deg, hsla(0, 0%, 100%, 0), var(--cl-backdrop), hsla(0, 0%, 100%, 0));\\n  filter: brightness(1.15);\\n}\\n.update-ui.singleLoading .update-buttons[data-v-0fecc957] * {\\n  visibility: hidden;\\n}\\n.progress-picked[data-v-0fecc957] {\\n  display: flex;\\n  align-items: center;\\n  gap: 5px;\\n  justify-content: center;\\n}\\n.increase[data-v-0fecc957] {\\n  transition: transform 0.25s ease;\\n  cursor: pointer;\\n  user-select: none;\\n}\\n.increase[data-v-0fecc957]:active {\\n  transition-delay: 0s !important;\\n  transform: translateY(3px);\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"grid\"\n}\nconst _hoisted_2 = {\n  key: 1,\n  class: \"grid\"\n}\n\nimport { computed, PropType } from 'vue';\nimport Header from '../header.vue';\nimport FormButton from '../form/form-button.vue';\nimport TextIcon from '../text-icon.vue';\nimport FormDropdown from '../form/form-dropdown.vue';\nimport MediaLink from '../media-link.vue';\nimport { createRequest } from '../../utils/reactive';\nimport { activeLinks, Quicklink, combinedLinks } from '../../../utils/quicklinksBuilder';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'overview-streaming',\n  props: {\n  type: {\n    type: String as PropType<'anime' | 'manga'>,\n    default: 'anime',\n  },\n  cacheKey: {\n    type: [String, Number],\n    default: '',\n  },\n  title: {\n    type: String,\n    default: '',\n  },\n  alternativeTitle: {\n    type: Array as PropType<string[]>,\n    default: () => [],\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\nconst placeholder = computed(() => {\n  return combinedLinks().filter(el => el.search && el.search[props.type]);\n});\n\nconst parameters = computed(() => {\n  if (props.cacheKey) {\n    return {\n      type: props.type,\n      cacheKey: props.cacheKey,\n      title: props.title,\n    };\n  }\n  return null;\n});\n\nconst streamRequest = createRequest(\n  parameters,\n  param => {\n    if (!param || !param.value) {\n      return Promise.resolve(null);\n    }\n\n    return activeLinks(param.value.type, param.value.cacheKey, param.value.title);\n  },\n  {\n    cache: {\n      prefix: 'overview-streaming',\n      ttl: 10 * 1000,\n      refetchTtl: 7 * 24 * 60 * 60 * 1000,\n    },\n  },\n);\n\nconst favicon = (url: string) => {\n  return utils.favicon(url.split('/')[2]);\n};\n\nconst groupIcon = (el: Quicklink) => {\n  switch (el.group) {\n    case 'link': {\n      const { length } = el.links;\n      if (length < 2) {\n        return '';\n      }\n      if (length > 9) {\n        return 'filter_9_plus';\n      }\n      return `filter_${length}`;\n    }\n    case 'home':\n      return 'home';\n    case 'search':\n      return 'search';\n    default:\n      throw new Error(`Unknown group: ${el.group}`);\n  }\n};\n\nconst options = (el: Quicklink) => {\n  if (el.group === 'search') {\n    if (!parameters.value || !el.links[0].fn) {\n      return [\n        {\n          title: el.links[0].name,\n          value: el.links[0].url,\n        },\n      ];\n    }\n    const searchFn = el.links[0].fn;\n    const titles = [...new Set([parameters.value.title, ...props.alternativeTitle])];\n\n    return titles.map(title => {\n      return {\n        title,\n        value: searchFn(title),\n      };\n    });\n  }\n\n  return el.links.map(l => {\n    return {\n      value: l.url,\n      title: l.name,\n    };\n  });\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _createVNode(Header, {\n      spacer: true,\n      class: \"head\"\n    }, {\n      default: _withCtx(() => [\n        _createTextVNode(_toDisplayString(_ctx.lang('overview_Streaming')), 1 /* TEXT */)\n      ]),\n      _: 1 /* STABLE */\n    }),\n    (_unref(streamRequest).loading || !_unref(streamRequest).data)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(placeholder.value, (b) => {\n            return (_openBlock(), _createBlock(FormButton, {\n              key: b.name,\n              class: \"placeholder-link btn\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(TextIcon, { icon: \"sync\" }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(b.name), 1 /* TEXT */)\n                  ]),\n                  _: 2 /* DYNAMIC */\n                }, 1024 /* DYNAMIC_SLOTS */)\n              ]),\n              _: 2 /* DYNAMIC */\n            }, 1024 /* DYNAMIC_SLOTS */))\n          }), 128 /* KEYED_FRAGMENT */))\n        ]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(streamRequest).data!, (b) => {\n            return (_openBlock(), _createElementBlock(_Fragment, {\n              key: b.name\n            }, [\n              (options(b).length === 1)\n                ? (_openBlock(), _createBlock(FormButton, {\n                    key: 0,\n                    icon: groupIcon(b),\n                    class: \"btn\",\n                    link: options(b)[0].value\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(TextIcon, {\n                        src: favicon(b.domain)\n                      }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(_toDisplayString(b.name), 1 /* TEXT */)\n                        ]),\n                        _: 2 /* DYNAMIC */\n                      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"src\"])\n                    ]),\n                    _: 2 /* DYNAMIC */\n                  }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"icon\", \"link\"]))\n                : (_openBlock(), _createBlock(FormDropdown, {\n                    key: 1,\n                    options: options(b),\n                    \"align-items\": \"left\"\n                  }, {\n                    select: _withCtx(() => [\n                      _createVNode(FormButton, {\n                        animation: false,\n                        icon: groupIcon(b),\n                        class: \"btn\",\n                        tabindex: -1\n                      }, {\n                        default: _withCtx(() => [\n                          _createVNode(TextIcon, {\n                            src: favicon(b.domain)\n                          }, {\n                            default: _withCtx(() => [\n                              _createTextVNode(_toDisplayString(b.name), 1 /* TEXT */)\n                            ]),\n                            _: 2 /* DYNAMIC */\n                          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"src\"])\n                        ]),\n                        _: 2 /* DYNAMIC */\n                      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"icon\"])\n                    ]),\n                    option: _withCtx((slotProps) => [\n                      _createVNode(MediaLink, {\n                        href: slotProps.option.value as string,\n                        class: \"dropdown-link\",\n                        onMousedown: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"prevent\"]))\n                      }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(_toDisplayString(slotProps.option.title), 1 /* TEXT */)\n                        ]),\n                        _: 2 /* DYNAMIC */\n                      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"href\"])\n                    ]),\n                    _: 2 /* DYNAMIC */\n                  }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"options\"]))\n            ], 64 /* STABLE_FRAGMENT */))\n          }), 128 /* KEYED_FRAGMENT */))\n        ]))\n  ]))\n}\n}\n\n})","<template>\n  <div>\n    <Header :spacer=\"true\" class=\"head\">{{ lang('overview_Streaming') }}</Header>\n    <div v-if=\"streamRequest.loading || !streamRequest.data\" class=\"grid\">\n      <FormButton v-for=\"b in placeholder\" :key=\"b.name\" class=\"placeholder-link btn\">\n        <TextIcon icon=\"sync\">{{ b.name }}</TextIcon>\n      </FormButton>\n    </div>\n    <div v-else class=\"grid\">\n      <template v-for=\"b in streamRequest.data!\" :key=\"b.name\">\n        <FormButton\n          v-if=\"options(b).length === 1\"\n          :icon=\"groupIcon(b)\"\n          class=\"btn\"\n          :link=\"options(b)[0].value\"\n        >\n          <TextIcon :src=\"favicon(b.domain)\">{{ b.name }}</TextIcon>\n        </FormButton>\n        <FormDropdown v-else :options=\"options(b)\" align-items=\"left\">\n          <template #select>\n            <FormButton :animation=\"false\" :icon=\"groupIcon(b)\" class=\"btn\" :tabindex=\"-1\">\n              <TextIcon :src=\"favicon(b.domain)\">{{ b.name }}</TextIcon>\n            </FormButton>\n          </template>\n          <template #option=\"slotProps\">\n            <MediaLink\n              :href=\"slotProps.option.value as string\"\n              class=\"dropdown-link\"\n              @mousedown.prevent=\"\"\n            >\n              {{ slotProps.option.title }}\n            </MediaLink>\n          </template>\n        </FormDropdown>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, PropType } from 'vue';\nimport Header from '../header.vue';\nimport FormButton from '../form/form-button.vue';\nimport TextIcon from '../text-icon.vue';\nimport FormDropdown from '../form/form-dropdown.vue';\nimport MediaLink from '../media-link.vue';\nimport { createRequest } from '../../utils/reactive';\nimport { activeLinks, Quicklink, combinedLinks } from '../../../utils/quicklinksBuilder';\n\nconst props = defineProps({\n  type: {\n    type: String as PropType<'anime' | 'manga'>,\n    default: 'anime',\n  },\n  cacheKey: {\n    type: [String, Number],\n    default: '',\n  },\n  title: {\n    type: String,\n    default: '',\n  },\n  alternativeTitle: {\n    type: Array as PropType<string[]>,\n    default: () => [],\n  },\n});\n\nconst placeholder = computed(() => {\n  return combinedLinks().filter(el => el.search && el.search[props.type]);\n});\n\nconst parameters = computed(() => {\n  if (props.cacheKey) {\n    return {\n      type: props.type,\n      cacheKey: props.cacheKey,\n      title: props.title,\n    };\n  }\n  return null;\n});\n\nconst streamRequest = createRequest(\n  parameters,\n  param => {\n    if (!param || !param.value) {\n      return Promise.resolve(null);\n    }\n\n    return activeLinks(param.value.type, param.value.cacheKey, param.value.title);\n  },\n  {\n    cache: {\n      prefix: 'overview-streaming',\n      ttl: 10 * 1000,\n      refetchTtl: 7 * 24 * 60 * 60 * 1000,\n    },\n  },\n);\n\nconst favicon = (url: string) => {\n  return utils.favicon(url.split('/')[2]);\n};\n\nconst groupIcon = (el: Quicklink) => {\n  switch (el.group) {\n    case 'link': {\n      const { length } = el.links;\n      if (length < 2) {\n        return '';\n      }\n      if (length > 9) {\n        return 'filter_9_plus';\n      }\n      return `filter_${length}`;\n    }\n    case 'home':\n      return 'home';\n    case 'search':\n      return 'search';\n    default:\n      throw new Error(`Unknown group: ${el.group}`);\n  }\n};\n\nconst options = (el: Quicklink) => {\n  if (el.group === 'search') {\n    if (!parameters.value || !el.links[0].fn) {\n      return [\n        {\n          title: el.links[0].name,\n          value: el.links[0].url,\n        },\n      ];\n    }\n    const searchFn = el.links[0].fn;\n    const titles = [...new Set([parameters.value.title, ...props.alternativeTitle])];\n\n    return titles.map(title => {\n      return {\n        title,\n        value: searchFn(title),\n      };\n    });\n  }\n\n  return el.links.map(l => {\n    return {\n      value: l.url,\n      title: l.name,\n    };\n  });\n};\n</script>\n\n<style lang=\"less\" scoped>\n@import '../../less/_globals.less';\n\n.__breakpoint-desktop__( {\n  .head {\n    display: none;\n  }\n});\n\n.grid {\n  display: flex;\n  gap: @spacer-half;\n  flex-wrap: wrap;\n}\n\n.dropdown-link {\n  display: block;\n  margin: -7px -17px;\n  padding: 7px 17px;\n}\n\n.placeholder-link {\n  .skeleton-loading();\n\n  background-color: var(--cl-backdrop) !important;\n\n  & > span {\n    visibility: hidden;\n  }\n}\n\n.btn {\n  min-height: 34px;\n  .__breakpoint-popup__({\n    min-height: 32px;\n  });\n}\n</style>\n","import script from \"./overview-streaming.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./overview-streaming.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./overview-streaming.vue?vue&type=style&index=0&id=4242a047&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-4242a047\"],['__file',\"overview-streaming.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-4242a047 {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n@media screen and (min-width: 900px) {\\n.head[data-v-4242a047] {\\n    display: none;\\n}\\n}\\n.grid[data-v-4242a047] {\\n  display: flex;\\n  gap: var(--size-spacer-half);\\n  flex-wrap: wrap;\\n}\\n.dropdown-link[data-v-4242a047] {\\n  display: block;\\n  margin: -7px -17px;\\n  padding: 7px 17px;\\n}\\n.placeholder-link[data-v-4242a047] {\\n  position: relative;\\n  overflow: hidden;\\n  transition: background-color 0.1s ease-in-out;\\n  background-color: var(--cl-backdrop) !important;\\n}\\n.placeholder-link[data-v-4242a047]::after {\\n  opacity: var(--cl-loading);\\n  transition: opacity 0.25s ease-in-out;\\n  animation: skeleton-loading-malsync-4242a047 1.5s infinite;\\n  content: '';\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  transform: translateX(-100%);\\n  z-index: 1;\\n  background: linear-gradient(90deg, hsla(0, 0%, 100%, 0), var(--cl-backdrop), hsla(0, 0%, 100%, 0));\\n  filter: brightness(1.15);\\n}\\n.placeholder-link > span[data-v-4242a047] {\\n  visibility: hidden;\\n}\\n.btn[data-v-4242a047] {\\n  min-height: 34px;\\n}\\n@media screen and (max-width: 600px) {\\n.btn[data-v-4242a047] {\\n    min-height: 32px;\\n}\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = { class: \"cover-el\" }\nconst _hoisted_3 = { class: \"name\" }\nconst _hoisted_4 = {\n  key: 0,\n  class: \"role\"\n}\n\nimport { PropType } from 'vue';\nimport { Overview } from '../../../_provider/metaOverviewAbstract';\nimport Header from '../header.vue';\nimport ImageFit from '../image-fit.vue';\nimport Grid from '../grid.vue';\nimport MediaLink from '../media-link.vue';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'overview-characters',\n  props: {\n  characters: {\n    type: Array as PropType<Overview['characters']>,\n    required: false,\n    default: () => [],\n  },\n},\n  setup(__props) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (__props.characters.length)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createVNode(Header, { spacer: true }, {\n          default: _withCtx(() => [\n            _createTextVNode(_toDisplayString(_ctx.lang('overview_Characters')), 1 /* TEXT */)\n          ]),\n          _: 1 /* STABLE */\n        }),\n        _createVNode(Grid, { \"min-width-popup\": 90 }, {\n          default: _withCtx(() => [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.characters, (char) => {\n              return (_openBlock(), _createBlock(MediaLink, {\n                key: char.name,\n                class: \"character\",\n                href: char.url,\n                \"focus-state\": false\n              }, {\n                default: _withCtx(() => [\n                  _createElementVNode(\"div\", _hoisted_2, [\n                    _createVNode(ImageFit, {\n                      mode: \"cover\",\n                      src: char.img\n                    }, null, 8 /* PROPS */, [\"src\"])\n                  ]),\n                  _createElementVNode(\"div\", null, [\n                    _createElementVNode(\"div\", _hoisted_3, _toDisplayString(char.name), 1 /* TEXT */),\n                    (char.subtext)\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, _toDisplayString(char.subtext), 1 /* TEXT */))\n                      : _createCommentVNode(\"v-if\", true)\n                  ])\n                ]),\n                _: 2 /* DYNAMIC */\n              }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"href\"]))\n            }), 128 /* KEYED_FRAGMENT */))\n          ]),\n          _: 1 /* STABLE */\n        })\n      ]))\n    : _createCommentVNode(\"v-if\", true)\n}\n}\n\n})","import script from \"./overview-characters.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./overview-characters.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./overview-characters.vue?vue&type=style&index=0&id=55a0c917&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-55a0c917\"],['__file',\"overview-characters.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-55a0c917 {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.cover-el[data-v-55a0c917] {\\n  transition: transform 0.25s ease;\\n}\\n.cover-el[data-v-55a0c917]:active {\\n  transition-delay: 0s !important;\\n  transform: translateY(3px);\\n}\\n.name[data-v-55a0c917] {\\n  font-weight: bold;\\n  margin-top: 10px;\\n}\\n.role[data-v-55a0c917] {\\n  margin-top: 5px;\\n  color: var(--cl-light-text);\\n}\\n.character:focus-visible .cover[data-v-55a0c917] {\\n  outline: 2px solid var(--cl-secondary);\\n  outline-width: 4px;\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = { key: 0 }\n\nimport { computed, PropType, ref } from 'vue';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'pagination',\n  props: {\n  elements: {\n    type: Array as PropType<any[]>,\n    required: true,\n  },\n  entriesPerPage: {\n    type: Number,\n    default: 10,\n  },\n  openAll: {\n    type: Boolean,\n    default: false,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\nconst page = ref(1);\n\nconst pageElements = computed(() => {\n  if (props.openAll && page.value > 1) return props.elements;\n  const start = (page.value - 1) * props.entriesPerPage;\n  const end = start + props.entriesPerPage;\n  return props.elements.slice(0, end);\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", null, [\n      _renderSlot(_ctx.$slots, \"elements\", { elements: pageElements.value })\n    ]),\n    (pageElements.value.length !== __props.elements.length)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          _createElementVNode(\"div\", {\n            class: \"material-icons next\",\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (page.value++))\n          }, \"arrow_downward\")\n        ]))\n      : _createCommentVNode(\"v-if\", true)\n  ], 64 /* STABLE_FRAGMENT */))\n}\n}\n\n})","<template>\n  <div>\n    <slot name=\"elements\" :elements=\"pageElements\" />\n  </div>\n  <div v-if=\"pageElements.length !== elements.length\">\n    <div class=\"material-icons next\" @click=\"page++\">arrow_downward</div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, PropType, ref } from 'vue';\n\nconst props = defineProps({\n  elements: {\n    type: Array as PropType<any[]>,\n    required: true,\n  },\n  entriesPerPage: {\n    type: Number,\n    default: 10,\n  },\n  openAll: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst page = ref(1);\n\nconst pageElements = computed(() => {\n  if (props.openAll && page.value > 1) return props.elements;\n  const start = (page.value - 1) * props.entriesPerPage;\n  const end = start + props.entriesPerPage;\n  return props.elements.slice(0, end);\n});\n</script>\n\n<style lang=\"less\" scoped>\n@import '../less/_globals.less';\n\n.next {\n  .border-radius();\n  .link();\n  .click-move-down();\n\n  text-align: center;\n  display: block;\n  padding: 5px 15px;\n  border: 2px solid var(--cl-backdrop);\n  background-color: var(--cl-foreground);\n\n  &:hover {\n    border-color: var(--cl-border-hover);\n  }\n}\n</style>\n","import script from \"./pagination.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./pagination.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./pagination.vue?vue&type=style&index=0&id=75760b90&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-75760b90\"],['__file',\"pagination.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-75760b90 {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.next[data-v-75760b90] {\\n  border-radius: 10px;\\n  cursor: pointer;\\n  transition: transform 0.25s ease;\\n  text-align: center;\\n  display: block;\\n  padding: 5px 15px;\\n  border: 2px solid var(--cl-backdrop);\\n  background-color: var(--cl-foreground);\\n}\\n.next[data-v-75760b90]:active {\\n  transition-delay: 0s !important;\\n  transform: translateY(3px);\\n}\\n.next[data-v-75760b90]:hover {\\n  border-color: var(--cl-border-hover);\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass, resolveDirective as _resolveDirective, withDirectives as _withDirectives } from \"vue\"\n\nconst _hoisted_1 = { class: \"loading-placeholder\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"text\"\n}\nconst _hoisted_3 = { class: \"load-button\" }\nconst _hoisted_4 = { class: \"text\" }\n\nimport { ref, computed, watch, PropType } from 'vue';\nimport { createRequest } from '../../utils/reactive';\nimport Header from '../header.vue';\nimport { reviewMeta } from './overview-reviews-meta';\nimport MediaLink from '../media-link.vue';\nimport Description from '../description.vue';\nimport Section from '../section.vue';\nimport FormButton from '../form/form-button.vue';\nimport Pagination from '../pagination.vue';\nimport ImageText from '../image-text.vue';\nimport HR from '../hr.vue';\nimport Empty from '../empty.vue';\nimport Card from '../card.vue';\nimport { Review } from '../../../_provider/metaOverviewAbstract';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'overview-reviews',\n  props: {\n  reviews: {\n    type: Array as PropType<Review[]>,\n    default: () => [],\n  },\n  malUrl: {\n    type: String,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\nconst parameters = ref({\n  url: computed(() => props.malUrl),\n  load: false,\n});\n\nconst metaRequest = createRequest(parameters, params => reviewMeta(params.value.url), {\n  executeCondition: params => params.value.load && params.value.url,\n  cache: {\n    prefix: 'overview-reviews',\n    ttl: 7 * 24 * 60 * 60 * 1000,\n    refetchTtl: 7 * 24 * 60 * 60 * 1000,\n    keyFn: params => params.value.url,\n  },\n});\n\nwatch(\n  () => props.malUrl,\n  () => {\n    parameters.value.load = false;\n  },\n);\n\nconst data = computed(() =>\n  props.reviews && props.reviews.length ? props.reviews : metaRequest.data,\n);\n\nconst cleanDescription = desc => {\n  if (!desc) return '';\n  return desc.replace(/(< *\\/? *br *\\/? *>(\\r|\\n| )*){2,}/gim, '<br /><br />');\n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_dompurify_html = _resolveDirective(\"dompurify-html\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass({ stopLoading: !_unref(metaRequest).loading })\n  }, [\n    _createVNode(Header, { spacer: true }, {\n      default: _withCtx(() => [\n        _createTextVNode(_toDisplayString(_ctx.lang('minimalApp_Reviews')), 1 /* TEXT */)\n      ]),\n      _: 1 /* STABLE */\n    }),\n    (\n        _unref(metaRequest).loading ||\n        (!_unref(metaRequest).loading && !parameters.value.load && !_unref(metaRequest).cache && !__props.reviews.length)\n      )\n      ? (_openBlock(), _createBlock(Card, {\n          key: 0,\n          class: \"grid\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_1, [\n              _createVNode(ImageText, {\n                href: \"\",\n                image: \"\",\n                loading: true\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(Header, { class: \"skeleton-text\" }, {\n                    default: _withCtx(() => [\n                      _createVNode(MediaLink, { href: \"\" })\n                    ]),\n                    _: 1 /* STABLE */\n                  }),\n                  _cache[1] || (_cache[1] = _createElementVNode(\"div\", { class: \"skeleton-text\" }, null, -1 /* HOISTED */)),\n                  _cache[2] || (_cache[2] = _createElementVNode(\"div\", { class: \"skeleton-text\" }, null, -1 /* HOISTED */)),\n                  _cache[3] || (_cache[3] = _createElementVNode(\"div\", { class: \"skeleton-text\" }, null, -1 /* HOISTED */))\n                ]),\n                _: 1 /* STABLE */\n              }),\n              (_unref(metaRequest).loading)\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n                    _createVNode(Description, {\n                      loading: true,\n                      height: 150\n                    })\n                  ]))\n                : _createCommentVNode(\"v-if\", true),\n              _createElementVNode(\"div\", _hoisted_3, [\n                (!_unref(metaRequest).loading)\n                  ? (_openBlock(), _createBlock(FormButton, {\n                      key: 0,\n                      padding: \"large\",\n                      color: \"secondary\",\n                      onClick: _cache[0] || (_cache[0] = ($event: any) => (parameters.value.load = true))\n                    }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(_toDisplayString(_ctx.lang('Load')), 1 /* TEXT */)\n                      ]),\n                      _: 1 /* STABLE */\n                    }))\n                  : _createCommentVNode(\"v-if\", true)\n              ])\n            ])\n          ]),\n          _: 1 /* STABLE */\n        }))\n      : _createCommentVNode(\"v-if\", true),\n    (!_unref(metaRequest).loading && data.value && data.value.length)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 1,\n          class: _normalizeClass({ grid: !_unref(metaRequest).cache && !__props.reviews.length })\n        }, [\n          _createVNode(Pagination, {\n            \"entries-per-page\": 3,\n            elements: data.value\n          }, {\n            elements: _withCtx(({ elements }) => [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(elements, (review, index) => {\n                return (_openBlock(), _createBlock(Section, {\n                  key: review.user.name\n                }, {\n                  default: _withCtx(() => [\n                    index\n                      ? (_openBlock(), _createBlock(HR, {\n                          key: 0,\n                          size: \"thin\"\n                        }))\n                      : _createCommentVNode(\"v-if\", true),\n                    _createVNode(ImageText, {\n                      href: review.user.href,\n                      image: review.user.image\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(Header, null, {\n                          default: _withCtx(() => [\n                            _createVNode(MediaLink, {\n                              href: review.user.href\n                            }, {\n                              default: _withCtx(() => [\n                                _createTextVNode(_toDisplayString(review.user.name), 1 /* TEXT */)\n                              ]),\n                              _: 2 /* DYNAMIC */\n                            }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"href\"])\n                          ]),\n                          _: 2 /* DYNAMIC */\n                        }, 1024 /* DYNAMIC_SLOTS */),\n                        _createElementVNode(\"div\", null, _toDisplayString(review.body.date), 1 /* TEXT */),\n                        _createElementVNode(\"div\", null, [\n                          _cache[4] || (_cache[4] = _createTextVNode(\" Overall Rating: \")),\n                          _createElementVNode(\"strong\", null, _toDisplayString(review.body.rating), 1 /* TEXT */)\n                        ]),\n                        _createElementVNode(\"div\", null, [\n                          _createElementVNode(\"strong\", null, _toDisplayString(review.body.people), 1 /* TEXT */),\n                          _cache[5] || (_cache[5] = _createTextVNode(\" people found this review helpful \"))\n                        ])\n                      ]),\n                      _: 2 /* DYNAMIC */\n                    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"href\", \"image\"]),\n                    _createElementVNode(\"div\", _hoisted_4, [\n                      _createVNode(Description, { height: 150 }, {\n                        default: _withCtx(() => [\n                          _withDirectives(_createElementVNode(\"div\", {\n                            class: _normalizeClass([\"description-html\", {\n                    preLine: !(review.body.text.includes('<br') || review.body.text.includes('<p')),\n                  }]),\n                            dir: \"auto\"\n                          }, null, 2 /* CLASS */), [\n                            [_directive_dompurify_html, cleanDescription(review.body.text), \"noMedia\"]\n                          ])\n                        ]),\n                        _: 2 /* DYNAMIC */\n                      }, 1024 /* DYNAMIC_SLOTS */)\n                    ])\n                  ]),\n                  _: 2 /* DYNAMIC */\n                }, 1024 /* DYNAMIC_SLOTS */))\n              }), 128 /* KEYED_FRAGMENT */))\n            ]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"elements\"])\n        ], 2 /* CLASS */))\n      : _createCommentVNode(\"v-if\", true),\n    (!_unref(metaRequest).loading && data.value && !data.value.length)\n      ? (_openBlock(), _createBlock(Section, { key: 2 }, {\n          default: _withCtx(() => [\n            _createVNode(Empty, { card: true })\n          ]),\n          _: 1 /* STABLE */\n        }))\n      : _createCommentVNode(\"v-if\", true)\n  ], 2 /* CLASS */))\n}\n}\n\n})","<template>\n  <div :class=\"{ stopLoading: !metaRequest.loading }\">\n    <Header :spacer=\"true\">{{ lang('minimalApp_Reviews') }}</Header>\n    <Card\n      v-if=\"\n        metaRequest.loading ||\n        (!metaRequest.loading && !parameters.load && !metaRequest.cache && !reviews.length)\n      \"\n      class=\"grid\"\n    >\n      <div class=\"loading-placeholder\">\n        <ImageText href=\"\" image=\"\" :loading=\"true\">\n          <Header class=\"skeleton-text\">\n            <MediaLink href=\"\"></MediaLink>\n          </Header>\n          <div class=\"skeleton-text\"></div>\n          <div class=\"skeleton-text\"></div>\n          <div class=\"skeleton-text\"></div>\n        </ImageText>\n        <div v-if=\"metaRequest.loading\" class=\"text\">\n          <Description :loading=\"true\" :height=\"150\"></Description>\n        </div>\n        <div class=\"load-button\">\n          <FormButton\n            v-if=\"!metaRequest.loading\"\n            padding=\"large\"\n            color=\"secondary\"\n            @click=\"parameters.load = true\"\n          >\n            {{ lang('Load') }}\n          </FormButton>\n        </div>\n      </div>\n    </Card>\n    <div\n      v-if=\"!metaRequest.loading && data && data.length\"\n      :class=\"{ grid: !metaRequest.cache && !reviews.length }\"\n    >\n      <Pagination :entries-per-page=\"3\" :elements=\"data\">\n        <template #elements=\"{ elements }\">\n          <Section v-for=\"(review, index) in elements\" :key=\"review.user.name\">\n            <HR v-if=\"index\" size=\"thin\" />\n            <ImageText :href=\"review.user.href\" :image=\"review.user.image\">\n              <Header>\n                <MediaLink :href=\"review.user.href\">{{ review.user.name }}</MediaLink>\n              </Header>\n              <div>{{ review.body.date }}</div>\n              <div>\n                Overall Rating: <strong>{{ review.body.rating }}</strong>\n              </div>\n              <div>\n                <strong>{{ review.body.people }}</strong> people found this review helpful\n              </div>\n            </ImageText>\n            <div class=\"text\">\n              <Description :height=\"150\">\n                <div\n                  v-dompurify-html:noMedia=\"cleanDescription(review.body.text)\"\n                  class=\"description-html\"\n                  dir=\"auto\"\n                  :class=\"{\n                    preLine: !(review.body.text.includes('<br') || review.body.text.includes('<p')),\n                  }\"\n                />\n              </Description>\n            </div>\n          </Section>\n        </template>\n      </Pagination>\n    </div>\n    <Section v-if=\"!metaRequest.loading && data && !data.length\">\n      <Empty :card=\"true\" />\n    </Section>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref, computed, watch, PropType } from 'vue';\nimport { createRequest } from '../../utils/reactive';\nimport Header from '../header.vue';\nimport { reviewMeta } from './overview-reviews-meta';\nimport MediaLink from '../media-link.vue';\nimport Description from '../description.vue';\nimport Section from '../section.vue';\nimport FormButton from '../form/form-button.vue';\nimport Pagination from '../pagination.vue';\nimport ImageText from '../image-text.vue';\nimport HR from '../hr.vue';\nimport Empty from '../empty.vue';\nimport Card from '../card.vue';\nimport { Review } from '../../../_provider/metaOverviewAbstract';\n\nconst props = defineProps({\n  reviews: {\n    type: Array as PropType<Review[]>,\n    default: () => [],\n  },\n  malUrl: {\n    type: String,\n    required: true,\n  },\n});\n\nconst parameters = ref({\n  url: computed(() => props.malUrl),\n  load: false,\n});\n\nconst metaRequest = createRequest(parameters, params => reviewMeta(params.value.url), {\n  executeCondition: params => params.value.load && params.value.url,\n  cache: {\n    prefix: 'overview-reviews',\n    ttl: 7 * 24 * 60 * 60 * 1000,\n    refetchTtl: 7 * 24 * 60 * 60 * 1000,\n    keyFn: params => params.value.url,\n  },\n});\n\nwatch(\n  () => props.malUrl,\n  () => {\n    parameters.value.load = false;\n  },\n);\n\nconst data = computed(() =>\n  props.reviews && props.reviews.length ? props.reviews : metaRequest.data,\n);\n\nconst cleanDescription = desc => {\n  if (!desc) return '';\n  return desc.replace(/(< *\\/? *br *\\/? *>(\\r|\\n| )*){2,}/gim, '<br /><br />');\n};\n</script>\n\n<style lang=\"less\" scoped>\n@import '../../less/_globals.less';\n\n.text {\n  white-space: pre-line;\n}\n\n.grid {\n  padding: 10px !important;\n}\n\n.text {\n  margin-top: @spacer;\n}\n\n.description-html {\n  white-space: initial;\n  &.preLine {\n    white-space: pre-line;\n  }\n}\n\n.skeleton-text {\n  .skeleton-text();\n\n  color: transparent;\n}\n\n.loading-placeholder {\n  position: relative;\n  .load-button {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 3;\n  }\n}\n\n.stopLoading {\n  --cl-loading: 0;\n}\n</style>\n","import { IntlDateTime } from '../../../utils/IntlWrapper';\nimport { Review } from '../../../_provider/metaOverviewAbstract';\n\nexport async function reviewMeta(malUrl: string): Promise<Review[]> {\n  const res: Review[] = [];\n  const response = await api.request.xhr('GET', `${malUrl}/_/reviews`);\n\n  try {\n    const reviewSection = response.responseText\n      .split('Reviews</h2>')[1]\n      .split('<h2>')[0]\n      .split('class=\"mt4\"')[0];\n\n    j.$.each(j.$(j.$.parseHTML(reviewSection)).filter('.review-element'), (index, value) => {\n      const block = j.$(value);\n\n      const userHref = block.find('.username a').attr('href') || '';\n      const userImage = block.find('a > img').first().attr('data-src') || '';\n\n      const username = block.find('.username a').text().trim();\n\n      const reactionJson = block.attr('data-reactions');\n\n      const reactions = reactionJson ? JSON.parse(reactionJson) : { num: 0 };\n\n      const rPeople = reactions.num;\n\n      const dateText = block.find('.update_at').text().trim();\n      const rDate = new IntlDateTime(dateText).getDateTimeText({ dateStyle: 'medium' });\n\n      const rRating = Number(block.find('.rating .num').text());\n\n      const moreText = block.find('.text .js-hidden').text().trim();\n\n      const textBlock = block.find('.text');\n\n      textBlock.find('.js-hidden').remove();\n      textBlock.find('.js-visible').remove();\n      const topText = textBlock.text().trim();\n      const rText = topText + moreText;\n\n      res.push({\n        user: {\n          name: username,\n          image: userImage,\n          href: userHref,\n        },\n        body: {\n          people: rPeople,\n          date: rDate,\n          rating: rRating,\n          text: rText,\n        },\n      });\n    });\n  } catch (e) {\n    con.m('review').error(e);\n  }\n\n  return res;\n}\n","import script from \"./overview-reviews.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./overview-reviews.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./overview-reviews.vue?vue&type=style&index=0&id=13bbe19c&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-13bbe19c\"],['__file',\"overview-reviews.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-13bbe19c {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.text[data-v-13bbe19c] {\\n  white-space: pre-line;\\n}\\n.grid[data-v-13bbe19c] {\\n  padding: 10px !important;\\n}\\n.text[data-v-13bbe19c] {\\n  margin-top: var(--size-spacer);\\n}\\n.description-html[data-v-13bbe19c] {\\n  white-space: initial;\\n}\\n.description-html.preLine[data-v-13bbe19c] {\\n  white-space: pre-line;\\n}\\n.skeleton-text[data-v-13bbe19c] {\\n  position: relative;\\n  overflow: hidden;\\n  transition: background-color 0.1s ease-in-out;\\n  background-color: var(--cl-backdrop);\\n  width: 20em;\\n  height: 1em;\\n  margin-bottom: 0.2em;\\n  border-radius: 0.25rem;\\n  max-width: 100%;\\n  color: transparent;\\n}\\n.skeleton-text[data-v-13bbe19c]::after {\\n  opacity: var(--cl-loading);\\n  transition: opacity 0.25s ease-in-out;\\n  animation: skeleton-loading-malsync-13bbe19c 1.5s infinite;\\n  content: '';\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  transform: translateX(-100%);\\n  z-index: 1;\\n  background: linear-gradient(90deg, hsla(0, 0%, 100%, 0), var(--cl-backdrop), hsla(0, 0%, 100%, 0));\\n  filter: brightness(1.15);\\n}\\n.loading-placeholder[data-v-13bbe19c] {\\n  position: relative;\\n}\\n.loading-placeholder .load-button[data-v-13bbe19c] {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  z-index: 3;\\n}\\n.stopLoading[data-v-13bbe19c] {\\n  --cl-loading: 0;\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"flex\" }\nconst _hoisted_2 = { class: \"type\" }\nconst _hoisted_3 = { class: \"content\" }\nconst _hoisted_4 = { key: 0 }\nconst _hoisted_5 = { dir: \"auto\" }\nconst _hoisted_6 = {\n  key: 1,\n  dir: \"auto\"\n}\nconst _hoisted_7 = {\n  key: 2,\n  class: \"subtext\"\n}\nconst _hoisted_8 = {\n  key: 3,\n  dir: \"auto\"\n}\nconst _hoisted_9 = {\n  key: 0,\n  class: \"item\"\n}\nconst _hoisted_10 = { class: \"type\" }\nconst _hoisted_11 = { class: \"content\" }\nconst _hoisted_12 = { key: 1 }\nconst _hoisted_13 = { key: 2 }\nconst _hoisted_14 = {\n  key: 1,\n  class: \"item ongoing\"\n}\nconst _hoisted_15 = { class: \"type\" }\nconst _hoisted_16 = { class: \"content ongoing\" }\nconst _hoisted_17 = [\"title\"]\nconst _hoisted_18 = {\n  key: 0,\n  class: \"material-icons\"\n}\nconst _hoisted_19 = { class: \"episode\" }\nconst _hoisted_20 = {\n  key: 1,\n  class: \"material-icons\",\n  title: \"Dropped\"\n}\n\nimport { PropType } from 'vue';\nimport { Overview } from '../../../_provider/metaOverviewAbstract';\nimport { SingleAbstract } from '../../../_provider/singleAbstract';\nimport Header from '../header.vue';\nimport MediaLink from '../media-link.vue';\nimport TextIcon from '../text-icon.vue';\nimport { IntlDateTime } from '../../../utils/IntlWrapper';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'overview-info',\n  props: {\n  info: {\n    type: Array as PropType<Overview['info']>,\n    default: () => [],\n  },\n  single: {\n    type: Object as PropType<SingleAbstract | null>,\n    default: null,\n  },\n},\n  setup(__props) {\n\n\n\nfunction getTitle(item) {\n  if (item.lastEp && item.lastEp.timestamp) {\n    return new IntlDateTime(Number(item.lastEp.timestamp)).getRelativeNowFriendlyText('Progress', {\n      style: 'long',\n    });\n  }\n  if (item.predicition && item.predicition.timestamp) {\n    return api.storage.lang('prediction_next', [\n      new IntlDateTime(Number(item.predicition.timestamp)).getRelativeNowFriendlyText('Progress', {\n        style: 'long',\n      }),\n    ]);\n  }\n  return '';\n}\n\nfunction getTimezoneDate(\n  dateElement: Date | string,\n  timezone = Intl.DateTimeFormat().resolvedOptions().timeZone,\n) {\n  const options: Intl.DateTimeFormatOptions = {\n    weekday: 'long',\n    hour: '2-digit',\n    minute: '2-digit',\n    timeZoneName: timezone === 'Asia/Tokyo' ? undefined : 'short',\n    timeZone: timezone,\n  };\n\n  const date = typeof dateElement === 'string' ? new Date(dateElement) : dateElement;\n  return `${new IntlDateTime(date).getDateTimeText(options)}${timezone === 'Asia/Tokyo' ? ' JST' : ''}`;\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _createVNode(Header, { spacer: true }, {\n      default: _withCtx(() => [\n        _createTextVNode(_toDisplayString(_ctx.lang('overview_Information')), 1 /* TEXT */)\n      ]),\n      _: 1 /* STABLE */\n    }),\n    _createElementVNode(\"div\", _hoisted_1, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.info, (item) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: item.title,\n          class: \"item\"\n        }, [\n          _createElementVNode(\"div\", _hoisted_2, _toDisplayString(item.title), 1 /* TEXT */),\n          _createElementVNode(\"div\", _hoisted_3, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.body, (link, index) => {\n              return (_openBlock(), _createElementBlock(_Fragment, { key: link }, [\n                ('type' in link && link.type === 'weektime' && link.date)\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n                      (link.date instanceof Date || !isNaN(Date.parse(link.date)))\n                        ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                            _createElementVNode(\"span\", _hoisted_5, _toDisplayString(getTimezoneDate(link.date)), 1 /* TEXT */),\n                            _cache[0] || (_cache[0] = _createElementVNode(\"br\", null, null, -1 /* HOISTED */)),\n                            _createElementVNode(\"span\", null, _toDisplayString(getTimezoneDate(link.date, 'UTC')), 1 /* TEXT */),\n                            _cache[1] || (_cache[1] = _createElementVNode(\"br\", null, null, -1 /* HOISTED */)),\n                            _createElementVNode(\"span\", null, _toDisplayString(getTimezoneDate(link.date, 'Asia/Tokyo')), 1 /* TEXT */)\n                          ], 64 /* STABLE_FRAGMENT */))\n                        : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                            _createTextVNode(_toDisplayString(link.date), 1 /* TEXT */)\n                          ], 64 /* STABLE_FRAGMENT */))\n                    ]))\n                  : (!('type' in link))\n                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                        (link.url)\n                          ? (_openBlock(), _createBlock(MediaLink, {\n                              key: 0,\n                              dir: \"auto\",\n                              color: \"secondary\",\n                              href: link.url\n                            }, {\n                              default: _withCtx(() => [\n                                _createTextVNode(_toDisplayString(link.text), 1 /* TEXT */)\n                              ]),\n                              _: 2 /* DYNAMIC */\n                            }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"href\"]))\n                          : (_openBlock(), _createElementBlock(\"span\", _hoisted_6, _toDisplayString(link.text), 1 /* TEXT */)),\n                        (link.subtext)\n                          ? (_openBlock(), _createElementBlock(\"span\", _hoisted_7, \"(\" + _toDisplayString(link.subtext) + \")\", 1 /* TEXT */))\n                          : _createCommentVNode(\"v-if\", true),\n                        (Number(index) + 1 < item.body.length)\n                          ? (_openBlock(), _createElementBlock(\"span\", _hoisted_8, \", \"))\n                          : _createCommentVNode(\"v-if\", true)\n                      ], 64 /* STABLE_FRAGMENT */))\n                    : _createCommentVNode(\"v-if\", true)\n              ], 64 /* STABLE_FRAGMENT */))\n            }), 128 /* KEYED_FRAGMENT */))\n          ])\n        ]))\n      }), 128 /* KEYED_FRAGMENT */)),\n      (__props.single && __props.single.getProgressCompleted().length)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [\n            _createElementVNode(\"div\", _hoisted_10, _toDisplayString(_ctx.lang('prediction_complete')) + \":\", 1 /* TEXT */),\n            _createElementVNode(\"div\", _hoisted_11, [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.single.getProgressCompleted(), (link, index) => {\n                return (_openBlock(), _createElementBlock(_Fragment, {\n                  key: link.key\n                }, [\n                  (__props.single.getType() !== 'manga')\n                    ? (_openBlock(), _createBlock(TextIcon, {\n                        key: 0,\n                        spacer: \"small\",\n                        icon: link.type === 'sub' ? 'subtitles' : 'record_voice_over'\n                      }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(_toDisplayString(link.label), 1 /* TEXT */)\n                        ]),\n                        _: 2 /* DYNAMIC */\n                      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"icon\"]))\n                    : (_openBlock(), _createElementBlock(\"span\", _hoisted_12, _toDisplayString(link.label), 1 /* TEXT */)),\n                  (Number(index) + 1 < __props.single.getProgressCompleted().length)\n                    ? (_openBlock(), _createElementBlock(\"span\", _hoisted_13, \", \"))\n                    : _createCommentVNode(\"v-if\", true)\n                ], 64 /* STABLE_FRAGMENT */))\n              }), 128 /* KEYED_FRAGMENT */))\n            ])\n          ]))\n        : _createCommentVNode(\"v-if\", true),\n      (__props.single && __props.single.getProgressOptions().length)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [\n            _createElementVNode(\"div\", _hoisted_15, _toDisplayString(_ctx.lang('prediction_ongoing')) + \":\", 1 /* TEXT */),\n            _createElementVNode(\"div\", _hoisted_16, [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.single.getProgressOptions(), (link) => {\n                return (_openBlock(), _createElementBlock(\"div\", {\n                  key: link.key,\n                  class: \"ongoing-item\",\n                  title: getTitle(link)\n                }, [\n                  (__props.single.getType() !== 'manga')\n                    ? (_openBlock(), _createElementBlock(\"span\", _hoisted_18, _toDisplayString(link.type === 'sub' ? 'subtitles' : 'record_voice_over'), 1 /* TEXT */))\n                    : _createCommentVNode(\"v-if\", true),\n                  _createElementVNode(\"span\", null, _toDisplayString(link.label), 1 /* TEXT */),\n                  _createElementVNode(\"span\", _hoisted_19, _toDisplayString(__props.single.getType() === 'manga' ? 'CH' : 'EP') + \" \" + _toDisplayString(link.episode), 1 /* TEXT */),\n                  (link.dropped)\n                    ? (_openBlock(), _createElementBlock(\"span\", _hoisted_20, \"warning\"))\n                    : _createCommentVNode(\"v-if\", true)\n                ], 8 /* PROPS */, _hoisted_17))\n              }), 128 /* KEYED_FRAGMENT */))\n            ])\n          ]))\n        : _createCommentVNode(\"v-if\", true)\n    ])\n  ]))\n}\n}\n\n})","<template>\n  <div>\n    <Header :spacer=\"true\">{{ lang('overview_Information') }}</Header>\n    <div class=\"flex\">\n      <div v-for=\"item in info\" :key=\"item.title\" class=\"item\">\n        <div class=\"type\">{{ item.title }}</div>\n        <div class=\"content\">\n          <template v-for=\"(link, index) in item.body\" :key=\"link\">\n            <div v-if=\"'type' in link && link.type === 'weektime' && link.date\">\n              <template v-if=\"link.date instanceof Date || !isNaN(Date.parse(link.date))\">\n                <span dir=\"auto\">{{ getTimezoneDate(link.date) }}</span>\n                <br />\n                <span>{{ getTimezoneDate(link.date, 'UTC') }}</span>\n                <br />\n                <span>{{ getTimezoneDate(link.date, 'Asia/Tokyo') }}</span>\n              </template>\n              <template v-else>{{ link.date }}</template>\n            </div>\n            <template v-else-if=\"!('type' in link)\">\n              <MediaLink v-if=\"link.url\" dir=\"auto\" color=\"secondary\" :href=\"link.url\">\n                {{ link.text }}\n              </MediaLink>\n              <span v-else dir=\"auto\">\n                {{ link.text }}\n              </span>\n              <span v-if=\"link.subtext\" class=\"subtext\">({{ link.subtext }})</span>\n              <span v-if=\"Number(index) + 1 < item.body.length\" dir=\"auto\">, </span>\n            </template>\n          </template>\n        </div>\n      </div>\n      <div v-if=\"single && single.getProgressCompleted().length\" class=\"item\">\n        <div class=\"type\">{{ lang('prediction_complete') }}:</div>\n        <div class=\"content\">\n          <template v-for=\"(link, index) in single.getProgressCompleted()\" :key=\"link.key\">\n            <TextIcon\n              v-if=\"single.getType() !== 'manga'\"\n              spacer=\"small\"\n              :icon=\"link.type === 'sub' ? 'subtitles' : 'record_voice_over'\"\n            >\n              {{ link.label }}\n            </TextIcon>\n            <span v-else>{{ link.label }}</span>\n            <span v-if=\"Number(index) + 1 < single.getProgressCompleted().length\">, </span>\n          </template>\n        </div>\n      </div>\n      <div v-if=\"single && single.getProgressOptions().length\" class=\"item ongoing\">\n        <div class=\"type\">{{ lang('prediction_ongoing') }}:</div>\n        <div class=\"content ongoing\">\n          <div\n            v-for=\"link in single.getProgressOptions()\"\n            :key=\"link.key\"\n            class=\"ongoing-item\"\n            :title=\"getTitle(link)\"\n          >\n            <span v-if=\"single.getType() !== 'manga'\" class=\"material-icons\">\n              {{ link.type === 'sub' ? 'subtitles' : 'record_voice_over' }}\n            </span>\n            <span>{{ link.label }}</span>\n            <span class=\"episode\">\n              {{ single.getType() === 'manga' ? 'CH' : 'EP' }}\n              {{ link.episode }}\n            </span>\n            <span v-if=\"link.dropped\" class=\"material-icons\" title=\"Dropped\">warning</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { PropType } from 'vue';\nimport { Overview } from '../../../_provider/metaOverviewAbstract';\nimport { SingleAbstract } from '../../../_provider/singleAbstract';\nimport Header from '../header.vue';\nimport MediaLink from '../media-link.vue';\nimport TextIcon from '../text-icon.vue';\nimport { IntlDateTime } from '../../../utils/IntlWrapper';\n\ndefineProps({\n  info: {\n    type: Array as PropType<Overview['info']>,\n    default: () => [],\n  },\n  single: {\n    type: Object as PropType<SingleAbstract | null>,\n    default: null,\n  },\n});\n\nfunction getTitle(item) {\n  if (item.lastEp && item.lastEp.timestamp) {\n    return new IntlDateTime(Number(item.lastEp.timestamp)).getRelativeNowFriendlyText('Progress', {\n      style: 'long',\n    });\n  }\n  if (item.predicition && item.predicition.timestamp) {\n    return api.storage.lang('prediction_next', [\n      new IntlDateTime(Number(item.predicition.timestamp)).getRelativeNowFriendlyText('Progress', {\n        style: 'long',\n      }),\n    ]);\n  }\n  return '';\n}\n\nfunction getTimezoneDate(\n  dateElement: Date | string,\n  timezone = Intl.DateTimeFormat().resolvedOptions().timeZone,\n) {\n  const options: Intl.DateTimeFormatOptions = {\n    weekday: 'long',\n    hour: '2-digit',\n    minute: '2-digit',\n    timeZoneName: timezone === 'Asia/Tokyo' ? undefined : 'short',\n    timeZone: timezone,\n  };\n\n  const date = typeof dateElement === 'string' ? new Date(dateElement) : dateElement;\n  return `${new IntlDateTime(date).getDateTimeText(options)}${timezone === 'Asia/Tokyo' ? ' JST' : ''}`;\n}\n</script>\n\n<style lang=\"less\" scoped>\n@import '../../less/_globals.less';\n\n.flex {\n  grid-gap: @spacer-half;\n  display: flex;\n  flex-direction: column;\n}\n\n.item {\n  display: flex;\n\n  .__breakpoint-desktop__({\n    flex-direction: column;\n    gap: 3px;\n  });\n\n  &.ongoing {\n    flex-direction: column;\n    gap: 3px;\n  }\n\n  .type {\n    margin-inline-end: 10px;\n    font-weight: 600;\n    white-space: nowrap;\n  }\n\n  .content {\n    flex-grow: 1;\n    width: 100%;\n    line-height: 1.3;\n\n    &.ongoing {\n      display: flex;\n      flex-direction: column;\n    }\n  }\n}\n\n.episode {\n  .border-radius-small();\n\n  display: inline-block;\n  border: 1px solid var(--cl-backdrop);\n  background-color: var(--cl-foreground);\n  font-size: @small-text;\n  padding: 2px 5px;\n  margin: 5px 0;\n}\n\n.ongoing-item {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.subtext {\n  margin-left: 3px;\n  font-size: @small-text;\n}\n</style>\n","import script from \"./overview-info.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./overview-info.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./overview-info.vue?vue&type=style&index=0&id=2603aa90&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-2603aa90\"],['__file',\"overview-info.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-2603aa90 {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.flex[data-v-2603aa90] {\\n  grid-gap: var(--size-spacer-half);\\n  display: flex;\\n  flex-direction: column;\\n}\\n.item[data-v-2603aa90] {\\n  display: flex;\\n}\\n@media screen and (min-width: 900px) {\\n.item[data-v-2603aa90] {\\n    flex-direction: column;\\n    gap: 3px;\\n}\\n}\\n.item.ongoing[data-v-2603aa90] {\\n  flex-direction: column;\\n  gap: 3px;\\n}\\n.item .type[data-v-2603aa90] {\\n  margin-inline-end: 10px;\\n  font-weight: 600;\\n  white-space: nowrap;\\n}\\n.item .content[data-v-2603aa90] {\\n  flex-grow: 1;\\n  width: 100%;\\n  line-height: 1.3;\\n}\\n.item .content.ongoing[data-v-2603aa90] {\\n  display: flex;\\n  flex-direction: column;\\n}\\n.episode[data-v-2603aa90] {\\n  border-radius: 5px;\\n  display: inline-block;\\n  border: 1px solid var(--cl-backdrop);\\n  background-color: var(--cl-foreground);\\n  font-size: 0.875rem;\\n  padding: 2px 5px;\\n  margin: 5px 0;\\n}\\n.ongoing-item[data-v-2603aa90] {\\n  display: flex;\\n  align-items: center;\\n  gap: 10px;\\n}\\n.subtext[data-v-2603aa90] {\\n  margin-left: 3px;\\n  font-size: 0.875rem;\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass } from \"vue\"\n\nconst _hoisted_1 = { class: \"loading-placeholder\" }\nconst _hoisted_2 = { class: \"text\" }\nconst _hoisted_3 = { class: \"load-button\" }\nconst _hoisted_4 = { class: \"head-dot\" }\nconst _hoisted_5 = { class: \"text\" }\nconst _hoisted_6 = { class: \"rec-cover\" }\nconst _hoisted_7 = { class: \"rec-name\" }\n\nimport { ref, computed, watch, PropType, inject } from 'vue';\nimport { createRequest } from '../../utils/reactive';\nimport Header from '../header.vue';\nimport { recommendationsMeta } from './overview-recommendations-meta';\nimport MediaLink from '../media-link.vue';\nimport Description from '../description.vue';\nimport Section from '../section.vue';\nimport FormButton from '../form/form-button.vue';\nimport Pagination from '../pagination.vue';\nimport ImageText from '../image-text.vue';\nimport HR from '../hr.vue';\nimport Empty from '../empty.vue';\nimport Card from '../card.vue';\nimport TextIcon from '../text-icon.vue';\nimport StateDot from '../state-dot.vue';\nimport ImageFit from '../image-fit.vue';\nimport Grid from '../grid.vue';\nimport TextCutoff from '../text-cutoff.vue';\nimport { Recommendation } from '../../../_provider/metaOverviewAbstract';\nimport PillSplit from '../pill-split.vue';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'overview-recommendations',\n  props: {\n  recommendations: {\n    type: Array as PropType<Recommendation[]>,\n    default: () => [],\n  },\n  malUrl: {\n    type: String,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst breakpoint = inject('breakpoint');\n\nconst props = __props;\n\nconst parameters = ref({\n  url: computed(() => props.malUrl),\n  load: false,\n});\n\nconst metaRequest = createRequest(parameters, params => recommendationsMeta(params.value.url), {\n  executeCondition: params => params.value.load && params.value.url,\n  cache: {\n    prefix: 'overview-recommendations',\n    ttl: 7 * 24 * 60 * 60 * 1000,\n    refetchTtl: 7 * 24 * 60 * 60 * 1000,\n    keyFn: params => params.value.url,\n  },\n});\n\nwatch(\n  () => props.malUrl,\n  () => {\n    parameters.value.load = false;\n  },\n);\n\nconst data = computed(() =>\n  props.recommendations && props.recommendations.length ? props.recommendations : metaRequest.data,\n);\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass({ stopLoading: !_unref(metaRequest).loading })\n  }, [\n    _createVNode(Header, { spacer: true }, {\n      default: _withCtx(() => [\n        _createTextVNode(_toDisplayString(_ctx.lang('minimalApp_Recommendations')), 1 /* TEXT */)\n      ]),\n      _: 1 /* STABLE */\n    }),\n    (\n        _unref(metaRequest).loading ||\n        (!_unref(metaRequest).loading && !parameters.value.load && !_unref(metaRequest).cache && !__props.recommendations.length)\n      )\n      ? (_openBlock(), _createBlock(Card, {\n          key: 0,\n          class: \"grid-sp\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_1, [\n              _createVNode(ImageText, {\n                href: \"\",\n                image: \"\",\n                \"image-type\": \"cover\",\n                loading: true\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(Header, {\n                    spacer: \"half\",\n                    class: \"skeleton-text\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(MediaLink, { href: \"\" })\n                    ]),\n                    _: 1 /* STABLE */\n                  }),\n                  _cache[1] || (_cache[1] = _createElementVNode(\"div\", { class: \"skeleton-text\" }, null, -1 /* HOISTED */)),\n                  _createElementVNode(\"div\", _hoisted_2, [\n                    _createVNode(Description, {\n                      loading: true,\n                      height: \"dynamic\",\n                      minheight: \"34px\"\n                    })\n                  ])\n                ]),\n                _: 1 /* STABLE */\n              }),\n              _createElementVNode(\"div\", _hoisted_3, [\n                (!_unref(metaRequest).loading)\n                  ? (_openBlock(), _createBlock(FormButton, {\n                      key: 0,\n                      padding: \"large\",\n                      color: \"secondary\",\n                      onClick: _cache[0] || (_cache[0] = ($event: any) => (parameters.value.load = true))\n                    }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(_toDisplayString(_ctx.lang('Load')), 1 /* TEXT */)\n                      ]),\n                      _: 1 /* STABLE */\n                    }))\n                  : _createCommentVNode(\"v-if\", true)\n              ])\n            ])\n          ]),\n          _: 1 /* STABLE */\n        }))\n      : _createCommentVNode(\"v-if\", true),\n    (!_unref(metaRequest).loading && data.value && data.value.length)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 1,\n          class: _normalizeClass({ 'grid-sp': data.value[0].body && !_unref(metaRequest).cache })\n        }, [\n          (data.value[0].body)\n            ? (_openBlock(), _createBlock(Pagination, {\n                key: 0,\n                \"entries-per-page\": 3,\n                elements: data.value\n              }, {\n                elements: _withCtx(({ elements }) => [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(elements, (rec, index) => {\n                    return (_openBlock(), _createBlock(Section, {\n                      key: rec.entry.url\n                    }, {\n                      default: _withCtx(() => [\n                        index\n                          ? (_openBlock(), _createBlock(HR, {\n                              key: 0,\n                              size: \"thin\"\n                            }))\n                          : _createCommentVNode(\"v-if\", true),\n                        _createVNode(ImageText, {\n                          href: rec.entry.url,\n                          image: rec.entry.image,\n                          \"image-type\": \"cover\"\n                        }, {\n                          default: _withCtx(() => [\n                            _createVNode(Header, { spacer: \"half\" }, {\n                              default: _withCtx(() => [\n                                _createVNode(MediaLink, {\n                                  href: rec.entry.url\n                                }, {\n                                  default: _withCtx(() => [\n                                    _createElementVNode(\"div\", _hoisted_4, [\n                                      _createVNode(StateDot, {\n                                        class: \"dot\",\n                                        status: rec.entry.list ? rec.entry.list.status : 0\n                                      }, null, 8 /* PROPS */, [\"status\"]),\n                                      _createTextVNode(\" \" + _toDisplayString(rec.entry.title), 1 /* TEXT */)\n                                    ])\n                                  ]),\n                                  _: 2 /* DYNAMIC */\n                                }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"href\"])\n                              ]),\n                              _: 2 /* DYNAMIC */\n                            }, 1024 /* DYNAMIC_SLOTS */),\n                            _createElementVNode(\"div\", null, [\n                              _createVNode(MediaLink, {\n                                href: rec.body.more.url\n                              }, {\n                                default: _withCtx(() => [\n                                  _createVNode(TextIcon, {\n                                    icon: \"open_in_new\",\n                                    position: \"after\",\n                                    spacer: \"small\"\n                                  }, {\n                                    default: _withCtx(() => [\n                                      _cache[4] || (_cache[4] = _createTextVNode(\" Recommended by \")),\n                                      _createElementVNode(\"strong\", null, [\n                                        _createVNode(MediaLink, {\n                                          href: rec.user.href\n                                        }, {\n                                          default: _withCtx(() => [\n                                            _createTextVNode(_toDisplayString(rec.user.name), 1 /* TEXT */)\n                                          ]),\n                                          _: 2 /* DYNAMIC */\n                                        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"href\"])\n                                      ]),\n                                      (rec.body.more.number)\n                                        ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                                            _cache[2] || (_cache[2] = _createTextVNode(\" and \")),\n                                            _createElementVNode(\"strong\", null, _toDisplayString(rec.body.more.number), 1 /* TEXT */),\n                                            _cache[3] || (_cache[3] = _createTextVNode(\" more users \"))\n                                          ], 64 /* STABLE_FRAGMENT */))\n                                        : _createCommentVNode(\"v-if\", true)\n                                    ]),\n                                    _: 2 /* DYNAMIC */\n                                  }, 1024 /* DYNAMIC_SLOTS */)\n                                ]),\n                                _: 2 /* DYNAMIC */\n                              }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"href\"])\n                            ]),\n                            _createElementVNode(\"div\", _hoisted_5, [\n                              _createVNode(Description, {\n                                height: \"dynamic\",\n                                minheight: \"34px\"\n                              }, {\n                                default: _withCtx(() => [\n                                  _createTextVNode(_toDisplayString(rec.body.text), 1 /* TEXT */)\n                                ]),\n                                _: 2 /* DYNAMIC */\n                              }, 1024 /* DYNAMIC_SLOTS */)\n                            ])\n                          ]),\n                          _: 2 /* DYNAMIC */\n                        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"href\", \"image\"])\n                      ]),\n                      _: 2 /* DYNAMIC */\n                    }, 1024 /* DYNAMIC_SLOTS */))\n                  }), 128 /* KEYED_FRAGMENT */))\n                ]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"elements\"]))\n            : (_openBlock(), _createBlock(Pagination, {\n                key: 1,\n                \"entries-per-page\": _unref(breakpoint) === 'desktop' ? 6 : 4,\n                elements: data.value,\n                \"open-all\": true\n              }, {\n                elements: _withCtx(({ elements }) => [\n                  _createVNode(Section, null, {\n                    default: _withCtx(() => [\n                      _createVNode(Grid, {\n                        \"min-width-popup\": 100,\n                        \"min-width\": 130\n                      }, {\n                        default: _withCtx(() => [\n                          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(elements, (rec) => {\n                            return (_openBlock(), _createBlock(MediaLink, {\n                              key: rec.entry.title,\n                              class: \"rec\",\n                              href: rec.entry.url\n                            }, {\n                              default: _withCtx(() => [\n                                _createElementVNode(\"div\", _hoisted_6, [\n                                  _createVNode(ImageFit, {\n                                    mode: \"cover\",\n                                    src: rec.entry.image\n                                  }, null, 8 /* PROPS */, [\"src\"]),\n                                  (rec.stats)\n                                    ? (_openBlock(), _createBlock(PillSplit, {\n                                        key: 0,\n                                        class: \"users\",\n                                        left: false\n                                      }, {\n                                        right: _withCtx(() => [\n                                          _createVNode(TextIcon, {\n                                            icon: \"people\",\n                                            position: \"before\",\n                                            spacer: \"small\"\n                                          }, {\n                                            default: _withCtx(() => [\n                                              _createTextVNode(_toDisplayString(rec.stats.users), 1 /* TEXT */)\n                                            ]),\n                                            _: 2 /* DYNAMIC */\n                                          }, 1024 /* DYNAMIC_SLOTS */)\n                                        ]),\n                                        _: 2 /* DYNAMIC */\n                                      }, 1024 /* DYNAMIC_SLOTS */))\n                                    : _createCommentVNode(\"v-if\", true)\n                                ]),\n                                _createElementVNode(\"div\", null, [\n                                  _createElementVNode(\"div\", _hoisted_7, [\n                                    _createVNode(TextCutoff, null, {\n                                      default: _withCtx(() => [\n                                        _createTextVNode(_toDisplayString(rec.entry.title), 1 /* TEXT */)\n                                      ]),\n                                      _: 2 /* DYNAMIC */\n                                    }, 1024 /* DYNAMIC_SLOTS */)\n                                  ])\n                                ])\n                              ]),\n                              _: 2 /* DYNAMIC */\n                            }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"href\"]))\n                          }), 128 /* KEYED_FRAGMENT */))\n                        ]),\n                        _: 2 /* DYNAMIC */\n                      }, 1024 /* DYNAMIC_SLOTS */)\n                    ]),\n                    _: 2 /* DYNAMIC */\n                  }, 1024 /* DYNAMIC_SLOTS */)\n                ]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"entries-per-page\", \"elements\"]))\n        ], 2 /* CLASS */))\n      : _createCommentVNode(\"v-if\", true),\n    (!_unref(metaRequest).loading && data.value && !data.value.length)\n      ? (_openBlock(), _createBlock(Section, { key: 2 }, {\n          default: _withCtx(() => [\n            _createVNode(Empty, {\n              card: true,\n              icon: \"egg_alt\"\n            })\n          ]),\n          _: 1 /* STABLE */\n        }))\n      : _createCommentVNode(\"v-if\", true)\n  ], 2 /* CLASS */))\n}\n}\n\n})","<template>\n  <div :class=\"{ stopLoading: !metaRequest.loading }\">\n    <Header :spacer=\"true\">{{ lang('minimalApp_Recommendations') }}</Header>\n    <Card\n      v-if=\"\n        metaRequest.loading ||\n        (!metaRequest.loading && !parameters.load && !metaRequest.cache && !recommendations.length)\n      \"\n      class=\"grid-sp\"\n    >\n      <div class=\"loading-placeholder\">\n        <ImageText href=\"\" image=\"\" image-type=\"cover\" :loading=\"true\">\n          <Header spacer=\"half\" class=\"skeleton-text\">\n            <MediaLink href=\"\"></MediaLink>\n          </Header>\n          <div class=\"skeleton-text\"></div>\n          <div class=\"text\">\n            <Description :loading=\"true\" height=\"dynamic\" minheight=\"34px\"></Description>\n          </div>\n        </ImageText>\n        <div class=\"load-button\">\n          <FormButton\n            v-if=\"!metaRequest.loading\"\n            padding=\"large\"\n            color=\"secondary\"\n            @click=\"parameters.load = true\"\n          >\n            {{ lang('Load') }}\n          </FormButton>\n        </div>\n      </div>\n    </Card>\n    <div\n      v-if=\"!metaRequest.loading && data && data.length\"\n      :class=\"{ 'grid-sp': data[0].body && !metaRequest.cache }\"\n    >\n      <Pagination v-if=\"data[0].body\" :entries-per-page=\"3\" :elements=\"data\">\n        <template #elements=\"{ elements }\">\n          <Section v-for=\"(rec, index) in elements\" :key=\"rec.entry.url\">\n            <HR v-if=\"index\" size=\"thin\" />\n            <ImageText :href=\"rec.entry.url\" :image=\"rec.entry.image\" image-type=\"cover\">\n              <Header spacer=\"half\">\n                <MediaLink :href=\"rec.entry.url\">\n                  <div class=\"head-dot\">\n                    <StateDot class=\"dot\" :status=\"rec.entry.list ? rec.entry.list.status : 0\" />\n                    {{ rec.entry.title }}\n                  </div>\n                </MediaLink>\n              </Header>\n              <div>\n                <MediaLink :href=\"rec.body.more.url\">\n                  <TextIcon icon=\"open_in_new\" position=\"after\" spacer=\"small\">\n                    Recommended by\n                    <strong>\n                      <MediaLink :href=\"rec.user.href\">{{ rec.user.name }}</MediaLink>\n                    </strong>\n                    <template v-if=\"rec.body.more.number\">\n                      and <strong>{{ rec.body.more.number }}</strong> more users\n                    </template>\n                  </TextIcon>\n                </MediaLink>\n              </div>\n              <div class=\"text\">\n                <Description height=\"dynamic\" minheight=\"34px\">{{ rec.body.text }}</Description>\n              </div>\n            </ImageText>\n          </Section>\n        </template>\n      </Pagination>\n      <Pagination\n        v-else\n        :entries-per-page=\"breakpoint === 'desktop' ? 6 : 4\"\n        :elements=\"data\"\n        :open-all=\"true\"\n      >\n        <template #elements=\"{ elements }\">\n          <Section>\n            <Grid :min-width-popup=\"100\" :min-width=\"130\">\n              <MediaLink\n                v-for=\"rec in elements\"\n                :key=\"rec.entry.title\"\n                class=\"rec\"\n                :href=\"rec.entry.url\"\n              >\n                <div class=\"rec-cover\">\n                  <ImageFit mode=\"cover\" :src=\"rec.entry.image\" />\n                  <PillSplit v-if=\"rec.stats\" class=\"users\" :left=\"false\">\n                    <template #right>\n                      <TextIcon icon=\"people\" position=\"before\" spacer=\"small\">\n                        {{ rec.stats.users }}\n                      </TextIcon>\n                    </template>\n                  </PillSplit>\n                </div>\n                <div>\n                  <div class=\"rec-name\">\n                    <TextCutoff>{{ rec.entry.title }}</TextCutoff>\n                  </div>\n                </div>\n              </MediaLink>\n            </Grid>\n          </Section>\n        </template>\n      </Pagination>\n    </div>\n    <Section v-if=\"!metaRequest.loading && data && !data.length\">\n      <Empty :card=\"true\" icon=\"egg_alt\" />\n    </Section>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref, computed, watch, PropType, inject } from 'vue';\nimport { createRequest } from '../../utils/reactive';\nimport Header from '../header.vue';\nimport { recommendationsMeta } from './overview-recommendations-meta';\nimport MediaLink from '../media-link.vue';\nimport Description from '../description.vue';\nimport Section from '../section.vue';\nimport FormButton from '../form/form-button.vue';\nimport Pagination from '../pagination.vue';\nimport ImageText from '../image-text.vue';\nimport HR from '../hr.vue';\nimport Empty from '../empty.vue';\nimport Card from '../card.vue';\nimport TextIcon from '../text-icon.vue';\nimport StateDot from '../state-dot.vue';\nimport ImageFit from '../image-fit.vue';\nimport Grid from '../grid.vue';\nimport TextCutoff from '../text-cutoff.vue';\nimport { Recommendation } from '../../../_provider/metaOverviewAbstract';\nimport PillSplit from '../pill-split.vue';\n\nconst breakpoint = inject('breakpoint');\n\nconst props = defineProps({\n  recommendations: {\n    type: Array as PropType<Recommendation[]>,\n    default: () => [],\n  },\n  malUrl: {\n    type: String,\n    required: true,\n  },\n});\n\nconst parameters = ref({\n  url: computed(() => props.malUrl),\n  load: false,\n});\n\nconst metaRequest = createRequest(parameters, params => recommendationsMeta(params.value.url), {\n  executeCondition: params => params.value.load && params.value.url,\n  cache: {\n    prefix: 'overview-recommendations',\n    ttl: 7 * 24 * 60 * 60 * 1000,\n    refetchTtl: 7 * 24 * 60 * 60 * 1000,\n    keyFn: params => params.value.url,\n  },\n});\n\nwatch(\n  () => props.malUrl,\n  () => {\n    parameters.value.load = false;\n  },\n);\n\nconst data = computed(() =>\n  props.recommendations && props.recommendations.length ? props.recommendations : metaRequest.data,\n);\n</script>\n\n<style lang=\"less\" scoped>\n@import '../../less/_globals.less';\n\n.text {\n  white-space: pre-line;\n  flex-grow: 1;\n}\n\n.grid-sp {\n  padding: 10px !important;\n}\n\n.text {\n  margin-top: @spacer-half;\n}\n\n.head-dot {\n  display: flex;\n  align-items: center;\n}\n\n.rec-cover {\n  .click-move-down();\n\n  position: relative;\n\n  .users {\n    position: absolute;\n    top: var(--size-spacer-half);\n    left: var(--size-spacer-half);\n  }\n}\n.rec-name {\n  font-weight: bold;\n  margin-top: 10px;\n}\n\n.skeleton-text {\n  .skeleton-text();\n\n  color: transparent;\n}\n\n.loading-placeholder {\n  position: relative;\n  .load-button {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 3;\n  }\n}\n\n.stopLoading {\n  --cl-loading: 0;\n}\n\n:deep(.close-button-box) {\n  padding-right: calc(15px + (@normal-text * 6.25));\n}\n\n:deep(.description.close:not(.loading)) {\n  margin-left: calc((15px + (@normal-text * 6.25)) * -1);\n  padding-left: calc(15px + (@normal-text * 6.25));\n}\n</style>\n","import { Recommendation } from '../../../_provider/metaOverviewAbstract';\n\nexport async function recommendationsMeta(malUrl: string): Promise<Recommendation[]> {\n  const res: Recommendation[] = [];\n  const response = await api.request.xhr('GET', `${malUrl}/_/userrecs`);\n\n  try {\n    const recommendationsBlock = response.responseText\n      .split('Make a recommendation</a>')[1]\n      .split('</h2>')[1]\n      .split('<div class=\"mauto')[0];\n\n    j.$.each(j.$(j.$.parseHTML(recommendationsBlock)).filter('.borderClass'), (index, value) => {\n      const imageBlock = j.$(value).find('.picSurround');\n\n      const titleHref = imageBlock.find('a').attr('href');\n\n      const titleName = imageBlock.find('a > img').first().attr('alt');\n\n      let imageUrl = imageBlock.find('a > img').first().attr('data-src');\n      if (imageUrl) imageUrl = imageUrl.replace(/\\/r\\/\\d*x\\d*/g, '');\n\n      const username = j.$(value).find('.detail-user-recs-text').next().find('a').last().text();\n\n      const userHref = utils.absoluteLink(\n        j.$(value).find('.detail-user-recs-text').next().find('a').last().attr('href'),\n        'https://myanimelist.net',\n      );\n\n      const text = j\n        .$(value)\n        .find('.detail-user-recs-text')\n        .first()\n        .text()\n        .replace('read more', '')\n        .trim();\n\n      const moreUrl = utils.absoluteLink(\n        j.$(value).find('[title=\"Permalink\"]').attr('href'),\n        'https://myanimelist.net',\n      );\n\n      const moreNumber = Number(\n        j.$(value).find('.js-similar-recommendations-button strong').text() || 0,\n      );\n\n      res.push({\n        entry: {\n          title: titleName || '',\n          url: titleHref || '',\n          image: imageUrl || '',\n        },\n        user: {\n          name: username,\n          href: userHref,\n        },\n        body: {\n          text,\n          more: {\n            url: moreUrl,\n            number: moreNumber,\n          },\n        },\n      });\n    });\n\n    for (const recommendation in res) {\n      const type = utils.urlPart(res[recommendation].entry.url, 3);\n      const id = Number(utils.urlPart(res[recommendation].entry.url, 4));\n\n      // eslint-disable-next-line no-await-in-loop\n      const dbEntry = await api.request.database('entryByMalId', {\n        id,\n        type,\n      });\n      if (dbEntry) {\n        res[recommendation].entry.list = {\n          status: dbEntry.status,\n          score: dbEntry.score,\n          episode: dbEntry.watchedEp,\n        };\n      }\n    }\n  } catch (e) {\n    con.m('review').error(e);\n  }\n\n  return res;\n}\n","import script from \"./overview-recommendations.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./overview-recommendations.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./overview-recommendations.vue?vue&type=style&index=0&id=54c69f08&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-54c69f08\"],['__file',\"overview-recommendations.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-54c69f08 {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.text[data-v-54c69f08] {\\n  white-space: pre-line;\\n  flex-grow: 1;\\n}\\n.grid-sp[data-v-54c69f08] {\\n  padding: 10px !important;\\n}\\n.text[data-v-54c69f08] {\\n  margin-top: var(--size-spacer-half);\\n}\\n.head-dot[data-v-54c69f08] {\\n  display: flex;\\n  align-items: center;\\n}\\n.rec-cover[data-v-54c69f08] {\\n  transition: transform 0.25s ease;\\n  position: relative;\\n}\\n.rec-cover[data-v-54c69f08]:active {\\n  transition-delay: 0s !important;\\n  transform: translateY(3px);\\n}\\n.rec-cover .users[data-v-54c69f08] {\\n  position: absolute;\\n  top: var(--size-spacer-half);\\n  left: var(--size-spacer-half);\\n}\\n.rec-name[data-v-54c69f08] {\\n  font-weight: bold;\\n  margin-top: 10px;\\n}\\n.skeleton-text[data-v-54c69f08] {\\n  position: relative;\\n  overflow: hidden;\\n  transition: background-color 0.1s ease-in-out;\\n  background-color: var(--cl-backdrop);\\n  width: 20em;\\n  height: 1em;\\n  margin-bottom: 0.2em;\\n  border-radius: 0.25rem;\\n  max-width: 100%;\\n  color: transparent;\\n}\\n.skeleton-text[data-v-54c69f08]::after {\\n  opacity: var(--cl-loading);\\n  transition: opacity 0.25s ease-in-out;\\n  animation: skeleton-loading-malsync-54c69f08 1.5s infinite;\\n  content: '';\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  transform: translateX(-100%);\\n  z-index: 1;\\n  background: linear-gradient(90deg, hsla(0, 0%, 100%, 0), var(--cl-backdrop), hsla(0, 0%, 100%, 0));\\n  filter: brightness(1.15);\\n}\\n.loading-placeholder[data-v-54c69f08] {\\n  position: relative;\\n}\\n.loading-placeholder .load-button[data-v-54c69f08] {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  z-index: 3;\\n}\\n.stopLoading[data-v-54c69f08] {\\n  --cl-loading: 0;\\n}\\n[data-v-54c69f08] .close-button-box {\\n  padding-right: calc(15px + (var(--base-font-size) * 6.25));\\n}\\n[data-v-54c69f08] .description.close:not(.loading) {\\n  margin-left: calc((15px + (var(--base-font-size) * 6.25)) * -1);\\n  padding-left: calc(15px + (var(--base-font-size) * 6.25));\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"grid\" }\nconst _hoisted_2 = { class: \"type\" }\n\nimport { PropType } from 'vue';\nimport { Overview } from '../../../_provider/metaOverviewAbstract';\nimport Header from '../header.vue';\nimport MediaLink from '../media-link.vue';\nimport StateDot from '../state-dot.vue';\nimport FormButton from '../form/form-button.vue';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'overview-related',\n  props: {\n  related: {\n    type: Array as PropType<Overview['related']>,\n    required: false,\n    default: () => [],\n  },\n},\n  setup(__props) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _createVNode(Header, { spacer: true }, {\n      default: _withCtx(() => [\n        _createTextVNode(_toDisplayString(_ctx.lang('overview_Related')), 1 /* TEXT */)\n      ]),\n      _: 1 /* STABLE */\n    }),\n    _createElementVNode(\"div\", _hoisted_1, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.related, (relation) => {\n        return (_openBlock(), _createBlock(FormButton, {\n          key: relation.type,\n          link: relation.links.length === 1 ? relation.links[0].url : '',\n          \"hover-animation\": false,\n          tabindex: -1,\n          class: \"related-item\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_2, _toDisplayString(relation.type), 1 /* TEXT */),\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(relation.links, (link) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                key: link.id,\n                class: \"title\"\n              }, [\n                _createVNode(MediaLink, {\n                  href: link.url,\n                  class: \"link\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(StateDot, {\n                      status: link.list ? link.list.status : 0,\n                      \"relative-height\": true\n                    }, null, 8 /* PROPS */, [\"status\"]),\n                    _createElementVNode(\"span\", null, _toDisplayString(link.title), 1 /* TEXT */)\n                  ]),\n                  _: 2 /* DYNAMIC */\n                }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"href\"])\n              ]))\n            }), 128 /* KEYED_FRAGMENT */))\n          ]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"link\"]))\n      }), 128 /* KEYED_FRAGMENT */))\n    ])\n  ]))\n}\n}\n\n})","import script from \"./overview-related.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./overview-related.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./overview-related.vue?vue&type=style&index=0&id=8ff0e694&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-8ff0e694\"],['__file',\"overview-related.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-8ff0e694 {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.grid[data-v-8ff0e694] {\\n  grid-gap: var(--size-spacer-half);\\n  display: flex;\\n  flex-direction: column;\\n}\\n@media screen and (min-width: 900px) {\\n.grid[data-v-8ff0e694] {\\n    display: grid;\\n    grid-template-columns: repeat(2, 2fr);\\n    gap: var(--size-spacer);\\n}\\n}\\n.grid .related-item[data-v-8ff0e694] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 10px;\\n}\\n.grid .type[data-v-8ff0e694] {\\n  font-weight: 600;\\n}\\n.grid .link[data-v-8ff0e694] {\\n  display: flex;\\n  align-items: center;\\n}\\n.grid .link:hover span[data-v-8ff0e694] {\\n  opacity: 0.6;\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nimport ErrorGeneral from './error-general.vue';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'error-meta',\n  props: {\n  metaRequest: {\n    type: Object,\n    default: () => ({}),\n  },\n},\n  setup(__props) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (!__props.metaRequest.loading && __props.metaRequest.error)\n    ? (_openBlock(), _createBlock(ErrorGeneral, { key: 0 }, {\n        default: _withCtx(() => [\n          _createTextVNode(_toDisplayString(__props.metaRequest.error.message || __props.metaRequest.error), 1 /* TEXT */)\n        ]),\n        _: 1 /* STABLE */\n      }))\n    : _createCommentVNode(\"v-if\", true)\n}\n}\n\n})","import script from \"./error-meta.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./error-meta.vue?vue&type=script&lang=ts&setup=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__file',\"error-meta.vue\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, unref as _unref, withCtx as _withCtx, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withModifiers as _withModifiers, normalizeClass as _normalizeClass, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"overview\"\n}\nconst _hoisted_2 = { class: \"header-section\" }\nconst _hoisted_3 = { class: \"statusDotSection\" }\nconst _hoisted_4 = { class: \"header-title\" }\nconst _hoisted_5 = { class: \"alt-titles\" }\nconst _hoisted_6 = { class: \"value\" }\n\nimport { computed, inject, PropType, reactive, ref, watch } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { pathToUrl } from '../../utils/slugs';\nimport { getOverview } from '../../_provider/metaDataFactory';\nimport { createRequest } from '../utils/reactive';\nimport OverviewImage from '../components/overview/overview-image.vue';\nimport Section from '../components/section.vue';\nimport Header from '../components/header.vue';\nimport StateDot from '../components/state-dot.vue';\nimport Description from '../components/description.vue';\nimport TextScroller from '../components/text-scroller.vue';\nimport OverviewUpdateUi from '../components/overview/overview-update-ui.vue';\nimport OverviewStreaming from '../components/overview/overview-streaming.vue';\nimport OverviewCharacters from '../components/overview/overview-characters.vue';\nimport OverviewReviews from '../components/overview/overview-reviews.vue';\nimport OverviewInfo from '../components/overview/overview-info.vue';\nimport OverviewRecommendations from '../components/overview/overview-recommendations.vue';\nimport OverviewRelated from '../components/overview/overview-related.vue';\nimport Modal from '../components/modal.vue';\nimport HR from '../components/hr.vue';\nimport { NotFoundError, UrlNotSupportedError } from '../../_provider/Errors';\nimport { getSingle } from '../../_provider/singleFactory';\nimport MediaLink from '../components/media-link.vue';\n// eslint-disable-next-line @typescript-eslint/no-unused-vars, no-unused-vars\nimport { SingleAbstract } from '../../_provider/singleAbstract';\nimport ErrorMeta from '../components/error/error-meta.vue';\nimport PillDark from '../components/pill-dark.vue';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'overview',\n  props: {\n  type: {\n    type: String as PropType<'anime' | 'manga'>,\n    required: true,\n  },\n  slug: {\n    type: String,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst breakpoint = inject('breakpoint');\n\nconst route = useRoute();\nconst router = useRouter();\n\nconst titleModal = ref(false);\n\nconst hide = ref(true);\nsetTimeout(() => {\n  hide.value = false;\n}, 100);\n\nconst open404 = () => {\n  router.push({\n    name: 'NotFound',\n    params: { pathMatch: route.path.substring(1).split('/') },\n    query: route.query,\n    hash: route.hash,\n  });\n};\n\nconst props = __props;\n\nconst url = computed(() => {\n  try {\n    return props.slug ? pathToUrl(props) : '';\n  } catch (error) {\n    con.error(error);\n    open404();\n  }\n  return '';\n});\n\nconst parameters = ref({\n  url,\n  type: props.type as 'anime' | 'manga',\n});\n\nconst metaRequest = createRequest(parameters, async param => {\n  if (!param.value.url) return null;\n  const ov = await getOverview(param.value.url, param.value.type).init();\n  return ov.getMeta();\n});\n\nconst singleRequest = createRequest(parameters, async param => {\n  if (!param.value.url) return null;\n  const single = reactive(getSingle(param.value.url));\n  await single.update().catch(e => {\n    con.error(e);\n    return single;\n  });\n\n  single.initProgress();\n\n  return single;\n});\n\nwatch(\n  () => metaRequest.error,\n  error => {\n    if (error instanceof UrlNotSupportedError || error instanceof NotFoundError) {\n      open404();\n    }\n  },\n);\n\nwatch(\n  () => singleRequest.error,\n  error => {\n    if (error instanceof UrlNotSupportedError || error instanceof NotFoundError) {\n      open404();\n    }\n  },\n);\n\nconst cleanDescription = computed(() => {\n  if (!metaRequest.data) return '';\n  const { description } = metaRequest.data;\n  if (!description) return '';\n  const cleanedBr = description.replace(/(< *\\/? *br *\\/? *>(\\r|\\n| )*){2,}/gim, '<br /><br />');\n  return cleanedBr.replace(/<a\\b/gi, '<a target=\"_blank\" rel=\"noopener noreferrer\"');\n});\n\nconst totalLoading = computed(() => {\n  if (!metaRequest.loading) return false;\n  return metaRequest.loading || singleRequest.loading;\n});\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_dompurify_html = _resolveDirective(\"dompurify-html\")!\n\n  return (!hide.value)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createVNode(Section, { class: \"image-section fake\" }),\n        _createVNode(Section, { class: \"image-section real\" }, {\n          default: _withCtx(() => [\n            _createVNode(OverviewImage, {\n              class: \"image\",\n              single: _unref(singleRequest).data as null | SingleAbstract,\n              src: _unref(metaRequest).data?.imageLarge || _unref(singleRequest).data?.getImage() || '',\n              loading: _unref(metaRequest).loading\n            }, null, 8 /* PROPS */, [\"single\", \"src\", \"loading\"])\n          ]),\n          _: 1 /* STABLE */\n        }),\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createVNode(Section, { spacer: \"half\" }, {\n            default: _withCtx(() => [\n              _createVNode(MediaLink, {\n                \"force-link\": true,\n                href: _unref(singleRequest).data?.getDisplayUrl() || ''\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(Header, {\n                    loading: _unref(metaRequest).loading,\n                    class: _normalizeClass([\"header-block\", {\n              hasTitle:\n                _unref(metaRequest).data &&\n                _unref(metaRequest).data.alternativeTitle &&\n                _unref(metaRequest).data.alternativeTitle.length,\n            }])\n                  }, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"div\", _hoisted_3, [\n                        _createVNode(StateDot, {\n                          class: \"dot\",\n                          status: \n                  !_unref(singleRequest).loading && _unref(singleRequest).data?.getStatus()\n                    ? _unref(singleRequest).data?.getStatus()\n                    : 0\n                \n                        }, null, 8 /* PROPS */, [\"status\"]),\n                        _cache[2] || (_cache[2] = _createElementVNode(\"span\", { class: \"header-link material-icons\" }, \"open_in_new\", -1 /* HOISTED */))\n                      ]),\n                      _createElementVNode(\"span\", _hoisted_4, [\n                        _createTextVNode(_toDisplayString(_unref(metaRequest).data?.title || _unref(singleRequest).data?.getTitle() || '') + \" \", 1 /* TEXT */),\n                        _createVNode(PillDark, {\n                          class: \"header-synonyms\",\n                          onClick: _cache[0] || (_cache[0] = _withModifiers(($event: any) => (titleModal.value = true), [\"prevent\"]))\n                        }, {\n                          default: _withCtx(() => [\n                            _createTextVNode(_toDisplayString(_ctx.lang('overview_synonyms')), 1 /* TEXT */)\n                          ]),\n                          _: 1 /* STABLE */\n                        })\n                      ])\n                    ]),\n                    _: 1 /* STABLE */\n                  }, 8 /* PROPS */, [\"loading\", \"class\"])\n                ]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"href\"]),\n              (\n            _unref(metaRequest).data &&\n            _unref(metaRequest).data.alternativeTitle &&\n            _unref(metaRequest).data.alternativeTitle.length\n          )\n                ? (_openBlock(), _createBlock(Modal, {\n                    key: 0,\n                    modelValue: titleModal.value,\n                    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((titleModal).value = $event))\n                  }, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"div\", _hoisted_5, [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList([...new Set((_unref(metaRequest)).data.alternativeTitle)], (altTitle) => {\n                          return (_openBlock(), _createElementBlock(\"div\", {\n                            key: altTitle,\n                            class: \"alt-title\"\n                          }, _toDisplayString(altTitle), 1 /* TEXT */))\n                        }), 128 /* KEYED_FRAGMENT */))\n                      ])\n                    ]),\n                    _: 1 /* STABLE */\n                  }, 8 /* PROPS */, [\"modelValue\"]))\n                : _createCommentVNode(\"v-if\", true)\n            ]),\n            _: 1 /* STABLE */\n          }),\n          _createVNode(ErrorMeta, { \"meta-request\": _unref(metaRequest) }, null, 8 /* PROPS */, [\"meta-request\"]),\n          (_unref(metaRequest).data?.statistics?.length || _unref(metaRequest).loading)\n            ? (_openBlock(), _createBlock(Section, {\n                key: 0,\n                spacer: \"half\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(TextScroller, {\n                    class: \"stats\",\n                    loading: _unref(metaRequest).loading\n                  }, {\n                    default: _withCtx(() => [\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(metaRequest).data!.statistics, (stat) => {\n                        return (_openBlock(), _createElementBlock(\"span\", {\n                          key: stat.title,\n                          class: \"stats-block\"\n                        }, [\n                          _createTextVNode(_toDisplayString(stat.title) + \" \", 1 /* TEXT */),\n                          _createElementVNode(\"span\", _hoisted_6, _toDisplayString(stat.body), 1 /* TEXT */)\n                        ]))\n                      }), 128 /* KEYED_FRAGMENT */))\n                    ]),\n                    _: 1 /* STABLE */\n                  }, 8 /* PROPS */, [\"loading\"])\n                ]),\n                _: 1 /* STABLE */\n              }))\n            : _createCommentVNode(\"v-if\", true),\n          _createVNode(Section, { class: \"description-section\" }, {\n            default: _withCtx(() => [\n              _createVNode(Description, {\n                loading: totalLoading.value,\n                height: _unref(breakpoint) === 'desktop' ? 'dynamic' : 240,\n                fade: _unref(breakpoint) === 'mobile'\n              }, {\n                default: _withCtx(() => [\n                  _withDirectives(_createElementVNode(\"div\", {\n                    class: _normalizeClass([\"description-html\", { preLine: !cleanDescription.value.includes('<br') }]),\n                    dir: \"auto\"\n                  }, null, 2 /* CLASS */), [\n                    [_directive_dompurify_html, cleanDescription.value]\n                  ])\n                ]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"loading\", \"height\", \"fade\"])\n            ]),\n            _: 1 /* STABLE */\n          })\n        ]),\n        (_unref(breakpoint) === 'desktop' || !totalLoading.value)\n          ? (_openBlock(), _createBlock(HR, {\n              key: 0,\n              class: \"header-split\"\n            }))\n          : _createCommentVNode(\"v-if\", true),\n        (_unref(breakpoint) === 'desktop' || !totalLoading.value)\n          ? (_openBlock(), _createBlock(Section, {\n              key: 1,\n              class: \"update-section\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(OverviewUpdateUi, {\n                  single: _unref(singleRequest).data as null | SingleAbstract,\n                  loading: totalLoading.value || _unref(singleRequest).loading,\n                  type: props.type\n                }, null, 8 /* PROPS */, [\"single\", \"loading\", \"type\"])\n              ]),\n              _: 1 /* STABLE */\n            }))\n          : _createCommentVNode(\"v-if\", true),\n        (_unref(breakpoint) === 'desktop' || (!totalLoading.value && !_unref(singleRequest).loading))\n          ? (_openBlock(), _createElementBlock(_Fragment, { key: 2 }, [\n              _createVNode(HR),\n              _createVNode(Section, { class: \"stream-section\" }, {\n                default: _withCtx(() => [\n                  _createVNode(OverviewStreaming, {\n                    type: props.type as 'anime',\n                    \"cache-key\": _unref(singleRequest).data && !totalLoading.value ? _unref(singleRequest).data!.getCacheKey() : '',\n                    title: _unref(singleRequest).data ? _unref(singleRequest).data!.getTitle() : '',\n                    \"alternative-title\": _unref(metaRequest).data?.alternativeTitle\n                  }, null, 8 /* PROPS */, [\"type\", \"cache-key\", \"title\", \"alternative-title\"])\n                ]),\n                _: 1 /* STABLE */\n              }),\n              (!totalLoading.value)\n                ? (_openBlock(), _createBlock(HR, { key: 0 }))\n                : _createCommentVNode(\"v-if\", true),\n              _createVNode(Section, {\n                loading: totalLoading.value,\n                class: \"additional-content\",\n                spacer: \"none\"\n              }, {\n                default: _withCtx(() => [\n                  (_unref(metaRequest).data?.related?.length)\n                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                        _createVNode(Section, null, {\n                          default: _withCtx(() => [\n                            _createVNode(OverviewRelated, {\n                              related: _unref(metaRequest).data!.related\n                            }, null, 8 /* PROPS */, [\"related\"])\n                          ]),\n                          _: 1 /* STABLE */\n                        }),\n                        _createVNode(HR)\n                      ], 64 /* STABLE_FRAGMENT */))\n                    : _createCommentVNode(\"v-if\", true),\n                  (_unref(metaRequest).data?.characters?.length)\n                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                        _createVNode(Section, null, {\n                          default: _withCtx(() => [\n                            _createVNode(OverviewCharacters, {\n                              characters: _unref(metaRequest).data!.characters\n                            }, null, 8 /* PROPS */, [\"characters\"])\n                          ]),\n                          _: 1 /* STABLE */\n                        }),\n                        _createVNode(HR)\n                      ], 64 /* STABLE_FRAGMENT */))\n                    : _createCommentVNode(\"v-if\", true),\n                  (\n            (_unref(metaRequest).data!.reviews && _unref(metaRequest).data!.reviews.length) ||\n            _unref(singleRequest).data?.getMalUrl()\n          )\n                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 2 }, [\n                        _createVNode(Section, null, {\n                          default: _withCtx(() => [\n                            _createVNode(OverviewReviews, {\n                              reviews: _unref(metaRequest).data!.reviews,\n                              \"mal-url\": _unref(singleRequest).data ? _unref(singleRequest).data!.getMalUrl()! : ''\n                            }, null, 8 /* PROPS */, [\"reviews\", \"mal-url\"])\n                          ]),\n                          _: 1 /* STABLE */\n                        }),\n                        _createVNode(HR)\n                      ], 64 /* STABLE_FRAGMENT */))\n                    : _createCommentVNode(\"v-if\", true),\n                  (\n            (_unref(metaRequest).data!.recommendations && _unref(metaRequest).data!.recommendations.length) ||\n            _unref(singleRequest).data?.getMalUrl()\n          )\n                    ? (_openBlock(), _createBlock(Section, { key: 3 }, {\n                        default: _withCtx(() => [\n                          _createVNode(OverviewRecommendations, {\n                            recommendations: _unref(metaRequest).data!.recommendations,\n                            \"mal-url\": _unref(singleRequest).data ? _unref(singleRequest).data!.getMalUrl()! : ''\n                          }, null, 8 /* PROPS */, [\"recommendations\", \"mal-url\"])\n                        ]),\n                        _: 1 /* STABLE */\n                      }))\n                    : _createCommentVNode(\"v-if\", true)\n                ]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"loading\"]),\n              (_unref(metaRequest).data && _unref(metaRequest).data!.info.length)\n                ? (_openBlock(), _createBlock(HR, { key: 1 }))\n                : _createCommentVNode(\"v-if\", true),\n              (_unref(metaRequest).data && _unref(metaRequest).data!.info.length)\n                ? (_openBlock(), _createBlock(Section, {\n                    key: 2,\n                    class: \"info-section\",\n                    loading: totalLoading.value\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(OverviewInfo, {\n                        info: _unref(metaRequest).data!.info,\n                        single: _unref(singleRequest).data as null | SingleAbstract\n                      }, null, 8 /* PROPS */, [\"info\", \"single\"])\n                    ]),\n                    _: 1 /* STABLE */\n                  }, 8 /* PROPS */, [\"loading\"]))\n                : _createCommentVNode(\"v-if\", true)\n            ], 64 /* STABLE_FRAGMENT */))\n          : _createCommentVNode(\"v-if\", true)\n      ]))\n    : _createCommentVNode(\"v-if\", true)\n}\n}\n\n})","<template>\n  <div v-if=\"!hide\" class=\"overview\">\n    <Section class=\"image-section fake\" />\n    <Section class=\"image-section real\">\n      <OverviewImage\n        class=\"image\"\n        :single=\"singleRequest.data as null | SingleAbstract\"\n        :src=\"metaRequest.data?.imageLarge || singleRequest.data?.getImage() || ''\"\n        :loading=\"metaRequest.loading\"\n      />\n    </Section>\n    <div class=\"header-section\">\n      <Section spacer=\"half\">\n        <MediaLink :force-link=\"true\" :href=\"singleRequest.data?.getDisplayUrl() || ''\">\n          <Header\n            :loading=\"metaRequest.loading\"\n            class=\"header-block\"\n            :class=\"{\n              hasTitle:\n                metaRequest.data &&\n                metaRequest.data.alternativeTitle &&\n                metaRequest.data.alternativeTitle.length,\n            }\"\n          >\n            <div class=\"statusDotSection\">\n              <StateDot\n                class=\"dot\"\n                :status=\"\n                  !singleRequest.loading && singleRequest.data?.getStatus()\n                    ? singleRequest.data?.getStatus()\n                    : 0\n                \"\n              />\n              <span class=\"header-link material-icons\">open_in_new</span>\n            </div>\n            <span class=\"header-title\">\n              {{ metaRequest.data?.title || singleRequest.data?.getTitle() || '' }}\n              <PillDark class=\"header-synonyms\" @click.prevent=\"titleModal = true\">\n                {{ lang('overview_synonyms') }}\n              </PillDark>\n            </span>\n          </Header>\n        </MediaLink>\n        <Modal\n          v-if=\"\n            metaRequest.data &&\n            metaRequest.data.alternativeTitle &&\n            metaRequest.data.alternativeTitle.length\n          \"\n          v-model=\"titleModal\"\n        >\n          <div class=\"alt-titles\">\n            <div\n              v-for=\"altTitle in [...new Set(metaRequest.data.alternativeTitle)]\"\n              :key=\"altTitle\"\n              class=\"alt-title\"\n            >\n              {{ altTitle }}\n            </div>\n          </div>\n        </Modal>\n      </Section>\n      <ErrorMeta :meta-request=\"metaRequest\" />\n      <Section v-if=\"metaRequest.data?.statistics?.length || metaRequest.loading\" spacer=\"half\">\n        <TextScroller class=\"stats\" :loading=\"metaRequest.loading\">\n          <span v-for=\"stat in metaRequest.data!.statistics\" :key=\"stat.title\" class=\"stats-block\">\n            {{ stat.title }} <span class=\"value\">{{ stat.body }}</span>\n          </span>\n        </TextScroller>\n      </Section>\n      <Section class=\"description-section\">\n        <Description\n          :loading=\"totalLoading\"\n          :height=\"breakpoint === 'desktop' ? 'dynamic' : 240\"\n          :fade=\"breakpoint === 'mobile'\"\n        >\n          <div\n            v-dompurify-html=\"cleanDescription\"\n            class=\"description-html\"\n            dir=\"auto\"\n            :class=\"{ preLine: !cleanDescription.includes('<br') }\"\n          />\n        </Description>\n      </Section>\n    </div>\n    <HR v-if=\"breakpoint === 'desktop' || !totalLoading\" class=\"header-split\" />\n    <Section v-if=\"breakpoint === 'desktop' || !totalLoading\" class=\"update-section\">\n      <OverviewUpdateUi\n        :single=\"singleRequest.data as null | SingleAbstract\"\n        :loading=\"totalLoading || singleRequest.loading\"\n        :type=\"props.type\"\n      />\n    </Section>\n    <template v-if=\"breakpoint === 'desktop' || (!totalLoading && !singleRequest.loading)\">\n      <HR />\n      <Section class=\"stream-section\">\n        <OverviewStreaming\n          :type=\"props.type as 'anime'\"\n          :cache-key=\"singleRequest.data && !totalLoading ? singleRequest.data!.getCacheKey() : ''\"\n          :title=\"singleRequest.data ? singleRequest.data!.getTitle() : ''\"\n          :alternative-title=\"metaRequest.data?.alternativeTitle\"\n        />\n      </Section>\n      <HR v-if=\"!totalLoading\" />\n      <Section :loading=\"totalLoading\" class=\"additional-content\" spacer=\"none\">\n        <template v-if=\"metaRequest.data?.related?.length\">\n          <Section>\n            <OverviewRelated :related=\"metaRequest.data!.related\" />\n          </Section>\n          <HR />\n        </template>\n        <template v-if=\"metaRequest.data?.characters?.length\">\n          <Section>\n            <OverviewCharacters :characters=\"metaRequest.data!.characters\" />\n          </Section>\n          <HR />\n        </template>\n        <template\n          v-if=\"\n            (metaRequest.data!.reviews && metaRequest.data!.reviews.length) ||\n            singleRequest.data?.getMalUrl()\n          \"\n        >\n          <Section>\n            <OverviewReviews\n              :reviews=\"metaRequest.data!.reviews\"\n              :mal-url=\"singleRequest.data ? singleRequest.data!.getMalUrl()! : ''\"\n            />\n          </Section>\n          <HR />\n        </template>\n        <template\n          v-if=\"\n            (metaRequest.data!.recommendations && metaRequest.data!.recommendations.length) ||\n            singleRequest.data?.getMalUrl()\n          \"\n        >\n          <Section>\n            <OverviewRecommendations\n              :recommendations=\"metaRequest.data!.recommendations\"\n              :mal-url=\"singleRequest.data ? singleRequest.data!.getMalUrl()! : ''\"\n            />\n          </Section>\n        </template>\n      </Section>\n      <HR v-if=\"metaRequest.data && metaRequest.data!.info.length\" />\n      <Section\n        v-if=\"metaRequest.data && metaRequest.data!.info.length\"\n        class=\"info-section\"\n        :loading=\"totalLoading\"\n      >\n        <OverviewInfo\n          :info=\"metaRequest.data!.info\"\n          :single=\"singleRequest.data as null | SingleAbstract\"\n        />\n      </Section>\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, inject, PropType, reactive, ref, watch } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { pathToUrl } from '../../utils/slugs';\nimport { getOverview } from '../../_provider/metaDataFactory';\nimport { createRequest } from '../utils/reactive';\nimport OverviewImage from '../components/overview/overview-image.vue';\nimport Section from '../components/section.vue';\nimport Header from '../components/header.vue';\nimport StateDot from '../components/state-dot.vue';\nimport Description from '../components/description.vue';\nimport TextScroller from '../components/text-scroller.vue';\nimport OverviewUpdateUi from '../components/overview/overview-update-ui.vue';\nimport OverviewStreaming from '../components/overview/overview-streaming.vue';\nimport OverviewCharacters from '../components/overview/overview-characters.vue';\nimport OverviewReviews from '../components/overview/overview-reviews.vue';\nimport OverviewInfo from '../components/overview/overview-info.vue';\nimport OverviewRecommendations from '../components/overview/overview-recommendations.vue';\nimport OverviewRelated from '../components/overview/overview-related.vue';\nimport Modal from '../components/modal.vue';\nimport HR from '../components/hr.vue';\nimport { NotFoundError, UrlNotSupportedError } from '../../_provider/Errors';\nimport { getSingle } from '../../_provider/singleFactory';\nimport MediaLink from '../components/media-link.vue';\n// eslint-disable-next-line @typescript-eslint/no-unused-vars, no-unused-vars\nimport { SingleAbstract } from '../../_provider/singleAbstract';\nimport ErrorMeta from '../components/error/error-meta.vue';\nimport PillDark from '../components/pill-dark.vue';\n\nconst breakpoint = inject('breakpoint');\n\nconst route = useRoute();\nconst router = useRouter();\n\nconst titleModal = ref(false);\n\nconst hide = ref(true);\nsetTimeout(() => {\n  hide.value = false;\n}, 100);\n\nconst open404 = () => {\n  router.push({\n    name: 'NotFound',\n    params: { pathMatch: route.path.substring(1).split('/') },\n    query: route.query,\n    hash: route.hash,\n  });\n};\n\nconst props = defineProps({\n  type: {\n    type: String as PropType<'anime' | 'manga'>,\n    required: true,\n  },\n  slug: {\n    type: String,\n    required: true,\n  },\n});\n\nconst url = computed(() => {\n  try {\n    return props.slug ? pathToUrl(props) : '';\n  } catch (error) {\n    con.error(error);\n    open404();\n  }\n  return '';\n});\n\nconst parameters = ref({\n  url,\n  type: props.type as 'anime' | 'manga',\n});\n\nconst metaRequest = createRequest(parameters, async param => {\n  if (!param.value.url) return null;\n  const ov = await getOverview(param.value.url, param.value.type).init();\n  return ov.getMeta();\n});\n\nconst singleRequest = createRequest(parameters, async param => {\n  if (!param.value.url) return null;\n  const single = reactive(getSingle(param.value.url));\n  await single.update().catch(e => {\n    con.error(e);\n    return single;\n  });\n\n  single.initProgress();\n\n  return single;\n});\n\nwatch(\n  () => metaRequest.error,\n  error => {\n    if (error instanceof UrlNotSupportedError || error instanceof NotFoundError) {\n      open404();\n    }\n  },\n);\n\nwatch(\n  () => singleRequest.error,\n  error => {\n    if (error instanceof UrlNotSupportedError || error instanceof NotFoundError) {\n      open404();\n    }\n  },\n);\n\nconst cleanDescription = computed(() => {\n  if (!metaRequest.data) return '';\n  const { description } = metaRequest.data;\n  if (!description) return '';\n  const cleanedBr = description.replace(/(< *\\/? *br *\\/? *>(\\r|\\n| )*){2,}/gim, '<br /><br />');\n  return cleanedBr.replace(/<a\\b/gi, '<a target=\"_blank\" rel=\"noopener noreferrer\"');\n});\n\nconst totalLoading = computed(() => {\n  if (!metaRequest.loading) return false;\n  return metaRequest.loading || singleRequest.loading;\n});\n</script>\n\n<style lang=\"less\" scoped>\n@import '../less/_globals.less';\n.overview {\n  .stats {\n    color: var(--cl-light-text);\n    .stats-block {\n      display: inline-block;\n    }\n    .value {\n      font-weight: 600;\n      margin-right: 20px;\n    }\n  }\n\n  .header-block {\n    display: flex;\n    align-items: center;\n\n    .statusDotSection {\n      width: 32px;\n      height: 30px;\n      display: flex;\n      align-items: center;\n    }\n\n    .header-link {\n      display: none;\n      margin-inline-end: 0.5em;\n      color: var(--cl-secondary);\n    }\n\n    .header-title {\n      position: relative;\n      width: 100%;\n\n      .header-synonyms {\n        display: none;\n        font-size: var(--base-font-size);\n        font-weight: normal;\n        position: absolute;\n        top: 50%;\n        transform: translateY(-50%);\n        inset-inline-end: 0;\n      }\n    }\n\n    &.hasTitle {\n      .link();\n    }\n\n    &:hover {\n      .dot {\n        display: none;\n      }\n      .header-link {\n        display: flex;\n        position: relative;\n        max-width: 16px;\n        left: -3px;\n      }\n\n      .header-synonyms {\n        display: block;\n      }\n    }\n  }\n\n  .description-html {\n    :deep(a) {\n      color: var(--cl-secondary-text);\n    }\n    &.preLine {\n      white-space: pre-line;\n    }\n  }\n\n  .fake {\n    display: none;\n  }\n\n  .__breakpoint-desktop__( {\n    display: grid;\n    grid-template-columns: 300px auto;\n    grid-template-rows: min-content auto auto auto max-content;\n    gap: 0 @spacer;\n\n    > hr {\n      display: none;\n    }\n\n    .image-section {\n      grid-row-start: 1;\n      grid-row-end: 3;\n      grid-column-start: 1;\n\n      &.fake {\n        display: block;\n        overflow: hidden;\n        visibility: hidden;\n        aspect-ratio: @aspect-ratio-cover;\n      }\n\n      &.real {\n        height: 0;\n      }\n    }\n\n    .header-section {\n      grid-column-start: 2;\n      grid-row-start: 1;\n      display: flex;\n      flex-direction: column;\n      overflow: hidden;\n\n      .description-section {\n        flex-grow: 1;\n      }\n    }\n\n    .stream-section {\n      grid-column-start: 2;\n      grid-row-start: 2;\n    }\n\n    .header-split {\n      display: block;\n      grid-column-start: 1;\n      grid-column-end: 3;\n      grid-row-start: 3;\n    }\n    .update-section {\n      grid-column-start: 1;\n      grid-row-start: 4;\n    }\n\n    .additional-content {\n      overflow: hidden;\n      grid-column-start: 2;\n      grid-row-start: 4;\n      grid-row-end: 7;\n    }\n\n    .info-section {\n      grid-column-start: 1;\n      grid-row-start: 5;\n    }\n\n  });\n}\n\n.alt-titles {\n  .border-radius();\n\n  background-color: var(--cl-foreground-solid);\n  color: var(--cl-text);\n  padding: 15px 10px;\n\n  .alt-title {\n    padding: 5px 15px;\n  }\n}\n</style>\n","import * as helper from './helper';\nimport { MetaOverview as LocalMeta } from './Local/metaOverview';\nimport { MetaOverview as MalMeta } from './MyAnimeList_hybrid/metaOverview';\nimport { MetaOverview as MalApiMeta } from './MyAnimeList_api/metaOverview';\nimport { MetaOverview as AniMeta } from './AniList/metaOverview';\nimport { MetaOverview as KitsuMeta } from './Kitsu/metaOverview';\nimport { MetaOverview as SimklMeta } from './Simkl/metaOverview';\nimport { MetaOverview as ShikiMeta } from './Shikimori/metaOverview';\n\nexport function getOverview(url, type, syncMode = '') {\n  if (!syncMode) {\n    syncMode = helper.getSyncMode(type);\n  }\n\n  if (/^local:\\/\\//i.test(url)) {\n    return new LocalMeta(url);\n  }\n  if (syncMode === 'ANILIST') {\n    return new AniMeta(url);\n  }\n  if (syncMode === 'KITSU') {\n    return new KitsuMeta(url);\n  }\n  if (syncMode === 'SIMKL') {\n    return new SimklMeta(url);\n  }\n  if (syncMode === 'SHIKI') {\n    return new ShikiMeta(url);\n  }\n  if (syncMode === 'MAL') {\n    return new MalMeta(url);\n  }\n  if (syncMode === 'MALAPI') {\n    return new MalApiMeta(url);\n  }\n\n  throw 'Unknown sync mode';\n}\n","import script from \"./overview.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./overview.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./overview.vue?vue&type=style&index=0&id=397752eb&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-397752eb\"],['__file',\"overview.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-397752eb {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.overview .stats[data-v-397752eb] {\\n  color: var(--cl-light-text);\\n}\\n.overview .stats .stats-block[data-v-397752eb] {\\n  display: inline-block;\\n}\\n.overview .stats .value[data-v-397752eb] {\\n  font-weight: 600;\\n  margin-right: 20px;\\n}\\n.overview .header-block[data-v-397752eb] {\\n  display: flex;\\n  align-items: center;\\n}\\n.overview .header-block .statusDotSection[data-v-397752eb] {\\n  width: 32px;\\n  height: 30px;\\n  display: flex;\\n  align-items: center;\\n}\\n.overview .header-block .header-link[data-v-397752eb] {\\n  display: none;\\n  margin-inline-end: 0.5em;\\n  color: var(--cl-secondary);\\n}\\n.overview .header-block .header-title[data-v-397752eb] {\\n  position: relative;\\n  width: 100%;\\n}\\n.overview .header-block .header-title .header-synonyms[data-v-397752eb] {\\n  display: none;\\n  font-size: var(--base-font-size);\\n  font-weight: normal;\\n  position: absolute;\\n  top: 50%;\\n  transform: translateY(-50%);\\n  inset-inline-end: 0;\\n}\\n.overview .header-block.hasTitle[data-v-397752eb] {\\n  cursor: pointer;\\n}\\n.overview .header-block:hover .dot[data-v-397752eb] {\\n  display: none;\\n}\\n.overview .header-block:hover .header-link[data-v-397752eb] {\\n  display: flex;\\n  position: relative;\\n  max-width: 16px;\\n  left: -3px;\\n}\\n.overview .header-block:hover .header-synonyms[data-v-397752eb] {\\n  display: block;\\n}\\n.overview .description-html[data-v-397752eb] a {\\n  color: var(--cl-secondary-text);\\n}\\n.overview .description-html.preLine[data-v-397752eb] {\\n  white-space: pre-line;\\n}\\n.overview .fake[data-v-397752eb] {\\n  display: none;\\n}\\n@media screen and (min-width: 900px) {\\n.overview[data-v-397752eb] {\\n    display: grid;\\n    grid-template-columns: 300px auto;\\n    grid-template-rows: min-content auto auto auto max-content;\\n    gap: 0 var(--size-spacer);\\n}\\n.overview > hr[data-v-397752eb] {\\n    display: none;\\n}\\n.overview .image-section[data-v-397752eb] {\\n    grid-row-start: 1;\\n    grid-row-end: 3;\\n    grid-column-start: 1;\\n}\\n.overview .image-section.fake[data-v-397752eb] {\\n    display: block;\\n    overflow: hidden;\\n    visibility: hidden;\\n    aspect-ratio: 225/350;\\n}\\n.overview .image-section.real[data-v-397752eb] {\\n    height: 0;\\n}\\n.overview .header-section[data-v-397752eb] {\\n    grid-column-start: 2;\\n    grid-row-start: 1;\\n    display: flex;\\n    flex-direction: column;\\n    overflow: hidden;\\n}\\n.overview .header-section .description-section[data-v-397752eb] {\\n    flex-grow: 1;\\n}\\n.overview .stream-section[data-v-397752eb] {\\n    grid-column-start: 2;\\n    grid-row-start: 2;\\n}\\n.overview .header-split[data-v-397752eb] {\\n    display: block;\\n    grid-column-start: 1;\\n    grid-column-end: 3;\\n    grid-row-start: 3;\\n}\\n.overview .update-section[data-v-397752eb] {\\n    grid-column-start: 1;\\n    grid-row-start: 4;\\n}\\n.overview .additional-content[data-v-397752eb] {\\n    overflow: hidden;\\n    grid-column-start: 2;\\n    grid-row-start: 4;\\n    grid-row-end: 7;\\n}\\n.overview .info-section[data-v-397752eb] {\\n    grid-column-start: 1;\\n    grid-row-start: 5;\\n}\\n}\\n.alt-titles[data-v-397752eb] {\\n  border-radius: 10px;\\n  background-color: var(--cl-foreground-solid);\\n  color: var(--cl-text);\\n  padding: 15px 10px;\\n}\\n.alt-titles .alt-title[data-v-397752eb] {\\n  padding: 5px 15px;\\n}\\n\""],"names":["_hoisted_1","key","class","__name","props","loading","type","Boolean","default","fade","height","Number","String","minheight","setup","__props","_ctx","heightstyle","open","overflow","inner","calcOverflow","value","scrollHeight","clientHeight","_cache","close","dynamic","ref_key","ref","dir","$slots","animation","onClick","$event","lang","_","options","Array","required","min","max","interval","modelValue","require","color","disabled","emits","emit","__emit","picked","get","set","optionsComputed","map","option","toString","label","title","lazy","data","MetaOverviewAbstract","constructor","url","run","meta","alternativeTitle","description","image","imageLarge","characters","statistics","info","openingSongs","endingSongs","related","cacheObj","undefined","this","logger","con","m","init","cache","getCache","hasValueAndIsNotEmpty","log","getValue","fillOverviewState","_init","setValue","getMeta","relation","link","links","dbEntry","api","request","database","id","list","status","score","episode","watchedEp","Cache","storage","MetaOverview","super","utils","urlPart","dateFromTimezoneToTimezone","date","sourceTimezone","targetTimezone","sourceDate","Date","toLocaleString","timeZone","targetDate","diff","getTime","getWeektime","weekDay","time","dayIndex","findIndex","day","toLowerCase","startsWith","timeStr","modifier","split","hours","minutes","hoursUTC","UTC","match","malId","getData","xhr","then","response","responseText","useAltTitle","settings","replace","e","console","$","html","j","text","ending","pop","altTitle","tempHtml","parseHTML","find","toArray","i","getBaseText","trim","charArray","characterBlock","charHtml","each","index","regexDimensions","charImg","first","attr","test","handleMalImages","charObjLink","parent","push","img","name","subtext","stats","statsBlock","This","filter","slice","body","clone","children","remove","end","translateTitle","infoBlock","infoData","aTags","el","absoluteLink","textTags","length","weekDate","range","includes","start","getDateTimeRangeText","getDateTimeText","durationString","setDurationFormatted","getRelativeText","setDuration","getExternalLinks","clearTitle","openingBlock","openingData","author","endingBlock","endingData","relatedBlock","indexB","valueB","last","mediaTypeDefinition","airingStatusDefinition","sourceDefinition","ratingDefinition","apiCall","path","fields","alternative_titles","en","synopsis","main_picture","medium","large","prop","isArray","concat","mean","rank","popularity","num_list_users","num_scoring_users","media_type","format","num_episodes","num_chapters","num_volumes","start_date","end_date","start_season","season","year","broadcast","day_of_the_week","start_time","studios","forEach","authors","node","last_name","first_name","role","source","genres","average_episode_duration","setRelativeTime","rating","serialization","related_anime","relation_type","relation_type_formatted","related_manga","Object","keys","aniId","NaN","reviews","recommendations","selectId","selectQuery","isNaN","query","variables","toUpperCase","Media","userPreferred","coverImage","extraLarge","imageBanner","bannerImage","titles","chars","edges","charAt","siteUrl","averageScore","favourites","rankings","allTime","context","episodes","duration","startDate","month","endDate","isMain","staff","ignore","gen","external","externalLinks","site","relations","relationType","nodes","people","createdAt","dateStyle","user","avatar","href","mediaRecommendation","entry","users","kitsuId","kitsuSlug","animeI","animeInfo","kitsuRes","item","relationships","included","attributes","slug","message","res","canonicalTitle","posterImage","small","original","abbreviatedTitles","averageRating","ratingRank","popularityRank","userCount","subtype","episodeCount","episodeLength","ageRating","totalLength","an","tempEl","destination","call","errorHandling","simklId","parseInt","de","simkl","mal","ids","extended","overview","poster","en_title","ratings","votes","anime_type","total_episodes","airs","timezone","network","runtime","certification","roles","russian","description_html","english","japanese","synonyms","character","roles_russian","sort","a","b","indexOf","rates_statuses_stats","watching","planned","reading","dropped","hold","completed","kind","upperCaseFirstLetter","aired_on","released_on","person","element","relation_russian","manga","anime","values","rootHtml","state","Teleport","to","appear","_hoisted_2","_hoisted_3","src","single","imgModal","streaming","streamingEl","favicon","continueUrl","getStreamingUrl","resumeUrlObj","getResumeWatching","continueUrlObj","getContinueWatching","ep","getEpisode","progress","progressEl","getProgress","isAiring","hov","notLoading","right","left","reverse","getType","A","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","getProgressMode","setProgressMode","getProgressOptions","select","tabindex","padding","getProgressKey","slotProps","size","hoverValue","active","hoverActive","onMouseover","onMouseout","error","_directive_dompurify_html","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","singleLoading","volume","isAuthenticated","getVolume","setVolume","setEpisode","scoreModeStrategy","getScoreMode","valueToOptionValue","getAbsoluteScore","setAbsoluteScore","optionValueToValue","scoreTextField","getStatusCheckboxValue","handleStatusCheckbox","getCurrentEpisode","async","update","sync","delete","episodeLang","getLastError","getLastErrorMessage","notOnList","isOnList","getStatusCheckbox","currentTitle","suffix","getTotalEpisodes","placeholder","getPredictionText","getTotalVolumes","ui","module","validation","RegExp","pattern","getOptions","getScoreCheckbox","isDirty","onKeydown","cacheKey","search","parameters","streamRequest","param","Promise","resolve","prefix","ttl","refetchTtl","groupIcon","group","Error","fn","searchFn","Set","l","spacer","icon","domain","onMousedown","char","mode","elements","entriesPerPage","openAll","page","pageElements","malUrl","load","metaRequest","params","reviewSection","block","userHref","userImage","username","reactionJson","rPeople","JSON","parse","num","dateText","rDate","rRating","moreText","textBlock","rText","reviewMeta","executeCondition","keyFn","stopLoading","grid","review","preLine","desc","card","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","getTimezoneDate","dateElement","Intl","DateTimeFormat","resolvedOptions","weekday","hour","minute","timeZoneName","getProgressCompleted","lastEp","timestamp","getRelativeNowFriendlyText","style","predicition","breakpoint","recommendationsBlock","imageBlock","titleHref","titleName","imageUrl","next","moreUrl","moreNumber","more","number","recommendation","recommendationsMeta","rec","position","route","router","titleModal","hide","setTimeout","open404","pathMatch","substring","hash","ov","syncMode","helper","getOverview","singleRequest","catch","initProgress","cleanDescription","totalLoading","getImage","getDisplayUrl","hasTitle","getStatus","getTitle","stat","getCacheKey","getMalUrl"],"sourceRoot":""}