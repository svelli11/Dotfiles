"use strict";(self.webpackChunkMALSync=self.webpackChunkMALSync||[]).push([[4715],{5139:(e,t,a)=>{a.d(t,{A:()=>u});var n=a(20641),i=a(53751),s=a(90033),r=a(50953),l=a(11312);const o={key:1,class:"close-button-box"},d=(0,n.pM)({__name:"description",props:{loading:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},height:{type:[Number,String],default:240},minheight:{type:String,default:"150px"}},setup(e){(0,i.useCssVars)((t=>({"676ec35c":p.value,"25985d61":e.minheight})));const t=e,a=(0,r.KR)(!1),d=(0,r.KR)(!0),u=(0,r.KR)(null),c=()=>{if(d.value=!0,u.value){const{scrollHeight:e,clientHeight:t}=u.value;d.value=Boolean(e>t)}},p=(0,n.EW)((()=>"dynamic"===t.height?"auto":`${t.height}px`));return(0,n.sV)((()=>{c()})),(0,n.wB)((()=>t.loading),(()=>c())),(0,n.wB)(u,(()=>c())),(t,i)=>((0,n.uX)(),(0,n.CE)("div",{class:(0,s.C4)(["description",{close:!a.value&&d.value,loading:e.loading,fade:e.fade,dynamic:"dynamic"===e.height}])},[e.loading?(0,n.Q3)("v-if",!0):((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("div",{ref_key:"inner",ref:u,class:"open-gradient",dir:"auto"},[(0,n.RG)(t.$slots,"default")],512),!a.value&&d.value?((0,n.uX)(),(0,n.Wv)(l.A,{key:0,class:"open-button",animation:!1,onClick:i[0]||(i[0]=e=>a.value=!0)},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(t.lang("settings_read_more")),1)])),_:1})):(0,n.Q3)("v-if",!0),a.value?((0,n.uX)(),(0,n.CE)("div",o,[(0,n.bF)(l.A,{class:"close-button",animation:!1,onClick:i[1]||(i[1]=e=>a.value=!1)},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(t.lang("settings_read_less")),1)])),_:1})])):(0,n.Q3)("v-if",!0)],64))],2))}}),u=(0,a(66262).A)(d,[["styles",["/* stylelint-disable prettier/prettier */\n/* Aspect ratios */\n/* Transitions */\n/* Typography */\n/* Shadows */\n/* Fonts */\n@keyframes skeleton-loading-malsync-366cdbb6 {\nto {\n    transform: translateX(100%);\n}\n}\n.description[data-v-366cdbb6] {\n  position: relative;\n}\n.description .open-button[data-v-366cdbb6] {\n  position: absolute;\n  bottom: 1px;\n  left: 50%;\n  transform: translateX(-50%);\n  font-weight: 500;\n}\n.description .close-button-box[data-v-366cdbb6] {\n  display: flex;\n  justify-content: center;\n  margin-top: var(--size-spacer-half);\n  font-weight: 500;\n}\n.description.close[data-v-366cdbb6] {\n  overflow: hidden;\n}\n.description.close .open-gradient[data-v-366cdbb6] {\n  max-height: var(--676ec35c);\n  mask-image: linear-gradient(180deg, #000 60%, transparent);\n  /* stylelint-disable-next-line property-no-vendor-prefix */\n  -webkit-mask-image: linear-gradient(180deg, #000 60%, transparent);\n}\n.description.loading[data-v-366cdbb6] {\n  position: relative;\n  overflow: hidden;\n  transition: background-color 0.1s ease-in-out;\n  background-color: var(--cl-backdrop);\n  width: 100%;\n  border-radius: 0.25rem;\n  height: var(--676ec35c);\n}\n.description.loading[data-v-366cdbb6]::after {\n  opacity: var(--cl-loading);\n  transition: opacity 0.25s ease-in-out;\n  animation: skeleton-loading-malsync-366cdbb6 1.5s infinite;\n  content: '';\n  height: 100%;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  transform: translateX(-100%);\n  z-index: 1;\n  background: linear-gradient(90deg, hsla(0, 0%, 100%, 0), var(--cl-backdrop), hsla(0, 0%, 100%, 0));\n  filter: brightness(1.15);\n}\n.description.loading.fade[data-v-366cdbb6] {\n  position: relative;\n  overflow: hidden;\n  transition: background-color 0.1s ease-in-out;\n  background-color: var(--cl-backdrop);\n  width: 100%;\n  border-radius: 0.25rem;\n  mask-image: linear-gradient(180deg, #000 0%, transparent 50%);\n  /* stylelint-disable-next-line property-no-vendor-prefix */\n  -webkit-mask-image: linear-gradient(180deg, #000 0%, transparent 50%);\n}\n.description.loading.fade[data-v-366cdbb6]::after {\n  opacity: var(--cl-loading);\n  transition: opacity 0.25s ease-in-out;\n  animation: skeleton-loading-malsync-366cdbb6 1.5s infinite;\n  content: '';\n  height: 100%;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  transform: translateX(-100%);\n  z-index: 1;\n  background: linear-gradient(90deg, hsla(0, 0%, 100%, 0), var(--cl-backdrop), hsla(0, 0%, 100%, 0));\n  filter: brightness(1.15);\n}\n.description.dynamic[data-v-366cdbb6] {\n  height: 100%;\n  min-height: var(--25985d61);\n  position: relative;\n}\n.description.dynamic.close .open-gradient[data-v-366cdbb6] {\n  max-height: 100%;\n  height: 100%;\n  position: absolute;\n}\n"]],["__scopeId","data-v-366cdbb6"],["__file","description.vue"]])},46511:(e,t,a)=>{a.d(t,{A:()=>d});var n=a(20641),i=a(90033),s=a(50953),r=a(29528),l=a.n(r);const o=(0,n.pM)({__name:"form-slider",props:{options:{type:Array,required:!1,default:null},min:{type:Number,default:null},max:{type:Number,default:null},interval:{type:Number,default:1},modelValue:{type:[String,Number],require:!0,default:""},color:{type:String,default:"default"},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,r=t,o=(0,n.EW)({get:()=>a.modelValue,set(e){r("update:modelValue",e)}}),d=(0,n.EW)((()=>{if(a.options)return a.options.map((e=>({value:e.value.toString(),label:e.label||e.title})))}));return(t,a)=>((0,n.uX)(),(0,n.CE)("div",{class:(0,i.C4)(["slider-bar",e.color])},[(0,n.bF)((0,s.R1)(l()),{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),lazy:!0,data:d.value,height:10,"dot-size":16,"hide-label":!0,min:e.min,max:e.max,interval:e.interval,disabled:e.disabled,"data-value":"value","data-label":"label"},null,8,["modelValue","data","min","max","interval","disabled"])],2))}}),d=(0,a(66262).A)(o,[["styles",["/* stylelint-disable property-no-vendor-prefix */\n.vue-slider-dot {\n  position: absolute;\n  -webkit-transition: all 0s;\n  transition: all 0s;\n  z-index: 5;\n}\n.vue-slider-dot:focus {\n  outline: none;\n}\n.vue-slider-dot-tooltip {\n  position: absolute;\n  visibility: hidden;\n}\n.vue-slider-dot-hover:hover .vue-slider-dot-tooltip {\n  visibility: visible;\n}\n.vue-slider-dot-tooltip-show {\n  visibility: visible;\n}\n.vue-slider-dot-tooltip-top {\n  top: -10px;\n  left: 50%;\n  -webkit-transform: translate(-50%, -100%);\n  transform: translate(-50%, -100%);\n}\n.vue-slider-dot-tooltip-bottom {\n  bottom: -10px;\n  left: 50%;\n  -webkit-transform: translate(-50%, 100%);\n  transform: translate(-50%, 100%);\n}\n.vue-slider-dot-tooltip-left {\n  left: -10px;\n  top: 50%;\n  -webkit-transform: translate(-100%, -50%);\n  transform: translate(-100%, -50%);\n}\n.vue-slider-dot-tooltip-right {\n  right: -10px;\n  top: 50%;\n  -webkit-transform: translate(100%, -50%);\n  transform: translate(100%, -50%);\n}\n.vue-slider-marks {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n.vue-slider-mark {\n  position: absolute;\n  z-index: 1;\n}\n.vue-slider-ltr .vue-slider-mark,\n.vue-slider-rtl .vue-slider-mark {\n  width: 0;\n  height: 100%;\n  top: 50%;\n}\n.vue-slider-ltr .vue-slider-mark-step,\n.vue-slider-rtl .vue-slider-mark-step {\n  top: 0;\n}\n.vue-slider-ltr .vue-slider-mark-label,\n.vue-slider-rtl .vue-slider-mark-label {\n  top: 100%;\n  margin-top: 10px;\n}\n.vue-slider-ltr .vue-slider-mark {\n  -webkit-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n}\n.vue-slider-ltr .vue-slider-mark-step {\n  left: 0;\n}\n.vue-slider-ltr .vue-slider-mark-label {\n  left: 50%;\n  -webkit-transform: translateX(-50%);\n  transform: translateX(-50%);\n}\n.vue-slider-rtl .vue-slider-mark {\n  -webkit-transform: translate(50%, -50%);\n  transform: translate(50%, -50%);\n}\n.vue-slider-rtl .vue-slider-mark-step {\n  right: 0;\n}\n.vue-slider-rtl .vue-slider-mark-label {\n  right: 50%;\n  -webkit-transform: translateX(50%);\n  transform: translateX(50%);\n}\n.vue-slider-ttb .vue-slider-mark,\n.vue-slider-btt .vue-slider-mark {\n  width: 100%;\n  height: 0;\n  left: 50%;\n}\n.vue-slider-ttb .vue-slider-mark-step,\n.vue-slider-btt .vue-slider-mark-step {\n  left: 0;\n}\n.vue-slider-ttb .vue-slider-mark-label,\n.vue-slider-btt .vue-slider-mark-label {\n  left: 100%;\n  margin-left: 10px;\n}\n.vue-slider-btt .vue-slider-mark {\n  -webkit-transform: translate(-50%, 50%);\n  transform: translate(-50%, 50%);\n}\n.vue-slider-btt .vue-slider-mark-step {\n  top: 0;\n}\n.vue-slider-btt .vue-slider-mark-label {\n  top: 50%;\n  -webkit-transform: translateY(-50%);\n  transform: translateY(-50%);\n}\n.vue-slider-ttb .vue-slider-mark {\n  -webkit-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n}\n.vue-slider-ttb .vue-slider-mark-step {\n  bottom: 0;\n}\n.vue-slider-ttb .vue-slider-mark-label {\n  bottom: 50%;\n  -webkit-transform: translateY(50%);\n  transform: translateY(50%);\n}\n.vue-slider-mark-step,\n.vue-slider-mark-label {\n  position: absolute;\n}\n.vue-slider {\n  position: relative;\n  -webkit-box-sizing: content-box;\n  box-sizing: content-box;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  display: block;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.vue-slider-rail {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  -webkit-transition-property: width, height, left, right, top, bottom;\n  transition-property: width, height, left, right, top, bottom;\n}\n.vue-slider-process {\n  position: absolute;\n  z-index: 1;\n}\n/* component style */\n.vue-slider-disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n/* rail style */\n.vue-slider-rail {\n  background-color: #ccc;\n  border-radius: 15px;\n}\n/* process style */\n.vue-slider-process {\n  background-color: #3498db;\n  border-radius: 15px;\n}\n/* mark style */\n.vue-slider-mark {\n  z-index: 4;\n}\n.vue-slider-mark:first-child .vue-slider-mark-step,\n.vue-slider-mark:last-child .vue-slider-mark-step {\n  display: none;\n}\n.vue-slider-mark-step {\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  background-color: rgba(0, 0, 0, 0.16);\n}\n.vue-slider-mark-label {\n  font-size: 0.875rem;\n  white-space: nowrap;\n}\n/* dot style */\n.vue-slider-dot-handle {\n  cursor: pointer;\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  background-color: #fff;\n  box-sizing: border-box;\n  box-shadow: 0.5px 0.5px 2px 1px rgba(0, 0, 0, 0.32);\n}\n.vue-slider-dot-handle-focus {\n  box-shadow: 0 0 1px 2px rgba(52, 152, 219, 0.36);\n}\n.vue-slider-dot-handle-disabled {\n  cursor: not-allowed;\n  background-color: #ccc;\n}\n.vue-slider-dot-tooltip-inner {\n  font-size: 0.875rem;\n  white-space: nowrap;\n  padding: 2px 5px;\n  min-width: 20px;\n  text-align: center;\n  color: #fff;\n  border-radius: 5px;\n  border-color: #3498db;\n  background-color: #3498db;\n  box-sizing: content-box;\n}\n.vue-slider-dot-tooltip-inner::after {\n  content: '';\n  position: absolute;\n}\n.vue-slider-dot-tooltip-inner-top::after {\n  top: 100%;\n  left: 50%;\n  transform: translate(-50%, 0);\n  height: 0;\n  width: 0;\n  border-color: transparent;\n  border-style: solid;\n  border-width: 5px;\n  border-top-color: inherit;\n}\n.vue-slider-dot-tooltip-inner-bottom::after {\n  bottom: 100%;\n  left: 50%;\n  transform: translate(-50%, 0);\n  height: 0;\n  width: 0;\n  border-color: transparent;\n  border-style: solid;\n  border-width: 5px;\n  border-bottom-color: inherit;\n}\n.vue-slider-dot-tooltip-inner-left::after {\n  left: 100%;\n  top: 50%;\n  transform: translate(0, -50%);\n  height: 0;\n  width: 0;\n  border-color: transparent;\n  border-style: solid;\n  border-width: 5px;\n  border-left-color: inherit;\n}\n.vue-slider-dot-tooltip-inner-right::after {\n  right: 100%;\n  top: 50%;\n  transform: translate(0, -50%);\n  height: 0;\n  width: 0;\n  border-color: transparent;\n  border-style: solid;\n  border-width: 5px;\n  border-right-color: inherit;\n}\n.vue-slider-dot-tooltip-wrapper {\n  opacity: 0;\n  transition: all 0.3s;\n}\n.vue-slider-dot-tooltip-wrapper-show {\n  opacity: 1;\n}\n/* stylelint-disable prettier/prettier */\n/* Aspect ratios */\n/* Transitions */\n/* Typography */\n/* Shadows */\n/* Fonts */\n@keyframes skeleton-loading-malsync {\nto {\n    transform: translateX(100%);\n}\n}\n.vue-slider .vue-slider-rail {\n  background-color: var(--cl-backdrop);\n}\n.vue-slider .vue-slider-rail .vue-slider-process {\n  background-color: var(--slider-body);\n  box-shadow: 0 2px 6px var(--slider-body);\n}\n.vue-slider .vue-slider-mark-step {\n  display: none;\n}\n.vue-slider .vue-slider-dot {\n  transition: opacity 0.25s;\n}\n.vue-slider .vue-slider-dot .vue-slider-dot-handle {\n  opacity: 0;\n  box-shadow: none;\n  background-color: var(--slider-body);\n  filter: brightness(0.8);\n}\n.vue-slider .vue-slider-dot .vue-slider-dot-handle.vue-slider-dot-handle-focus {\n  opacity: 1;\n}\n.vue-slider .vue-slider-dot-tooltip .vue-slider-dot-tooltip-inner {\n  background-color: var(--slider-body);\n  border-color: var(--slider-body);\n}\n.slider-bar {\n  --slider-body: var(--cl-primary);\n  cursor: pointer;\n}\n.slider-bar:hover .vue-slider-dot-handle {\n  opacity: 1;\n}\n.slider-bar .vue-slider-disabled .vue-slider-dot-handle,\n.slider-bar .vue-slider-disabled .vue-slider-dot-tooltip {\n  opacity: 0;\n}\n.slider-bar.blue {\n  --slider-body: #56ccf2;\n}\n.slider-bar.violet {\n  --slider-body: #bb6bd9;\n}\n"]],["__file","form-slider.vue"]])},34715:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Ua});var n=a(20641),i=a(50953),s=a(90033),r=a(53751),l=a(75220),o=a(80737),d=a(91326),u=a(69099),c=a(78584),p=a(13647);class m{constructor(e){return this.url=e,this.run=!1,this.meta={title:"",alternativeTitle:[],description:"",image:"",imageLarge:"",characters:[],statistics:[],info:[],openingSongs:[],endingSongs:[],related:[]},this.cacheObj=void 0,this.logger=c.m("Meta [O]","green"),this}async init(){if(this.run)return this;const e=this.getCache();return await e.hasValueAndIsNotEmpty()?(this.logger.log("Cached"),this.meta=await e.getValue(),this.run=!0,await this.fillOverviewState(),this):(await this._init(),this.run=!0,await e.setValue(this.getMeta()),await this.fillOverviewState(),this)}async fillOverviewState(){for(const e in this.meta.related)for(const t in this.meta.related[e].links){const a=await p.request.database("entry",{id:this.meta.related[e].links[t].id,type:this.meta.related[e].links[t].type});a&&(this.meta.related[e].links[t].list={status:a.status,score:a.score,episode:a.watchedEp})}}getMeta(){return this.meta}getCache(){return this.cacheObj||(this.cacheObj=new u.l(`v4/${p.storage.lang("locale")}/${this.url}`,432e6)),this.cacheObj}}var g=a(26017);class v extends m{constructor(e){return super(e),this.logger=this.logger.m("Local"),this.type="anime"===g.urlPart(e,3)?"anime":"manga",this}async _init(){return this}}var h=a(59465);function f(e,t,a="UTC"){const n=new Date((new Date).toLocaleString("en-US",{timeZone:t})),i=new Date((new Date).toLocaleString("en-US",{timeZone:a})),s=n.getTime()-i.getTime();return new Date(e.getTime()-s)}function b(e,t){const a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].findIndex((t=>t.toLowerCase()===e.toLowerCase()||e.toLowerCase().startsWith(t.toLowerCase())));if(-1===a)return null;const[n,i]=t.split(" "),[s,r]=n.split(":").map(Number);let l=s;return"pm"===i?.toLowerCase()&&12!==s?l+=12:"am"===i?.toLowerCase()&&12===s&&(l=0),new Date(Date.UTC(2017,0,a+1,l,r,0,0))}var y=a(76351),k=a(26017),_=a(13647),w=a(7263);const x=class extends m{constructor(e){if(super(e),this.logger=this.logger.m("MAL"),e.match(/myanimelist\.net\/(anime|manga)\/\d*/i))return this.type="anime"===k.urlPart(e,3)?"anime":"manga",this.malId=Number(k.urlPart(e,4)),this;throw new h.pH(e)}async _init(){this.logger.log("Retrieve",this.type,`MAL: ${this.malId}`);const e=await this.getData();this.title(e),this.description(e),this.image(e),this.alternativeTitle(e),this.characters(e),this.statistics(e),this.info(e),this.openingSongs(e),this.endingSongs(e),this.related(e),this.logger.log("Res",this.meta)}async getData(){return _.request.xhr("GET",`https://myanimelist.net/${this.type}/${this.malId}`).then((e=>e.responseText))}title(e){let t="";const a=_.settings.get("forceEnglishTitles");try{t=a?e.split('class="title-english')[1].split(">")[1].split("</")[0].split("<br")[0].replace(/&quot;/g,'"').replace(/&#039;/g,"'"):e.split('itemprop="name">')[1].split("</")[0].split("<br")[0].replace(/&quot;/g,'"').replace(/&#039;/g,"'")}catch(e){console.log("[iframeOverview] Error:",e)}this.meta.title=$("<div>").html(w.html(t)).text()}description(e){let t="";try{t=e.split('itemprop="description">')[1].split("</p")[0].split("</span")[0]}catch(e){console.log("[iframeOverview] Error:",e)}this.meta.description=t}image(e){let t="",a="";try{if(t=e.split('property="og:image"')[1].split('content="')[1].split('"')[0],t){const e=t.split(".").pop();a=t.replace(`.${e}`,`l.${e}`)}}catch(e){console.log("[iframeOverview] Error:",e)}this.meta.image=t,this.meta.imageLarge=a??t}alternativeTitle(e){let t=[];try{const a=w.$.parseHTML(`<div>${e.split("<h2>Alternative Titles</h2>")[1].split("<h2>")[0]}</div>`);t=w.$(a).find(".spaceit_pad").toArray().map((function(e){return k.getBaseText(w.$(e)).trim()}))}catch(e){console.log("[iframeOverview] Error:",e)}this.meta.alternativeTitle=t}characters(e){const t=[];try{const a=e.split("detail-characters-list")[1].split("</h2>")[0],n=w.$.parseHTML(`<div class="detail-characters-list ${a}`);w.$.each(w.$(n).find(":not(td) > table"),((e,a)=>{const n=/\/r\/\d*x\d*/g;let i=w.$(a).find("img").first().attr("data-src");i=i&&n.test(i)?i.replace(n,""):"",i=k.handleMalImages(i);const s=w.$(a).find(".borderClass .spaceit_pad").first().parent();t.push({img:i,name:s.find("a").first().text(),url:s.find("a").first().attr("href"),subtext:s.find(".spaceit_pad").first().text().trim()})}))}catch(e){console.log("[iframeOverview] Error:",e)}this.meta.characters=t}statistics(e){const t=[];try{const a=e.split("<h2>Statistics</h2>")[1].split("<h2>")[0],n=w.$.parseHTML(a),i=this;w.$.each(w.$(n).filter("div").slice(0,5),(function(e,a){const n=w.$(a).find(".dark_text").text(),s=void 0!==w.$(a).find("span[itemprop=ratingValue]").height()?w.$(a).find("span[itemprop=ratingValue]").text():w.$(a).clone().children().remove().end().text();t.push({title:i.translateTitle(n),body:s.trim()})}))}catch(e){console.log("[iframeOverview] Error:",e)}this.meta.statistics=t}info(e){const t=[];try{const a=e.split("<h2>Information</h2>")[1].split("<h2>")[0],n=w.$.parseHTML(a);w.$.each(w.$(n).filter("div"),((e,a)=>{let n=w.$(a).find(".dark_text").text();w.$(a).find(".dark_text").remove();const i=w.$(a).find("a").map(((e,t)=>({text:w.$(t).text().trim(),url:k.absoluteLink(w.$(t).attr("href"),"https://myanimelist.net")}))).toArray();w.$(a).find("a, span").remove();const s=w.$(a).text().split(",");let r=[];switch(r=i.length?i.length===s.length?i.map(((e,t)=>(e.subtext=s[t].trim().replace(/(^\(|\)$)/gi,"").trim(),e))):i:s.map((e=>{const t=e.match(/(\w+)\s+at\s+(\d{2}:\d{2})\s+\(JST\)/i);if(t){const e=b(t[1],t[2]);if(e)return{date:f(e,"Asia/Tokyo"),type:"weektime"}}return{text:e.trim()}})),n.trim()){case"Published:":case"Aired:":{n="Published:"===n?_.storage.lang("overview_sidebar_Published"):_.storage.lang("overview_sidebar_Aired");const e=r.map((e=>e.text.toString())).toString();if(e.includes(" to ")){const t=e.split("to")[0].trim(),a=e.split("to")[1].trim();r=[{text:new y.Jz(t,a).getDateTimeRangeText()}];break}r=[{text:`${new y.zy(e).getDateTimeText()}`}];break}case"Duration:":{n=_.storage.lang("overview_sidebar_Duration");const e=r[0].text,t=e.match(/\d+/g);if(t){if(e.includes("min")&&1===t.length){const e=Number(t[0]);r=[{text:`${(new y.IQ).setDurationFormatted({minutes:e}).getRelativeText()}`}];break}const a=Number(t[0])||0,n=Number(t[1])||0;r=[{text:`${(new y.IQ).setDuration({hours:a,minutes:n}).getRelativeText()}`}];break}}}n=this.translateTitle(n),t.push({title:n,body:r})})),this.getExternalLinks(t,e)}catch(e){console.log("[iframeOverview] Error:",e)}this.meta.info=t}translateTitle(e){const t=e.replace(":","").trim();return _.storage.lang(`overview_sidebar_${t}`)||e}getExternalLinks(e,t){try{const a=`${t.split("<h2>External Links</h2>")[1].split("</div>")[0]}</div>`,n=w.$.parseHTML(a),i=[];w.$.each(w.$(n).find("a"),((e,t)=>{i.push({text:w.$(t).text(),url:w.$(t).attr("href")})})),i.length&&e.push({title:`${_.storage.lang("overview_sidebar_external_links")}`,body:i})}catch(e){console.log("[iframeOverview] Error:",e)}}openingSongs(e){const t=[];try{const a=`<table border${e.split('opnening">')[1].split("<table border")[1].split("</table>")[0]}</table>`,n=w.$(w.$.parseHTML(a));n.find("td").length>1&&n.find("tr").each(((e,a)=>{let n=$(a).find(".theme-song-title").text().trim();n||(n=k.getBaseText($(a).find('[id^="youtube_url_"]').parent()).trim());let i=$(a).find('[id^="youtube_url_"]').first().attr("value")?.replace("music.","");i||(i=$(a).find('[id^="spotify_url_"]').first().attr("value")),t.push({title:n.replace(/(^"|"$)/g,""),author:$(a).find(".theme-song-artist").text().trim(),episode:$(a).find(".theme-song-episode").text().trim().replace(/(^\(|\)$)/g,""),url:i})}))}catch(e){console.log("[iframeOverview] Error:",e)}this.meta.openingSongs=t}endingSongs(e){const t=[];try{const a=`<table border${e.split(' ending">')[1].split("<table border")[1].split("</table>")[0]}</table>`,n=w.$(w.$.parseHTML(a));n.find("td").length>1&&n.find("tr").each(((e,a)=>{let n=$(a).find(".theme-song-title").text().trim();n||(n=k.getBaseText($(a).find('[id^="youtube_url_"]').parent()).trim());let i=$(a).find('[id^="youtube_url_"]').first().attr("value")?.replace("music.","");i||(i=$(a).find('[id^="spotify_url_"]').first().attr("value")),t.push({title:n.replace(/(^"|"$)/g,""),author:$(a).find(".theme-song-artist").text().trim(),episode:$(a).find(".theme-song-episode").text().trim().replace(/(^\(|\)$)/g,""),url:i})}))}catch(e){console.log("[iframeOverview] Error:",e)}this.meta.endingSongs=t}related(e){const t=[];try{const a=e.split("Related ")[1].split("</h2>")[1].split("<h2>")[0],n=w.$.parseHTML(a);w.$.each(w.$(n).filter(".related-entries").find(".entry .content"),(function(e,a){const n=[];w.$(a).find("a").each((function(e,t){const a=k.absoluteLink(w.$(t).attr("href"),"https://myanimelist.net")||"";a&&n.push({url:a,title:w.$(t).parent().text(),type:k.urlPart(a,3),id:Number(k.urlPart(a,4))})})),t.push({type:w.$(a).find(".relation").first().text().trim().replace(/\(.*\)$/gi,""),links:n})})),w.$.each(w.$(n).filter(".related-entries").find("table tr"),(function(e,a){const n=[];w.$(a).find(".borderClass").last().find("a").each((function(e,t){const a=k.absoluteLink(w.$(t).attr("href"),"https://myanimelist.net")||"";a&&n.push({url:a,title:w.$(t).parent().text(),type:k.urlPart(a,3),id:Number(k.urlPart(a,4))})})),t.push({type:w.$(a).find(".borderClass").first().text(),links:n})}))}catch(e){console.log("[iframeOverview] Error:",e)}this.meta.related=t}};var A,C,T,E,I=a(70248),L=a(26017),R=a(13647);!function(e){e.unknown="Unknown",e.tv="TV",e.ova="OVA",e.movie="Movie",e.special="Special",e.ona="ONA",e.music="Music",e.manga="Manga",e.novel="Novel",e.one_shot="One shot",e.doujinshi="Doujinshi",e.manhwa="Manhwa",e.manhua="Manhua",e.oel="OEL"}(A||(A={})),function(e){e.finished_airing="Finished Airing",e.currently_airing="Currently Airing",e.not_yet_aired="Not Yet Aired",e.finished="Finished",e.currently_publishing="Currently Publishing",e.not_yet_published="Not Yet Published"}(C||(C={})),function(e){e.other="Other",e.original="Original",e.manga="Manga",e["4_koma_manga"]="4 Koma Manga",e.web_manga="Web Manga",e.digital_manga="Digital Manga",e.novel="Novel",e.light_novel="Light Novel",e.visual_novel="Visual Novel",e.game="Game",e.card_game="Card Game",e.book="Book",e.picture_book="Picture Book",e.radio="Radio",e.music="Music"}(T||(T={})),function(e){e.g="G - All Ages",e.pg="PG - Children",e.pg_13="PG 13 - Teens 13 and Older",e.r="R - 17+ (violence & profanity)",e["r+"]="R+ - Profanity & Mild Nudity",e.rx="Rx - Hentai"}(E||(E={}));class F extends m{constructor(e){if(super(e),this.apiCall=I.H2,this.logger=this.logger.m("MAL"),e.match(/myanimelist\.net\/(anime|manga)\/\d*/i))return this.type="anime"===L.urlPart(e,3)?"anime":"manga",void(this.malId=Number(L.urlPart(e,4)));throw new h.pH(e)}async _init(){this.logger.log("Retrieve",this.type,this.malId);const e=await this.getData();this.logger.log("Data",e),this.title(e),this.description(e),this.image(e),this.alternativeTitle(e),this.statistics(e),this.info(e),this.related(e),this.logger.log("Res",this.meta)}async getData(){return this.apiCall({type:"GET",path:`${this.type}/${this.malId}`,fields:["synopsis","alternative_titles","mean","rank","popularity","num_list_users","num_scoring_users","related_anime","related_manga","media_type","num_episodes","num_chapters","num_volumes","status","start_date","end_date","start_season","broadcast","studios","authors{first_name,last_name}","source","genres","average_episode_duration","rating","serialization"]})}title(e){const t=R.settings.get("forceEnglishTitles");this.meta.title=t&&e.alternative_titles.en||e.title}description(e){e.synopsis&&(this.meta.description=e.synopsis)}image(e){e.main_picture&&e.main_picture.medium&&(this.meta.image=e.main_picture.medium),this.meta.imageLarge=e.main_picture?.large||e.main_picture?.medium||""}alternativeTitle(e){if(e.alternative_titles)for(const t in e.alternative_titles){const a=e.alternative_titles[t];Array.isArray(a)?this.meta.alternativeTitle=this.meta.alternativeTitle.concat(a):a&&this.meta.alternativeTitle.push(a)}}statistics(e){e.mean&&this.meta.statistics.push({title:R.storage.lang("overview_sidebar_Score"),body:e.mean}),e.rank&&this.meta.statistics.push({title:R.storage.lang("overview_sidebar_Ranked"),body:`#${e.rank}`}),e.popularity&&this.meta.statistics.push({title:R.storage.lang("overview_sidebar_Popularity"),body:`#${e.popularity}`}),e.num_list_users&&this.meta.statistics.push({title:R.storage.lang("overview_sidebar_Members"),body:e.num_list_users.toLocaleString()}),e.num_scoring_users&&this.meta.statistics.push({title:R.storage.lang("overview_sidebar_Votes"),body:e.num_scoring_users.toLocaleString()})}info(e){if(e.media_type){const t=A[e.media_type];this.meta.info.push({title:R.storage.lang("overview_sidebar_Format"),body:[{text:t??e.media_type,url:`https://myanimelist.net/top${this.type}.php?type=${e.media_type}`}]})}if(e.num_episodes?this.meta.info.push({title:R.storage.lang("overview_sidebar_Episodes"),body:[{text:e.num_episodes}]}):0===e.num_episodes&&this.meta.info.push({title:R.storage.lang("overview_sidebar_Episodes"),body:[{text:"Unknown"}]}),e.num_chapters?this.meta.info.push({title:R.storage.lang("overview_sidebar_Chapters"),body:[{text:e.num_chapters}]}):0===e.num_chapters&&this.meta.info.push({title:R.storage.lang("overview_sidebar_Chapters"),body:[{text:"Unknown"}]}),e.num_volumes?this.meta.info.push({title:R.storage.lang("overview_sidebar_Volumes"),body:[{text:e.num_volumes}]}):0===e.num_volumes&&this.meta.info.push({title:R.storage.lang("overview_sidebar_Volumes"),body:[{text:"Unknown"}]}),e.status){const t=C[e.status];this.meta.info.push({title:R.storage.lang("overview_sidebar_Status"),body:[{text:t??e.status}]})}if(e.start_date&&this.meta.info.push({title:R.storage.lang("overview_sidebar_Aired"),body:[{text:new y.Jz(e.start_date,e.end_date).getDateTimeRangeText()}]}),e.start_season){let t="";e.start_season.season&&(t+=`${e.start_season.season} `),e.start_season.year&&(t+=e.start_season.year),this.meta.info.push({title:R.storage.lang("overview_sidebar_Season"),body:[{url:`https://myanimelist.net/${this.type}/season/${e.start_season.year}/${e.start_season.season}`,text:t}]})}if(e.broadcast){let t="";e.broadcast.day_of_the_week&&(t+=`${e.broadcast.day_of_the_week} `),e.broadcast.day_of_the_week&&e.broadcast.start_time&&(t+="at "),e.broadcast.start_time&&(t+=`${e.broadcast.start_time} (JST)`);let a=[{text:t}];if(e.broadcast.day_of_the_week&&e.broadcast.start_time){const t=b(e.broadcast.day_of_the_week,e.broadcast.start_time);t&&(a=[{date:f(t,"Asia/Tokyo"),type:"weektime"}])}this.meta.info.push({title:R.storage.lang("overview_sidebar_Broadcast"),body:a})}if(e.studios){const t=[];e.studios.forEach((function(e,a){t.push({text:e.name,url:`https://myanimelist.net/anime/producer/${e.id}`})})),t.length&&this.meta.info.push({title:R.storage.lang("overview_sidebar_Studios"),body:t})}if(e.authors){const t=[];e.authors.forEach((function(e,a){t.push({text:`${e.node.last_name??""}${e.node.last_name&&e.node.first_name?",":""} ${e.node.first_name??""}`,url:`https://myanimelist.net/people/${e.node.id}`,subtext:e.role||""})})),t.length&&this.meta.info.push({title:R.storage.lang("overview_sidebar_Authors"),body:t})}if(e.source){const t=T[e.source];this.meta.info.push({title:R.storage.lang("overview_sidebar_Source"),body:[{text:t??e.source}]})}if(e.genres){const t=[];e.genres.forEach(((e,a)=>{t.push({text:e.name,url:`https://myanimelist.net/${this.type}/genre/${e.id}`})})),t.length&&this.meta.info.push({title:R.storage.lang("overview_sidebar_Genres"),body:t})}if(e.average_episode_duration&&this.meta.info.push({title:R.storage.lang("overview_sidebar_Duration"),body:[{text:`${(new y.IQ).setRelativeTime(e.average_episode_duration,"seconds","Duration").getRelativeText()}`}]}),e.rating){const t=E[e.rating];this.meta.info.push({title:R.storage.lang("overview_sidebar_Rating"),body:[{text:t??e.rating}]})}if(e.serialization){const t=[];e.serialization.forEach((function(e,a){t.push({text:e.node.name,url:`https://myanimelist.net/manga/magazine/${e.node.id}`})})),t.length&&this.meta.info.push({title:R.storage.lang("overview_sidebar_Serialization"),body:t})}}related(e){const t={};e.related_anime.length&&e.related_anime.forEach((e=>{void 0===t[e.relation_type]&&(t[e.relation_type]={type:e.relation_type_formatted,links:[]}),t[e.relation_type].links.push({url:`https://myanimelist.net/anime/${e.node.id}`,title:e.node.title,id:e.node.id,type:"anime"})})),e.related_manga.length&&e.related_manga.forEach((e=>{void 0===t[e.relation_type]&&(t[e.relation_type]={type:e.relation_type_formatted,links:[]}),t[e.relation_type].links.push({url:`https://myanimelist.net/manga/${e.node.id}`,title:e.node.title,id:e.node.id,type:"manga"})})),this.meta.related=Object.keys(t).map((e=>t[e]))}}var X=a(19701),S=a(26017),M=a(13647);class W extends m{constructor(e){if(super(e),this.apiCall=X.H2,this.logger=this.logger.m("Anilist"),e.match(/anilist\.co\/(anime|manga)\/\d*/i))return this.type="anime"===S.urlPart(e,3)?"anime":"manga",this.aniId=Number(S.urlPart(e,4)),this.malId=NaN,this;if(e.match(/myanimelist\.net\/(anime|manga)\/\d*/i))return this.type="anime"===S.urlPart(e,3)?"anime":"manga",this.malId=Number(S.urlPart(e,4)),this.aniId=NaN,this;throw new h.pH(e)}async _init(){this.logger.log("Retrieve",this.type,this.aniId?`Anilist: ${this.aniId}`:`MAL: ${this.malId}`);const e=await this.getData();this.logger.log("Data",e),this.title(e),this.description(e),this.image(e),this.alternativeTitle(e),this.characters(e),this.statistics(e),this.info(e),this.related(e),this.reviews(e),this.recommendations(e),this.logger.log("Res",this.meta)}async getData(){let e=this.malId,t="idMal";Number.isNaN(this.malId)&&(e=this.aniId,t="id");const a=`\n    query ($id: Int, $type: MediaType) {\n      Media (${t}: $id, type: $type) {\n        id\n        idMal\n        siteUrl\n        episodes\n        chapters\n        volumes\n        averageScore\n        synonyms\n        description(asHtml: true)\n        coverImage{\n          large\n          extraLarge\n        }\n        bannerImage\n        title {\n          userPreferred\n          romaji\n          english\n          native\n        }\n        characters (perPage: 8, sort: [ROLE, ID]) {\n            edges {\n                id\n                role\n                node {\n                    id\n                    siteUrl\n                    name {\n                        first\n                        last\n                    }\n                    image {\n                        large\n                    }\n                }\n            }\n        }\n        popularity\n        favourites\n        rankings {\n          id\n          rank\n          type\n          format\n          year\n          season\n          allTime\n          context\n        }\n        relations {\n            edges {\n                id\n                relationType (version: 2)\n                node {\n                    id\n                    type\n                    siteUrl\n                    title {\n                        userPreferred\n                    }\n                }\n            }\n        }\n        format\n        episodes\n        duration\n        status\n        startDate {\n          year\n          month\n          day\n        }\n        endDate {\n          year\n          month\n          day\n        }\n        season\n        studios {\n            edges {\n                isMain\n                node {\n                    siteUrl\n                    id\n                    name\n                }\n            }\n        }\n        reviews {\n            nodes {\n                rating\n                createdAt\n                score\n                body(asHtml: true)\n                user {\n                    name\n                    siteUrl\n                    avatar {\n                      medium\n                    }\n                }\n\n            }\n        }\n        recommendations (sort: [RATING_DESC]) {\n            nodes {\n                rating\n                mediaRecommendation {\n                    title {\n                        userPreferred\n                    }\n                    siteUrl\n                    coverImage {\n                        large\n                    }\n                }\n            }\n        }\n        ${"manga"===this.type?"\n        staff {\n            edges {\n                id\n                role\n                node {\n                    siteUrl\n                    name {\n                        userPreferred\n                    }\n                }\n            }\n        }\n          ":""}\n        source(version: 2)\n        genres\n        externalLinks {\n          site\n          url\n        }\n      }\n    }\n    `,n={id:e,type:this.type.toUpperCase()};return this.apiCall(a,n)}title(e){const t=e?.data?.Media?.title?.userPreferred;t&&(this.meta.title=t)}description(e){const t=e?.data?.Media?.description;t&&(this.meta.description=t)}image(e){const t=X.Mv(e?.data?.Media?.coverImage?.large);t&&(this.meta.image=t),this.meta.imageLarge=X.Mv(e?.data?.Media?.coverImage?.extraLarge)||t,this.meta.imageBanner=X.Mv(e?.data?.Media?.bannerImage)}alternativeTitle(e){const t=e?.data?.Media?.title;if(t)for(const a in t){const t=e.data.Media.title[a];t&&this.meta.alternativeTitle.push(t)}}characters(e){const t=e?.data?.Media?.characters?.edges;t&&t.forEach((e=>{let t="",a="";e.node.name.last&&(t+=e.node.name.last),e.node.name.first&&e.node.name.last&&(t+=", "),e.node.name.first&&(t+=e.node.name.first),e.role&&(a=e.role.charAt(0).toUpperCase()+e.role.slice(1).toLowerCase()),this.meta.characters.push({img:X.Mv(e.node.image.large),name:t,subtext:a,url:e.node.siteUrl})}))}statistics(e){e.data.Media.averageScore&&this.meta.statistics.push({title:M.storage.lang("overview_sidebar_Score"),body:e.data.Media.averageScore}),e.data.Media.favourites&&this.meta.statistics.push({title:M.storage.lang("overview_sidebar_Favorites"),body:e.data.Media.favourites}),e.data.Media.popularity&&this.meta.statistics.push({title:M.storage.lang("overview_sidebar_Popularity"),body:e.data.Media.popularity}),e.data.Media.rankings.forEach((e=>{if(this.meta.statistics.length<4&&e.allTime){let t=`${e.context.replace("all time","").trim()}:`;t=t.charAt(0).toUpperCase()+t.slice(1),"Highest rated:"===t&&(t=M.storage.lang("overview_sidebar_Ranked")),this.meta.statistics.push({title:t,body:`#${e.rank}`})}}))}info(e){if(e.data.Media.format){let t=e.data.Media.format.toLowerCase().replace("_"," ");t=t.charAt(0).toUpperCase()+t.slice(1),this.meta.info.push({title:M.storage.lang("overview_sidebar_Format"),body:[{text:t}]})}if(e.data.Media.episodes&&this.meta.info.push({title:M.storage.lang("overview_sidebar_Episodes"),body:[{text:e.data.Media.episodes}]}),e.data.Media.duration&&this.meta.info.push({title:M.storage.lang("overview_sidebar_Duration"),body:[{text:`${(new y.IQ).setRelativeTime(e.data.Media.duration,"minutes","Duration").getRelativeText()}`}]}),e.data.Media.status){let t=e.data.Media.status.toLowerCase().replace("_"," ");t=t.charAt(0).toUpperCase()+t.slice(1),this.meta.info.push({title:M.storage.lang("overview_sidebar_Status"),body:[{text:t}]})}if(e.data.Media.startDate.year&&this.meta.info.push({title:M.storage.lang("overview_sidebar_Start_Date"),body:[{text:new y.zy(new Date(e.data.Media.startDate.year,e.data.Media.startDate.month,e.data.Media.startDate.day)).getDateTimeText()}]}),e.data.Media.endDate.year&&this.meta.info.push({title:M.storage.lang("overview_sidebar_End_Date"),body:[{text:new y.zy(new Date(e.data.Media.endDate.year,e.data.Media.endDate.month,e.data.Media.endDate.day)).getDateTimeText()}]}),e.data.Media.season){let t=e.data.Media.season.toLowerCase().replace("_"," ");t=t.charAt(0).toUpperCase()+t.slice(1),e.data.Media.endDate.year&&(t+=` ${e.data.Media.endDate.year}`),this.meta.info.push({title:M.storage.lang("overview_sidebar_Season"),body:[{text:t}]})}const t=[];if(e.data.Media.studios.edges.forEach((function(e,a){e.isMain&&t.push({text:e.node.name,url:e.node.siteUrl})})),t.length&&this.meta.info.push({title:M.storage.lang("overview_sidebar_Studios"),body:t}),e.data.Media.staff&&e.data.Media.staff.edges.length){const t=[];e.data.Media.staff.edges.filter((e=>!["Editing","Translator","Lettering","Touch-up"].find((t=>e.role.toLowerCase().includes(t.toLowerCase()))))).forEach((e=>{const a=e.role.replace(/(original|design|\([^)]*\))/gi,"").trim();t.push({text:e.node.name.userPreferred,url:e.node.siteUrl,subtext:a||""})})),t.length&&this.meta.info.push({title:M.storage.lang("overview_sidebar_Authors"),body:t})}if(e.data.Media.source){let t=e.data.Media.source.toLowerCase().replace("_"," ");t=t.charAt(0).toUpperCase()+t.slice(1),this.meta.info.push({title:M.storage.lang("overview_sidebar_Source"),body:[{text:t}]})}if(e.data.Media.genres){const t=[];e.data.Media.genres.forEach((function(e,a){t.push({text:e,url:`https://anilist.co/search/anime?includedGenres=${e}`})})),this.meta.info.push({title:M.storage.lang("overview_sidebar_Genres"),body:t})}const a=[];e.data.Media.externalLinks.forEach((function(e,t){a.push({text:e.site,url:e.url})})),a.length&&this.meta.info.push({title:M.storage.lang("overview_sidebar_external_links"),body:a})}related(e){const t={};e.data.Media.relations.edges.forEach((e=>{if(void 0===t[e.relationType]){let a=e.relationType.toLowerCase().replace("_"," ");a=a.charAt(0).toUpperCase()+a.slice(1),t[e.relationType]={type:a,links:[]}}t[e.relationType].links.push({url:e.node.siteUrl,title:e.node.title.userPreferred,id:e.node.id,type:e.node.type.toLowerCase()})})),this.meta.related=Object.keys(t).map((e=>t[e]))}reviews(e){const t=[];e.data.Media.reviews.nodes.forEach((e=>{t.push({body:{people:e.rating,date:new y.zy(1e3*e.createdAt).getDateTimeText({dateStyle:"medium"}),rating:e.score,text:e.body},user:{name:e.user.name,image:e.user.avatar.medium,href:e.user.siteUrl}})})),this.meta.reviews=t}recommendations(e){const t=[];e.data.Media.recommendations.nodes.forEach((e=>{e.mediaRecommendation&&t.push({entry:{title:e.mediaRecommendation.title.userPreferred,url:e.mediaRecommendation.siteUrl,image:e.mediaRecommendation.coverImage.large},stats:{users:e.rating}})})),this.meta.recommendations=t}}var D=a(76003),N=a(26017),U=a(13647);class P extends m{constructor(e){if(super(e),this.kitsuId=NaN,this.apiCall=D.H2,this.logger=this.logger.m("Kitsu"),e.match(/kitsu\.app\/(anime|manga)\/.*/i))return this.type="anime"===N.urlPart(e,3)?"anime":"manga",this.kitsuSlug=N.urlPart(e,4),this.malId=NaN,this;if(e.match(/myanimelist\.net\/(anime|manga)\/\d*/i))return this.type="anime"===N.urlPart(e,3)?"anime":"manga",this.malId=Number(N.urlPart(e,4)),this.kitsuSlug="",this;throw new h.pH(e)}animeI(){return this.animeInfo.data}async _init(){this.logger.log("Retrieve",this.type,this.kitsuSlug?`Kitsu: ${this.kitsuSlug}`:`MAL: ${this.malId}`),await this.getData(),this.logger.log("Data",this.animeInfo),this.title(),this.description(),this.image(),this.alternativeTitle(),this.characters(),this.statistics(),this.info(),this.related(),this.logger.log("Res",this.meta)}async getData(){if(!this.kitsuSlug){const e=await D.SK(this.malId,this.type);try{const t=e.data.find((e=>e.relationships.item.data.type===this.type));if(!t)throw new h.m_(`No entry found for malId ${this.malId}`);if(this.kitsuId=Number(t.relationships.item.data.id),e.included.forEach((e=>{Number(e.id)===this.kitsuId&&(this.kitsuSlug=e.attributes.slug)})),!this.kitsuSlug)throw new h.m_(`No slug found for ${this.kitsuId}`)}catch(e){throw new h.m_(e.message)}}return this.apiCall("GET",`https://kitsu.app/api/edge/${this.type}?filter[slug]=${this.kitsuSlug}&include=characters.character,mediaRelationships.destination,categories&fields[categories]=slug,title&nsfw=true`,{},!0).then((e=>{try{e.data=e.data[0],e.data.attributes.slug}catch(e){throw new h.m_(e.message)}this.animeInfo=e}))}title(){this.meta.title=D.LK(this.animeI().attributes.titles,this.animeI().attributes.canonicalTitle)}description(){this.meta.description=`<span style="white-space: pre-line;">${this.animeI().attributes.synopsis.replace("â€”"," ")}</span>`}image(){this.meta.image=this.animeI().attributes.posterImage&&this.animeI().attributes.posterImage.small?this.animeI().attributes.posterImage.small:"",this.meta.imageLarge=this.animeI().attributes.posterImage&&this.animeI().attributes.posterImage.original?this.animeI().attributes.posterImage.original:"",this.meta.imageBanner=this.animeI().attributes.coverImage&&this.animeI().attributes.coverImage.large?this.animeI().attributes.coverImage.large:""}alternativeTitle(){for(const e in this.animeI().attributes.abbreviatedTitles){const t=this.animeI().attributes.abbreviatedTitles[e];t!==this.meta.title&&t&&this.meta.alternativeTitle.push(t)}for(const e in this.animeI().attributes.titles){const t=this.animeI().attributes.titles[e];t!==this.meta.title&&t&&this.meta.alternativeTitle.push(t)}}characters(){this.animeInfo.included&&this.animeInfo.included.length&&this.animeInfo.included.forEach((e=>{if("characters"===e.type&&this.meta.characters.length<10){const{name:t}=e.attributes;this.meta.characters.push({img:null!==e.attributes.image?e.attributes.image.original:"",name:t,url:`https://myanimelist.net/character/${e.attributes.malId}`})}}))}statistics(){null!==this.animeI().attributes.averageRating&&this.meta.statistics.push({title:U.storage.lang("overview_sidebar_Score"),body:this.animeI().attributes.averageRating}),null!==this.animeI().attributes.ratingRank&&this.meta.statistics.push({title:U.storage.lang("overview_sidebar_Ranked"),body:`#${this.animeI().attributes.ratingRank}`}),null!==this.animeI().attributes.popularityRank&&this.meta.statistics.push({title:U.storage.lang("overview_sidebar_Popularity"),body:`#${this.animeI().attributes.popularityRank}`}),null!==this.animeI().attributes.userCount&&this.meta.statistics.push({title:U.storage.lang("overview_sidebar_Members"),body:this.animeI().attributes.userCount})}info(){if(void 0!==this.animeI().attributes.subtype&&null!==this.animeI().attributes.subtype){let e=this.animeI().attributes.subtype.toLowerCase().replace("_"," ");e=e.charAt(0).toUpperCase()+e.slice(1),this.meta.info.push({title:U.storage.lang("overview_sidebar_Format"),body:[{text:e}]})}if(void 0!==this.animeI().attributes.episodeCount&&null!==this.animeI().attributes.episodeCount&&this.meta.info.push({title:U.storage.lang("overview_sidebar_Episodes"),body:[{text:this.animeI().attributes.episodeCount}]}),void 0!==this.animeI().attributes.episodeLength&&null!==this.animeI().attributes.episodeLength&&this.meta.info.push({title:U.storage.lang("overview_sidebar_Duration"),body:[{text:`${(new y.IQ).setRelativeTime(this.animeI().attributes.episodeLength,"minutes","Duration").getRelativeText()}`}]}),void 0!==this.animeI().attributes.status&&null!==this.animeI().attributes.status){let e=this.animeI().attributes.status.toLowerCase().replace("_"," ");e=e.charAt(0).toUpperCase()+e.slice(1),this.meta.info.push({title:U.storage.lang("overview_sidebar_Status"),body:[{text:e}]})}this.animeI().attributes.startDate&&this.meta.info.push({title:U.storage.lang("overview_sidebar_Start_Date"),body:[{text:new y.zy(this.animeI().attributes.startDate).getDateTimeText()}]}),this.animeI().attributes.endDate&&this.meta.info.push({title:U.storage.lang("overview_sidebar_End_Date"),body:[{text:new y.zy(this.animeI().attributes.endDate).getDateTimeText()}]});const e=[];this.animeInfo.included&&this.animeInfo.included.length&&this.animeInfo.included.forEach((t=>{"categories"===t.type&&e.length<6&&e.push({text:t.attributes.title,url:`https://kitsu.app/${this.type}?categories=${t.attributes.slug}`})})),e.length&&this.meta.info.push({title:U.storage.lang("overview_sidebar_Genres"),body:e}),void 0!==this.animeI().attributes.ageRating&&null!==this.animeI().attributes.ageRating&&this.meta.info.push({title:U.storage.lang("overview_sidebar_Rating"),body:[{text:this.animeI().attributes.ageRating}]}),this.animeI().attributes.totalLength&&this.meta.info.push({title:U.storage.lang("overview_sidebar_Total_Playtime"),body:[{text:`${(new y.IQ).setRelativeTime(this.animeI().attributes.totalLength,"minutes","Duration").getRelativeText()}`}]})}related(){const e={},t=[];this.animeInfo.included&&this.animeInfo.included.length&&(this.animeInfo.included.forEach((function(e){"manga"!==e.type&&"anime"!==e.type||(t[e.id]={url:`https://kitsu.app/${e.type}/${e.attributes.slug}`,title:D.LK(e.attributes.titles,e.attributes.canonicalTitle),id:e.id,type:e.type})})),this.animeInfo.included.forEach((function(a){if("mediaRelationships"===a.type){if(void 0===e[a.attributes.role]){let t=a.attributes.role.toLowerCase().replace("_"," ");t=t.charAt(0).toUpperCase()+t.slice(1),e[a.attributes.role]={type:t,links:[]}}const n=t[a.relationships.destination.data.id];e[a.attributes.role].links.push(n)}}))),this.meta.related=Object.keys(e).map((t=>e[t]))}}var V=a(78371),K=a(26017),z=a(13647);class Q extends m{constructor(e){if(super(e),this.call=V.T1,this.errorHandling=V.Q9,this.logger=this.logger.m("Simkl"),e.match(/simkl\.com\/(anime|manga)\/\d*/i)){if(this.type="anime"===K.urlPart(e,3)?"anime":"manga",this.simklId=parseInt(K.urlPart(e,4)),this.malId=NaN,"manga"===this.type)throw"Simkl has no manga support";return this}if(e.match(/myanimelist\.net\/(anime|manga)\/\d*/i)){if(this.type="anime"===K.urlPart(e,3)?"anime":"manga",this.malId=Number(K.urlPart(e,4)),this.simklId=NaN,"manga"===this.type)throw"Simkl has no manga support";return this}throw new h.pH(e)}async _init(){this.logger.log("Retrieve",this.type,this.simklId?`Simkl: ${this.simklId}`:`MAL: ${this.malId}`);const e=await this.getData();this.logger.log("Data",e),this.title(e),this.description(e),this.image(e),this.alternativeTitle(e),this.statistics(e),this.info(e),this.related(e),this.logger.log("Res",this.meta)}async getData(){let e;if(e=Number.isNaN(this.malId)?{simkl:this.simklId}:{mal:this.malId},Number.isNaN(this.simklId)){const t=await this.call("https://api.simkl.com/search/id",e,!0);if(!t?.length)throw new h.m_(`simklId: ${this.simklId}`);this.simklId=t[0].ids.simkl}return this.call(`https://api.simkl.com/anime/${this.simklId}`,{extended:"full"},!0)}title(e){const{title:t}=e;t&&(this.meta.title=t)}description(e){const t=e.overview;t&&(this.meta.description=t)}image(e){const t=e.poster;t&&(this.meta.image=`https://simkl.in/posters/${t}_ca.jpg`),t&&(this.meta.imageLarge=`https://simkl.in/posters/${t}_m.jpg`),t&&(this.meta.imageBanner=`https://simkl.in/posters/${t}_w.jpg`)}alternativeTitle(e){void 0!==e.en_title&&e.en_title&&this.meta.alternativeTitle.push(e.en_title)}statistics(e){e.ratings.simkl.rating&&this.meta.statistics.push({title:z.storage.lang("overview_sidebar_Score"),body:e.ratings.simkl.rating}),e.ratings.mal&&e.ratings.mal.rating&&this.meta.statistics.push({title:z.storage.lang("overview_sidebar_Mal_Score"),body:e.ratings.mal.rating}),e.rank&&e.rank&&this.meta.statistics.push({title:z.storage.lang("overview_sidebar_Ranked"),body:`#${e.rank}`}),e.ratings.simkl.votes&&this.meta.statistics.push({title:z.storage.lang("overview_sidebar_Votes"),body:e.ratings.simkl.votes})}info(e){if(e.anime_type&&this.meta.info.push({title:z.storage.lang("overview_sidebar_Format"),body:[{text:e.anime_type}]}),e.total_episodes&&this.meta.info.push({title:z.storage.lang("overview_sidebar_Episodes"),body:[{text:e.total_episodes}]}),e.status&&this.meta.info.push({title:z.storage.lang("overview_sidebar_Status"),body:[{text:e.status}]}),e.year&&this.meta.info.push({title:z.storage.lang("overview_sidebar_Season"),body:[{text:e.year}]}),e.airs&&e.airs.day&&e.airs.time){let t=[{text:`${e.airs.day} at ${e.airs.time}`}];const a=b(e.airs.day,e.airs.time);a&&(t=[{date:f(a,e.airs.timezone||"Asia/Tokyo"),type:"weektime"}]),this.meta.info.push({title:z.storage.lang("overview_sidebar_Broadcast"),body:t})}e.network&&this.meta.info.push({title:z.storage.lang("overview_sidebar_Licensor"),body:[{text:e.network}]});const t=[];e.genres.forEach((e=>{t.length<6&&t.push({text:e,url:`https://simkl.com/${this.type}/${e.toLowerCase()}`})})),t.length&&this.meta.info.push({title:z.storage.lang("overview_sidebar_Genres"),body:t}),e.runtime&&this.meta.info.push({title:z.storage.lang("overview_sidebar_Duration"),body:[{text:`${(new y.IQ).setRelativeTime(e.runtime,"minutes","Duration").getRelativeText()}`}]}),e.certification&&this.meta.info.push({title:z.storage.lang("overview_sidebar_Rating"),body:[{text:e.certification}]})}related(e){const t={};e.relations&&(e.relations.forEach((e=>{if(!t[e.relation_type]){let a=e.relation_type.toLowerCase().replace("_"," ");a=a.charAt(0).toUpperCase()+a.slice(1),t[e.relation_type]={type:a,links:[]}}t[e.relation_type].links.push({url:`https://simkl.com/anime/${e.ids.simkl}/${e.ids.slug}`,title:e.title,type:"anime",id:e.ids.simkl})})),this.meta.related=Object.keys(t).map((e=>t[e])))}}var O=a(27010),H=a(26017),B=a(13647);class j extends m{constructor(e){if(super(e),this.apiCall=O.H2,this.logger=this.logger.m("Shiki"),e.match(/shikimori\.one\/(animes|mangas|ranobe)\/\D?\d+/i)){this.type="animes"===H.urlPart(e,3)?"anime":"manga";const t=H.urlPart(e,4).match(/^\D?(\d+)/);if(t&&t[1])return this.malId=Number(t[1]),this}if(e.match(/myanimelist\.net\/(anime|manga)\/\d*/i))return this.type="anime"===H.urlPart(e,3)?"anime":"manga",this.malId=Number(H.urlPart(e,4)),this;throw new h.pH(e)}async _init(){this.logger.log("Retrieve",this.type,this.malId);const e=await this.getData();this.logger.log("Data",e),this.title(e),this.description(e),this.image(e),this.alternativeTitle(e),this.characters(e),this.statistics(e),this.info(e),this.related(e),this.logger.log("Res",this.meta)}async getData(){return{meta:await O.H2({path:`${this.type}s/${this.malId}`,type:"GET"}),roles:await O.H2({path:`${this.type}s/${this.malId}/roles`,type:"GET"}),related:await O.H2({path:`${this.type}s/${this.malId}/related`,type:"GET"})}}title(e){this.meta.title=O.DD(e.meta.russian,e.meta.name,!0)}description(e){e.meta.description_html&&(this.meta.description=e.meta.description_html)}image(e){this.meta.image=e.meta.image.original?`${O.bl}${e.meta.image.original}`:"",this.meta.imageLarge=this.meta.image}alternativeTitle(e){this.meta.alternativeTitle=[...e.meta.english||[],...e.meta.japanese||[],...e.meta.synonyms||[]].filter((e=>e))}characters(e){const t=e.roles;t&&t.forEach((e=>{e.character&&e.character.id&&this.meta.characters.push({img:e.character.image.original?`${O.bl}${e.character.image.original}`:"",name:O.DD(e.character.russian,e.character.name),subtext:O.DD(e.roles_russian.length?e.roles_russian[0]:null,e.roles.length?e.roles[0]:null),url:`${O.bl}${e.character.url}`}),this.meta.characters.sort(((e,t)=>{const a=["Main","Supporting"];return(e.subtext?a.indexOf(e.subtext):2)-(t.subtext?a.indexOf(t.subtext):2)})),this.meta.characters=this.meta.characters.slice(0,10)}))}statistics(e){if(e.meta.score&&this.meta.statistics.push({title:B.storage.lang("overview_sidebar_Score"),body:e.meta.score}),e.meta.rates_statuses_stats){const t=e.meta.rates_statuses_stats.find((e=>["Watching","Ð¡Ð¼Ð¾Ñ‚Ñ€ÑŽ"].includes(e.name))),a=e.meta.rates_statuses_stats.find((e=>["Planned to Read","Planned to Watch","Ð—Ð°Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾"].includes(e.name))),n=e.meta.rates_statuses_stats.find((e=>["Reading","Ð§Ð¸Ñ‚Ð°ÑŽ"].includes(e.name))),i=e.meta.rates_statuses_stats.find((e=>["Dropped","Ð‘Ñ€Ð¾ÑˆÐµÐ½Ð¾"].includes(e.name))),s=e.meta.rates_statuses_stats.find((e=>["On Hold","ÐžÑ‚Ð»Ð¾Ð¶ÐµÐ½Ð¾"].includes(e.name))),r=e.meta.rates_statuses_stats.find((e=>["Completed","ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÐ½Ð¾","ÐŸÑ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ð½Ð¾"].includes(e.name)));t&&t.value&&this.meta.statistics.push({title:`${B.storage.lang("UI_Status_watching_anime")}:`,body:t.value}),a&&a.value&&this.meta.statistics.push({title:`${"manga"===this.type?B.storage.lang("UI_Status_planTo_manga"):B.storage.lang("UI_Status_planTo_anime")}:`,body:a.value}),n&&n.value&&this.meta.statistics.push({title:`${B.storage.lang("UI_Status_watching_manga")}:`,body:n.value}),i&&i.value&&this.meta.statistics.push({title:`${B.storage.lang("UI_Status_Dropped")}:`,body:i.value}),s&&s.value&&this.meta.statistics.push({title:`${B.storage.lang("UI_Status_OnHold")}:`,body:s.value}),r&&r.value&&this.meta.statistics.push({title:`${B.storage.lang("UI_Status_Completed")}:`,body:r.value})}}info(e){if(e.meta.kind&&this.meta.info.push({title:B.storage.lang("overview_sidebar_Format"),body:[{text:H.upperCaseFirstLetter(e.meta.kind)}]}),e.meta.duration&&this.meta.info.push({title:B.storage.lang("overview_sidebar_Duration"),body:[{text:`${(new y.IQ).setRelativeTime(e.meta.duration,"minutes","Duration").getRelativeText()}`}]}),e.meta.status&&this.meta.info.push({title:B.storage.lang("overview_sidebar_Status"),body:[{text:H.upperCaseFirstLetter(e.meta.status)}]}),e.meta.aired_on&&this.meta.info.push({title:B.storage.lang("overview_sidebar_Start_Date"),body:[{text:`${new y.zy(e.meta.aired_on).getDateTimeText()}`}]}),e.meta.released_on&&this.meta.info.push({title:B.storage.lang("overview_sidebar_End_Date"),body:[{text:`${new y.zy(e.meta.released_on).getDateTimeText()}`}]}),"manga"===this.type&&e.roles&&e.roles.length){const t=[];e.roles.forEach((e=>{if(e.person&&e.person.id){let a=O.DD(e.person.russian,e.person.name);e.roles&&e.roles.length&&(a+=` (${e.roles[0]})`),t.push({text:a,url:`${O.bl}${e.person.url}`})}})),t.length&&this.meta.info.push({title:`${B.storage.lang("overview_sidebar_Authors")}`,body:t})}if(e.meta.studios&&e.meta.studios.length){const t=[];e.meta.studios.forEach((e=>{t.push({text:e.name,url:`https://shikimori.one/animes/studio/${e.id}`})})),t.length&&this.meta.info.push({title:B.storage.lang("overview_sidebar_Studios"),body:t})}const t=[];e.meta.genres.forEach((e=>{t.push({text:e.name,url:`https://shikimori.one/${this.type}s/genre/${e.id}`})})),t.length&&this.meta.info.push({title:B.storage.lang("overview_sidebar_Genres"),body:t})}related(e){const t=[];e.related.forEach((e=>{t[e.relation]||(t[e.relation]={type:O.DD(e.relation_russian,e.relation),links:[]});let a=e.manga,n="manga";e.anime&&e.anime.id&&(a=e.anime,n="anime"),t[e.relation].links.push({url:`${O.bl}${a.url}`,title:O.DD(a.russian,a.name),type:n,id:a.id})})),this.meta.related=Object.values(t)}}var q=a(3507),G=a(85577);const Y=(0,n.pM)({__name:"modal",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const a=(0,n.WQ)("rootHtml"),s=e,l=t,o=(0,i.KR)(s.modelValue);(0,n.wB)(o,(e=>{l("update:modelValue",e)})),(0,n.wB)((()=>s.modelValue),(e=>{o.value=e}));const d=n.Im;return(e,t)=>((0,n.uX)(),(0,n.Wv)((0,n.$y)((0,i.R1)(d)),{to:(0,i.R1)(a)},{default:(0,n.k6)((()=>[(0,n.bF)(r.Transition,{name:"fade-shrink-in",appear:""},{default:(0,n.k6)((()=>[o.value?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"modal",onClick:t[1]||(t[1]=e=>o.value=!1)},[(0,n.Lk)("div",{class:"content",onClick:t[0]||(t[0]=(0,r.withModifiers)((()=>{}),["stop"]))},[(0,n.RG)(e.$slots,"default")])])):(0,n.Q3)("v-if",!0)])),_:3})])),_:3},8,["to"]))}});var J=a(66262);const Z=(0,J.A)(Y,[["styles",[".modal[data-v-6be48f99] {\n  z-index: 20;\n  background-color: rgba(0, 0, 0, 0.459);\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.modal .content[data-v-6be48f99] {\n  display: inline-block;\n  background-color: var(--cl-white);\n  max-width: min(95%, 800px);\n  max-height: 90%;\n  overflow: auto;\n}\n"]],["__scopeId","data-v-6be48f99"],["__file","modal.vue"]]);var ee=a(29066),te=a(72702),ae=a(59935),ne=a(19426),ie=a(26017);const se={key:0,class:"progress"},re=["src"],le=["src"],oe=(0,n.pM)({__name:"overview-image",props:{src:{type:String,required:!0},single:{type:Object,default:null},loading:{type:Boolean,default:!1}},setup(e){const t=e,a=(0,i.KR)(!1),l=(0,n.EW)((()=>{const e={url:"",favicon:"",continueUrl:""};if(!t.single)return e;const a=t.single.getStreamingUrl()||"",n=t.single.getResumeWatching(),i=t.single.getContinueWatching(),s=t.single.getEpisode();return e.url=a,i&&i.ep===s+1?e.continueUrl=i.url:n&&n.ep===s?e.continueUrl=n.url:a&&(e.continueUrl=a),e.url&&(e.favicon=ie.favicon(e.url.split("/")[2])),e})),o=(0,n.EW)((()=>{if(!t.single)return!1;const e=t.single.getProgress();return!!e&&!!e.isAiring()&&e}));return(t,i)=>((0,n.uX)(),(0,n.CE)("div",{class:(0,s.C4)(["overviewImage",{hov:e.src,notLoading:!e.loading}]),onClick:i[2]||(i[2]=e=>a.value=!0)},[(0,n.bF)(G.A,{class:"over",src:e.src,loading:e.loading},null,8,["src","loading"]),o.value?((0,n.uX)(),(0,n.CE)("div",se,[(0,n.bF)(ae.A,{progress:o.value},null,8,["progress"])])):(0,n.Q3)("v-if",!0),l.value.url?((0,n.uX)(),(0,n.CE)("div",{key:1,class:"streaming",onClick:i[0]||(i[0]=(0,r.withModifiers)((()=>{}),["stop"]))},[(0,n.bF)(ee.A,{right:Boolean(l.value.url),left:Boolean(l.value.url),reverse:!0,color:"secondary"},{right:(0,n.k6)((()=>[(0,n.bF)(te.A,{href:l.value.url,class:"stream-link"},{default:(0,n.k6)((()=>[(0,n.Lk)("img",{class:"img-icons",src:l.value.favicon},null,8,re)])),_:1},8,["href"])])),left:(0,n.k6)((()=>[(0,n.bF)(te.A,{href:l.value.continueUrl},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(t.lang(`overview_Continue_${e.single?.getType()}`))+" ",1),(0,n.bF)(ne.A)])),_:1},8,["href"])])),_:1},8,["right","left"])])):(0,n.Q3)("v-if",!0),e.src?((0,n.uX)(),(0,n.Wv)(Z,{key:2,modelValue:a.value,"onUpdate:modelValue":i[1]||(i[1]=e=>a.value=e)},{default:(0,n.k6)((()=>[(0,n.Lk)("img",{src:e.src,class:"modal-image"},null,8,le)])),_:1},8,["modelValue"])):(0,n.Q3)("v-if",!0)],2))}}),de=(0,J.A)(oe,[["styles",["/* stylelint-disable prettier/prettier */\n/* Aspect ratios */\n/* Transitions */\n/* Typography */\n/* Shadows */\n/* Fonts */\n@keyframes skeleton-loading-malsync-fe0403ea {\nto {\n    transform: translateX(100%);\n}\n}\n.overviewImage[data-v-fe0403ea] {\n  border-radius: 10px;\n  overflow: hidden;\n  position: relative;\n  height: 200px;\n}\n.overviewImage .over[data-v-fe0403ea] {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  height: 100%;\n  width: 100%;\n}\n.overviewImage.hov[data-v-fe0403ea] {\n  transition: transform 0.25s ease;\n  cursor: pointer;\n}\n.overviewImage.hov[data-v-fe0403ea]:active {\n  transition-delay: 0s !important;\n  transform: translateY(3px);\n}\n.overviewImage.notLoading[data-v-fe0403ea] {\n  box-shadow: 0 11px 21px rgba(0, 0, 0, 0.065), 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n@media screen and (min-width: 900px) {\n.overviewImage[data-v-fe0403ea] {\n    height: auto;\n    aspect-ratio: 225/350;\n}\n}\n.modal-image[data-v-fe0403ea] {\n  max-width: 100%;\n  max-height: 85vh;\n}\n.streaming[data-v-fe0403ea] {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  margin: 10px;\n  border-radius: 30px;\n  user-select: none;\n}\n.streaming .pill[data-v-fe0403ea] {\n  user-select: none;\n}\n.streaming .img-icons[data-v-fe0403ea] {\n  width: 18px;\n  height: 18px;\n}\n.streaming .stream-link[data-v-fe0403ea] {\n  display: flex;\n}\n.progress[data-v-fe0403ea] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  margin: 10px;\n}\n"]],["__scopeId","data-v-fe0403ea"],["__file","overview-image.vue"]]);var ue=a(60773),ce=a(20545),pe=a(17304),me=a(5139);const ge={key:1,class:"loading-placeholder"},ve=(0,n.pM)({__name:"text-scroller",props:{loading:{type:Boolean,default:!1}},setup(e){const t=(0,i.KR)(!1);return(a,i)=>((0,n.uX)(),(0,n.CE)("div",{class:(0,s.C4)(["horizontal-scroller",{open:t.value,loading:e.loading}]),dir:"ltr",onClick:i[0]||(i[0]=e=>t.value=!t.value)},[e.loading?((0,n.uX)(),(0,n.CE)("div",ge)):(0,n.RG)(a.$slots,"default",{key:0})],2))}}),he=(0,J.A)(ve,[["styles",["/* stylelint-disable prettier/prettier */\n/* Aspect ratios */\n/* Transitions */\n/* Typography */\n/* Shadows */\n/* Fonts */\n@keyframes skeleton-loading-malsync-4b9b25a8 {\nto {\n    transform: translateX(100%);\n}\n}\n.horizontal-scroller[data-v-4b9b25a8] {\n  white-space: nowrap;\n  overflow: hidden;\n}\n@media (hover: none) {\n.horizontal-scroller[data-v-4b9b25a8] {\n    white-space: nowrap !important;\n    overflow-x: auto;\n    padding-right: 30px;\n    mask-image: linear-gradient(270deg, transparent, #000 100px);\n    /* stylelint-disable-next-line property-no-vendor-prefix */\n    -webkit-mask-image: linear-gradient(270deg, transparent, #000 100px);\n}\n}\n@media (hover: hover) {\n.horizontal-scroller[data-v-4b9b25a8] {\n    cursor: pointer;\n    line-height: 1.5;\n    mask-image: linear-gradient(270deg, transparent, #000 100px);\n    /* stylelint-disable-next-line property-no-vendor-prefix */\n    -webkit-mask-image: linear-gradient(270deg, transparent, #000 100px);\n}\n}\n.horizontal-scroller.open[data-v-4b9b25a8] {\n  white-space: inherit;\n  mask-image: none;\n  /* stylelint-disable-next-line property-no-vendor-prefix */\n  -webkit-mask-image: none;\n}\n.horizontal-scroller.loading[data-v-4b9b25a8] {\n  width: 20em;\n}\n.loading-placeholder[data-v-4b9b25a8] {\n  position: relative;\n  overflow: hidden;\n  transition: background-color 0.1s ease-in-out;\n  background-color: var(--cl-backdrop);\n  width: 20em;\n  height: 1em;\n  margin-bottom: 0.2em;\n  border-radius: 0.25rem;\n  max-width: 100%;\n  height: 1.3em;\n}\n.loading-placeholder[data-v-4b9b25a8]::after {\n  opacity: var(--cl-loading);\n  transition: opacity 0.25s ease-in-out;\n  animation: skeleton-loading-malsync-4b9b25a8 1.5s infinite;\n  content: '';\n  height: 100%;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  transform: translateX(-100%);\n  z-index: 1;\n  background: linear-gradient(90deg, hsla(0, 0%, 100%, 0), var(--cl-backdrop), hsla(0, 0%, 100%, 0));\n  filter: brightness(1.15);\n}\n"]],["__scopeId","data-v-4b9b25a8"],["__file","text-scroller.vue"]]);var fe=a(7916),be=a(18221),ye=a(46511),ke=a(11312),_e=a(13647);const we={key:0,class:"progress"},xe=["title"],Ae={key:0,class:"material-icons icon-type"},Ce={class:"text"},$e=["title"],Te={key:0,class:"material-icons"},Ee={class:"episode"},Ie={key:1,class:"material-icons",title:"Dropped"},Le={key:1},Re=(0,n.pM)({__name:"overview-image-language",props:{single:{type:Object,default:null}},setup(e){const t=e,a=(0,n.EW)({get:()=>t.single?t.single.getProgressMode():"",set(e){t.single&&t.single.setProgressMode(e)}}),i=(0,n.EW)((()=>t.single?[{title:_e.storage.lang("settings_progress_default"),value:""},...t.single.getProgressOptions().map((e=>({title:e.label,value:e.key,meta:e}))),{title:_e.storage.lang("settings_progress_disabled"),value:"off"}]:[]));return(t,r)=>e.single&&i.value.length>2?((0,n.uX)(),(0,n.CE)("div",we,[(0,n.bF)(be.A,{modelValue:a.value,"onUpdate:modelValue":r[0]||(r[0]=e=>a.value=e),options:i.value,"align-items":"left"},{select:(0,n.k6)((()=>[(0,n.bF)(ke.A,{tabindex:-1,animation:!1,padding:"mini"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",{class:"btn",title:e.single.getProgressKey()?.key},[e.single.getProgressKey()?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},["manga"!==e.single.getType()?((0,n.uX)(),(0,n.CE)("span",Ae,(0,s.v_)("sub"===e.single.getProgressKey()?.type?"subtitles":"record_voice_over"),1)):(0,n.Q3)("v-if",!0),(0,n.Lk)("span",Ce,(0,s.v_)(e.single.getProgressKey()?.lang.toUpperCase()),1)],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.eW)((0,s.v_)(t.lang("settings_Interval_Off").toUpperCase()),1)],64))],8,xe)])),_:1})])),option:(0,n.k6)((t=>[t.option.meta?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"entry",title:t.option.meta.key},["manga"!==e.single.getType()?((0,n.uX)(),(0,n.CE)("span",Te,(0,s.v_)("sub"===t.option.meta.type?"subtitles":"record_voice_over"),1)):(0,n.Q3)("v-if",!0),(0,n.Lk)("span",Ee,(0,s.v_)("manga"===e.single.getType()?"CH":"EP")+" "+(0,s.v_)(t.option.meta.episode),1),(0,n.Lk)("span",null,(0,s.v_)(t.option.meta.label),1),t.option.meta.dropped?((0,n.uX)(),(0,n.CE)("span",Ie,"warning")):(0,n.Q3)("v-if",!0)],8,$e)):((0,n.uX)(),(0,n.CE)("div",Le,(0,s.v_)(t.option.title),1))])),_:1},8,["modelValue","options"])])):(0,n.Q3)("v-if",!0)}}),Fe=(0,J.A)(Re,[["styles",["/* stylelint-disable prettier/prettier */\n/* Aspect ratios */\n/* Transitions */\n/* Typography */\n/* Shadows */\n/* Fonts */\n@keyframes skeleton-loading-malsync-3267b298 {\nto {\n    transform: translateX(100%);\n}\n}\n.episode[data-v-3267b298] {\n  border-radius: 5px;\n  background-color: var(--cl-primary);\n  color: white;\n  font-size: 0.875rem;\n  padding: 2px 5px;\n}\n.entry[data-v-3267b298] {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n.btn[data-v-3267b298] {\n  display: flex;\n  gap: 5px;\n}\n.icon-type[data-v-3267b298] {\n  line-height: 0;\n  transform: translateY(50%);\n}\n"]],["__scopeId","data-v-3267b298"],["__file","overview-image-language.vue"]]),Xe={class:"form-click"},Se={key:0,class:"star-score-wrap"},Me={class:"el-rate"},We=["onClick","onMouseover"],De={key:1,class:"smile-score-wrap"},Ne={class:"el-rate"},Ue=["onClick","onMouseover"],Pe=(0,n.pM)({__name:"form-click",props:{options:{type:Array,required:!0},type:{type:String,default:"star"},modelValue:{type:[String,Number],require:!0,default:""},size:{type:String,default:"medium"},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,l=t,o=(0,i.KR)(a.modelValue),d=(0,i.KR)(0);return(0,n.wB)(o,(e=>{l("update:modelValue",e)})),(0,n.wB)((()=>a.modelValue),(e=>{o.value=e})),(t,a)=>((0,n.uX)(),(0,n.CE)("div",Xe,["star"===e.type?((0,n.uX)(),(0,n.CE)("div",Se,[(0,n.Lk)("div",Me,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.options.slice().reverse(),(e=>(0,n.bo)(((0,n.uX)(),(0,n.CE)("span",{key:e.value,class:(0,s.C4)(["el-rate__item",{active:e.value<=o.value,hoverActive:e.value<=d.value}]),onClick:t=>Number(o.value)!==Number(e.value)?o.value=e.value:o.value=0,onMouseover:t=>d.value=Number(e.value),onMouseout:a[0]||(a[0]=e=>d.value=0)},(0,s.v_)(e.value<=o.value||e.value<=d.value?"â˜…":"â˜†"),43,We)),[[r.vShow,e.value]]))),128))])])):"smiley"===e.type?((0,n.uX)(),(0,n.CE)("div",De,[(0,n.Lk)("div",Ne,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.options.slice().reverse(),(e=>(0,n.bo)(((0,n.uX)(),(0,n.CE)("span",{key:e.value,class:(0,s.C4)(["el-rate__item",{active:e.value==o.value&&!d.value,hoverActive:e.value==d.value}]),onClick:t=>Number(o.value)!==Number(e.value)?o.value=e.value:o.value=0,onMouseover:t=>d.value=Number(e.value),onMouseout:a[1]||(a[1]=e=>d.value=0)},(0,s.v_)(e.label),43,Ue)),[[r.vShow,e.value]]))),128))])])):(0,n.Q3)("v-if",!0)]))}}),Ve=(0,J.A)(Pe,[["styles",["/* stylelint-disable prettier/prettier */\n/* Aspect ratios */\n/* Transitions */\n/* Typography */\n/* Shadows */\n/* Fonts */\n@keyframes skeleton-loading-malsync-0357b00c {\nto {\n    transform: translateX(100%);\n}\n}\n.form-click .el-rate__item[data-v-0357b00c] {\n  cursor: pointer;\n  font-size: 20px;\n  display: inline-block;\n}\n.form-click .star-score-wrap[data-v-0357b00c] {\n  margin-left: 5px;\n}\n.form-click .star-score-wrap .el-rate__item.hoverActive[data-v-0357b00c] {\n  color: var(--cl-primary);\n}\n.form-click .smile-score-wrap .el-rate__item[data-v-0357b00c] {\n  filter: grayscale(100%);\n  transition: transform 0.25s ease, filter 0.25s ease;\n  transform: scale(1);\n}\n.form-click .smile-score-wrap .el-rate__item.active[data-v-0357b00c],\n.form-click .smile-score-wrap .el-rate__item.hoverActive[data-v-0357b00c] {\n  filter: grayscale(0%);\n}\n.form-click .smile-score-wrap .el-rate__item[data-v-0357b00c]:hover {\n  transform: scale(1.2);\n}\n"]],["__scopeId","data-v-0357b00c"],["__file","form-click.vue"]]);var Ke=a(7783);const ze=(0,n.pM)({__name:"error-single",props:{error:{type:String,default:""}},setup:e=>(t,a)=>{const i=(0,n.gN)("dompurify-html");return e.error?((0,n.uX)(),(0,n.Wv)(Ke.A,{key:0},{default:(0,n.k6)((()=>[(0,n.bo)((0,n.Lk)("span",null,null,512),[[i,e.error]])])),_:1})):(0,n.Q3)("v-if",!0)}}),Qe=(0,J.A)(ze,[["__file","error-single.vue"]]);var Oe=a(37796),He=a(26017);const Be={class:"list-select"},je={key:0,class:"label-row"},qe={class:"label"},Ge={class:"dots"},Ye={class:"progress-select"},Je={class:"label-row"},Ze={class:"label"},et={class:"progress-picked"},tt={key:0,class:"volume-select"},at={class:"label-row"},nt={class:"label"},it={class:"score-select"},st={class:"label-row"},rt={class:"label"},lt={class:"update-buttons"},ot=(0,n.pM)({__name:"overview-update-ui",props:{single:{type:Object,default:()=>({})},loading:{type:Boolean,default:!1},type:{type:String,default:"anime"}},setup(e){const t=(0,i.KR)(!1),a=e,l=(0,n.EW)({get:()=>a.single&&a.single.isAuthenticated()?Number.isNaN(a.single.getVolume())?"":a.single.getVolume().toString():"",set(e){a.single&&a.single.isAuthenticated()&&a.single.setVolume(Number(e))}}),o=(0,n.EW)({get:()=>a.single&&a.single.isAuthenticated()?Number.isNaN(a.single.getEpisode())?"":a.single.getEpisode().toString():"",set(e){a.single&&a.single.isAuthenticated()&&a.single.setEpisode(Number(e))}}),d=(0,n.EW)((()=>a.single?a.single.getScoreMode():null)),u=(0,n.EW)({get:()=>a.single&&a.single.isAuthenticated()&&d.value?d.value.valueToOptionValue(a.single.getAbsoluteScore()).toString():"",set(e){a.single&&a.single.isAuthenticated()&&d.value&&a.single.setAbsoluteScore(d.value.optionValueToValue(Number(e)||0))}}),c=(0,n.EW)({get:()=>Number(u.value)?u.value:"",set(e){u.value=e||"0"}}),p=(0,n.EW)({get:()=>a.single&&a.single.isAuthenticated()&&a.single.getStatusCheckboxValue()||6,set(e){a.single&&a.single.isAuthenticated()&&a.single.handleStatusCheckbox(e)}}),m=(0,n.EW)((()=>{if(!a.single)return!1;const e=a.single.getProgress();return!!e&&!(!e.isAiring()||!e.getCurrentEpisode())&&e}));async function g(){a.single&&(t.value=!0,await a.single.update(),t.value=!1)}async function v(){a.single&&(t.value=!0,await a.single.sync(),await a.single.update(),t.value=!1)}async function h(){a.single&&(t.value=!0,await a.single.delete(),t.value=!1)}const f=He.episode;return(a,b)=>{return e.single&&e.single.getLastError()?((0,n.uX)(),(0,n.Wv)(Qe,{key:0,error:e.single.getLastErrorMessage()},null,8,["error"])):((0,n.uX)(),(0,n.CE)("div",{key:1,class:(0,s.C4)(["update-ui",{loading:e.loading,singleLoading:t.value}])},[(0,n.Lk)("div",{class:(0,s.C4)(["form-section",{notOnList:!e.single?.isOnList()||!1}])},[(0,n.Lk)("div",Be,[e.single?((0,n.uX)(),(0,n.CE)("div",je,[(0,n.Lk)("span",qe,(0,s.v_)(a.lang("UI_Status")),1),(0,n.bF)(be.A,{modelValue:p.value,"onUpdate:modelValue":b[0]||(b[0]=e=>p.value=e),options:e.single.getStatusCheckbox(),"align-items":"left"},{select:(0,n.k6)((e=>[(0,n.bF)(ke.A,{tabindex:-1,animation:!1,padding:"mini",class:"dots"},{default:(0,n.k6)((()=>[(0,n.bF)(pe.A,{status:Number(e.value),"relative-height":!0},null,8,["status"]),(0,n.eW)(" "+(0,s.v_)(e.currentTitle),1)])),_:2},1024)])),option:(0,n.k6)((e=>[(0,n.Lk)("div",Ge,[(0,n.bF)(pe.A,{status:Number(e.option.value)},null,8,["status"]),(0,n.eW)(" "+(0,s.v_)(e.option.label),1)])])),_:1},8,["modelValue","options"])])):(0,n.Q3)("v-if",!0)]),(0,n.Lk)("div",Ye,[e.single?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("div",Je,[(0,n.Lk)("span",Ze,(0,s.v_)((0,i.R1)(f)(e.type)),1),(0,n.bF)(fe.A,{modelValue:o.value,"onUpdate:modelValue":b[1]||(b[1]=e=>o.value=e),type:"mini",suffix:`/${e.single.getTotalEpisodes()||"? "}`},{placeholder:(0,n.k6)((({picked:e,suffix:t})=>[(0,n.Lk)("div",et,[(0,n.eW)((0,s.v_)(e)+(0,s.v_)(e?t:"")+" ",1),m.value?((0,n.uX)(),(0,n.Wv)(Oe.A,{key:0,"watched-ep":Number(o.value),episode:m.value.getCurrentEpisode(),text:m.value.getPredictionText()},null,8,["watched-ep","episode","text"])):(0,n.Q3)("v-if",!0)])])),_:1},8,["modelValue","suffix"]),(0,n.bF)(Fe,{single:e.single},null,8,["single"]),(0,n.bo)((0,n.Lk)("span",{class:"label increase",onClick:b[2]||(b[2]=e=>o.value=String(Number(o.value)+1))}," + ",512),[[r.vShow,!(e.single.getTotalEpisodes()&&Number(o.value)===e.single.getTotalEpisodes())]])]),(0,n.bF)(ye.A,{modelValue:o.value,"onUpdate:modelValue":b[3]||(b[3]=e=>o.value=e),disabled:!e.single.getTotalEpisodes(),min:0,max:e.single.getTotalEpisodes(),color:"blue"},null,8,["modelValue","disabled","max"])],64)):(0,n.Q3)("v-if",!0)]),"manga"===e.type?((0,n.uX)(),(0,n.CE)("div",tt,[e.single?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("div",at,[(0,n.Lk)("span",nt,(0,s.v_)(a.lang("UI_Volume")),1),(0,n.bF)(fe.A,{modelValue:l.value,"onUpdate:modelValue":b[4]||(b[4]=e=>l.value=e),type:"mini",suffix:`/${e.single.getTotalVolumes()||"?"}`},null,8,["modelValue","suffix"]),(0,n.bo)((0,n.Lk)("span",{class:"label increase",onClick:b[5]||(b[5]=e=>l.value=String(Number(l.value)+1))}," + ",512),[[r.vShow,!(e.single.getTotalVolumes()&&Number(l.value)===e.single.getTotalVolumes())]])]),(0,n.bF)(ye.A,{modelValue:l.value,"onUpdate:modelValue":b[6]||(b[6]=e=>l.value=e),disabled:!e.single.getTotalVolumes(),min:0,max:e.single.getTotalVolumes()},null,8,["modelValue","disabled","max"])],64)):(0,n.Q3)("v-if",!0)])):(0,n.Q3)("v-if",!0),(0,n.Lk)("div",it,[e.single&&d.value?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("div",st,[(0,n.Lk)("span",rt,(0,s.v_)(a.lang("UI_Score")),1),"input"===d.value.ui.module?((0,n.uX)(),(0,n.Wv)(fe.A,{key:0,modelValue:c.value,"onUpdate:modelValue":b[7]||(b[7]=e=>c.value=e),type:"mini","simple-placeholder":!0,"strict-validation":!0,validation:e=>Boolean(String(e).match(new RegExp(d.value.ui.pattern))),placeholder:a.lang("UI_Score_Not_Rated")},null,8,["modelValue","validation","placeholder"])):"click"===d.value.ui.module?((0,n.uX)(),(0,n.Wv)(Ve,{key:1,modelValue:u.value,"onUpdate:modelValue":b[8]||(b[8]=e=>u.value=e),options:d.value.getOptions(),type:d.value.ui.type},null,8,["modelValue","options","type"])):((0,n.uX)(),(0,n.Wv)(be.A,{key:2,modelValue:u.value,"onUpdate:modelValue":b[9]||(b[9]=e=>u.value=e),"align-items":"left",options:d.value.getOptions()},{select:(0,n.k6)((e=>[(0,n.bF)(ke.A,{tabindex:-1,animation:!1,padding:"mini"},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(e.currentTitle),1)])),_:2},1024)])),_:1},8,["modelValue","options"]))]),(0,n.bF)(ye.A,{modelValue:u.value,"onUpdate:modelValue":b[10]||(b[10]=e=>u.value=e),color:"violet",options:(y=e.single.getScoreCheckbox(),y.sort(((e,t)=>e.value-t.value)))},null,8,["modelValue","options"])],64)):(0,n.Q3)("v-if",!0)])],2),(0,n.Lk)("div",lt,[e.single?.isOnList()?((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[e.single.isDirty()?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"update-button",tabindex:"0",onKeydown:b[13]||(b[13]=(0,r.withKeys)((e=>v()),["enter"])),onClick:b[14]||(b[14]=e=>v())},[b[20]||(b[20]=(0,n.Lk)("span",{class:"material-icons"},"cloud_upload",-1)),(0,n.eW)(" "+(0,s.v_)(a.lang("Update")),1)],32)):((0,n.uX)(),(0,n.CE)("div",{key:1,class:"update-button",tabindex:"0",onKeydown:b[15]||(b[15]=(0,r.withKeys)((e=>g()),["enter"])),onClick:b[16]||(b[16]=e=>g())},[b[21]||(b[21]=(0,n.Lk)("span",{class:"material-icons"},"cloud_download",-1)),(0,n.eW)(" "+(0,s.v_)(a.lang("Synchronize")),1)],32)),(0,n.Lk)("div",{class:"update-button",tabindex:"0",onKeydown:b[17]||(b[17]=(0,r.withKeys)((e=>h()),["enter"])),onClick:b[18]||(b[18]=e=>h())},[b[22]||(b[22]=(0,n.Lk)("span",{class:"material-icons"},"remove_circle_outline",-1)),(0,n.eW)(" "+(0,s.v_)(a.lang("Remove")),1)],32)],64)):((0,n.uX)(),(0,n.CE)("div",{key:0,class:"update-button add",tabindex:"0",onKeydown:b[11]||(b[11]=(0,r.withKeys)((e=>v()),["enter"])),onClick:b[12]||(b[12]=e=>v())},[b[19]||(b[19]=(0,n.Lk)("span",{class:"material-icons"},"bookmark_add",-1)),(0,n.eW)(" "+(0,s.v_)(a.lang("Add")),1)],32))])],2));var y}}}),dt=(0,J.A)(ot,[["styles",["/* stylelint-disable prettier/prettier */\n/* Aspect ratios */\n/* Transitions */\n/* Typography */\n/* Shadows */\n/* Fonts */\n@keyframes skeleton-loading-malsync-0fecc957 {\nto {\n    transform: translateX(100%);\n}\n}\n.update-buttons[data-v-0fecc957],\n.label[data-v-0fecc957] {\n  color: var(--cl-light-text);\n}\n.update-ui .list-select[data-v-0fecc957] {\n  margin-bottom: var(--size-spacer-half);\n  padding-bottom: 3px;\n  min-height: 36px;\n}\n.update-ui .progress-select[data-v-0fecc957] {\n  margin-bottom: var(--size-spacer-half);\n  min-height: 60px;\n}\n.update-ui .score-select[data-v-0fecc957] {\n  min-height: 60px;\n}\n.update-ui .volume-select[data-v-0fecc957] {\n  margin-bottom: var(--size-spacer-half);\n  min-height: 60px;\n}\n.update-ui .form-section[data-v-0fecc957] {\n  margin-bottom: var(--size-spacer-half);\n}\n.update-ui .update-buttons[data-v-0fecc957] {\n  display: flex;\n  justify-content: space-around;\n  text-align: center;\n  align-items: center;\n}\n@media screen and (min-width: 900px) {\n.update-ui .update-buttons[data-v-0fecc957] {\n    min-height: 48px;\n}\n}\n.update-ui .update-buttons .update-button[data-v-0fecc957] {\n  transition: transform 0.25s ease;\n  cursor: pointer;\n  border-radius: 10px;\n  user-select: none;\n  vertical-align: middle;\n  padding: 10px 15px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: wrap;\n  gap: 10px;\n}\n.update-ui .update-buttons .update-button[data-v-0fecc957]:active {\n  transition-delay: 0s !important;\n  transform: translateY(3px);\n}\n.update-ui .update-buttons .update-button.add[data-v-0fecc957] {\n  width: 100%;\n  background-color: var(--cl-primary);\n  color: white;\n  border: 2px solid var(--cl-primary);\n}\n.update-ui .update-buttons .update-button.add[data-v-0fecc957]:hover {\n  border-color: white;\n}\n.update-ui .update-buttons .update-button[data-v-0fecc957]:hover {\n  background-color: var(--cl-primary);\n  color: white;\n}\n.update-ui .dots[data-v-0fecc957] {\n  display: flex;\n  align-items: center;\n}\n.update-ui .label-row[data-v-0fecc957] {\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  padding-bottom: 5px;\n}\n.update-ui .notOnList[data-v-0fecc957] {\n  opacity: 0.5;\n  transition: opacity 0.25s ease-in-out;\n}\n.update-ui:hover .notOnList[data-v-0fecc957] {\n  opacity: 1;\n}\n.update-ui.loading .form-section[data-v-0fecc957],\n.update-ui.loading .update-buttons[data-v-0fecc957] {\n  position: relative;\n  overflow: hidden;\n  transition: background-color 0.1s ease-in-out;\n  background-color: var(--cl-backdrop);\n  width: 100%;\n  border-radius: 0.25rem;\n}\n.update-ui.loading .form-section[data-v-0fecc957]::after,\n.update-ui.loading .update-buttons[data-v-0fecc957]::after {\n  opacity: var(--cl-loading);\n  transition: opacity 0.25s ease-in-out;\n  animation: skeleton-loading-malsync-0fecc957 1.5s infinite;\n  content: '';\n  height: 100%;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  transform: translateX(-100%);\n  z-index: 1;\n  background: linear-gradient(90deg, hsla(0, 0%, 100%, 0), var(--cl-backdrop), hsla(0, 0%, 100%, 0));\n  filter: brightness(1.15);\n}\n.update-ui.loading .form-section[data-v-0fecc957] *,\n.update-ui.loading .update-buttons[data-v-0fecc957] * {\n  visibility: hidden;\n}\n.update-ui.singleLoading .form-section[data-v-0fecc957] {\n  pointer-events: none;\n}\n.update-ui.singleLoading .update-buttons[data-v-0fecc957] {\n  position: relative;\n  overflow: hidden;\n  transition: background-color 0.1s ease-in-out;\n  background-color: var(--cl-backdrop);\n  width: 100%;\n  border-radius: 0.25rem;\n}\n.update-ui.singleLoading .update-buttons[data-v-0fecc957]::after {\n  opacity: var(--cl-loading);\n  transition: opacity 0.25s ease-in-out;\n  animation: skeleton-loading-malsync-0fecc957 1.5s infinite;\n  content: '';\n  height: 100%;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  transform: translateX(-100%);\n  z-index: 1;\n  background: linear-gradient(90deg, hsla(0, 0%, 100%, 0), var(--cl-backdrop), hsla(0, 0%, 100%, 0));\n  filter: brightness(1.15);\n}\n.update-ui.singleLoading .update-buttons[data-v-0fecc957] * {\n  visibility: hidden;\n}\n.progress-picked[data-v-0fecc957] {\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  justify-content: center;\n}\n.increase[data-v-0fecc957] {\n  transition: transform 0.25s ease;\n  cursor: pointer;\n  user-select: none;\n}\n.increase[data-v-0fecc957]:active {\n  transition-delay: 0s !important;\n  transform: translateY(3px);\n}\n"]],["__scopeId","data-v-0fecc957"],["__file","overview-update-ui.vue"]]);var ut=a(97920),ct=a(4558),pt=a(26017);const mt={key:0,class:"grid"},gt={key:1,class:"grid"},vt=(0,n.pM)({__name:"overview-streaming",props:{type:{type:String,default:"anime"},cacheKey:{type:[String,Number],default:""},title:{type:String,default:""},alternativeTitle:{type:Array,default:()=>[]}},setup(e){const t=e,a=(0,n.EW)((()=>(0,ct.Bf)().filter((e=>e.search&&e.search[t.type])))),l=(0,n.EW)((()=>t.cacheKey?{type:t.type,cacheKey:t.cacheKey,title:t.title}:null)),o=(0,q.W)(l,(e=>e&&e.value?(0,ct.Ed)(e.value.type,e.value.cacheKey,e.value.title):Promise.resolve(null)),{cache:{prefix:"overview-streaming",ttl:1e4,refetchTtl:6048e5}}),d=e=>pt.favicon(e.split("/")[2]),u=e=>{switch(e.group){case"link":{const{length:t}=e.links;return t<2?"":t>9?"filter_9_plus":`filter_${t}`}case"home":return"home";case"search":return"search";default:throw new Error(`Unknown group: ${e.group}`)}},c=e=>{if("search"===e.group){if(!l.value||!e.links[0].fn)return[{title:e.links[0].name,value:e.links[0].url}];const a=e.links[0].fn;return[...new Set([l.value.title,...t.alternativeTitle])].map((e=>({title:e,value:a(e)})))}return e.links.map((e=>({value:e.url,title:e.name})))};return(e,t)=>((0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(ce.A,{spacer:!0,class:"head"},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(e.lang("overview_Streaming")),1)])),_:1}),(0,i.R1)(o).loading||!(0,i.R1)(o).data?((0,n.uX)(),(0,n.CE)("div",mt,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.value,(e=>((0,n.uX)(),(0,n.Wv)(ke.A,{key:e.name,class:"placeholder-link btn"},{default:(0,n.k6)((()=>[(0,n.bF)(ut.A,{icon:"sync"},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(e.name),1)])),_:2},1024)])),_:2},1024)))),128))])):((0,n.uX)(),(0,n.CE)("div",gt,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,i.R1)(o).data,(e=>((0,n.uX)(),(0,n.CE)(n.FK,{key:e.name},[1===c(e).length?((0,n.uX)(),(0,n.Wv)(ke.A,{key:0,icon:u(e),class:"btn",link:c(e)[0].value},{default:(0,n.k6)((()=>[(0,n.bF)(ut.A,{src:d(e.domain)},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(e.name),1)])),_:2},1032,["src"])])),_:2},1032,["icon","link"])):((0,n.uX)(),(0,n.Wv)(be.A,{key:1,options:c(e),"align-items":"left"},{select:(0,n.k6)((()=>[(0,n.bF)(ke.A,{animation:!1,icon:u(e),class:"btn",tabindex:-1},{default:(0,n.k6)((()=>[(0,n.bF)(ut.A,{src:d(e.domain)},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(e.name),1)])),_:2},1032,["src"])])),_:2},1032,["icon"])])),option:(0,n.k6)((e=>[(0,n.bF)(te.A,{href:e.option.value,class:"dropdown-link",onMousedown:t[0]||(t[0]=(0,r.withModifiers)((()=>{}),["prevent"]))},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(e.option.title),1)])),_:2},1032,["href"])])),_:2},1032,["options"]))],64)))),128))]))]))}}),ht=(0,J.A)(vt,[["styles",["/* stylelint-disable prettier/prettier */\n/* Aspect ratios */\n/* Transitions */\n/* Typography */\n/* Shadows */\n/* Fonts */\n@keyframes skeleton-loading-malsync-4242a047 {\nto {\n    transform: translateX(100%);\n}\n}\n@media screen and (min-width: 900px) {\n.head[data-v-4242a047] {\n    display: none;\n}\n}\n.grid[data-v-4242a047] {\n  display: flex;\n  gap: var(--size-spacer-half);\n  flex-wrap: wrap;\n}\n.dropdown-link[data-v-4242a047] {\n  display: block;\n  margin: -7px -17px;\n  padding: 7px 17px;\n}\n.placeholder-link[data-v-4242a047] {\n  position: relative;\n  overflow: hidden;\n  transition: background-color 0.1s ease-in-out;\n  background-color: var(--cl-backdrop) !important;\n}\n.placeholder-link[data-v-4242a047]::after {\n  opacity: var(--cl-loading);\n  transition: opacity 0.25s ease-in-out;\n  animation: skeleton-loading-malsync-4242a047 1.5s infinite;\n  content: '';\n  height: 100%;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  transform: translateX(-100%);\n  z-index: 1;\n  background: linear-gradient(90deg, hsla(0, 0%, 100%, 0), var(--cl-backdrop), hsla(0, 0%, 100%, 0));\n  filter: brightness(1.15);\n}\n.placeholder-link > span[data-v-4242a047] {\n  visibility: hidden;\n}\n.btn[data-v-4242a047] {\n  min-height: 34px;\n}\n@media screen and (max-width: 600px) {\n.btn[data-v-4242a047] {\n    min-height: 32px;\n}\n}\n"]],["__scopeId","data-v-4242a047"],["__file","overview-streaming.vue"]]);var ft=a(35336);const bt={key:0},yt={class:"cover-el"},kt={class:"name"},_t={key:0,class:"role"},wt=(0,n.pM)({__name:"overview-characters",props:{characters:{type:Array,required:!1,default:()=>[]}},setup:e=>(t,a)=>e.characters.length?((0,n.uX)(),(0,n.CE)("div",bt,[(0,n.bF)(ce.A,{spacer:!0},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(t.lang("overview_Characters")),1)])),_:1}),(0,n.bF)(ft.A,{"min-width-popup":90},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.characters,(e=>((0,n.uX)(),(0,n.Wv)(te.A,{key:e.name,class:"character",href:e.url,"focus-state":!1},{default:(0,n.k6)((()=>[(0,n.Lk)("div",yt,[(0,n.bF)(G.A,{mode:"cover",src:e.img},null,8,["src"])]),(0,n.Lk)("div",null,[(0,n.Lk)("div",kt,(0,s.v_)(e.name),1),e.subtext?((0,n.uX)(),(0,n.CE)("div",_t,(0,s.v_)(e.subtext),1)):(0,n.Q3)("v-if",!0)])])),_:2},1032,["href"])))),128))])),_:1})])):(0,n.Q3)("v-if",!0)}),xt=(0,J.A)(wt,[["styles",["/* stylelint-disable prettier/prettier */\n/* Aspect ratios */\n/* Transitions */\n/* Typography */\n/* Shadows */\n/* Fonts */\n@keyframes skeleton-loading-malsync-55a0c917 {\nto {\n    transform: translateX(100%);\n}\n}\n.cover-el[data-v-55a0c917] {\n  transition: transform 0.25s ease;\n}\n.cover-el[data-v-55a0c917]:active {\n  transition-delay: 0s !important;\n  transform: translateY(3px);\n}\n.name[data-v-55a0c917] {\n  font-weight: bold;\n  margin-top: 10px;\n}\n.role[data-v-55a0c917] {\n  margin-top: 5px;\n  color: var(--cl-light-text);\n}\n.character:focus-visible .cover[data-v-55a0c917] {\n  outline: 2px solid var(--cl-secondary);\n  outline-width: 4px;\n}\n"]],["__scopeId","data-v-55a0c917"],["__file","overview-characters.vue"]]);var At=a(13647),Ct=a(7263),$t=a(78584);const Tt={key:0},Et=(0,n.pM)({__name:"pagination",props:{elements:{type:Array,required:!0},entriesPerPage:{type:Number,default:10},openAll:{type:Boolean,default:!1}},setup(e){const t=e,a=(0,i.KR)(1),s=(0,n.EW)((()=>{if(t.openAll&&a.value>1)return t.elements;const e=(a.value-1)*t.entriesPerPage+t.entriesPerPage;return t.elements.slice(0,e)}));return(t,i)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",null,[(0,n.RG)(t.$slots,"elements",{elements:s.value})]),s.value.length!==e.elements.length?((0,n.uX)(),(0,n.CE)("div",Tt,[(0,n.Lk)("div",{class:"material-icons next",onClick:i[0]||(i[0]=e=>a.value++)},"arrow_downward")])):(0,n.Q3)("v-if",!0)],64))}}),It=(0,J.A)(Et,[["styles",["/* stylelint-disable prettier/prettier */\n/* Aspect ratios */\n/* Transitions */\n/* Typography */\n/* Shadows */\n/* Fonts */\n@keyframes skeleton-loading-malsync-75760b90 {\nto {\n    transform: translateX(100%);\n}\n}\n.next[data-v-75760b90] {\n  border-radius: 10px;\n  cursor: pointer;\n  transition: transform 0.25s ease;\n  text-align: center;\n  display: block;\n  padding: 5px 15px;\n  border: 2px solid var(--cl-backdrop);\n  background-color: var(--cl-foreground);\n}\n.next[data-v-75760b90]:active {\n  transition-delay: 0s !important;\n  transform: translateY(3px);\n}\n.next[data-v-75760b90]:hover {\n  border-color: var(--cl-border-hover);\n}\n"]],["__scopeId","data-v-75760b90"],["__file","pagination.vue"]]);var Lt=a(81039),Rt=a(93196),Ft=a(49257),Xt=a(37256);const St={class:"loading-placeholder"},Mt={key:0,class:"text"},Wt={class:"load-button"},Dt={class:"text"},Nt=(0,n.pM)({__name:"overview-reviews",props:{reviews:{type:Array,default:()=>[]},malUrl:{type:String,required:!0}},setup(e){const t=e,a=(0,i.KR)({url:(0,n.EW)((()=>t.malUrl)),load:!1}),r=(0,q.W)(a,(e=>async function(e){const t=[],a=await At.request.xhr("GET",`${e}/_/reviews`);try{const e=a.responseText.split("Reviews</h2>")[1].split("<h2>")[0].split('class="mt4"')[0];Ct.$.each(Ct.$(Ct.$.parseHTML(e)).filter(".review-element"),((e,a)=>{const n=Ct.$(a),i=n.find(".username a").attr("href")||"",s=n.find("a > img").first().attr("data-src")||"",r=n.find(".username a").text().trim(),l=n.attr("data-reactions"),o=(l?JSON.parse(l):{num:0}).num,d=n.find(".update_at").text().trim(),u=new y.zy(d).getDateTimeText({dateStyle:"medium"}),c=Number(n.find(".rating .num").text()),p=n.find(".text .js-hidden").text().trim(),m=n.find(".text");m.find(".js-hidden").remove(),m.find(".js-visible").remove();const g=m.text().trim()+p;t.push({user:{name:r,image:s,href:i},body:{people:o,date:u,rating:c,text:g}})}))}catch(e){$t.m("review").error(e)}return t}(e.value.url)),{executeCondition:e=>e.value.load&&e.value.url,cache:{prefix:"overview-reviews",ttl:6048e5,refetchTtl:6048e5,keyFn:e=>e.value.url}});(0,n.wB)((()=>t.malUrl),(()=>{a.value.load=!1}));const l=(0,n.EW)((()=>t.reviews&&t.reviews.length?t.reviews:r.data));return(t,o)=>{const d=(0,n.gN)("dompurify-html");return(0,n.uX)(),(0,n.CE)("div",{class:(0,s.C4)({stopLoading:!(0,i.R1)(r).loading})},[(0,n.bF)(ce.A,{spacer:!0},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(t.lang("minimalApp_Reviews")),1)])),_:1}),!(0,i.R1)(r).loading&&((0,i.R1)(r).loading||a.value.load||(0,i.R1)(r).cache||e.reviews.length)?(0,n.Q3)("v-if",!0):((0,n.uX)(),(0,n.Wv)(Xt.A,{key:0,class:"grid"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",St,[(0,n.bF)(Lt.A,{href:"",image:"",loading:!0},{default:(0,n.k6)((()=>[(0,n.bF)(ce.A,{class:"skeleton-text"},{default:(0,n.k6)((()=>[(0,n.bF)(te.A,{href:""})])),_:1}),o[1]||(o[1]=(0,n.Lk)("div",{class:"skeleton-text"},null,-1)),o[2]||(o[2]=(0,n.Lk)("div",{class:"skeleton-text"},null,-1)),o[3]||(o[3]=(0,n.Lk)("div",{class:"skeleton-text"},null,-1))])),_:1}),(0,i.R1)(r).loading?((0,n.uX)(),(0,n.CE)("div",Mt,[(0,n.bF)(me.A,{loading:!0,height:150})])):(0,n.Q3)("v-if",!0),(0,n.Lk)("div",Wt,[(0,i.R1)(r).loading?(0,n.Q3)("v-if",!0):((0,n.uX)(),(0,n.Wv)(ke.A,{key:0,padding:"large",color:"secondary",onClick:o[0]||(o[0]=e=>a.value.load=!0)},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(t.lang("Load")),1)])),_:1}))])])])),_:1})),!(0,i.R1)(r).loading&&l.value&&l.value.length?((0,n.uX)(),(0,n.CE)("div",{key:1,class:(0,s.C4)({grid:!(0,i.R1)(r).cache&&!e.reviews.length})},[(0,n.bF)(It,{"entries-per-page":3,elements:l.value},{elements:(0,n.k6)((({elements:e})=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e,((e,t)=>((0,n.uX)(),(0,n.Wv)(ue.A,{key:e.user.name},{default:(0,n.k6)((()=>[t?((0,n.uX)(),(0,n.Wv)(Rt.A,{key:0,size:"thin"})):(0,n.Q3)("v-if",!0),(0,n.bF)(Lt.A,{href:e.user.href,image:e.user.image},{default:(0,n.k6)((()=>[(0,n.bF)(ce.A,null,{default:(0,n.k6)((()=>[(0,n.bF)(te.A,{href:e.user.href},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(e.user.name),1)])),_:2},1032,["href"])])),_:2},1024),(0,n.Lk)("div",null,(0,s.v_)(e.body.date),1),(0,n.Lk)("div",null,[o[4]||(o[4]=(0,n.eW)(" Overall Rating: ")),(0,n.Lk)("strong",null,(0,s.v_)(e.body.rating),1)]),(0,n.Lk)("div",null,[(0,n.Lk)("strong",null,(0,s.v_)(e.body.people),1),o[5]||(o[5]=(0,n.eW)(" people found this review helpful "))])])),_:2},1032,["href","image"]),(0,n.Lk)("div",Dt,[(0,n.bF)(me.A,{height:150},{default:(0,n.k6)((()=>{return[(0,n.bo)((0,n.Lk)("div",{class:(0,s.C4)(["description-html",{preLine:!(e.body.text.includes("<br")||e.body.text.includes("<p"))}]),dir:"auto"},null,2),[[d,(t=e.body.text,t?t.replace(/(< *\/? *br *\/? *>(\r|\n| )*){2,}/gim,"<br /><br />"):""),"noMedia"]])];var t})),_:2},1024)])])),_:2},1024)))),128))])),_:1},8,["elements"])],2)):(0,n.Q3)("v-if",!0),(0,i.R1)(r).loading||!l.value||l.value.length?(0,n.Q3)("v-if",!0):((0,n.uX)(),(0,n.Wv)(ue.A,{key:2},{default:(0,n.k6)((()=>[(0,n.bF)(Ft.A,{card:!0})])),_:1}))],2)}}}),Ut=(0,J.A)(Nt,[["styles",["/* stylelint-disable prettier/prettier */\n/* Aspect ratios */\n/* Transitions */\n/* Typography */\n/* Shadows */\n/* Fonts */\n@keyframes skeleton-loading-malsync-13bbe19c {\nto {\n    transform: translateX(100%);\n}\n}\n.text[data-v-13bbe19c] {\n  white-space: pre-line;\n}\n.grid[data-v-13bbe19c] {\n  padding: 10px !important;\n}\n.text[data-v-13bbe19c] {\n  margin-top: var(--size-spacer);\n}\n.description-html[data-v-13bbe19c] {\n  white-space: initial;\n}\n.description-html.preLine[data-v-13bbe19c] {\n  white-space: pre-line;\n}\n.skeleton-text[data-v-13bbe19c] {\n  position: relative;\n  overflow: hidden;\n  transition: background-color 0.1s ease-in-out;\n  background-color: var(--cl-backdrop);\n  width: 20em;\n  height: 1em;\n  margin-bottom: 0.2em;\n  border-radius: 0.25rem;\n  max-width: 100%;\n  color: transparent;\n}\n.skeleton-text[data-v-13bbe19c]::after {\n  opacity: var(--cl-loading);\n  transition: opacity 0.25s ease-in-out;\n  animation: skeleton-loading-malsync-13bbe19c 1.5s infinite;\n  content: '';\n  height: 100%;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  transform: translateX(-100%);\n  z-index: 1;\n  background: linear-gradient(90deg, hsla(0, 0%, 100%, 0), var(--cl-backdrop), hsla(0, 0%, 100%, 0));\n  filter: brightness(1.15);\n}\n.loading-placeholder[data-v-13bbe19c] {\n  position: relative;\n}\n.loading-placeholder .load-button[data-v-13bbe19c] {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 3;\n}\n.stopLoading[data-v-13bbe19c] {\n  --cl-loading: 0;\n}\n"]],["__scopeId","data-v-13bbe19c"],["__file","overview-reviews.vue"]]);var Pt=a(13647);const Vt={class:"flex"},Kt={class:"type"},zt={class:"content"},Qt={key:0},Ot={dir:"auto"},Ht={key:1,dir:"auto"},Bt={key:2,class:"subtext"},jt={key:3,dir:"auto"},qt={key:0,class:"item"},Gt={class:"type"},Yt={class:"content"},Jt={key:1},Zt={key:2},ea={key:1,class:"item ongoing"},ta={class:"type"},aa={class:"content ongoing"},na=["title"],ia={key:0,class:"material-icons"},sa={class:"episode"},ra={key:1,class:"material-icons",title:"Dropped"},la=(0,n.pM)({__name:"overview-info",props:{info:{type:Array,default:()=>[]},single:{type:Object,default:null}},setup(e){function t(e,t=Intl.DateTimeFormat().resolvedOptions().timeZone){const a={weekday:"long",hour:"2-digit",minute:"2-digit",timeZoneName:"Asia/Tokyo"===t?void 0:"short",timeZone:t},n="string"==typeof e?new Date(e):e;return`${new y.zy(n).getDateTimeText(a)}${"Asia/Tokyo"===t?" JST":""}`}return(a,i)=>((0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(ce.A,{spacer:!0},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(a.lang("overview_Information")),1)])),_:1}),(0,n.Lk)("div",Vt,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.info,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.title,class:"item"},[(0,n.Lk)("div",Kt,(0,s.v_)(e.title),1),(0,n.Lk)("div",zt,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.body,((a,r)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a},["type"in a&&"weektime"===a.type&&a.date?((0,n.uX)(),(0,n.CE)("div",Qt,[a.date instanceof Date||!isNaN(Date.parse(a.date))?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("span",Ot,(0,s.v_)(t(a.date)),1),i[0]||(i[0]=(0,n.Lk)("br",null,null,-1)),(0,n.Lk)("span",null,(0,s.v_)(t(a.date,"UTC")),1),i[1]||(i[1]=(0,n.Lk)("br",null,null,-1)),(0,n.Lk)("span",null,(0,s.v_)(t(a.date,"Asia/Tokyo")),1)],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.eW)((0,s.v_)(a.date),1)],64))])):"type"in a?(0,n.Q3)("v-if",!0):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[a.url?((0,n.uX)(),(0,n.Wv)(te.A,{key:0,dir:"auto",color:"secondary",href:a.url},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(a.text),1)])),_:2},1032,["href"])):((0,n.uX)(),(0,n.CE)("span",Ht,(0,s.v_)(a.text),1)),a.subtext?((0,n.uX)(),(0,n.CE)("span",Bt,"("+(0,s.v_)(a.subtext)+")",1)):(0,n.Q3)("v-if",!0),Number(r)+1<e.body.length?((0,n.uX)(),(0,n.CE)("span",jt,", ")):(0,n.Q3)("v-if",!0)],64))],64)))),128))])])))),128)),e.single&&e.single.getProgressCompleted().length?((0,n.uX)(),(0,n.CE)("div",qt,[(0,n.Lk)("div",Gt,(0,s.v_)(a.lang("prediction_complete"))+":",1),(0,n.Lk)("div",Yt,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.single.getProgressCompleted(),((t,a)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:t.key},["manga"!==e.single.getType()?((0,n.uX)(),(0,n.Wv)(ut.A,{key:0,spacer:"small",icon:"sub"===t.type?"subtitles":"record_voice_over"},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(t.label),1)])),_:2},1032,["icon"])):((0,n.uX)(),(0,n.CE)("span",Jt,(0,s.v_)(t.label),1)),Number(a)+1<e.single.getProgressCompleted().length?((0,n.uX)(),(0,n.CE)("span",Zt,", ")):(0,n.Q3)("v-if",!0)],64)))),128))])])):(0,n.Q3)("v-if",!0),e.single&&e.single.getProgressOptions().length?((0,n.uX)(),(0,n.CE)("div",ea,[(0,n.Lk)("div",ta,(0,s.v_)(a.lang("prediction_ongoing"))+":",1),(0,n.Lk)("div",aa,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.single.getProgressOptions(),(t=>{return(0,n.uX)(),(0,n.CE)("div",{key:t.key,class:"ongoing-item",title:(a=t,a.lastEp&&a.lastEp.timestamp?new y.zy(Number(a.lastEp.timestamp)).getRelativeNowFriendlyText("Progress",{style:"long"}):a.predicition&&a.predicition.timestamp?Pt.storage.lang("prediction_next",[new y.zy(Number(a.predicition.timestamp)).getRelativeNowFriendlyText("Progress",{style:"long"})]):"")},["manga"!==e.single.getType()?((0,n.uX)(),(0,n.CE)("span",ia,(0,s.v_)("sub"===t.type?"subtitles":"record_voice_over"),1)):(0,n.Q3)("v-if",!0),(0,n.Lk)("span",null,(0,s.v_)(t.label),1),(0,n.Lk)("span",sa,(0,s.v_)("manga"===e.single.getType()?"CH":"EP")+" "+(0,s.v_)(t.episode),1),t.dropped?((0,n.uX)(),(0,n.CE)("span",ra,"warning")):(0,n.Q3)("v-if",!0)],8,na);var a})),128))])])):(0,n.Q3)("v-if",!0)])]))}}),oa=(0,J.A)(la,[["styles",["/* stylelint-disable prettier/prettier */\n/* Aspect ratios */\n/* Transitions */\n/* Typography */\n/* Shadows */\n/* Fonts */\n@keyframes skeleton-loading-malsync-2603aa90 {\nto {\n    transform: translateX(100%);\n}\n}\n.flex[data-v-2603aa90] {\n  grid-gap: var(--size-spacer-half);\n  display: flex;\n  flex-direction: column;\n}\n.item[data-v-2603aa90] {\n  display: flex;\n}\n@media screen and (min-width: 900px) {\n.item[data-v-2603aa90] {\n    flex-direction: column;\n    gap: 3px;\n}\n}\n.item.ongoing[data-v-2603aa90] {\n  flex-direction: column;\n  gap: 3px;\n}\n.item .type[data-v-2603aa90] {\n  margin-inline-end: 10px;\n  font-weight: 600;\n  white-space: nowrap;\n}\n.item .content[data-v-2603aa90] {\n  flex-grow: 1;\n  width: 100%;\n  line-height: 1.3;\n}\n.item .content.ongoing[data-v-2603aa90] {\n  display: flex;\n  flex-direction: column;\n}\n.episode[data-v-2603aa90] {\n  border-radius: 5px;\n  display: inline-block;\n  border: 1px solid var(--cl-backdrop);\n  background-color: var(--cl-foreground);\n  font-size: 0.875rem;\n  padding: 2px 5px;\n  margin: 5px 0;\n}\n.ongoing-item[data-v-2603aa90] {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n.subtext[data-v-2603aa90] {\n  margin-left: 3px;\n  font-size: 0.875rem;\n}\n"]],["__scopeId","data-v-2603aa90"],["__file","overview-info.vue"]]);var da=a(13647),ua=a(7263),ca=a(26017),pa=a(78584),ma=a(77208);const ga={class:"loading-placeholder"},va={class:"text"},ha={class:"load-button"},fa={class:"head-dot"},ba={class:"text"},ya={class:"rec-cover"},ka={class:"rec-name"},_a=(0,n.pM)({__name:"overview-recommendations",props:{recommendations:{type:Array,default:()=>[]},malUrl:{type:String,required:!0}},setup(e){const t=(0,n.WQ)("breakpoint"),a=e,r=(0,i.KR)({url:(0,n.EW)((()=>a.malUrl)),load:!1}),l=(0,q.W)(r,(e=>async function(e){const t=[],a=await da.request.xhr("GET",`${e}/_/userrecs`);try{const e=a.responseText.split("Make a recommendation</a>")[1].split("</h2>")[1].split('<div class="mauto')[0];ua.$.each(ua.$(ua.$.parseHTML(e)).filter(".borderClass"),((e,a)=>{const n=ua.$(a).find(".picSurround"),i=n.find("a").attr("href"),s=n.find("a > img").first().attr("alt");let r=n.find("a > img").first().attr("data-src");r&&(r=r.replace(/\/r\/\d*x\d*/g,""));const l=ua.$(a).find(".detail-user-recs-text").next().find("a").last().text(),o=ca.absoluteLink(ua.$(a).find(".detail-user-recs-text").next().find("a").last().attr("href"),"https://myanimelist.net"),d=ua.$(a).find(".detail-user-recs-text").first().text().replace("read more","").trim(),u=ca.absoluteLink(ua.$(a).find('[title="Permalink"]').attr("href"),"https://myanimelist.net"),c=Number(ua.$(a).find(".js-similar-recommendations-button strong").text()||0);t.push({entry:{title:s||"",url:i||"",image:r||""},user:{name:l,href:o},body:{text:d,more:{url:u,number:c}}})}));for(const e in t){const a=ca.urlPart(t[e].entry.url,3),n=Number(ca.urlPart(t[e].entry.url,4)),i=await da.request.database("entryByMalId",{id:n,type:a});i&&(t[e].entry.list={status:i.status,score:i.score,episode:i.watchedEp})}}catch(e){pa.m("review").error(e)}return t}(e.value.url)),{executeCondition:e=>e.value.load&&e.value.url,cache:{prefix:"overview-recommendations",ttl:6048e5,refetchTtl:6048e5,keyFn:e=>e.value.url}});(0,n.wB)((()=>a.malUrl),(()=>{r.value.load=!1}));const o=(0,n.EW)((()=>a.recommendations&&a.recommendations.length?a.recommendations:l.data));return(a,d)=>((0,n.uX)(),(0,n.CE)("div",{class:(0,s.C4)({stopLoading:!(0,i.R1)(l).loading})},[(0,n.bF)(ce.A,{spacer:!0},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(a.lang("minimalApp_Recommendations")),1)])),_:1}),!(0,i.R1)(l).loading&&((0,i.R1)(l).loading||r.value.load||(0,i.R1)(l).cache||e.recommendations.length)?(0,n.Q3)("v-if",!0):((0,n.uX)(),(0,n.Wv)(Xt.A,{key:0,class:"grid-sp"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",ga,[(0,n.bF)(Lt.A,{href:"",image:"","image-type":"cover",loading:!0},{default:(0,n.k6)((()=>[(0,n.bF)(ce.A,{spacer:"half",class:"skeleton-text"},{default:(0,n.k6)((()=>[(0,n.bF)(te.A,{href:""})])),_:1}),d[1]||(d[1]=(0,n.Lk)("div",{class:"skeleton-text"},null,-1)),(0,n.Lk)("div",va,[(0,n.bF)(me.A,{loading:!0,height:"dynamic",minheight:"34px"})])])),_:1}),(0,n.Lk)("div",ha,[(0,i.R1)(l).loading?(0,n.Q3)("v-if",!0):((0,n.uX)(),(0,n.Wv)(ke.A,{key:0,padding:"large",color:"secondary",onClick:d[0]||(d[0]=e=>r.value.load=!0)},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(a.lang("Load")),1)])),_:1}))])])])),_:1})),!(0,i.R1)(l).loading&&o.value&&o.value.length?((0,n.uX)(),(0,n.CE)("div",{key:1,class:(0,s.C4)({"grid-sp":o.value[0].body&&!(0,i.R1)(l).cache})},[o.value[0].body?((0,n.uX)(),(0,n.Wv)(It,{key:0,"entries-per-page":3,elements:o.value},{elements:(0,n.k6)((({elements:e})=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e,((e,t)=>((0,n.uX)(),(0,n.Wv)(ue.A,{key:e.entry.url},{default:(0,n.k6)((()=>[t?((0,n.uX)(),(0,n.Wv)(Rt.A,{key:0,size:"thin"})):(0,n.Q3)("v-if",!0),(0,n.bF)(Lt.A,{href:e.entry.url,image:e.entry.image,"image-type":"cover"},{default:(0,n.k6)((()=>[(0,n.bF)(ce.A,{spacer:"half"},{default:(0,n.k6)((()=>[(0,n.bF)(te.A,{href:e.entry.url},{default:(0,n.k6)((()=>[(0,n.Lk)("div",fa,[(0,n.bF)(pe.A,{class:"dot",status:e.entry.list?e.entry.list.status:0},null,8,["status"]),(0,n.eW)(" "+(0,s.v_)(e.entry.title),1)])])),_:2},1032,["href"])])),_:2},1024),(0,n.Lk)("div",null,[(0,n.bF)(te.A,{href:e.body.more.url},{default:(0,n.k6)((()=>[(0,n.bF)(ut.A,{icon:"open_in_new",position:"after",spacer:"small"},{default:(0,n.k6)((()=>[d[4]||(d[4]=(0,n.eW)(" Recommended by ")),(0,n.Lk)("strong",null,[(0,n.bF)(te.A,{href:e.user.href},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(e.user.name),1)])),_:2},1032,["href"])]),e.body.more.number?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[d[2]||(d[2]=(0,n.eW)(" and ")),(0,n.Lk)("strong",null,(0,s.v_)(e.body.more.number),1),d[3]||(d[3]=(0,n.eW)(" more users "))],64)):(0,n.Q3)("v-if",!0)])),_:2},1024)])),_:2},1032,["href"])]),(0,n.Lk)("div",ba,[(0,n.bF)(me.A,{height:"dynamic",minheight:"34px"},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(e.body.text),1)])),_:2},1024)])])),_:2},1032,["href","image"])])),_:2},1024)))),128))])),_:1},8,["elements"])):((0,n.uX)(),(0,n.Wv)(It,{key:1,"entries-per-page":"desktop"===(0,i.R1)(t)?6:4,elements:o.value,"open-all":!0},{elements:(0,n.k6)((({elements:e})=>[(0,n.bF)(ue.A,null,{default:(0,n.k6)((()=>[(0,n.bF)(ft.A,{"min-width-popup":100,"min-width":130},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e,(e=>((0,n.uX)(),(0,n.Wv)(te.A,{key:e.entry.title,class:"rec",href:e.entry.url},{default:(0,n.k6)((()=>[(0,n.Lk)("div",ya,[(0,n.bF)(G.A,{mode:"cover",src:e.entry.image},null,8,["src"]),e.stats?((0,n.uX)(),(0,n.Wv)(ee.A,{key:0,class:"users",left:!1},{right:(0,n.k6)((()=>[(0,n.bF)(ut.A,{icon:"people",position:"before",spacer:"small"},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(e.stats.users),1)])),_:2},1024)])),_:2},1024)):(0,n.Q3)("v-if",!0)]),(0,n.Lk)("div",null,[(0,n.Lk)("div",ka,[(0,n.bF)(ma.A,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(e.entry.title),1)])),_:2},1024)])])])),_:2},1032,["href"])))),128))])),_:2},1024)])),_:2},1024)])),_:1},8,["entries-per-page","elements"]))],2)):(0,n.Q3)("v-if",!0),(0,i.R1)(l).loading||!o.value||o.value.length?(0,n.Q3)("v-if",!0):((0,n.uX)(),(0,n.Wv)(ue.A,{key:2},{default:(0,n.k6)((()=>[(0,n.bF)(Ft.A,{card:!0,icon:"egg_alt"})])),_:1}))],2))}}),wa=(0,J.A)(_a,[["styles",["/* stylelint-disable prettier/prettier */\n/* Aspect ratios */\n/* Transitions */\n/* Typography */\n/* Shadows */\n/* Fonts */\n@keyframes skeleton-loading-malsync-54c69f08 {\nto {\n    transform: translateX(100%);\n}\n}\n.text[data-v-54c69f08] {\n  white-space: pre-line;\n  flex-grow: 1;\n}\n.grid-sp[data-v-54c69f08] {\n  padding: 10px !important;\n}\n.text[data-v-54c69f08] {\n  margin-top: var(--size-spacer-half);\n}\n.head-dot[data-v-54c69f08] {\n  display: flex;\n  align-items: center;\n}\n.rec-cover[data-v-54c69f08] {\n  transition: transform 0.25s ease;\n  position: relative;\n}\n.rec-cover[data-v-54c69f08]:active {\n  transition-delay: 0s !important;\n  transform: translateY(3px);\n}\n.rec-cover .users[data-v-54c69f08] {\n  position: absolute;\n  top: var(--size-spacer-half);\n  left: var(--size-spacer-half);\n}\n.rec-name[data-v-54c69f08] {\n  font-weight: bold;\n  margin-top: 10px;\n}\n.skeleton-text[data-v-54c69f08] {\n  position: relative;\n  overflow: hidden;\n  transition: background-color 0.1s ease-in-out;\n  background-color: var(--cl-backdrop);\n  width: 20em;\n  height: 1em;\n  margin-bottom: 0.2em;\n  border-radius: 0.25rem;\n  max-width: 100%;\n  color: transparent;\n}\n.skeleton-text[data-v-54c69f08]::after {\n  opacity: var(--cl-loading);\n  transition: opacity 0.25s ease-in-out;\n  animation: skeleton-loading-malsync-54c69f08 1.5s infinite;\n  content: '';\n  height: 100%;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  transform: translateX(-100%);\n  z-index: 1;\n  background: linear-gradient(90deg, hsla(0, 0%, 100%, 0), var(--cl-backdrop), hsla(0, 0%, 100%, 0));\n  filter: brightness(1.15);\n}\n.loading-placeholder[data-v-54c69f08] {\n  position: relative;\n}\n.loading-placeholder .load-button[data-v-54c69f08] {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 3;\n}\n.stopLoading[data-v-54c69f08] {\n  --cl-loading: 0;\n}\n[data-v-54c69f08] .close-button-box {\n  padding-right: calc(15px + (var(--base-font-size) * 6.25));\n}\n[data-v-54c69f08] .description.close:not(.loading) {\n  margin-left: calc((15px + (var(--base-font-size) * 6.25)) * -1);\n  padding-left: calc(15px + (var(--base-font-size) * 6.25));\n}\n"]],["__scopeId","data-v-54c69f08"],["__file","overview-recommendations.vue"]]),xa={class:"grid"},Aa={class:"type"},Ca=(0,n.pM)({__name:"overview-related",props:{related:{type:Array,required:!1,default:()=>[]}},setup:e=>(t,a)=>((0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(ce.A,{spacer:!0},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(t.lang("overview_Related")),1)])),_:1}),(0,n.Lk)("div",xa,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.related,(e=>((0,n.uX)(),(0,n.Wv)(ke.A,{key:e.type,link:1===e.links.length?e.links[0].url:"","hover-animation":!1,tabindex:-1,class:"related-item"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",Aa,(0,s.v_)(e.type),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.links,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"title"},[(0,n.bF)(te.A,{href:e.url,class:"link"},{default:(0,n.k6)((()=>[(0,n.bF)(pe.A,{status:e.list?e.list.status:0,"relative-height":!0},null,8,["status"]),(0,n.Lk)("span",null,(0,s.v_)(e.title),1)])),_:2},1032,["href"])])))),128))])),_:2},1032,["link"])))),128))])]))}),$a=(0,J.A)(Ca,[["styles",["/* stylelint-disable prettier/prettier */\n/* Aspect ratios */\n/* Transitions */\n/* Typography */\n/* Shadows */\n/* Fonts */\n@keyframes skeleton-loading-malsync-8ff0e694 {\nto {\n    transform: translateX(100%);\n}\n}\n.grid[data-v-8ff0e694] {\n  grid-gap: var(--size-spacer-half);\n  display: flex;\n  flex-direction: column;\n}\n@media screen and (min-width: 900px) {\n.grid[data-v-8ff0e694] {\n    display: grid;\n    grid-template-columns: repeat(2, 2fr);\n    gap: var(--size-spacer);\n}\n}\n.grid .related-item[data-v-8ff0e694] {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n.grid .type[data-v-8ff0e694] {\n  font-weight: 600;\n}\n.grid .link[data-v-8ff0e694] {\n  display: flex;\n  align-items: center;\n}\n.grid .link:hover span[data-v-8ff0e694] {\n  opacity: 0.6;\n}\n"]],["__scopeId","data-v-8ff0e694"],["__file","overview-related.vue"]]);var Ta=a(59934);const Ea=(0,n.pM)({__name:"error-meta",props:{metaRequest:{type:Object,default:()=>({})}},setup:e=>(t,a)=>!e.metaRequest.loading&&e.metaRequest.error?((0,n.uX)(),(0,n.Wv)(Ke.A,{key:0},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(e.metaRequest.error.message||e.metaRequest.error),1)])),_:1})):(0,n.Q3)("v-if",!0)}),Ia=(0,J.A)(Ea,[["__file","error-meta.vue"]]);var La=a(32139),Ra=a(78584);const Fa={key:0,class:"overview"},Xa={class:"header-section"},Sa={class:"statusDotSection"},Ma={class:"header-title"},Wa={class:"alt-titles"},Da={class:"value"},Na=(0,n.pM)({__name:"overview",props:{type:{type:String,required:!0},slug:{type:String,required:!0}},setup(e){const t=(0,n.WQ)("breakpoint"),a=(0,l.lq)(),u=(0,l.rd)(),c=(0,i.KR)(!1),p=(0,i.KR)(!0);setTimeout((()=>{p.value=!1}),100);const m=()=>{u.push({name:"NotFound",params:{pathMatch:a.path.substring(1).split("/")},query:a.query,hash:a.hash})},g=e,f=(0,n.EW)((()=>{try{return g.slug?(0,o.M)(g):""}catch(e){Ra.error(e),m()}return""})),b=(0,i.KR)({url:f,type:g.type}),y=(0,q.W)(b,(async e=>{if(!e.value.url)return null;const t=await function(e,t,a=""){if(a||(a=d.$(t)),/^local:\/\//i.test(e))return new v(e);if("ANILIST"===a)return new W(e);if("KITSU"===a)return new P(e);if("SIMKL"===a)return new Q(e);if("SHIKI"===a)return new j(e);if("MAL"===a)return new x(e);if("MALAPI"===a)return new F(e);throw"Unknown sync mode"}(e.value.url,e.value.type).init();return t.getMeta()})),k=(0,q.W)(b,(async e=>{if(!e.value.url)return null;const t=(0,i.Kh)((0,Ta.f)(e.value.url));return await t.update().catch((e=>(Ra.error(e),t))),t.initProgress(),t}));(0,n.wB)((()=>y.error),(e=>{(e instanceof h.pH||e instanceof h.m_)&&m()})),(0,n.wB)((()=>k.error),(e=>{(e instanceof h.pH||e instanceof h.m_)&&m()}));const _=(0,n.EW)((()=>{if(!y.data)return"";const{description:e}=y.data;return e?e.replace(/(< *\/? *br *\/? *>(\r|\n| )*){2,}/gim,"<br /><br />").replace(/<a\b/gi,'<a target="_blank" rel="noopener noreferrer"'):""})),w=(0,n.EW)((()=>!!y.loading&&(y.loading||k.loading)));return(e,a)=>{const l=(0,n.gN)("dompurify-html");return p.value?(0,n.Q3)("v-if",!0):((0,n.uX)(),(0,n.CE)("div",Fa,[(0,n.bF)(ue.A,{class:"image-section fake"}),(0,n.bF)(ue.A,{class:"image-section real"},{default:(0,n.k6)((()=>[(0,n.bF)(de,{class:"image",single:(0,i.R1)(k).data,src:(0,i.R1)(y).data?.imageLarge||(0,i.R1)(k).data?.getImage()||"",loading:(0,i.R1)(y).loading},null,8,["single","src","loading"])])),_:1}),(0,n.Lk)("div",Xa,[(0,n.bF)(ue.A,{spacer:"half"},{default:(0,n.k6)((()=>[(0,n.bF)(te.A,{"force-link":!0,href:(0,i.R1)(k).data?.getDisplayUrl()||""},{default:(0,n.k6)((()=>[(0,n.bF)(ce.A,{loading:(0,i.R1)(y).loading,class:(0,s.C4)(["header-block",{hasTitle:(0,i.R1)(y).data&&(0,i.R1)(y).data.alternativeTitle&&(0,i.R1)(y).data.alternativeTitle.length}])},{default:(0,n.k6)((()=>[(0,n.Lk)("div",Sa,[(0,n.bF)(pe.A,{class:"dot",status:!(0,i.R1)(k).loading&&(0,i.R1)(k).data?.getStatus()?(0,i.R1)(k).data?.getStatus():0},null,8,["status"]),a[2]||(a[2]=(0,n.Lk)("span",{class:"header-link material-icons"},"open_in_new",-1))]),(0,n.Lk)("span",Ma,[(0,n.eW)((0,s.v_)((0,i.R1)(y).data?.title||(0,i.R1)(k).data?.getTitle()||"")+" ",1),(0,n.bF)(La.A,{class:"header-synonyms",onClick:a[0]||(a[0]=(0,r.withModifiers)((e=>c.value=!0),["prevent"]))},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(e.lang("overview_synonyms")),1)])),_:1})])])),_:1},8,["loading","class"])])),_:1},8,["href"]),(0,i.R1)(y).data&&(0,i.R1)(y).data.alternativeTitle&&(0,i.R1)(y).data.alternativeTitle.length?((0,n.uX)(),(0,n.Wv)(Z,{key:0,modelValue:c.value,"onUpdate:modelValue":a[1]||(a[1]=e=>c.value=e)},{default:(0,n.k6)((()=>[(0,n.Lk)("div",Wa,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)([...new Set((0,i.R1)(y).data.alternativeTitle)],(e=>((0,n.uX)(),(0,n.CE)("div",{key:e,class:"alt-title"},(0,s.v_)(e),1)))),128))])])),_:1},8,["modelValue"])):(0,n.Q3)("v-if",!0)])),_:1}),(0,n.bF)(Ia,{"meta-request":(0,i.R1)(y)},null,8,["meta-request"]),(0,i.R1)(y).data?.statistics?.length||(0,i.R1)(y).loading?((0,n.uX)(),(0,n.Wv)(ue.A,{key:0,spacer:"half"},{default:(0,n.k6)((()=>[(0,n.bF)(he,{class:"stats",loading:(0,i.R1)(y).loading},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,i.R1)(y).data.statistics,(e=>((0,n.uX)(),(0,n.CE)("span",{key:e.title,class:"stats-block"},[(0,n.eW)((0,s.v_)(e.title)+" ",1),(0,n.Lk)("span",Da,(0,s.v_)(e.body),1)])))),128))])),_:1},8,["loading"])])),_:1})):(0,n.Q3)("v-if",!0),(0,n.bF)(ue.A,{class:"description-section"},{default:(0,n.k6)((()=>[(0,n.bF)(me.A,{loading:w.value,height:"desktop"===(0,i.R1)(t)?"dynamic":240,fade:"mobile"===(0,i.R1)(t)},{default:(0,n.k6)((()=>[(0,n.bo)((0,n.Lk)("div",{class:(0,s.C4)(["description-html",{preLine:!_.value.includes("<br")}]),dir:"auto"},null,2),[[l,_.value]])])),_:1},8,["loading","height","fade"])])),_:1})]),"desktop"!==(0,i.R1)(t)&&w.value?(0,n.Q3)("v-if",!0):((0,n.uX)(),(0,n.Wv)(Rt.A,{key:0,class:"header-split"})),"desktop"!==(0,i.R1)(t)&&w.value?(0,n.Q3)("v-if",!0):((0,n.uX)(),(0,n.Wv)(ue.A,{key:1,class:"update-section"},{default:(0,n.k6)((()=>[(0,n.bF)(dt,{single:(0,i.R1)(k).data,loading:w.value||(0,i.R1)(k).loading,type:g.type},null,8,["single","loading","type"])])),_:1})),"desktop"===(0,i.R1)(t)||!w.value&&!(0,i.R1)(k).loading?((0,n.uX)(),(0,n.CE)(n.FK,{key:2},[(0,n.bF)(Rt.A),(0,n.bF)(ue.A,{class:"stream-section"},{default:(0,n.k6)((()=>[(0,n.bF)(ht,{type:g.type,"cache-key":(0,i.R1)(k).data&&!w.value?(0,i.R1)(k).data.getCacheKey():"",title:(0,i.R1)(k).data?(0,i.R1)(k).data.getTitle():"","alternative-title":(0,i.R1)(y).data?.alternativeTitle},null,8,["type","cache-key","title","alternative-title"])])),_:1}),w.value?(0,n.Q3)("v-if",!0):((0,n.uX)(),(0,n.Wv)(Rt.A,{key:0})),(0,n.bF)(ue.A,{loading:w.value,class:"additional-content",spacer:"none"},{default:(0,n.k6)((()=>[(0,i.R1)(y).data?.related?.length?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.bF)(ue.A,null,{default:(0,n.k6)((()=>[(0,n.bF)($a,{related:(0,i.R1)(y).data.related},null,8,["related"])])),_:1}),(0,n.bF)(Rt.A)],64)):(0,n.Q3)("v-if",!0),(0,i.R1)(y).data?.characters?.length?((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.bF)(ue.A,null,{default:(0,n.k6)((()=>[(0,n.bF)(xt,{characters:(0,i.R1)(y).data.characters},null,8,["characters"])])),_:1}),(0,n.bF)(Rt.A)],64)):(0,n.Q3)("v-if",!0),(0,i.R1)(y).data.reviews&&(0,i.R1)(y).data.reviews.length||(0,i.R1)(k).data?.getMalUrl()?((0,n.uX)(),(0,n.CE)(n.FK,{key:2},[(0,n.bF)(ue.A,null,{default:(0,n.k6)((()=>[(0,n.bF)(Ut,{reviews:(0,i.R1)(y).data.reviews,"mal-url":(0,i.R1)(k).data?(0,i.R1)(k).data.getMalUrl():""},null,8,["reviews","mal-url"])])),_:1}),(0,n.bF)(Rt.A)],64)):(0,n.Q3)("v-if",!0),(0,i.R1)(y).data.recommendations&&(0,i.R1)(y).data.recommendations.length||(0,i.R1)(k).data?.getMalUrl()?((0,n.uX)(),(0,n.Wv)(ue.A,{key:3},{default:(0,n.k6)((()=>[(0,n.bF)(wa,{recommendations:(0,i.R1)(y).data.recommendations,"mal-url":(0,i.R1)(k).data?(0,i.R1)(k).data.getMalUrl():""},null,8,["recommendations","mal-url"])])),_:1})):(0,n.Q3)("v-if",!0)])),_:1},8,["loading"]),(0,i.R1)(y).data&&(0,i.R1)(y).data.info.length?((0,n.uX)(),(0,n.Wv)(Rt.A,{key:1})):(0,n.Q3)("v-if",!0),(0,i.R1)(y).data&&(0,i.R1)(y).data.info.length?((0,n.uX)(),(0,n.Wv)(ue.A,{key:2,class:"info-section",loading:w.value},{default:(0,n.k6)((()=>[(0,n.bF)(oa,{info:(0,i.R1)(y).data.info,single:(0,i.R1)(k).data},null,8,["info","single"])])),_:1},8,["loading"])):(0,n.Q3)("v-if",!0)],64)):(0,n.Q3)("v-if",!0)]))}}}),Ua=(0,J.A)(Na,[["styles",["/* stylelint-disable prettier/prettier */\n/* Aspect ratios */\n/* Transitions */\n/* Typography */\n/* Shadows */\n/* Fonts */\n@keyframes skeleton-loading-malsync-397752eb {\nto {\n    transform: translateX(100%);\n}\n}\n.overview .stats[data-v-397752eb] {\n  color: var(--cl-light-text);\n}\n.overview .stats .stats-block[data-v-397752eb] {\n  display: inline-block;\n}\n.overview .stats .value[data-v-397752eb] {\n  font-weight: 600;\n  margin-right: 20px;\n}\n.overview .header-block[data-v-397752eb] {\n  display: flex;\n  align-items: center;\n}\n.overview .header-block .statusDotSection[data-v-397752eb] {\n  width: 32px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n}\n.overview .header-block .header-link[data-v-397752eb] {\n  display: none;\n  margin-inline-end: 0.5em;\n  color: var(--cl-secondary);\n}\n.overview .header-block .header-title[data-v-397752eb] {\n  position: relative;\n  width: 100%;\n}\n.overview .header-block .header-title .header-synonyms[data-v-397752eb] {\n  display: none;\n  font-size: var(--base-font-size);\n  font-weight: normal;\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  inset-inline-end: 0;\n}\n.overview .header-block.hasTitle[data-v-397752eb] {\n  cursor: pointer;\n}\n.overview .header-block:hover .dot[data-v-397752eb] {\n  display: none;\n}\n.overview .header-block:hover .header-link[data-v-397752eb] {\n  display: flex;\n  position: relative;\n  max-width: 16px;\n  left: -3px;\n}\n.overview .header-block:hover .header-synonyms[data-v-397752eb] {\n  display: block;\n}\n.overview .description-html[data-v-397752eb] a {\n  color: var(--cl-secondary-text);\n}\n.overview .description-html.preLine[data-v-397752eb] {\n  white-space: pre-line;\n}\n.overview .fake[data-v-397752eb] {\n  display: none;\n}\n@media screen and (min-width: 900px) {\n.overview[data-v-397752eb] {\n    display: grid;\n    grid-template-columns: 300px auto;\n    grid-template-rows: min-content auto auto auto max-content;\n    gap: 0 var(--size-spacer);\n}\n.overview > hr[data-v-397752eb] {\n    display: none;\n}\n.overview .image-section[data-v-397752eb] {\n    grid-row-start: 1;\n    grid-row-end: 3;\n    grid-column-start: 1;\n}\n.overview .image-section.fake[data-v-397752eb] {\n    display: block;\n    overflow: hidden;\n    visibility: hidden;\n    aspect-ratio: 225/350;\n}\n.overview .image-section.real[data-v-397752eb] {\n    height: 0;\n}\n.overview .header-section[data-v-397752eb] {\n    grid-column-start: 2;\n    grid-row-start: 1;\n    display: flex;\n    flex-direction: column;\n    overflow: hidden;\n}\n.overview .header-section .description-section[data-v-397752eb] {\n    flex-grow: 1;\n}\n.overview .stream-section[data-v-397752eb] {\n    grid-column-start: 2;\n    grid-row-start: 2;\n}\n.overview .header-split[data-v-397752eb] {\n    display: block;\n    grid-column-start: 1;\n    grid-column-end: 3;\n    grid-row-start: 3;\n}\n.overview .update-section[data-v-397752eb] {\n    grid-column-start: 1;\n    grid-row-start: 4;\n}\n.overview .additional-content[data-v-397752eb] {\n    overflow: hidden;\n    grid-column-start: 2;\n    grid-row-start: 4;\n    grid-row-end: 7;\n}\n.overview .info-section[data-v-397752eb] {\n    grid-column-start: 1;\n    grid-row-start: 5;\n}\n}\n.alt-titles[data-v-397752eb] {\n  border-radius: 10px;\n  background-color: var(--cl-foreground-solid);\n  color: var(--cl-text);\n  padding: 15px 10px;\n}\n.alt-titles .alt-title[data-v-397752eb] {\n  padding: 5px 15px;\n}\n"]],["__scopeId","data-v-397752eb"],["__file","overview.vue"]])}}]);
//# sourceMappingURL=4715.js.map