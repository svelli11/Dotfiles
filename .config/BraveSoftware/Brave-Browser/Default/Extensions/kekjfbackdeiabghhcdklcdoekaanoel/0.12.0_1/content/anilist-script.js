/*! For license information please see anilist-script.js.LICENSE.txt */
(()=>{var e={50953:(e,t,n)=>{"use strict";n.d(t,{C4:()=>S,EW:()=>Ne,Gc:()=>me,IG:()=>_e,KR:()=>ke,Kh:()=>he,Pr:()=>Ie,R1:()=>Te,X2:()=>l,bl:()=>k,fE:()=>ye,g8:()=>ge,hV:()=>Re,hZ:()=>R,i9:()=>Se,ju:()=>ve,lJ:()=>we,qA:()=>D,u4:()=>M,ux:()=>be,wB:()=>Me,yC:()=>r});var s=n(90033);let a,i;class r{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=a,!e&&a&&(this.index=(a.scopes||(a.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let e,t;if(this._isPaused=!0,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){let e,t;if(this._isPaused=!1,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=a;try{return a=this,e()}finally{a=t}}}on(){a=this}off(){a=this.parent}stop(e){if(this._active){let t,n;for(this._active=!1,t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}}const o=new WeakSet;class l{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,a&&a.active&&a.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,o.has(this)&&(o.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||m(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,x(this),g(this);const e=i,t=w;i=this,w=!0;try{return this.fn()}finally{f(this),i=e,w=t,this.flags&=-3}}stop(){if(1&this.flags){for(let e=this.deps;e;e=e.nextDep)b(e);this.deps=this.depsTail=void 0,x(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?o.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){y(this)&&this.run()}get dirty(){return y(this)}}let c,u,h=0;function m(e,t=!1){if(e.flags|=8,t)return e.next=u,void(u=e);e.next=c,c=e}function p(){h++}function d(){if(--h>0)return;if(u){let e=u;for(u=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;for(;c;){let t=c;for(c=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,1&t.flags)try{t.trigger()}catch(t){e||(e=t)}t=n}}if(e)throw e}function g(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function f(e){let t,n=e.depsTail,s=n;for(;s;){const e=s.prevDep;-1===s.version?(s===n&&(n=e),b(s),_(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=e}e.deps=t,e.depsTail=n}function y(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(v(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function v(e){if(4&e.flags&&!(16&e.flags))return;if(e.flags&=-17,e.globalVersion===T)return;e.globalVersion=T;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!y(e))return void(e.flags&=-3);const n=i,a=w;i=e,w=!0;try{g(e);const n=e.fn(e._value);(0===t.version||(0,s.$H)(n,e._value))&&(e._value=n,t.version++)}catch(e){throw t.version++,e}finally{i=n,w=a,f(e),e.flags&=-3}}function b(e,t=!1){const{dep:n,prevSub:s,nextSub:a}=e;if(s&&(s.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let e=n.computed.deps;e;e=e.nextDep)b(e,!0)}t||--n.sc||!n.map||n.map.delete(n.key)}function _(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let w=!0;const E=[];function S(){E.push(w),w=!1}function k(){const e=E.pop();w=void 0===e||e}function x(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const e=i;i=void 0;try{t()}finally{i=e}}}let T=0;class A{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class I{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!i||!w||i===this.computed)return;let t=this.activeLink;if(void 0===t||t.sub!==i)t=this.activeLink=new A(i,this),i.deps?(t.prevDep=i.depsTail,i.depsTail.nextDep=t,i.depsTail=t):i.deps=i.depsTail=t,$(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){const e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=i.depsTail,t.nextDep=void 0,i.depsTail.nextDep=t,i.depsTail=t,i.deps===t&&(i.deps=e)}return t}trigger(e){this.version++,T++,this.notify(e)}notify(e){p();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{d()}}}function $(e){if(e.dep.sc++,4&e.sub.flags){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)$(e)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const N=new WeakMap,L=Symbol(""),C=Symbol(""),O=Symbol("");function M(e,t,n){if(w&&i){let t=N.get(e);t||N.set(e,t=new Map);let s=t.get(n);s||(t.set(n,s=new I),s.map=t,s.key=n),s.track()}}function R(e,t,n,a,i,r){const o=N.get(e);if(!o)return void T++;const l=e=>{e&&e.trigger()};if(p(),"clear"===t)o.forEach(l);else{const i=(0,s.cy)(e),r=i&&(0,s.yI)(n);if(i&&"length"===n){const e=Number(a);o.forEach(((t,n)=>{("length"===n||n===O||!(0,s.Bm)(n)&&n>=e)&&l(t)}))}else switch((void 0!==n||o.has(void 0))&&l(o.get(n)),r&&l(o.get(O)),t){case"add":i?r&&l(o.get("length")):(l(o.get(L)),(0,s.CE)(e)&&l(o.get(C)));break;case"delete":i||(l(o.get(L)),(0,s.CE)(e)&&l(o.get(C)));break;case"set":(0,s.CE)(e)&&l(o.get(L))}}d()}function P(e){const t=be(e);return t===e?t:(M(t,0,O),ye(e)?t:t.map(we))}function D(e){return M(e=be(e),0,O),e}const U={__proto__:null,[Symbol.iterator](){return j(this,Symbol.iterator,we)},concat(...e){return P(this).concat(...e.map((e=>(0,s.cy)(e)?P(e):e)))},entries(){return j(this,"entries",(e=>(e[1]=we(e[1]),e)))},every(e,t){return V(this,"every",e,t,void 0,arguments)},filter(e,t){return V(this,"filter",e,t,(e=>e.map(we)),arguments)},find(e,t){return V(this,"find",e,t,we,arguments)},findIndex(e,t){return V(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return V(this,"findLast",e,t,we,arguments)},findLastIndex(e,t){return V(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return V(this,"forEach",e,t,void 0,arguments)},includes(...e){return H(this,"includes",e)},indexOf(...e){return H(this,"indexOf",e)},join(e){return P(this).join(e)},lastIndexOf(...e){return H(this,"lastIndexOf",e)},map(e,t){return V(this,"map",e,t,void 0,arguments)},pop(){return W(this,"pop")},push(...e){return W(this,"push",e)},reduce(e,...t){return B(this,"reduce",e,t)},reduceRight(e,...t){return B(this,"reduceRight",e,t)},shift(){return W(this,"shift")},some(e,t){return V(this,"some",e,t,void 0,arguments)},splice(...e){return W(this,"splice",e)},toReversed(){return P(this).toReversed()},toSorted(e){return P(this).toSorted(e)},toSpliced(...e){return P(this).toSpliced(...e)},unshift(...e){return W(this,"unshift",e)},values(){return j(this,"values",we)}};function j(e,t,n){const s=D(e),a=s[t]();return s===e||ye(e)||(a._next=a.next,a.next=()=>{const e=a._next();return e.value&&(e.value=n(e.value)),e}),a}const F=Array.prototype;function V(e,t,n,s,a,i){const r=D(e),o=r!==e&&!ye(e),l=r[t];if(l!==F[t]){const t=l.apply(e,i);return o?we(t):t}let c=n;r!==e&&(o?c=function(t,s){return n.call(this,we(t),s,e)}:n.length>2&&(c=function(t,s){return n.call(this,t,s,e)}));const u=l.call(r,c,s);return o&&a?a(u):u}function B(e,t,n,s){const a=D(e);let i=n;return a!==e&&(ye(e)?n.length>3&&(i=function(t,s,a){return n.call(this,t,s,a,e)}):i=function(t,s,a){return n.call(this,t,we(s),a,e)}),a[t](i,...s)}function H(e,t,n){const s=be(e);M(s,0,O);const a=s[t](...n);return-1!==a&&!1!==a||!ve(n[0])?a:(n[0]=be(n[0]),s[t](...n))}function W(e,t,n=[]){S(),p();const s=be(e)[t].apply(e,n);return d(),k(),s}const z=(0,s.pD)("__proto__,__v_isRef,__isVue"),G=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(s.Bm));function K(e){(0,s.Bm)(e)||(e=String(e));const t=be(this);return M(t,0,e),t.hasOwnProperty(e)}class q{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if("__v_skip"===t)return e.__v_skip;const a=this._isReadonly,i=this._isShallow;if("__v_isReactive"===t)return!a;if("__v_isReadonly"===t)return a;if("__v_isShallow"===t)return i;if("__v_raw"===t)return n===(a?i?ue:ce:i?le:oe).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const r=(0,s.cy)(e);if(!a){let e;if(r&&(e=U[t]))return e;if("hasOwnProperty"===t)return K}const o=Reflect.get(e,t,Se(e)?e:n);return((0,s.Bm)(t)?G.has(t):z(t))?o:(a||M(e,0,t),i?o:Se(o)?r&&(0,s.yI)(t)?o:o.value:(0,s.Gv)(o)?a?pe(o):he(o):o)}}class X extends q{constructor(e=!1){super(!1,e)}set(e,t,n,a){let i=e[t];if(!this._isShallow){const t=fe(i);if(ye(n)||fe(n)||(i=be(i),n=be(n)),!(0,s.cy)(e)&&Se(i)&&!Se(n))return!t&&(i.value=n,!0)}const r=(0,s.cy)(e)&&(0,s.yI)(t)?Number(t)<e.length:(0,s.$3)(e,t),o=Reflect.set(e,t,n,Se(e)?e:a);return e===be(a)&&(r?(0,s.$H)(n,i)&&R(e,"set",t,n):R(e,"add",t,n)),o}deleteProperty(e,t){const n=(0,s.$3)(e,t),a=(e[t],Reflect.deleteProperty(e,t));return a&&n&&R(e,"delete",t,void 0),a}has(e,t){const n=Reflect.has(e,t);return(0,s.Bm)(t)&&G.has(t)||M(e,0,t),n}ownKeys(e){return M(e,0,(0,s.cy)(e)?"length":L),Reflect.ownKeys(e)}}class Y extends q{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Z=new X,J=new Y,Q=new X(!0),ee=e=>e,te=e=>Reflect.getPrototypeOf(e);function ne(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function se(e,t){const n=function(e,t){const n={get(n){const a=this.__v_raw,i=be(a),r=be(n);e||((0,s.$H)(n,r)&&M(i,0,n),M(i,0,r));const{has:o}=te(i),l=t?ee:e?Ee:we;return o.call(i,n)?l(a.get(n)):o.call(i,r)?l(a.get(r)):void(a!==i&&a.get(n))},get size(){const t=this.__v_raw;return!e&&M(be(t),0,L),Reflect.get(t,"size",t)},has(t){const n=this.__v_raw,a=be(n),i=be(t);return e||((0,s.$H)(t,i)&&M(a,0,t),M(a,0,i)),t===i?n.has(t):n.has(t)||n.has(i)},forEach(n,s){const a=this,i=a.__v_raw,r=be(i),o=t?ee:e?Ee:we;return!e&&M(r,0,L),i.forEach(((e,t)=>n.call(s,o(e),o(t),a)))}};return(0,s.X$)(n,e?{add:ne("add"),set:ne("set"),delete:ne("delete"),clear:ne("clear")}:{add(e){t||ye(e)||fe(e)||(e=be(e));const n=be(this);return te(n).has.call(n,e)||(n.add(e),R(n,"add",e,e)),this},set(e,n){t||ye(n)||fe(n)||(n=be(n));const a=be(this),{has:i,get:r}=te(a);let o=i.call(a,e);o||(e=be(e),o=i.call(a,e));const l=r.call(a,e);return a.set(e,n),o?(0,s.$H)(n,l)&&R(a,"set",e,n):R(a,"add",e,n),this},delete(e){const t=be(this),{has:n,get:s}=te(t);let a=n.call(t,e);a||(e=be(e),a=n.call(t,e)),s&&s.call(t,e);const i=t.delete(e);return a&&R(t,"delete",e,void 0),i},clear(){const e=be(this),t=0!==e.size,n=e.clear();return t&&R(e,"clear",void 0,void 0),n}}),["keys","values","entries",Symbol.iterator].forEach((a=>{n[a]=function(e,t,n){return function(...a){const i=this.__v_raw,r=be(i),o=(0,s.CE)(r),l="entries"===e||e===Symbol.iterator&&o,c="keys"===e&&o,u=i[e](...a),h=n?ee:t?Ee:we;return!t&&M(r,0,c?C:L),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:l?[h(e[0]),h(e[1])]:h(e),done:t}},[Symbol.iterator](){return this}}}}(a,e,t)})),n}(e,t);return(t,a,i)=>"__v_isReactive"===a?!e:"__v_isReadonly"===a?e:"__v_raw"===a?t:Reflect.get((0,s.$3)(n,a)&&a in t?n:t,a,i)}const ae={get:se(!1,!1)},ie={get:se(!1,!0)},re={get:se(!0,!1)},oe=new WeakMap,le=new WeakMap,ce=new WeakMap,ue=new WeakMap;function he(e){return fe(e)?e:de(e,!1,Z,ae,oe)}function me(e){return de(e,!1,Q,ie,le)}function pe(e){return de(e,!0,J,re,ce)}function de(e,t,n,a,i){if(!(0,s.Gv)(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const r=i.get(e);if(r)return r;const o=function(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((0,s.Zf)(e))}(e);if(0===o)return e;const l=new Proxy(e,2===o?a:n);return i.set(e,l),l}function ge(e){return fe(e)?ge(e.__v_raw):!(!e||!e.__v_isReactive)}function fe(e){return!(!e||!e.__v_isReadonly)}function ye(e){return!(!e||!e.__v_isShallow)}function ve(e){return!!e&&!!e.__v_raw}function be(e){const t=e&&e.__v_raw;return t?be(t):e}function _e(e){return!(0,s.$3)(e,"__v_skip")&&Object.isExtensible(e)&&(0,s.yQ)(e,"__v_skip",!0),e}const we=e=>(0,s.Gv)(e)?he(e):e,Ee=e=>(0,s.Gv)(e)?pe(e):e;function Se(e){return!!e&&!0===e.__v_isRef}function ke(e){return n=!1,Se(t=e)?t:new xe(t,n);var t,n}class xe{constructor(e,t){this.dep=new I,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:be(e),this._value=t?e:we(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this.__v_isShallow||ye(e)||fe(e);e=n?e:be(e),(0,s.$H)(e,t)&&(this._rawValue=e,this._value=n?e:we(e),this.dep.trigger())}}function Te(e){return Se(e)?e.value:e}const Ae={get:(e,t,n)=>"__v_raw"===t?e:Te(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const a=e[t];return Se(a)&&!Se(n)?(a.value=n,!0):Reflect.set(e,t,n,s)}};function Ie(e){return ge(e)?e:new Proxy(e,Ae)}class $e{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new I(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=T-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(8&this.flags||i===this))return m(this,!0),!0}get value(){const e=this.dep.track();return v(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Ne(e,t,n=!1){let a,i;return(0,s.Tn)(e)?a=e:(a=e.get,i=e.set),new $e(a,i,n)}const Le={},Ce=new WeakMap;let Oe;function Me(e,t,n=s.MZ){const{immediate:i,deep:r,once:o,scheduler:c,augmentJob:u,call:h}=n,m=e=>r?e:ye(e)||!1===r||0===r?Re(e,1):Re(e);let p,d,g,f,y=!1,v=!1;if(Se(e)?(d=()=>e.value,y=ye(e)):ge(e)?(d=()=>m(e),y=!0):(0,s.cy)(e)?(v=!0,y=e.some((e=>ge(e)||ye(e))),d=()=>e.map((e=>Se(e)?e.value:ge(e)?m(e):(0,s.Tn)(e)?h?h(e,2):e():void 0))):d=(0,s.Tn)(e)?t?h?()=>h(e,2):e:()=>{if(g){S();try{g()}finally{k()}}const t=Oe;Oe=p;try{return h?h(e,3,[f]):e(f)}finally{Oe=t}}:s.tE,t&&r){const e=d,t=!0===r?1/0:r;d=()=>Re(e(),t)}const b=a,_=()=>{p.stop(),b&&b.active&&(0,s.TF)(b.effects,p)};if(o&&t){const e=t;t=(...t)=>{e(...t),_()}}let w=v?new Array(e.length).fill(Le):Le;const E=e=>{if(1&p.flags&&(p.dirty||e))if(t){const e=p.run();if(r||y||(v?e.some(((e,t)=>(0,s.$H)(e,w[t]))):(0,s.$H)(e,w))){g&&g();const n=Oe;Oe=p;try{const n=[e,w===Le?void 0:v&&w[0]===Le?[]:w,f];h?h(t,3,n):t(...n),w=e}finally{Oe=n}}}else p.run()};return u&&u(E),p=new l(d),p.scheduler=c?()=>c(E,!1):E,f=e=>function(e,t=!1,n=Oe){if(n){let t=Ce.get(n);t||Ce.set(n,t=[]),t.push(e)}}(e,!1,p),g=p.onStop=()=>{const e=Ce.get(p);if(e){if(h)h(e,4);else for(const t of e)t();Ce.delete(p)}},t?i?E(!0):w=p.run():c?c(E.bind(null,!0),!0):p.run(),_.pause=p.pause.bind(p),_.resume=p.resume.bind(p),_.stop=_,_}function Re(e,t=1/0,n){if(t<=0||!(0,s.Gv)(e)||e.__v_skip)return e;if((n=n||new Set).has(e))return e;if(n.add(e),t--,Se(e))Re(e.value,t,n);else if((0,s.cy)(e))for(let s=0;s<e.length;s++)Re(e[s],t,n);else if((0,s.vM)(e)||(0,s.CE)(e))e.forEach((e=>{Re(e,t,n)}));else if((0,s.Qd)(e)){for(const s in e)Re(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Re(e[s],t,n)}return e}},90033:(e,t,n)=>{"use strict";function s(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return e=>e in t}n.d(t,{$3:()=>p,$H:()=>D,BH:()=>W,BX:()=>Q,Bm:()=>w,C4:()=>Y,CE:()=>g,CP:()=>c,DY:()=>U,Gv:()=>E,J$:()=>Z,Kg:()=>_,MZ:()=>a,Mp:()=>l,NO:()=>o,Oj:()=>i,PT:()=>C,Qd:()=>A,Ro:()=>V,SU:()=>$,TF:()=>h,Tg:()=>M,Tn:()=>b,Tr:()=>z,We:()=>H,X$:()=>u,Y2:()=>J,ZH:()=>R,Zf:()=>T,bB:()=>F,cy:()=>d,gd:()=>v,pD:()=>s,rU:()=>P,tE:()=>r,u3:()=>ee,vM:()=>f,v_:()=>ne,yI:()=>I,yL:()=>S,yQ:()=>j});const a={},i=[],r=()=>{},o=()=>!1,l=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),c=e=>e.startsWith("onUpdate:"),u=Object.assign,h=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},m=Object.prototype.hasOwnProperty,p=(e,t)=>m.call(e,t),d=Array.isArray,g=e=>"[object Map]"===x(e),f=e=>"[object Set]"===x(e),y=e=>"[object Date]"===x(e),v=e=>"[object RegExp]"===x(e),b=e=>"function"==typeof e,_=e=>"string"==typeof e,w=e=>"symbol"==typeof e,E=e=>null!==e&&"object"==typeof e,S=e=>(E(e)||b(e))&&b(e.then)&&b(e.catch),k=Object.prototype.toString,x=e=>k.call(e),T=e=>x(e).slice(8,-1),A=e=>"[object Object]"===x(e),I=e=>_(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,$=s(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),N=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},L=/-(\w)/g,C=N((e=>e.replace(L,((e,t)=>t?t.toUpperCase():"")))),O=/\B([A-Z])/g,M=N((e=>e.replace(O,"-$1").toLowerCase())),R=N((e=>e.charAt(0).toUpperCase()+e.slice(1))),P=N((e=>e?`on${R(e)}`:"")),D=(e,t)=>!Object.is(e,t),U=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},j=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},F=e=>{const t=parseFloat(e);return isNaN(t)?e:t},V=e=>{const t=_(e)?Number(e):NaN;return isNaN(t)?e:t};let B;const H=()=>B||(B="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{}),W=s("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol");function z(e){if(d(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],a=_(s)?X(s):z(s);if(a)for(const e in a)t[e]=a[e]}return t}if(_(e)||E(e))return e}const G=/;(?![^(]*\))/g,K=/:([^]+)/,q=/\/\*[^]*?\*\//g;function X(e){const t={};return e.replace(q,"").split(G).forEach((e=>{if(e){const n=e.split(K);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function Y(e){let t="";if(_(e))t=e;else if(d(e))for(let n=0;n<e.length;n++){const s=Y(e[n]);s&&(t+=s+" ")}else if(E(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Z=s("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function J(e){return!!e||""===e}function Q(e,t){if(e===t)return!0;let n=y(e),s=y(t);if(n||s)return!(!n||!s)&&e.getTime()===t.getTime();if(n=w(e),s=w(t),n||s)return e===t;if(n=d(e),s=d(t),n||s)return!(!n||!s)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=Q(e[s],t[s]);return n}(e,t);if(n=E(e),s=E(t),n||s){if(!n||!s)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const s=e.hasOwnProperty(n),a=t.hasOwnProperty(n);if(s&&!a||!s&&a||!Q(e[n],t[n]))return!1}}return String(e)===String(t)}function ee(e,t){return e.findIndex((e=>Q(e,t)))}const te=e=>!(!e||!0!==e.__v_isRef),ne=e=>_(e)?e:null==e?"":d(e)||E(e)&&(e.toString===k||!b(e.toString))?te(e)?ne(e.value):JSON.stringify(e,se,2):String(e),se=(e,t)=>te(t)?se(e,t.value):g(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n],s)=>(e[ae(t,s)+" =>"]=n,e)),{})}:f(t)?{[`Set(${t.size})`]:[...t.values()].map((e=>ae(e)))}:w(t)?ae(t):!E(t)||d(t)||A(t)?t:String(t),ae=(e,t="")=>{var n;return w(e)?`Symbol(${null!=(n=e.description)?n:t})`:e}},87020:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var s=n(71354),a=n.n(s),i=n(76314),r=n.n(i)()(a());r.push([e.id,".site-theme-dark .nextStream img,\n.entry-card .nextStream img,\n.site-theme-dark .resumeStream img,\n.entry-card .resumeStream img {\n  filter: invert(100%);\n}\n.entry-card .mal-sync-stream {\n  position: absolute;\n  max-height: 17px !important;\n  left: 7px;\n  top: -17px;\n  background: rgb(var(--color-overlay) 0.8);\n  border-radius: 100% 100% 0 0;\n}\n.entry-card .mal-sync-stream img {\n  padding: 5px;\n  padding-top: 7px;\n}\n.entry-card .nextStream,\n.entry-card .resumeStream {\n  position: absolute;\n  max-height: 17px !important;\n  right: 7px;\n  top: -15px;\n  margin-right: 0 !important;\n  background: rgb(var(--color-overlay) 0.8);\n  border-radius: 100% 100% 0 0;\n}\n.entry-card .nextStream img,\n.entry-card .resumeStream img {\n  margin: 5px;\n  margin-top: 7px;\n}\n.mal-sync-ep-pre {\n  display: inline-block;\n  width: 0;\n}\n","",{version:3,sources:["webpack://./src/anilist/style.less"],names:[],mappings:"AAAA;;;;EAII,oBAAA;AACJ;AAGA;EAEI,kBAAA;EACA,2BAAA;EACA,SAAA;EACA,UAAA;EACA,yCAAA;EACA,4BAAA;AAFJ;AALA;EASM,YAAA;EACA,gBAAA;AADN;AATA;;EAeI,kBAAA;EACA,2BAAA;EACA,UAAA;EACA,UAAA;EACA,0BAAA;EACA,yCAAA;EACA,4BAAA;AAFJ;AAnBA;;EAuBM,WAAA;EACA,eAAA;AAAN;AAKA;EACE,qBAAA;EACA,QAAA;AAHF",sourcesContent:[".site-theme-dark,\n.entry-card {\n  .nextStream img,\n  .resumeStream img {\n    filter: invert(100%);\n  }\n}\n\n.entry-card {\n  .mal-sync-stream {\n    position: absolute;\n    max-height: 17px !important;\n    left: 7px;\n    top: -17px;\n    background: rgb(var(--color-overlay) 0.8);\n    border-radius: 100% 100% 0 0;\n    img {\n      padding: 5px;\n      padding-top: 7px;\n    }\n  }\n  .nextStream,\n  .resumeStream {\n    position: absolute;\n    max-height: 17px !important;\n    right: 7px;\n    top: -15px;\n    margin-right: 0 !important;\n    background: rgb(var(--color-overlay) 0.8);\n    border-radius: 100% 100% 0 0;\n    img {\n      margin: 5px;\n      margin-top: 7px;\n    }\n  }\n}\n\n.mal-sync-ep-pre {\n  display: inline-block;\n  width: 0;\n}\n"],sourceRoot:""}]);const o=r},76314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",s=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),s&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),s&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,s,a,i){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(s)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(r[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);s&&r[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),a&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=a):u[4]="".concat(a)),t.push(u))}},t}},71354:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),i="/*# ".concat(a," */");return[t].concat([i]).join("\n")}return[t].join("\n")}},53011:(e,t,n)=>{var s;!function(a){var i=Object.hasOwnProperty,r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o="object"==typeof process&&"function"==typeof process.nextTick,l="function"==typeof Symbol,c="object"==typeof Reflect,u="function"==typeof setImmediate?setImmediate:setTimeout,h=l?c&&"function"==typeof Reflect.ownKeys?Reflect.ownKeys:function(e){var t=Object.getOwnPropertyNames(e);return t.push.apply(t,Object.getOwnPropertySymbols(e)),t}:Object.keys;function m(){this._events={},this._conf&&p.call(this,this._conf)}function p(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners!==a&&(this._maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),e.ignoreErrors&&(this.ignoreErrors=e.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function d(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),"undefined"!=typeof process&&process.emitWarning){var s=new Error(n);s.name="MaxListenersExceededWarning",s.emitter=this,s.count=e,process.emitWarning(s)}else console.error(n),console.trace&&console.trace()}var g=function(e,t,n){var s=arguments.length;switch(s){case 0:return[];case 1:return[e];case 2:return[e,t];case 3:return[e,t,n];default:for(var a=new Array(s);s--;)a[s]=arguments[s];return a}};function f(e,t){for(var n={},s=e.length,i=t?value.length:0,r=0;r<s;r++)n[e[r]]=r<i?t[r]:a;return n}function y(e,t,n){var s,a;if(this._emitter=e,this._target=t,this._listeners={},this._listenersCount=0,(n.on||n.off)&&(s=n.on,a=n.off),t.addEventListener?(s=t.addEventListener,a=t.removeEventListener):t.addListener?(s=t.addListener,a=t.removeListener):t.on&&(s=t.on,a=t.off),!s&&!a)throw Error("target does not implement any known event API");if("function"!=typeof s)throw TypeError("on method must be a function");if("function"!=typeof a)throw TypeError("off method must be a function");this._on=s,this._off=a;var i=e._observers;i?i.push(this):e._observers=[this]}function v(e,t,n,s){var r=Object.assign({},t);if(!e)return r;if("object"!=typeof e)throw TypeError("options must be an object");var o,l,c,u=Object.keys(e),h=u.length;function m(e){throw Error('Invalid "'+o+'" option value'+(e?". Reason: "+e:""))}for(var p=0;p<h;p++){if(o=u[p],!s&&!i.call(t,o))throw Error('Unknown "'+o+'" option');(l=e[o])!==a&&(c=n[o],r[o]=c?c(l,m):l)}return r}function b(e,t){return"function"==typeof e&&e.hasOwnProperty("prototype")||t("value must be a constructor"),e}function _(e){var t="value must be type of "+e.join("|"),n=e.length,s=e[0],a=e[1];return 1===n?function(e,n){if(typeof e===s)return e;n(t)}:2===n?function(e,n){var i=typeof e;if(i===s||i===a)return e;n(t)}:function(s,a){for(var i=typeof s,r=n;r-- >0;)if(i===e[r])return s;a(t)}}Object.assign(y.prototype,{subscribe:function(e,t,n){var s=this,a=this._target,i=this._emitter,r=this._listeners,o=function(){var s=g.apply(null,arguments),r={data:s,name:t,original:e};n?!1!==n.call(a,r)&&i.emit.apply(i,[r.name].concat(s)):i.emit.apply(i,[t].concat(s))};if(r[e])throw Error("Event '"+e+"' is already listening");this._listenersCount++,i._newListener&&i._removeListener&&!s._onNewListener?(this._onNewListener=function(n){n===t&&null===r[e]&&(r[e]=o,s._on.call(a,e,o))},i.on("newListener",this._onNewListener),this._onRemoveListener=function(n){n===t&&!i.hasListeners(n)&&r[e]&&(r[e]=null,s._off.call(a,e,o))},r[e]=null,i.on("removeListener",this._onRemoveListener)):(r[e]=o,s._on.call(a,e,o))},unsubscribe:function(e){var t,n,s,a=this,i=this._listeners,r=this._emitter,o=this._off,l=this._target;if(e&&"string"!=typeof e)throw TypeError("event must be a string");function c(){a._onNewListener&&(r.off("newListener",a._onNewListener),r.off("removeListener",a._onRemoveListener),a._onNewListener=null,a._onRemoveListener=null);var e=k.call(r,a);r._observers.splice(e,1)}if(e){if(!(t=i[e]))return;o.call(l,e,t),delete i[e],--this._listenersCount||c()}else{for(s=(n=h(i)).length;s-- >0;)e=n[s],o.call(l,e,i[e]);this._listeners={},this._listenersCount=0,c()}}});var w=_(["function"]),E=_(["object","function"]);function S(e,t,n){var s,a,i,r=0,o=new e((function(l,c,u){function h(){a&&(a=null),r&&(clearTimeout(r),r=0)}n=v(n,{timeout:0,overload:!1},{timeout:function(e,t){return("number"!=typeof(e*=1)||e<0||!Number.isFinite(e))&&t("timeout must be a positive number"),e}}),s=!n.overload&&"function"==typeof e.prototype.cancel&&"function"==typeof u;var m=function(e){h(),l(e)},p=function(e){h(),c(e)};s?t(m,p,u):(a=[function(e){p(e||Error("canceled"))}],t(m,p,(function(e){if(i)throw Error("Unable to subscribe on cancel event asynchronously");if("function"!=typeof e)throw TypeError("onCancel callback must be a function");a.push(e)})),i=!0),n.timeout>0&&(r=setTimeout((function(){var e=Error("timeout");e.code="ETIMEDOUT",r=0,o.cancel(e),c(e)}),n.timeout))}));return s||(o.cancel=function(e){if(a){for(var t=a.length,n=1;n<t;n++)a[n](e);a[0](e),a=null}}),o}function k(e){var t=this._observers;if(!t)return-1;for(var n=t.length,s=0;s<n;s++)if(t[s]._target===e)return s;return-1}function x(e,t,n,s,a){if(!n)return null;if(0===s){var i=typeof t;if("string"===i){var r,o,l=0,c=0,u=this.delimiter,m=u.length;if(-1!==(o=t.indexOf(u))){r=new Array(5);do{r[l++]=t.slice(c,o),c=o+m}while(-1!==(o=t.indexOf(u,c)));r[l++]=t.slice(c),t=r,a=l}else t=[t],a=1}else"object"===i?a=t.length:(t=[t],a=1)}var p,d,g,f,y,v,b,_=null,w=t[s],E=t[s+1];if(s===a)n._listeners&&("function"==typeof n._listeners?(e&&e.push(n._listeners),_=[n]):(e&&e.push.apply(e,n._listeners),_=[n]));else{if("*"===w){for(o=(v=h(n)).length;o-- >0;)"_listeners"!==(p=v[o])&&(b=x(e,t,n[p],s+1,a))&&(_?_.push.apply(_,b):_=b);return _}if("**"===w){for((y=s+1===a||s+2===a&&"*"===E)&&n._listeners&&(_=x(e,t,n,a,a)),o=(v=h(n)).length;o-- >0;)"_listeners"!==(p=v[o])&&("*"===p||"**"===p?(n[p]._listeners&&!y&&(b=x(e,t,n[p],a,a))&&(_?_.push.apply(_,b):_=b),b=x(e,t,n[p],s,a)):b=x(e,t,n[p],p===E?s+2:s,a),b&&(_?_.push.apply(_,b):_=b));return _}n[w]&&(_=x(e,t,n[w],s+1,a))}if((d=n["*"])&&x(e,t,d,s+1,a),g=n["**"])if(s<a)for(g._listeners&&x(e,t,g,a,a),o=(v=h(g)).length;o-- >0;)"_listeners"!==(p=v[o])&&(p===E?x(e,t,g[p],s+2,a):p===w?x(e,t,g[p],s+1,a):((f={})[p]=g[p],x(e,t,{"**":f},s+1,a)));else g._listeners?x(e,t,g,a,a):g["*"]&&g["*"]._listeners&&x(e,t,g["*"],a,a);return _}function T(e,t,n){var s,a,i=0,r=0,o=this.delimiter,l=o.length;if("string"==typeof e)if(-1!==(s=e.indexOf(o))){a=new Array(5);do{a[i++]=e.slice(r,s),r=s+l}while(-1!==(s=e.indexOf(o,r)));a[i++]=e.slice(r)}else a=[e],i=1;else a=e,i=e.length;if(i>1)for(s=0;s+1<i;s++)if("**"===a[s]&&"**"===a[s+1])return;var c,u=this.listenerTree;for(s=0;s<i;s++)if(u=u[c=a[s]]||(u[c]={}),s===i-1)return u._listeners?("function"==typeof u._listeners&&(u._listeners=[u._listeners]),n?u._listeners.unshift(t):u._listeners.push(t),!u._listeners.warned&&this._maxListeners>0&&u._listeners.length>this._maxListeners&&(u._listeners.warned=!0,d.call(this,u._listeners.length,c))):u._listeners=t,!0;return!0}function A(e,t,n,s){for(var a,i,r,o,l=h(e),c=l.length,u=e._listeners;c-- >0;)a=e[i=l[c]],r="_listeners"===i?n:n?n.concat(i):[i],o=s||"symbol"==typeof i,u&&t.push(o?r:r.join(this.delimiter)),"object"==typeof a&&A.call(this,a,t,r,o);return t}function I(e){for(var t,n,s,a=h(e),i=a.length;i-- >0;)(t=e[n=a[i]])&&(s=!0,"_listeners"===n||I(t)||delete e[n]);return s}function $(e,t,n){this.emitter=e,this.event=t,this.listener=n}function N(e,t,n){if(!0===n)i=!0;else if(!1===n)s=!0;else{if(!n||"object"!=typeof n)throw TypeError("options should be an object or true");var s=n.async,i=n.promisify,r=n.nextTick,l=n.objectify}if(s||r||i){var c=t,h=t._origin||t;if(r&&!o)throw Error("process.nextTick is not supported");i===a&&(i="AsyncFunction"===t.constructor.name),t=function(){var e=arguments,t=this,n=this.event;return i?r?Promise.resolve():new Promise((function(e){u(e)})).then((function(){return t.event=n,c.apply(t,e)})):(r?process.nextTick:u)((function(){t.event=n,c.apply(t,e)}))},t._async=!0,t._origin=h}return[t,l?new $(this,e,t):this]}function L(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,p.call(this,e)}$.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},L.EventEmitter2=L,L.prototype.listenTo=function(e,t,n){if("object"!=typeof e)throw TypeError("target musts be an object");var s=this;function i(t){if("object"!=typeof t)throw TypeError("events must be an object");var a,i=n.reducers,r=k.call(s,e);a=-1===r?new y(s,e,n):s._observers[r];for(var o,l=h(t),c=l.length,u="function"==typeof i,m=0;m<c;m++)o=l[m],a.subscribe(o,t[o]||o,u?i:i&&i[o])}return n=v(n,{on:a,off:a,reducers:a},{on:w,off:w,reducers:E}),r(t)?i(f(t)):i("string"==typeof t?f(t.split(/\s+/)):t),this},L.prototype.stopListeningTo=function(e,t){var n=this._observers;if(!n)return!1;var s,a=n.length,i=!1;if(e&&"object"!=typeof e)throw TypeError("target should be an object");for(;a-- >0;)s=n[a],e&&s._target!==e||(s.unsubscribe(t),i=!0);return i},L.prototype.delimiter=".",L.prototype.setMaxListeners=function(e){e!==a&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},L.prototype.getMaxListeners=function(){return this._maxListeners},L.prototype.event="",L.prototype.once=function(e,t,n){return this._once(e,t,!1,n)},L.prototype.prependOnceListener=function(e,t,n){return this._once(e,t,!0,n)},L.prototype._once=function(e,t,n,s){return this._many(e,1,t,n,s)},L.prototype.many=function(e,t,n,s){return this._many(e,t,n,!1,s)},L.prototype.prependMany=function(e,t,n,s){return this._many(e,t,n,!0,s)},L.prototype._many=function(e,t,n,s,a){var i=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function r(){return 0==--t&&i.off(e,r),n.apply(this,arguments)}return r._origin=n,this._on(e,r,s,a)},L.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||m.call(this);var e,t,n,s,a,i,r=arguments[0],o=this.wildcard;if("newListener"===r&&!this._newListener&&!this._events.newListener)return!1;if(o&&(e=r,"newListener"!==r&&"removeListener"!==r&&"object"==typeof r)){if(n=r.length,l)for(s=0;s<n;s++)if("symbol"==typeof r[s]){i=!0;break}i||(r=r.join(this.delimiter))}var c,u=arguments.length;if(this._all&&this._all.length)for(s=0,n=(c=this._all.slice()).length;s<n;s++)switch(this.event=r,u){case 1:c[s].call(this,r);break;case 2:c[s].call(this,r,arguments[1]);break;case 3:c[s].call(this,r,arguments[1],arguments[2]);break;default:c[s].apply(this,arguments)}if(o)c=[],x.call(this,c,e,this.listenerTree,0,n);else{if("function"==typeof(c=this._events[r])){switch(this.event=r,u){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(u-1),a=1;a<u;a++)t[a-1]=arguments[a];c.apply(this,t)}return!0}c&&(c=c.slice())}if(c&&c.length){if(u>3)for(t=new Array(u-1),a=1;a<u;a++)t[a-1]=arguments[a];for(s=0,n=c.length;s<n;s++)switch(this.event=r,u){case 1:c[s].call(this);break;case 2:c[s].call(this,arguments[1]);break;case 3:c[s].call(this,arguments[1],arguments[2]);break;default:c[s].apply(this,t)}return!0}if(!this.ignoreErrors&&!this._all&&"error"===r)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},L.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||m.call(this);var e,t,n,s,a,i,r=arguments[0],o=this.wildcard;if("newListener"===r&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(o&&(e=r,"newListener"!==r&&"removeListener"!==r&&"object"==typeof r)){if(s=r.length,l)for(a=0;a<s;a++)if("symbol"==typeof r[a]){t=!0;break}t||(r=r.join(this.delimiter))}var c,u=[],h=arguments.length;if(this._all)for(a=0,s=this._all.length;a<s;a++)switch(this.event=r,h){case 1:u.push(this._all[a].call(this,r));break;case 2:u.push(this._all[a].call(this,r,arguments[1]));break;case 3:u.push(this._all[a].call(this,r,arguments[1],arguments[2]));break;default:u.push(this._all[a].apply(this,arguments))}if(o?(c=[],x.call(this,c,e,this.listenerTree,0)):c=this._events[r],"function"==typeof c)switch(this.event=r,h){case 1:u.push(c.call(this));break;case 2:u.push(c.call(this,arguments[1]));break;case 3:u.push(c.call(this,arguments[1],arguments[2]));break;default:for(n=new Array(h-1),i=1;i<h;i++)n[i-1]=arguments[i];u.push(c.apply(this,n))}else if(c&&c.length){if(c=c.slice(),h>3)for(n=new Array(h-1),i=1;i<h;i++)n[i-1]=arguments[i];for(a=0,s=c.length;a<s;a++)switch(this.event=r,h){case 1:u.push(c[a].call(this));break;case 2:u.push(c[a].call(this,arguments[1]));break;case 3:u.push(c[a].call(this,arguments[1],arguments[2]));break;default:u.push(c[a].apply(this,n))}}else if(!this.ignoreErrors&&!this._all&&"error"===r)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(u)},L.prototype.on=function(e,t,n){return this._on(e,t,!1,n)},L.prototype.prependListener=function(e,t,n){return this._on(e,t,!0,n)},L.prototype.onAny=function(e){return this._onAny(e,!1)},L.prototype.prependAny=function(e){return this._onAny(e,!0)},L.prototype.addListener=L.prototype.on,L.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},L.prototype._on=function(e,t,n,s){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");this._events||m.call(this);var i,r=this;return s!==a&&(t=(i=N.call(this,e,t,s))[0],r=i[1]),this._newListener&&this.emit("newListener",e,t),this.wildcard?(T.call(this,e,t,n),r):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,d.call(this,this._events[e].length,e))):this._events[e]=t,r)},L.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,s=[];if(this.wildcard){var a="string"==typeof e?e.split(this.delimiter):e.slice();if(!(s=x.call(this,null,a,this.listenerTree,0)))return this}else{if(!this._events[e])return this;n=this._events[e],s.push({_listeners:n})}for(var i=0;i<s.length;i++){var o=s[i];if(n=o._listeners,r(n)){for(var l=-1,c=0,u=n.length;c<u;c++)if(n[c]===t||n[c].listener&&n[c].listener===t||n[c]._origin&&n[c]._origin===t){l=c;break}if(l<0)continue;return this.wildcard?o._listeners.splice(l,1):this._events[e].splice(l,1),0===n.length&&(this.wildcard?delete o._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete o._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return this.listenerTree&&I(this.listenerTree),this},L.prototype.offAny=function(e){var t,n=0,s=0;if(e&&this._all&&this._all.length>0){for(n=0,s=(t=this._all).length;n<s;n++)if(e===t[n])return t.splice(n,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(n=0,s=t.length;n<s;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},L.prototype.removeListener=L.prototype.off,L.prototype.removeAllListeners=function(e){if(e===a)return!this._events||m.call(this),this;if(this.wildcard){var t,n=x.call(this,null,e,this.listenerTree,0);if(!n)return this;for(t=0;t<n.length;t++)n[t]._listeners=null;this.listenerTree&&I(this.listenerTree)}else this._events&&(this._events[e]=null);return this},L.prototype.listeners=function(e){var t,n,s,i,r,o=this._events;if(e===a){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!o)return[];for(i=(t=h(o)).length,s=[];i-- >0;)"function"==typeof(n=o[t[i]])?s.push(n):s.push.apply(s,n);return s}if(this.wildcard){if(!(r=this.listenerTree))return[];var l=[],c="string"==typeof e?e.split(this.delimiter):e.slice();return x.call(this,l,c,r,0),l}return o&&(n=o[e])?"function"==typeof n?[n]:n:[]},L.prototype.eventNames=function(e){var t=this._events;return this.wildcard?A.call(this,this.listenerTree,[],null,e):t?h(t):[]},L.prototype.listenerCount=function(e){return this.listeners(e).length},L.prototype.hasListeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return x.call(this,t,n,this.listenerTree,0),t.length>0}var s=this._events,i=this._all;return!!(i&&i.length||s&&(e===a?h(s).length:s[e]))},L.prototype.listenersAny=function(){return this._all?this._all:[]},L.prototype.waitFor=function(e,t){var n=this,s=typeof t;return"number"===s?t={timeout:t}:"function"===s&&(t={filter:t}),S((t=v(t,{timeout:0,filter:a,handleError:!1,Promise,overload:!1},{filter:w,Promise:b})).Promise,(function(s,a,i){function r(){var i=t.filter;if(!i||i.apply(n,arguments))if(n.off(e,r),t.handleError){var o=arguments[0];o?a(o):s(g.apply(null,arguments).slice(1))}else s(g.apply(null,arguments))}i((function(){n.off(e,r)})),n._on(e,r,!1)}),{timeout:t.timeout,overload:t.overload})};var C=L.prototype;Object.defineProperties(L,{defaultMaxListeners:{get:function(){return C._maxListeners},set:function(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw TypeError("n must be a non-negative number");C._maxListeners=e},enumerable:!0},once:{value:function(e,t,n){return S((n=v(n,{Promise,timeout:0,overload:!1},{Promise:b})).Promise,(function(n,s,a){var i;if("function"==typeof e.addEventListener)return i=function(){n(g.apply(null,arguments))},a((function(){e.removeEventListener(t,i)})),void e.addEventListener(t,i,{once:!0});var r,o=function(){r&&e.removeListener("error",r),n(g.apply(null,arguments))};"error"!==t&&(r=function(n){e.removeListener(t,o),s(n)},e.once("error",r)),a((function(){r&&e.removeListener("error",r),e.removeListener(t,o)})),e.once(t,o)}),{timeout:n.timeout,overload:n.overload})},writable:!0,configurable:!0}}),Object.defineProperties(C,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),(s=function(){return L}.call(t,n,t,e))===a||(e.exports=s)}()},53908:(e,t,n)=>{const s=n(57272),{MAX_LENGTH:a,MAX_SAFE_INTEGER:i}=n(16874),{safeRe:r,safeSrc:o,t:l}=n(99718),c=n(98587),{compareIdentifiers:u}=n(61123);class h{constructor(e,t){if(t=c(t),e instanceof h){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>a)throw new TypeError(`version is longer than ${a} characters`);s("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?r[l.LOOSE]:r[l.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(s("SemVer.compare",this.version,this.options,e),!(e instanceof h)){if("string"==typeof e&&e===this.version)return 0;e=new h(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof h||(e=new h(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof h||(e=new h(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],a=e.prerelease[t];if(s("prerelease compare",t,n,a),void 0===n&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===n)return-1;if(n!==a)return u(n,a)}while(++t)}compareBuild(e){e instanceof h||(e=new h(e,this.options));let t=0;do{const n=this.build[t],a=e.build[t];if(s("build compare",t,n,a),void 0===n&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===n)return-1;if(n!==a)return u(n,a)}while(++t)}inc(e,t,n){if(e.startsWith("pre")){if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(t){const e=new RegExp(`^${this.options.loose?o[l.PRERELEASELOOSE]:o[l.PRERELEASE]}$`),n=`-${t}`.match(e);if(!n||n[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"release":if(0===this.prerelease.length)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let s=this.prerelease.length;for(;--s>=0;)"number"==typeof this.prerelease[s]&&(this.prerelease[s]++,s=-2);if(-1===s){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let s=[t,e];!1===n&&(s=[t]),0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=h},50560:(e,t,n)=>{const s=n(53908);e.exports=(e,t,n)=>new s(e,n).compare(new s(t,n))},35580:(e,t,n)=>{const s=n(50560);e.exports=(e,t,n)=>s(e,t,n)>0},54089:(e,t,n)=>{const s=n(50560);e.exports=(e,t,n)=>s(e,t,n)>=0},16874:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},57272:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},61123:e=>{const t=/^[0-9]+$/,n=(e,n)=>{const s=t.test(e),a=t.test(n);return s&&a&&(e=+e,n=+n),e===n?0:s&&!a?-1:a&&!s?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},98587:e=>{const t=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:n},99718:(e,t,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:s,MAX_SAFE_BUILD_LENGTH:a,MAX_LENGTH:i}=n(16874),r=n(57272),o=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],u=t.safeSrc=[],h=t.t={};let m=0;const p="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",i],[p,a]],g=(e,t,n)=>{const s=(e=>{for(const[t,n]of d)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),a=m++;r(e,a,t),h[e]=a,c[a]=t,u[a]=s,o[a]=new RegExp(t,n?"g":void 0),l[a]=new RegExp(s,n?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),g("MAINVERSION",`(${c[h.NUMERICIDENTIFIER]})\\.(${c[h.NUMERICIDENTIFIER]})\\.(${c[h.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${c[h.NUMERICIDENTIFIERLOOSE]})\\.(${c[h.NUMERICIDENTIFIERLOOSE]})\\.(${c[h.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${c[h.NUMERICIDENTIFIER]}|${c[h.NONNUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${c[h.NUMERICIDENTIFIERLOOSE]}|${c[h.NONNUMERICIDENTIFIER]})`),g("PRERELEASE",`(?:-(${c[h.PRERELEASEIDENTIFIER]}(?:\\.${c[h.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${c[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[h.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${p}+`),g("BUILD",`(?:\\+(${c[h.BUILDIDENTIFIER]}(?:\\.${c[h.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${c[h.MAINVERSION]}${c[h.PRERELEASE]}?${c[h.BUILD]}?`),g("FULL",`^${c[h.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${c[h.MAINVERSIONLOOSE]}${c[h.PRERELEASELOOSE]}?${c[h.BUILD]}?`),g("LOOSE",`^${c[h.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${c[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${c[h.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${c[h.XRANGEIDENTIFIER]})(?:\\.(${c[h.XRANGEIDENTIFIER]})(?:\\.(${c[h.XRANGEIDENTIFIER]})(?:${c[h.PRERELEASE]})?${c[h.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${c[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[h.XRANGEIDENTIFIERLOOSE]})(?:${c[h.PRERELEASELOOSE]})?${c[h.BUILD]}?)?)?`),g("XRANGE",`^${c[h.GTLT]}\\s*${c[h.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${c[h.GTLT]}\\s*${c[h.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${s}})(?:\\.(\\d{1,${s}}))?(?:\\.(\\d{1,${s}}))?`),g("COERCE",`${c[h.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",c[h.COERCEPLAIN]+`(?:${c[h.PRERELEASE]})?`+`(?:${c[h.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",c[h.COERCE],!0),g("COERCERTLFULL",c[h.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${c[h.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${c[h.LONETILDE]}${c[h.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${c[h.LONETILDE]}${c[h.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${c[h.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${c[h.LONECARET]}${c[h.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${c[h.LONECARET]}${c[h.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${c[h.GTLT]}\\s*(${c[h.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${c[h.GTLT]}\\s*(${c[h.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${c[h.GTLT]}\\s*(${c[h.LOOSEPLAIN]}|${c[h.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${c[h.XRANGEPLAIN]})\\s+-\\s+(${c[h.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${c[h.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[h.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},22344:(e,t,n)=>{var s=n(87020);s&&s.__esModule&&(s=s.default),e.exports="string"==typeof s?s:s.toString()},13647:(e,t,n)=>{"use strict";n.r(t),n.d(t,{request:()=>f,settings:()=>y,storage:()=>g,type:()=>v});var s=n(13647),a=n(78584),i=n(26017);const r={async set(e,t){const n={};return n[e]=t,new Promise(((t,s)=>{o(e).set(n,(function(){chrome.runtime.lastError?s(chrome.runtime.lastError):t()}))}))},get:async e=>new Promise(((t,n)=>{o(e).get(e,(function(s){chrome.runtime.lastError?n(chrome.runtime.lastError):t(s[e])}))})),remove:async e=>new Promise(((t,n)=>{o(e).remove(e,(function(){chrome.runtime.lastError?n(chrome.runtime.lastError):t()}))})),list:async(e="local")=>new Promise(((t,n)=>{"local"===e?chrome.storage.local.get(null,(function(e){t(e)})):chrome.storage.sync.get(null,(function(e){t(e)}))})),async addStyle(e){try{const t=document.createElement("style");t.textContent=e,(document.head||document.body||document.documentElement||document).appendChild(t)}catch(e){console.log(`Could not add css:${e}`)}},version:()=>chrome.runtime.getManifest().version,lang(e,t){if(s.settings.get("forceEn")&&"undefined"!=typeof i18n){let n=i18n[e];if(void 0!==t)for(let e=0;e<t.length;e++)n=n.replace(`$${e+1}`,t[e]);return n}return chrome.i18n.getMessage(e,t)},langDirection(){try{const e=chrome.i18n.getUILanguage();if(/^(ar)(-|$)/i.test(e)&&!s.settings.get("forceEn"))return"rtl"}catch(e){a.error(e)}return"ltr"},assetUrl:e=>chrome.runtime.getURL(`assets/${e}`),injectCssResource(e,t){alert("injectCssResource not supported in webextension")},injectjsResource(e,t){const n=document.createElement("script");n.src=chrome.runtime.getURL(`vendor/${e}`),n.onload=function(){this.remove()},t.get(0).appendChild(n)},addProxyScriptToTag:(e,t)=>(e.src=chrome.runtime.getURL(`/content/proxy/proxy_${t}.js`),e),updateDom(e){const t=document.createElement("script");t.text="\n        document.getElementsByTagName('head')[0].onclick = function(e){\n          try{\n            componentHandler.upgradeDom();\n          }catch(e){\n            console.log(e);\n            setTimeout(function(){\n              componentHandler.upgradeDom();\n            },500);\n          }\n        }",t.onload=function(){this.remove()},e.get(0).appendChild(t)},storageOnChanged(e){chrome.storage.onChanged.addListener(e)}};function o(e){return i.syncRegex.test(e)?chrome.storage.sync:chrome.storage.local}const l={async xhr(e,t){if(void 0!==l.sendMessage)return l.sendMessage({name:"xhr",method:e,url:t}).then((e=>{if(429===e.status)throw"Rate limit Timeout";if(0===e.status)throw e.responseText;return e}));throw"Could not send xhr"},sendMessage:async e=>new Promise(((t,n)=>{chrome.runtime.sendMessage(e,(function(e){t(e)}))})),notification(e){this.sendMessage({name:"notification",options:e})},database(e,t){return this.sendMessage({name:"database",options:{call:e,param:t}})}};var c=n(50953),u=n(40111),h=n(13647),m=n(78584),p=n(26017);const d={options:(0,c.Kh)({autoTrackingModeanime:"video",readerTracking:!0,askBefore:!0,autoTrackingModemanga:"instant",enablePages:{},forceEn:!1,forceEnglishTitles:!1,rpc:!0,presenceLargeImage:"cover",presenceShowButtons:!0,presenceShowMalsync:!1,userscriptModeButton:!1,syncMode:"MAL",syncModeSimkl:"MAL",localSync:!0,delay:0,videoDuration:85,malTags:!1,malContinue:!0,malResume:!0,usedPage:!0,epPredictions:!0,mangaCompletionPercentage:90,theme:"auto",themeSidebars:!0,themeColor:"#000000",themeOpacity:100,themeImage:"",minimalWindow:!1,posLeft:"left",miniMALonMal:!1,floatButtonStealth:!1,minimizeBigPopup:!1,floatButtonCorrection:!0,floatButtonHide:!1,autoCloseMinimal:!1,outWay:!0,miniMalWidth:"550px",miniMalHeight:"90%",malThumbnail:100,friendScore:!0,loadPTWForProgress:!1,quicklinks:["Crunchyroll","Gogoanime","Mangadex","MangaNato","MangaFox","MangaSee","MangaFire","HiAnime","Hulu","Netflix","Hidive","VIZ","MangaPlus","MangaReader","ComicK","WeebCentral","KickAssAnime","animepahe"],quicklinksPosition:"default",autofull:!1,autoresume:!1,autoNextEp:!1,highlightAllEp:!1,checkForFiller:!0,crashReport:!0,introSkip:85,introSkipFwd:[17,39],introSkipBwd:[17,37],nextEpShort:[],correctionShort:[67],syncShort:[],progressInterval:120,progressIntervalDefaultAnime:"en/sub",progressIntervalDefaultManga:"en/sub",progressNotificationsAnime:!0,progressNotificationsManga:!0,notificationsSticky:!0,bookMarksList:!1,bookMarksListManga:!1,customDomains:[],anilistUpdateUi:!0,anilistToken:"",anilistOptions:{displayAdultContent:!0,scoreFormat:"POINT_10"},kitsuToken:"",kitsuOptions:{titleLanguagePreference:"canonical",sfwFilter:!1,ratingSystem:"regular"},simklToken:"",malToken:"",malRefresh:"",shikiToken:"",shikiOptions:{locale:"ru"}}),debounceArray:{},chibiList:{},isInit:(0,c.KR)(!1),async init(){const e=[];for(const t in this.options){const n=await h.storage.get(`settings/${t}`);void 0!==n&&(this.options[t]=n,e[t]=/(token|refresh)/i.test(t)&&n?"********":n)}try{const e=await u.I.getInstance(!0).init();this.chibiList=e.getList()}catch(e){m.error("Error loading chibi repo",e)}let t;return m.log("Settings",e),h.storage.storageOnChanged(((e,n)=>{if("sync"===n)for(const t in e){const n=e[t];/^settings\//i.test(t)&&(this.options[t.replace("settings/","")]=n.newValue,m.info(`Update ${t} option to ${JSON.stringify(n.newValue,null,2)}`))}if("local"===n&&e.rateLimit)try{clearTimeout(t),e.rateLimit.newValue?(m.log("Rate limited"),$(".type-rate").length||p.flashm("Rate limited. Retrying in a moment",{error:!0,type:"rate",permanent:!0})):t=setTimeout((()=>{m.log("No Rate limited"),$(".type-rate").remove()}),5e3)}catch(e){m.error(e)}})),this.isInit.value=!0,this},get(e){if(!this.isInit.value)throw"Settings not initialized";return this.options[e]},set(e,t){if(!Object.prototype.hasOwnProperty.call(this.options,e)){const t=Error(`${e} is not a defined option`);throw m.error(t),t}return this.options[e]=t,h.storage.set(`settings/${e}`,t)},setDebounce(e,t){this.options[e]=t,clearTimeout(this.debounceArray[e]),this.debounceArray[e]=setTimeout((()=>{this.set(e,t),delete this.debounceArray[e]}),1e3)},async getAsync(e){const t=await h.storage.get(`settings/${e}`);return void 0===t&&void 0!==this.options[e]?this.options[e]:t},getStaticChibi(){if(!this.isInit.value)throw"Settings not initialized";return this.chibiList}},g=r,f=l,y=d,v="webextension"},40111:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var s=n(96789),a=n(13647);class i{static getInstance(e=!1){let t;return t="userscript"===a.type?["https://chibi.malsync.moe/config"]:[chrome.runtime.getURL("chibi"),"https://chibi.malsync.moe/config"],new i(t,e)}constructor(e,t=!1){this.pages=null,this.collections=e,this.useCache=t}async init(){const e=`chibiPages-${a.storage.version()}`,t=await a.storage.get(e)||{chibiPages:{},errors:{}};if(this.useCache&&t.chibiPages&&Object.keys(t.chibiPages).length>0)return this.pages=t.chibiPages,this;const n={},i=(await Promise.all(this.collections.map((e=>this.retrieveCollection(e).catch((t=>(n[e]=t,null))))))).filter((e=>e));return t.errors=n,i.forEach((e=>{Object.keys(e.pages).forEach((n=>{if(e.pages[n].minimumVersion&&(0,s.GT)(e.pages[n].minimumVersion))return;const a=t.chibiPages[n]&&t.chibiPages[n].version.hash!==e.pages[n].version.hash&&Number(t.chibiPages[n].version.timestamp)<Number(e.pages[n].version.timestamp);t.chibiPages[n]&&!a||(t.chibiPages[n]=e.pages[n])}))})),await a.storage.set(e,t),this.pages=t.chibiPages,this}async retrieveCollection(e){const t=await a.request.xhr("GET",`${e}/list.json`),n=JSON.parse(t.responseText);return Object.keys(n.pages).forEach((t=>{n.pages[t].root=e})),n}getList(){if(!this.pages)throw new Error("Pages not loaded");return this.pages}async getPage(e){if(!this.pages)throw new Error("Pages not loaded");const t=this.pages[e];if(!t)throw new Error(`Page ${e} not found`);const n=await a.request.xhr("GET",`${t.root}/pages/${e}.json?version=${t.version.hash}`);return JSON.parse(n.responseText)}getPermissions(){const e=this.getList();return Object.values(e).map((e=>e.urls.match.map((t=>({page:`${e.name} (chibi)`,domain:t,auto:!0,chibi:!0}))))).flat()}getPermissionsElements(){const e=this.getList();return Object.values(e).map((e=>({name:`${e.name} (chibi)`,match:e.urls.match})))}}},78584:(e,t,n)=>{"use strict";n.r(t),n.d(t,{debug:()=>r,error:()=>a,info:()=>i,log:()=>s,m:()=>o});const s=Function.prototype.bind.call(console.log,console,"%cMAL-Sync","background-color: #2e51a2; color: white; padding: 2px 10px; border-radius: 3px;"),a=Function.prototype.bind.call(console.error,console,"%cMAL-Sync","background-color: #8f0000; color: white; padding: 2px 10px; border-radius: 3px;"),i=Function.prototype.bind.call(console.info,console,"%cMAL-Sync","background-color: wheat; color: black; padding: 2px 10px; border-radius: 3px;"),r=Function.prototype.bind.call(console.debug,console,"%cMAL-Sync","background-color: steelblue; color: black; padding: 2px 10px; border-radius: 3px;"),o=(e,t="",n=[])=>{let s="white";t||(t=function(e){if(!e)return"#ffffff";e=String(e);let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);let n="#";for(let e=0;e<3;e++)n+=`00${(t>>8*e&255).toString(16)}`.substr(-2);return n}(e)),"#"===t[0]&&(s=parseInt(t.replace("#",""),16)>8388607.5?"#000":"#fff");const a=`background-color: ${t}; color: ${s}; padding: 2px 10px; border-radius: 3px; margin-left: -5px; border-left: 1px solid white;`;n.push({name:e,style:a});const i={m:(e,t="")=>o(e,t,[...n])},r=n.reduce(((e,t)=>`${e}%c${t.name}`),""),l=n.map((e=>e.style));return i.log=Function.prototype.bind.call(console.log,console,`%cM ${r}`,"background-color: #2e51a2; color: white; padding: 2px 10px; border-radius: 3px;",...l),i.error=Function.prototype.bind.call(console.error,console,`%cM ${r}`,"background-color: #8f0000; color: white; padding: 2px 10px; border-radius: 3px;",...l),i.info=Function.prototype.bind.call(console.info,console,`%cM ${r}`,"background-color: wheat; color: black; padding: 2px 10px; border-radius: 3px;",...l),i.debug=Function.prototype.bind.call(console.debug,console,`%cM ${r}`,"background-color: steelblue; color: black; padding: 2px 10px; border-radius: 3px;",...l),i}},26017:(e,t,n)=>{"use strict";n.r(t),n.d(t,{absoluteLink:()=>b,canHideTabs:()=>F,changeDetect:()=>S,checkDoubleExecution:()=>A,clearCache:()=>se,elementInViewport:()=>Y,episode:()=>d,favicon:()=>h,flashConfirm:()=>G,flashm:()=>z,fullUrlChangeDetect:()=>E,getAsyncWaitUntilTrue:()=>x,getBaseText:()=>u,getContinueWaching:()=>M,getEntrySettings:()=>P,getResumeWaching:()=>C,getStatusText:()=>B,getTooltip:()=>U,getUrlFromTags:()=>I,getselect:()=>v,handleMalImages:()=>D,htmlDecode:()=>ee,isDomainMatching:()=>ie,isFirefox:()=>te,lazyload:()=>X,notifications:()=>H,pageUrl:()=>J,parseHtml:()=>_,planTo:()=>p,rateLimitExclude:()=>f,returnYYYYMMDD:()=>Q,setContinueWaching:()=>O,setEntrySettings:()=>R,setResumeWaching:()=>L,setUrlInTags:()=>N,sortAlphabetically:()=>ae,status:()=>y,statusTag:()=>V,syncRegex:()=>g,timeCache:()=>W,timeDiffToText:()=>j,upperCaseFirstLetter:()=>re,urlChangeDetect:()=>w,urlParam:()=>c,urlPart:()=>o,urlStrip:()=>l,wait:()=>Z,waitForPageToBeVisible:()=>ne,waitUntilTrue:()=>k,watching:()=>m});var s=n(7263),a=n(13647),i=n(78584),r=n(26017);function o(e,t){if(!e)return"";const n=e.split("/");return n[t]?n[t].replace(/[#?].*/,""):""}function l(e){return e.replace(/[#?].*/,"")}function c(e,t){const n=new RegExp(`[?&]${t}=([^&#]*)`).exec(e);return null===n?null:decodeURI(n[1])||0}function u(e){let t=e.text();return e.children().each((function(){t=t.replace(s.$(this).text(),"")})),t}function h(e){if(!e)return"";const t=e.match(/^(https?:\/\/)?[^/]+/);return t&&(e=t[0]),`https://favicon.malsync.moe/?domain=${e}`}function m(e){return"manga"===e?"Reading":"Watching"}function p(e){return"manga"===e?"Plan to Read":"Plan to Watch"}function d(e){return"manga"===e?a.storage.lang("UI_Chapter"):a.storage.lang("UI_Episode")}const g=/(^settings\/.*|^updateCheckTime$|^tempVersion$|^local:\/\/|^list-tagSettings$)/,f=/^https:\/\/api.malsync.moe\/(shark|mal\/|nc\/mal\/.*\/progress$)/i;var y;function v(e,t){let n=e.split(`name="${t}"`)[1].split("</select>")[0];if(n.indexOf('selected="selected"')>-1){n=n.split("<option");for(let e=0;e<n.length;++e)if(n[e].indexOf('selected="selected"')>-1)return n[e].split('value="')[1].split('"')[0]}return""}function b(e,t){return void 0===e||e.startsWith("http")||("/"!==e.charAt(0)&&(e=`/${e}`),e=t+e),e}function _(e){return(new DOMParser).parseFromString(`<!doctype html><body>${e}`,"text/html").body.textContent}function w(e){let t=window.location.href;return setInterval((function(){t!==window.location.href&&(t=window.location.href,e())}),100)}function E(e,t=!1){let n="";const s=setInterval((function(){const s=t?l(window.location.href):window.location.href;n!==s&&(n=s,e())}),100);return Number(s)}function S(e,t,n=!1){let s=t();const a=setInterval((function(){const n=t();void 0!==n&&s!==n&&(s=t(),e())}),500);return n&&e(),Number(a)}function k(e,t,n=100){let s=0;const a=setInterval((function(){s++;let r=!1;try{r=e()}catch(e){i.info("Error in waitUntilTrue",e)}if(r&&(clearInterval(a),t()),s>10){clearInterval(a);const s=Math.max(Math.min(2*n,15e3),500);k(e,t,s)}}),n);return a}function x(e,t=100){let n,s;const a=()=>{clearTimeout(n),s&&s("AsyncWait stopped")};return{asyncWaitUntilTrue:()=>(a(),new Promise(((a,i)=>{s=i,n=k(e,(()=>a()),t)}))),reset:a}}!function(e){e[e.watching=1]="watching",e[e.completed=2]="completed",e[e.onhold=3]="onhold",e[e.dropped=4]="dropped",e[e.planToWatch=6]="planToWatch"}(y||(y={}));const T=Math.random();function A(){$(".mal-sync-double-detect").length&&$(".mal-sync-double-detect").each((function(e){$(this).text()!==T.toString()&&alert("Double execution detected! Please run MAL-Sync once only.")})),$("body").after(s.html(`<div class="mal-sync-double-detect" style="display: none;">${T.toString()}</div>`))}function I(e){return/malSync::[\d\D]+::/.test(e)?t(e.split("malSync::")[1].split("::")[0]):/last::[\d\D]+::/.test(e)?t(e.split("last::")[1].split("::")[0]):void 0;function t(e){try{return atob(e)}catch(t){return e}}}function N(e,t){if(""===e)return t.replace(/,?(malSync|last)::[^ \n]+?::/,"");if(!a.settings.get("malTags"))return t;const n=`malSync::${btoa(e)}::`;return/(last|malSync)::[\d\D]+::/.test(t)?t.replace(/(last|malSync)::[^^]*?::/,n):`${t},${n}`}async function L(e,t,n,s){return a.storage.set(`resume/${n}/${s}`,{url:e,ep:t})}async function C(e,t){if(a.settings.get("malResume"))return a.storage.get(`resume/${e}/${t}`)}async function O(e,t,n,s){return a.storage.set(`continue/${n}/${s}`,{url:e,ep:t})}async function M(e,t){if(a.settings.get("malContinue"))return a.storage.get(`continue/${e}/${t}`)}async function R(e,t,n,s=""){const i={};if(n){for(const e in n)switch(e){case"u":case"p":i[e]=n[e]}a.settings.get("malTags")?s=N(JSON.stringify(i),s):await a.storage.set(`tagSettings/${e}/${t}`,JSON.stringify(i))}return Object.values(i).find((e=>Boolean(e)))||(s=N("",s),a.settings.get("malTags")||await a.storage.remove(`tagSettings/${e}/${t}`)),s}async function P(e,t,n=""){const s={u:null,c:null,r:null,p:""};if(a.settings.get("malTags")){const e=I(n);if(e)if("{"===e[0])try{const t=JSON.parse(e);for(const e in s)t[e]&&(s[e]=t[e])}catch(e){i.error(e)}else s.u=e}else{let n=await a.storage.get(`tagSettings/${e}/${t}`);if(n){n=JSON.parse(n);for(const e in s)n[e]&&(s[e]=n[e])}}const r=await M(e,t);r&&(s.c=r);const o=await C(e,t);return o&&(s.r=o),a.settings.get("usedPage")||(s.u=null),s}function D(e){return-1!==e.indexOf("questionmark")?a.storage.assetUrl("questionmark.gif"):e}function U(e,t="",n="top"){const s=Math.floor(1e3*Math.random()+1);return`<div id="tt${s}" class="icon material-icons" style="font-size:16px; line-height: 0; color: #7f7f7f; padding-bottom: 20px; padding-left: 3px; ${t}">contact_support</div>  <div class="mdl-tooltip mdl-tooltip--${n} mdl-tooltip--large" for="tt${s}">${e}</div>`}function j(e){let t="";e/=1e3;const n=Math.floor(e/31536e3);e-=31536e3*n,n&&(t+=`${n}y `);const s=Math.floor(e/86400);e-=86400*s,s&&(t+=`${s}d `);const a=Math.floor(e/3600)%24;e-=3600*a,a&&s<2&&(t+=`${a}h `);const i=Math.floor(e/60)%60;return e-=60*i,i&&!s&&a<3&&(t+=`${i}min `),t}function F(){return"undefined"!=typeof browser&&void 0!==browser.tabs.hide}function V(e,t,n){const s={anime:{1:{class:"watching",text:"CW",title:a.storage.lang(`UI_Status_watching_${t}`)},2:{class:"completed",text:"CMPL",title:a.storage.lang("UI_Status_Completed")},3:{class:"on-hold",text:"HOLD",title:a.storage.lang("UI_Status_OnHold")},4:{class:"dropped",text:"DROP",title:a.storage.lang("UI_Status_Dropped")},6:{class:"plantowatch",text:"PTW",title:a.storage.lang(`UI_Status_planTo_${t}`)},23:{class:"rewatching",text:"RE",title:a.storage.lang(`UI_Status_Rewatching_${t}`)}},manga:{1:{class:"reading",text:"CR",title:a.storage.lang(`UI_Status_watching_${t}`)},2:{class:"completed",text:"CMPL",title:a.storage.lang("UI_Status_Completed")},3:{class:"on-hold",text:"HOLD",title:a.storage.lang("UI_Status_OnHold")},4:{class:"dropped",text:"DROP",title:a.storage.lang("UI_Status_Dropped")},6:{class:"plantoread",text:"PTR",title:a.storage.lang(`UI_Status_planTo_${t}`)},23:{class:"rewatching",text:"RE",title:a.storage.lang(`UI_Status_Rewatching_${t}`)}}};if($.each([1,2,3,4,6,23],(function(e,t){s.anime[s.anime[t].title]=s.anime[t],s.manga[s.manga[t].title]=s.manga[t]})),e&&s[t][e]){const a=s[t][e];return` <a href="https://myanimelist.net/ownlist/${t}/${n}/edit?hideLayout=1" title="${a.title}" class="Lightbox_AddEdit button_edit ${a.class}">${a.text}</a>`}return!1}function B(e,t){switch(t){case 1:return a.storage.lang(`UI_Status_watching_${e}`);case 2:return a.storage.lang("UI_Status_Completed");case 3:return a.storage.lang("UI_Status_OnHold");case 4:return a.storage.lang("UI_Status_Dropped");case 6:return a.storage.lang(`UI_Status_planTo_${e}`);case 7:return a.storage.lang("UI_Status_All");case 23:return a.storage.lang(`UI_Status_Rewatching_${e}`);default:return""}}function H(e,t,n,s=""){const r={type:"basic",title:t,message:n,iconUrl:s};i.log("Notification",e,r),a.storage.get("notificationHistory").then((t=>{void 0===t&&(t=[]),"object"==typeof t&&(t.length>=10&&t.shift(),t.push({url:e,title:r.title,message:r.message,iconUrl:r.iconUrl,timestamp:Date.now()}),a.storage.set("notificationHistory",t))}));try{return chrome.notifications.create(e,r)}catch(e){i.error(e)}}async function W(e,t,n){const s=await a.storage.get(e);if("object"==typeof s&&(new Date).getTime()<s.timestamp)return s.data;const i=await t();return a.storage.set(e,{data:i,timestamp:(new Date).getTime()+n}).then((()=>i))}function z(e,t){s.$("#flash-div-top").length||function(){a.storage.addStyle('.flashinfo{\n                    transition: max-height 2s, opacity 2s 2s;\n                 }\n                 .mini-stealth .flashinfo{\n                    opacity: 0;\n                 }\n                  #flashinfo-div.hover.mini-stealth .flashinfo.type-update{\n                    opacity: 0.7;\n                 }\n                 #flashinfo-div.hover .flashinfo{\n                    opacity: 1;\n                 }\n                 .flashinfo:hover{\n                    max-height:5000px !important;\n                    z-index: 2147483647;\n                    opacity: 1;\n                    transition: max-height 2s;\n                 }\n                 .flashinfo .synopsis{\n                    transition: max-height 2s, max-width 2s ease 2s;\n                 }\n                 .flashinfo:hover .synopsis{\n                    max-height:9999px !important;\n                    max-width: 500px !important;\n                    transition: max-height 2s;\n                 }\n                 #flashinfo-div{\n                  z-index: 2;\n                  transition: 2s;\n                 }\n                 #flashinfo-div:hover, #flashinfo-div.hover{\n                  z-index: 2147483647;\n                 }\n                 #flashinfo-div.player-error {\n                   z-index: 2147483647;\n                 }\n                 #flashinfo-div.player-error .type-update{\n                  overflow: visible !important;\n                  opacity: 1 !important;\n                 }\n                 #flashinfo-div.player-error .player-error{\n                  display: block !important\n                 }\n                 #flashinfo-div.player-error-missing-permissions .player-error-missing-permissions{\n                  display: block !important\n                 }\n                 #flashinfo-div.player-error-missing-permissions .player-error-default{\n                  display: none !important\n                 }\n\n                 #flash-div-top, #flash-div-bottom, #flashinfo-div{\n                    font-family: "Helvetica","Arial",sans-serif;\n                    color: white;\n                    font-size: 14px;\n                    font-weight: 400;\n                    line-height: 17px;\n                 }\n                 #flash-div-top h2, #flash-div-bottom h2, #flashinfo-div h2{\n                    font-family: "Helvetica","Arial",sans-serif;\n                    color: white;\n                    font-size: 14px;\n                    font-weight: 700;\n                    line-height: 17px;\n                    padding: 0;\n                    margin: 0;\n                 }\n                 #flash-div-top a, #flash-div-bottom a, #flashinfo-div a{\n                    color: #DF6300;\n                 }');let e="";a.settings.get("floatButtonStealth")&&(e="mini-stealth"),s.$("body").after(s.html(`<div id="flash-div-top" dir="${a.storage.langDirection()}" style="text-align: center;pointer-events: none;position: fixed;top:-5px;width:100%;z-index: 2147483647;left: 0;"></div>        <div id="flash-div-bottom" dir="${a.storage.langDirection()}" style="text-align: center;pointer-events: none;position: fixed;bottom:0px;width:100%;z-index: 2147483647;left: 0;"><div id="flash" style="display:none;  background-color: red;padding: 20px; margin: 0 auto;max-width: 60%;          -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 20px;background:rgba(227,0,0,0.6);"></div></div>        <div id="flashinfo-div" dir="${a.storage.langDirection()}" class="${e}" style="text-align: center;pointer-events: none;position: fixed;bottom:0px;width:100%;left: 0;">`))}(),i.log("[Flash] Message:",e);let n="#323232";void 0!==t&&void 0!==t.error&&t.error&&(n="#3e0808");let r="#flash-div-bottom";void 0!==t&&void 0!==t.position&&t.position&&(r=`#flash-div-${t.position}`);let o="flash";if(void 0!==t&&void 0!==t.type&&t.type){const e=`type-${t.type}`;s.$(`${r} .${e}, #flashinfo-div .${e}`).removeClass(e).fadeOut({duration:1e3,queue:!1,complete(){s.$(this).remove()}}),o+=` ${e}`}let l,c=`<div class="${o}" style="display:none;">        <div style="display:table; pointer-events: all; padding: 14px 24px 14px 24px; margin: 0 auto; margin-top: 5px; max-width: 60%; -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 2px;color: white;background:${n}; ">          ${e}        </div>      </div>`;return void 0!==t&&void 0!==t.hoverInfo&&t.hoverInfo?(o+=" flashinfo",c=`<div class="${o}" style="display:none; max-height: 5000px; overflow: hidden;"><div style="display:table; pointer-events: all; margin: 0 auto; margin-top: -2px; max-width: 60%; -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 2px;color: white;background:${n}; position: relative;"><div style="max-height: 60vh; overflow-y: auto; padding: 14px 24px 14px 24px;">${e}</div></div></div>`,s.$("#flashinfo-div").addClass("hover"),l=s.$(s.html(c)).appendTo("#flashinfo-div"),void 0!==t&&void 0!==t.minimized&&t.minimized&&l.css("max-height","8px")):l=s.$(s.html(c)).appendTo(r),void 0!==t&&void 0!==t.permanent&&t.permanent?l.slideDown(800):void 0!==t&&void 0!==t.hoverInfo&&t.hoverInfo?l.slideDown(800).delay(4e3).queue((function(){s.$("#flashinfo-div").removeClass("hover"),l.css("max-height","8px")})):l.slideDown(800).delay(4e3).slideUp(800,(()=>{s.$(this).remove()})),l}async function G(e,t,n=()=>{},i=()=>{},r=!1){return new Promise((function(o,l){let c=a.storage.lang("Ok"),u=a.storage.lang("Cancel");r&&(c=a.storage.lang("Yes"),u=a.storage.lang("No"));const h=z(e=`<div style="text-align: center;">${e}</div><div style="display: flex; justify-content: space-around;"><button class="Yes" style="background-color: transparent; border: none; color: rgb(255,64,129);margin-top: 10px; cursor:pointer;">${c}</button><button class="Cancel" style="background-color: transparent; border: none; color: rgb(255,64,129);margin-top: 10px; cursor:pointer;">${u}</button></div>`,{permanent:!0,position:"top",type:t});h.find(".Yes").click((function(e){o(!0),s.$(e.target).parentsUntil(".flash").fadeOut(300,(function(){s.$(this).remove()})),n()})),h.find(".Cancel").click((function(e){o(!1),s.$(e.target).parentsUntil(".flash").fadeOut(300,(function(){s.$(this).remove()})),i()}))}))}let K=!1,q=[];function X(e,t=".mdl-layout__content"){function n(e,t){if(!s.$(e).is(":visible"))return!1;if(s.$(e).hasClass("lazyBack"))s.$(e).css("background-image",`url(${e.getAttribute("data-src")})`).removeClass("lazyBack");else{const n=new Image,s=e.getAttribute("data-src");n.onload=function(){e.parent?e.parent.replaceChild(n,e):e.src=s,t&&t()},n.src=s}}for(let e=0;e<q.length;e++)$(q[e]).addClass("init");q=[];const a=e.find("img.lazy.init, .lazyBack.init"),i=function(){for(let e=0;e<q.length;e++)r.elementInViewport(q[e],600)&&n(q[e],(function(){q.splice(e,e)})),$(q[e]).length||q.splice(e,e)};for(let e=0;e<a.length;e++)q.push(a[e]),$(a[e]).removeClass("init");i(),K||(K=!0,e.find(t).scroll((function(){i()})))}function Y(e,t=0){const n=e.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.top-t<=(window.innerHeight||document.documentElement.clientHeight)}function Z(e){return new Promise((t=>{setTimeout(t,e)}))}function J(e,t,n){switch(e){case"mal":return`https://myanimelist.net/${t}/${n}`;case"anilist":return`https://anilist.co/${t}/${n}`;case"kitsu":return`https://kitsu.app/${t}/${n}`;case"simkl":return`https://simkl.com/${t}/${n}`;default:throw`${e} not a valid page`}}function Q(e=0){const t=new Date;t.setDate(t.getDate()+e);const n=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0");return`${t.getFullYear()}-${n}-${s}`}function ee(e){return $("<textarea/>").html(s.html(e)).text()}function te(){return Boolean("undefined"!=typeof browser&&"undefined"!=typeof chrome)}function ne(){const e=()=>Boolean(!document.visibilityState||"visible"===document.visibilityState);if(e())return Promise.resolve();i.log("Page in background");const{asyncWaitUntilTrue:t}=x((()=>e()));return t().then((()=>{i.log("Page is visible")}))}async function se(){const e=await a.storage.list();let t=0;for(const n in e)r.syncRegex.test(n)||/(^tagSettings\/.*)/.test(n)||(a.storage.remove(n),t++);r.flashm(`Cache Cleared [${t}]`)}function ae(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}function ie(e,t){const n=new URL(e),{host:s}=n;return s===t||s.endsWith(`.${t}`)}function re(e){return!e||e.length<2?e:e.charAt(0).toUpperCase()+e.slice(1)}},7263:(e,t,n)=>{"use strict";n.r(t),n.d(t,{$:()=>a,html:()=>i});var s=n(99418);const a=jQuery;function i(e){return s.A.sanitize(e,{ALLOW_UNKNOWN_PROTOCOLS:!0,ADD_ATTR:["target"]})}},96789:(e,t,n)=>{"use strict";n.d(t,{GT:()=>o}),n(54089);var s=n(35580),a=n.n(s),i=n(13647);function r(){return i.storage.version()}function o(e){return a()(e,r())&&e!==r()}},66262:(e,t)=>{"use strict";t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[e,s]of t)n[e]=s;return n}},99418:(e,t,n)=>{"use strict";n.d(t,{A:()=>ne});const{entries:s,setPrototypeOf:a,isFrozen:i,getPrototypeOf:r,getOwnPropertyDescriptor:o}=Object;let{freeze:l,seal:c,create:u}=Object,{apply:h,construct:m}="undefined"!=typeof Reflect&&Reflect;l||(l=function(e){return e}),c||(c=function(e){return e}),h||(h=function(e,t,n){return e.apply(t,n)}),m||(m=function(e,t){return new e(...t)});const p=I(Array.prototype.forEach),d=I(Array.prototype.lastIndexOf),g=I(Array.prototype.pop),f=I(Array.prototype.push),y=I(Array.prototype.splice),v=I(String.prototype.toLowerCase),b=I(String.prototype.toString),_=I(String.prototype.match),w=I(String.prototype.replace),E=I(String.prototype.indexOf),S=I(String.prototype.trim),k=I(Object.prototype.hasOwnProperty),x=I(RegExp.prototype.test),T=(A=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m(A,t)});var A;function I(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return h(e,t,s)}}function $(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;a&&a(e,null);let s=t.length;for(;s--;){let a=t[s];if("string"==typeof a){const e=n(a);e!==a&&(i(t)||(t[s]=e),a=e)}e[a]=!0}return e}function N(e){for(let t=0;t<e.length;t++)k(e,t)||(e[t]=null);return e}function L(e){const t=u(null);for(const[n,a]of s(e))k(e,n)&&(Array.isArray(a)?t[n]=N(a):a&&"object"==typeof a&&a.constructor===Object?t[n]=L(a):t[n]=a);return t}function C(e,t){for(;null!==e;){const n=o(e,t);if(n){if(n.get)return I(n.get);if("function"==typeof n.value)return I(n.value)}e=r(e)}return function(){return null}}const O=l(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),M=l(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),R=l(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),P=l(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),D=l(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),U=l(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),j=l(["#text"]),F=l(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),V=l(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),B=l(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),H=l(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),W=c(/\{\{[\w\W]*|[\w\W]*\}\}/gm),z=c(/<%[\w\W]*|[\w\W]*%>/gm),G=c(/\$\{[\w\W]*/gm),K=c(/^data-[\-\w.\u00B7-\uFFFF]+$/),q=c(/^aria-[\-\w]+$/),X=c(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Y=c(/^(?:\w+script|data):/i),Z=c(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),J=c(/^html$/i),Q=c(/^[a-z][.\w]*(-[.\w]+)+$/i);var ee=Object.freeze({__proto__:null,ARIA_ATTR:q,ATTR_WHITESPACE:Z,CUSTOM_ELEMENT:Q,DATA_ATTR:K,DOCTYPE_NAME:J,ERB_EXPR:z,IS_ALLOWED_URI:X,IS_SCRIPT_OR_DATA:Y,MUSTACHE_EXPR:W,TMPLIT_EXPR:G});const te=function(){return"undefined"==typeof window?null:window};var ne=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te();const n=t=>e(t);if(n.version="3.2.5",n.removed=[],!t||!t.document||9!==t.document.nodeType||!t.Element)return n.isSupported=!1,n;let{document:a}=t;const i=a,r=i.currentScript,{DocumentFragment:o,HTMLTemplateElement:c,Node:h,Element:m,NodeFilter:A,NamedNodeMap:I=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:N,DOMParser:W,trustedTypes:z}=t,G=m.prototype,K=C(G,"cloneNode"),q=C(G,"remove"),Y=C(G,"nextSibling"),Z=C(G,"childNodes"),Q=C(G,"parentNode");if("function"==typeof c){const e=a.createElement("template");e.content&&e.content.ownerDocument&&(a=e.content.ownerDocument)}let ne,se="";const{implementation:ae,createNodeIterator:ie,createDocumentFragment:re,getElementsByTagName:oe}=a,{importNode:le}=i;let ce={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof s&&"function"==typeof Q&&ae&&void 0!==ae.createHTMLDocument;const{MUSTACHE_EXPR:ue,ERB_EXPR:he,TMPLIT_EXPR:me,DATA_ATTR:pe,ARIA_ATTR:de,IS_SCRIPT_OR_DATA:ge,ATTR_WHITESPACE:fe,CUSTOM_ELEMENT:ye}=ee;let{IS_ALLOWED_URI:ve}=ee,be=null;const _e=$({},[...O,...M,...R,...D,...j]);let we=null;const Ee=$({},[...F,...V,...B,...H]);let Se=Object.seal(u(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ke=null,xe=null,Te=!0,Ae=!0,Ie=!1,$e=!0,Ne=!1,Le=!0,Ce=!1,Oe=!1,Me=!1,Re=!1,Pe=!1,De=!1,Ue=!0,je=!1,Fe=!0,Ve=!1,Be={},He=null;const We=$({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ze=null;const Ge=$({},["audio","video","img","source","image","track"]);let Ke=null;const qe=$({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xe="http://www.w3.org/1998/Math/MathML",Ye="http://www.w3.org/2000/svg",Ze="http://www.w3.org/1999/xhtml";let Je=Ze,Qe=!1,et=null;const tt=$({},[Xe,Ye,Ze],b);let nt=$({},["mi","mo","mn","ms","mtext"]),st=$({},["annotation-xml"]);const at=$({},["title","style","font","a","script"]);let it=null;const rt=["application/xhtml+xml","text/html"];let ot=null,lt=null;const ct=a.createElement("form"),ut=function(e){return e instanceof RegExp||e instanceof Function},ht=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!lt||lt!==e){if(e&&"object"==typeof e||(e={}),e=L(e),it=-1===rt.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,ot="application/xhtml+xml"===it?b:v,be=k(e,"ALLOWED_TAGS")?$({},e.ALLOWED_TAGS,ot):_e,we=k(e,"ALLOWED_ATTR")?$({},e.ALLOWED_ATTR,ot):Ee,et=k(e,"ALLOWED_NAMESPACES")?$({},e.ALLOWED_NAMESPACES,b):tt,Ke=k(e,"ADD_URI_SAFE_ATTR")?$(L(qe),e.ADD_URI_SAFE_ATTR,ot):qe,ze=k(e,"ADD_DATA_URI_TAGS")?$(L(Ge),e.ADD_DATA_URI_TAGS,ot):Ge,He=k(e,"FORBID_CONTENTS")?$({},e.FORBID_CONTENTS,ot):We,ke=k(e,"FORBID_TAGS")?$({},e.FORBID_TAGS,ot):{},xe=k(e,"FORBID_ATTR")?$({},e.FORBID_ATTR,ot):{},Be=!!k(e,"USE_PROFILES")&&e.USE_PROFILES,Te=!1!==e.ALLOW_ARIA_ATTR,Ae=!1!==e.ALLOW_DATA_ATTR,Ie=e.ALLOW_UNKNOWN_PROTOCOLS||!1,$e=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Ne=e.SAFE_FOR_TEMPLATES||!1,Le=!1!==e.SAFE_FOR_XML,Ce=e.WHOLE_DOCUMENT||!1,Re=e.RETURN_DOM||!1,Pe=e.RETURN_DOM_FRAGMENT||!1,De=e.RETURN_TRUSTED_TYPE||!1,Me=e.FORCE_BODY||!1,Ue=!1!==e.SANITIZE_DOM,je=e.SANITIZE_NAMED_PROPS||!1,Fe=!1!==e.KEEP_CONTENT,Ve=e.IN_PLACE||!1,ve=e.ALLOWED_URI_REGEXP||X,Je=e.NAMESPACE||Ze,nt=e.MATHML_TEXT_INTEGRATION_POINTS||nt,st=e.HTML_INTEGRATION_POINTS||st,Se=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ut(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Se.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ut(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Se.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Se.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ne&&(Ae=!1),Pe&&(Re=!0),Be&&(be=$({},j),we=[],!0===Be.html&&($(be,O),$(we,F)),!0===Be.svg&&($(be,M),$(we,V),$(we,H)),!0===Be.svgFilters&&($(be,R),$(we,V),$(we,H)),!0===Be.mathMl&&($(be,D),$(we,B),$(we,H))),e.ADD_TAGS&&(be===_e&&(be=L(be)),$(be,e.ADD_TAGS,ot)),e.ADD_ATTR&&(we===Ee&&(we=L(we)),$(we,e.ADD_ATTR,ot)),e.ADD_URI_SAFE_ATTR&&$(Ke,e.ADD_URI_SAFE_ATTR,ot),e.FORBID_CONTENTS&&(He===We&&(He=L(He)),$(He,e.FORBID_CONTENTS,ot)),Fe&&(be["#text"]=!0),Ce&&$(be,["html","head","body"]),be.table&&($(be,["tbody"]),delete ke.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw T('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw T('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ne=e.TRUSTED_TYPES_POLICY,se=ne.createHTML("")}else void 0===ne&&(ne=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const s="data-tt-policy-suffix";t&&t.hasAttribute(s)&&(n=t.getAttribute(s));const a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+a+" could not be created."),null}}(z,r)),null!==ne&&"string"==typeof se&&(se=ne.createHTML(""));l&&l(e),lt=e}},mt=$({},[...M,...R,...P]),pt=$({},[...D,...U]),dt=function(e){f(n.removed,{element:e});try{Q(e).removeChild(e)}catch(t){q(e)}},gt=function(e,t){try{f(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){f(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(Re||Pe)try{dt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},ft=function(e){let t=null,n=null;if(Me)e="<remove></remove>"+e;else{const t=_(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===it&&Je===Ze&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const s=ne?ne.createHTML(e):e;if(Je===Ze)try{t=(new W).parseFromString(s,it)}catch(e){}if(!t||!t.documentElement){t=ae.createDocument(Je,"template",null);try{t.documentElement.innerHTML=Qe?se:s}catch(e){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(a.createTextNode(n),i.childNodes[0]||null),Je===Ze?oe.call(t,Ce?"html":"body")[0]:Ce?t.documentElement:i},yt=function(e){return ie.call(e.ownerDocument||e,e,A.SHOW_ELEMENT|A.SHOW_COMMENT|A.SHOW_TEXT|A.SHOW_PROCESSING_INSTRUCTION|A.SHOW_CDATA_SECTION,null)},vt=function(e){return e instanceof N&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof I)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},bt=function(e){return"function"==typeof h&&e instanceof h};function _t(e,t,s){p(e,(e=>{e.call(n,t,s,lt)}))}const wt=function(e){let t=null;if(_t(ce.beforeSanitizeElements,e,null),vt(e))return dt(e),!0;const s=ot(e.nodeName);if(_t(ce.uponSanitizeElement,e,{tagName:s,allowedTags:be}),e.hasChildNodes()&&!bt(e.firstElementChild)&&x(/<[/\w!]/g,e.innerHTML)&&x(/<[/\w!]/g,e.textContent))return dt(e),!0;if(7===e.nodeType)return dt(e),!0;if(Le&&8===e.nodeType&&x(/<[/\w]/g,e.data))return dt(e),!0;if(!be[s]||ke[s]){if(!ke[s]&&St(s)){if(Se.tagNameCheck instanceof RegExp&&x(Se.tagNameCheck,s))return!1;if(Se.tagNameCheck instanceof Function&&Se.tagNameCheck(s))return!1}if(Fe&&!He[s]){const t=Q(e)||e.parentNode,n=Z(e)||e.childNodes;if(n&&t)for(let s=n.length-1;s>=0;--s){const a=K(n[s],!0);a.__removalCount=(e.__removalCount||0)+1,t.insertBefore(a,Y(e))}}return dt(e),!0}return e instanceof m&&!function(e){let t=Q(e);t&&t.tagName||(t={namespaceURI:Je,tagName:"template"});const n=v(e.tagName),s=v(t.tagName);return!!et[e.namespaceURI]&&(e.namespaceURI===Ye?t.namespaceURI===Ze?"svg"===n:t.namespaceURI===Xe?"svg"===n&&("annotation-xml"===s||nt[s]):Boolean(mt[n]):e.namespaceURI===Xe?t.namespaceURI===Ze?"math"===n:t.namespaceURI===Ye?"math"===n&&st[s]:Boolean(pt[n]):e.namespaceURI===Ze?!(t.namespaceURI===Ye&&!st[s])&&!(t.namespaceURI===Xe&&!nt[s])&&!pt[n]&&(at[n]||!mt[n]):!("application/xhtml+xml"!==it||!et[e.namespaceURI]))}(e)?(dt(e),!0):"noscript"!==s&&"noembed"!==s&&"noframes"!==s||!x(/<\/no(script|embed|frames)/i,e.innerHTML)?(Ne&&3===e.nodeType&&(t=e.textContent,p([ue,he,me],(e=>{t=w(t,e," ")})),e.textContent!==t&&(f(n.removed,{element:e.cloneNode()}),e.textContent=t)),_t(ce.afterSanitizeElements,e,null),!1):(dt(e),!0)},Et=function(e,t,n){if(Ue&&("id"===t||"name"===t)&&(n in a||n in ct))return!1;if(Ae&&!xe[t]&&x(pe,t));else if(Te&&x(de,t));else if(!we[t]||xe[t]){if(!(St(e)&&(Se.tagNameCheck instanceof RegExp&&x(Se.tagNameCheck,e)||Se.tagNameCheck instanceof Function&&Se.tagNameCheck(e))&&(Se.attributeNameCheck instanceof RegExp&&x(Se.attributeNameCheck,t)||Se.attributeNameCheck instanceof Function&&Se.attributeNameCheck(t))||"is"===t&&Se.allowCustomizedBuiltInElements&&(Se.tagNameCheck instanceof RegExp&&x(Se.tagNameCheck,n)||Se.tagNameCheck instanceof Function&&Se.tagNameCheck(n))))return!1}else if(Ke[t]);else if(x(ve,w(n,fe,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==E(n,"data:")||!ze[e])if(Ie&&!x(ge,w(n,fe,"")));else if(n)return!1;return!0},St=function(e){return"annotation-xml"!==e&&_(e,ye)},kt=function(e){_t(ce.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||vt(e))return;const s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:we,forceKeepAttr:void 0};let a=t.length;for(;a--;){const i=t[a],{name:r,namespaceURI:o,value:l}=i,c=ot(r);let u="value"===r?l:S(l);if(s.attrName=c,s.attrValue=u,s.keepAttr=!0,s.forceKeepAttr=void 0,_t(ce.uponSanitizeAttribute,e,s),u=s.attrValue,!je||"id"!==c&&"name"!==c||(gt(r,e),u="user-content-"+u),Le&&x(/((--!?|])>)|<\/(style|title)/i,u)){gt(r,e);continue}if(s.forceKeepAttr)continue;if(gt(r,e),!s.keepAttr)continue;if(!$e&&x(/\/>/i,u)){gt(r,e);continue}Ne&&p([ue,he,me],(e=>{u=w(u,e," ")}));const h=ot(e.nodeName);if(Et(h,c,u)){if(ne&&"object"==typeof z&&"function"==typeof z.getAttributeType)if(o);else switch(z.getAttributeType(h,c)){case"TrustedHTML":u=ne.createHTML(u);break;case"TrustedScriptURL":u=ne.createScriptURL(u)}try{o?e.setAttributeNS(o,r,u):e.setAttribute(r,u),vt(e)?dt(e):g(n.removed)}catch(e){}}}_t(ce.afterSanitizeAttributes,e,null)},xt=function e(t){let n=null;const s=yt(t);for(_t(ce.beforeSanitizeShadowDOM,t,null);n=s.nextNode();)_t(ce.uponSanitizeShadowNode,n,null),wt(n),kt(n),n.content instanceof o&&e(n.content);_t(ce.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=null,a=null,r=null,l=null;if(Qe=!e,Qe&&(e="\x3c!--\x3e"),"string"!=typeof e&&!bt(e)){if("function"!=typeof e.toString)throw T("toString is not a function");if("string"!=typeof(e=e.toString()))throw T("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Oe||ht(t),n.removed=[],"string"==typeof e&&(Ve=!1),Ve){if(e.nodeName){const t=ot(e.nodeName);if(!be[t]||ke[t])throw T("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof h)s=ft("\x3c!----\x3e"),a=s.ownerDocument.importNode(e,!0),1===a.nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?s=a:s.appendChild(a);else{if(!Re&&!Ne&&!Ce&&-1===e.indexOf("<"))return ne&&De?ne.createHTML(e):e;if(s=ft(e),!s)return Re?null:De?se:""}s&&Me&&dt(s.firstChild);const c=yt(Ve?e:s);for(;r=c.nextNode();)wt(r),kt(r),r.content instanceof o&&xt(r.content);if(Ve)return e;if(Re){if(Pe)for(l=re.call(s.ownerDocument);s.firstChild;)l.appendChild(s.firstChild);else l=s;return(we.shadowroot||we.shadowrootmode)&&(l=le.call(i,l,!0)),l}let u=Ce?s.outerHTML:s.innerHTML;return Ce&&be["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&x(J,s.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+s.ownerDocument.doctype.name+">\n"+u),Ne&&p([ue,he,me],(e=>{u=w(u,e," ")})),ne&&De?ne.createHTML(u):u},n.setConfig=function(){ht(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Oe=!0},n.clearConfig=function(){lt=null,Oe=!1},n.isValidAttribute=function(e,t,n){lt||ht({});const s=ot(e),a=ot(t);return Et(s,a,n)},n.addHook=function(e,t){"function"==typeof t&&f(ce[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=d(ce[e],t);return-1===n?void 0:y(ce[e],n,1)[0]}return g(ce[e])},n.removeHooks=function(e){ce[e]=[]},n.removeAllHooks=function(){ce={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}()},52163:e=>{"use strict";e.exports=JSON.parse('[{"key":"Crunchyroll","name":"Crunchyroll","domain":"https://www.crunchyroll.com","database":"Crunchyroll","search":{"anime":"https://www.crunchyroll.com/search?q={searchtermPlus}","manga":null}},{"key":"Mangadex","name":"Mangadex","domain":"https://www.mangadex.org","database":"Mangadex","search":{"anime":null,"manga":"https://mangadex.org/titles?q={searchterm}"}},{"key":"Gogoanime","name":"Gogoanime","domain":"https://gogoanime.tv","database":"Gogoanime","search":{"anime":"https://anitaku.pe/search.html?keyword={searchterm}","manga":null}},{"key":"TurkAnime","name":"TurkAnime","domain":"https://www.turkanime.co","database":null,"search":{"anime":"home","manga":null}},{"key":"animepahe","name":"animepahe","domain":"https://animepahe.com","database":"animepahe","search":{"anime":"home","manga":null}},{"key":"Netflix","name":"Netflix","domain":"https://www.netflix.com","database":"Netflix","search":{"anime":"https://www.netflix.com/search?q={searchterm}","manga":null}},{"key":"Animeflv","name":"Animeflv","domain":"https://animeflv.net","database":null,"search":{"anime":"https://www3.animeflv.net/browse?q={searchtermPlus}","manga":null}},{"key":"Jkanime","name":"Jkanime","domain":"https://jkanime.net","database":null,"search":{"anime":"https://jkanime.net/buscar/{searchterm}","manga":null}},{"key":"Proxer","name":"Proxer","domain":"https://proxer.me","database":null,"search":{"anime":"https://proxer.me/search?s=search&name={searchterm}&typ=all-anime&tags=&notags=#top","manga":"https://proxer.me/search?s=search&name={searchterm}&typ=all-manga&tags=&notags=#top"}},{"key":"Emby","name":"Emby","domain":"http://app.emby.media","database":null,"search":{"anime":"home","manga":null}},{"key":"Plex","name":"Plex","domain":"http://app.plex.tv","database":null,"search":{"anime":"home","manga":null}},{"key":"Aniflix","name":"Aniflix","domain":"https://aniflix.cc","database":null,"search":{"anime":"home","manga":null}},{"key":"KickAssAnime","name":"KickAssAnime","domain":"https://kickassanime.am","database":"KickAssAnime","search":{"anime":"https://kaas.am/search?q={searchterm}","manga":null}},{"key":"Shinden","name":"Shinden","domain":"https://shinden.pl","database":null,"search":{"anime":"https://shinden.pl/series?search={searchtermPlus}","manga":null}},{"key":"Voiranime","name":"Voiranime","domain":"https://voiranime.com","database":null,"search":{"anime":"https://voiranime.com/?s={searchtermPlus}","manga":null}},{"key":"VIZ","name":"VIZ","domain":"https://www.viz.com","database":"VIZ","search":{"anime":null,"manga":"https://www.viz.com/search?search={searchtermPlus}"}},{"key":"AnimeOdcinki","name":"AnimeOdcinki","domain":"https://anime-odcinki.pl","database":null,"search":{"anime":"https://anime-odcinki.pl/szukaj/{searchtermPlus}","manga":null}},{"key":"AnimeZone","name":"AnimeZone","domain":"https://www.animezone.pl","database":null,"search":{"anime":"https://www.animezone.pl/szukaj?q={searchtermPlus}","manga":null}},{"key":"serimanga","name":"serimanga","domain":"https://serimanga.com","database":null,"search":{"anime":null,"manga":"https://serimanga.com/mangalar?search={searchtermPlus}"}},{"key":"mangadenizi","name":"mangadenizi","domain":"https://www.mangadenizi.net","database":null,"search":{"anime":null,"manga":"home"}},{"key":"moeclip","name":"moeclip","domain":"https://moeclip.com","database":null,"search":{"anime":"https://moeclip.com/search/{searchtermPlus}","manga":null}},{"key":"mangalivre","name":"Mang Livre","domain":"https://mangalivre.net","database":null,"search":{"anime":null,"manga":"home"}},{"key":"tmofans","name":"tmofans","domain":"https://zonatmo.com","database":null,"search":{"anime":null,"manga":"https://zonatmo.com/library?_pg=1&title={searchtermPlus}"}},{"key":"MangaPlus","name":"MangaPlus","domain":"https://mangaplus.shueisha.co.jp","database":"MangaPlus","search":{"anime":null,"manga":"https://mangaplus.shueisha.co.jp/search_result?keyword={searchterm}"}},{"key":"JapScan","name":"JapScan","domain":"https://www.japscan.ws","database":null,"search":{"anime":null,"manga":"home"}},{"key":"Hulu","name":"Hulu","domain":"https://www.hulu.com","database":"Hulu","search":{"anime":"home","manga":null}},{"key":"Hidive","name":"Hidive","domain":"https://www.hidive.com","database":"Hidive","search":{"anime":"https://www.hidive.com/search?q={searchtermPlus}","manga":null}},{"key":"MangaKatana","name":"MangaKatana","domain":"http://mangakatana.com","database":null,"search":{"anime":null,"manga":"http://mangakatana.com/?search={searchtermPlus}&search_by=book_name"}},{"key":"manga4life","name":"manga4life","domain":"https://manga4life.com","database":null,"search":{"anime":null,"manga":"https://manga4life.com/search/?name={searchterm}"}},{"key":"bato","name":"bato","domain":"https://bato.to","database":null,"search":{"anime":null,"manga":"https://bato.to/search?word={searchtermPlus}"}},{"key":"MangaPark","name":"MangaPark","domain":"https://mangapark.net","database":null,"search":{"anime":null,"manga":"https://mangapark.net/search?word={searchterm}"}},{"key":"AnimeXin","name":"AnimeXin","domain":"https://animexin.vip","database":null,"search":{"anime":"https://animexin.vip/?s={searchtermPlus}","manga":null}},{"key":"MonosChinos","name":"MonosChinos","domain":"https://monoschinos2.com","database":null,"search":{"anime":"https://monoschinos2.com/buscar?q={searchtermPlus}","manga":null}},{"key":"Anime365","name":"Anime365","domain":"https://smotret-anime.org","database":null,"search":{"anime":"https://smotret-anime.net/catalog/search?q={searchtermPlus}","manga":null}},{"key":"AnimeFire","name":"AnimeFire","domain":"https://animefire.net","database":null,"search":{"anime":"home","manga":null}},{"key":"OtakuFR","name":"OtakuFR","domain":"https://otakufr.cc","database":null,"search":{"anime":"https://otakufr.cc/toute-la-liste-affiches/?q={searchtermPlus}","manga":null}},{"key":"mangatx","name":"mangatx","domain":"https://mangatx.com","database":null,"search":{"anime":null,"manga":"https://mangatx.com/?s={searchtermPlus}&post_type=wp-manga&post_type=wp-manga"}},{"key":"manhuafast","name":"manhuafast","domain":"https://manhuafast.com","database":null,"search":{"anime":null,"manga":"https://manhuafast.com/?s={searchtermPlus}&post_type=wp-manga&post_type=wp-manga"}},{"key":"TRanimeizle","name":"TRanimeizle","domain":"https://www.tranimeizle.net/","database":null,"search":{"anime":"home","manga":null}},{"key":"AnimeStreamingFR","name":"AnimeStreamingFR","domain":"https://beta.animestreamingfr.fr","database":null,"search":{"anime":"https://beta.animestreamingfr.fr/catalogue/search?query={searchtermPlus}","manga":null}},{"key":"Furyosociety","name":"Furyosociety","domain":"https://furyosociety.com/","database":null,"search":{"anime":null,"manga":"home"}},{"key":"AnimeId","name":"AnimeId","domain":"https://www.animeid.tv","database":null,"search":{"anime":"home","manga":null}},{"key":"MyAnimeListVideo","name":"MyAnimeList","domain":"https://myanimelist.net","database":null,"search":{"anime":"https://myanimelist.net/anime.php?q={searchterm}","manga":"https://myanimelist.net/manga.php?q={searchterm}"}},{"key":"AnimeUnity","name":"AnimeUnity","domain":"https://animeunity.it","database":null,"search":{"anime":"home","manga":null}},{"key":"MangaHere","name":"MangaHere","domain":"http://www.mangahere.cc","database":null,"search":{"anime":null,"manga":"http://www.mangahere.cc/search?title={searchtermPlus}"}},{"key":"MangaFox","name":"MangaFox","domain":"https://fanfox.net","database":"MangaFox","search":{"anime":null,"manga":"http://fanfox.net/search?title={searchtermPlus}"}},{"key":"DesuOnline","name":"DesuOnline","domain":"https://desu-online.pl","database":null,"search":{"anime":"https://desu-online.pl/?s={searchtermPlus}","manga":null}},{"key":"WuxiaWorld","name":"WuxiaWorld","domain":"https://wuxiaworld.site","database":null,"search":{"anime":null,"manga":"https://wuxiaworld.site/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"LeviatanScans","name":"LeviatanScans","domain":"https://lscomic.com","database":null,"search":{"anime":null,"manga":"https://lscomic.com/?s={searchtermPlus}"}},{"key":"ReaperScans","name":"ReaperScans","domain":"https://reaperscans.com","database":null,"search":{"anime":null,"manga":"home"}},{"key":"LynxScans","name":"LynxScans","domain":"https://lynxscans.com","database":null,"search":{"anime":null,"manga":"https://lynxscans.com/comics?query={searchtermPlus}"}},{"key":"ZeroScans","name":"ZeroScans","domain":"https://zeroscans.com","database":null,"search":{"anime":null,"manga":"home"}},{"key":"DeathTollScans","name":"DeathTollScans","domain":"https://reader.deathtollscans.net","database":null,"search":{"anime":null,"manga":"home"}},{"key":"ManhuaPlus","name":"ManhuaPlus","domain":"https://manhuaplus.com","database":null,"search":{"anime":null,"manga":"https://manhuaplus.com/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"Readm","name":"Readm","domain":"https://readm.today","database":null,"search":{"anime":null,"manga":"home"}},{"key":"tioanime","name":"tioanime","domain":"https://tioanime.com","database":null,"search":{"anime":"https://tioanime.com/directorio?q={searchtermPlus}","manga":null}},{"key":"MangaSee","name":"MangaSee","domain":"https://mangasee123.com","database":"MangaSee","search":{"anime":null,"manga":"https://mangasee123.com/search/?name={searchterm}"}},{"key":"Okanime","name":"Okanime","domain":"https://okanime.tv","database":null,"search":{"anime":"https://okanime.tv/search?search={searchtermPlus}","manga":null}},{"key":"BSTO","name":"bs.to","domain":"https://bs.to","database":null,"search":{"anime":"home","manga":null}},{"key":"AsuraScans","name":"AsuraScans","domain":"https://asuratoon.com","database":null,"search":{"anime":null,"manga":"https://asuracomics.com/?s={searchtermPlus}"}},{"key":"Jellyfin","name":"Jellyfin","domain":"https://jellyfin.org/","database":null,"search":{"anime":"home","manga":null}},{"key":"An1me","name":"An1me","domain":"https://an1me.to","database":null,"search":{"anime":"https://an1me.to/?s={searchtermPlus}&post_type=wp-manga","manga":null}},{"key":"MangaJar","name":"MangaJar","domain":"https://mangajar.pro","database":null,"search":{"anime":null,"manga":"https://mangajar.pro/search?q={searchtermPlus}"}},{"key":"Otakustv","name":"Otakustv","domain":"https://www.otakustv.com","database":null,"search":{"anime":"https://www.otakustv.com/buscador.php?buscador={searchterm}","manga":null}},{"key":"Komga","name":"Komga","domain":"https://komga.org","database":null,"search":{"anime":null,"manga":"home"}},{"key":"AnimeWho","name":"AnimeWho","domain":"https://animewho.com","database":null,"search":{"anime":"home","manga":null}},{"key":"Fumetsu","name":"Fumetsu","domain":"https://fumetsu.pl","database":null,"search":{"anime":"home","manga":null}},{"key":"FrixySubs","name":"FrixySubs","domain":"https://frixysubs.pl","database":null,"search":{"anime":"https://frixysubs.pl/anime-list?search={searchtermPlus}","manga":null}},{"key":"Guya","name":"Guya & Cubari","domain":"https://guya.moe","database":null,"search":{"anime":null,"manga":"home"}},{"key":"MangaHub","name":"MangaHub","domain":"https://mangahub.io","database":null,"search":{"anime":null,"manga":"https://mangahub.io/search?q={searchterm}"}},{"key":"ComicK","name":"ComicK","domain":"https://comick.io","database":"Comick","search":{"anime":null,"manga":"https://comick.io/search?q={searchterm}"}},{"key":"Bentomanga","name":"Bentomanga","domain":"https://bentomanga.com","database":null,"search":{"anime":null,"manga":"https://www.bentomanga.com/manga_list?search={searchterm}"}},{"key":"MangaSushi","name":"MangaSushi","domain":"https://mangasushi.net","database":null,"search":{"anime":null,"manga":"https://mangasushi.net/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"TritiniaScans","name":"TritiniaScans","domain":"https://tritinia.com","database":null,"search":{"anime":null,"manga":"https://tritinia.com/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"ReadManhua","name":"ReadManhua","domain":"https://readmanhua.net","database":null,"search":{"anime":null,"manga":"https://readmanhua.net/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"FlameScans","name":"FlameScans","domain":"https://flamecomics.xyz","database":null,"search":{"anime":null,"manga":"https://flamecomics.xyz/browse?search={searchterm}"}},{"key":"ImmortalUpdates","name":"ImmortalUpdates","domain":"https://immortalupdates.com","database":null,"search":{"anime":null,"manga":"https://immortalupdates.com/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"Zoro","name":"HiAnime","domain":"https://hianime.to","database":"Zoro","search":{"anime":"https://hianime.to/search?keyword={searchtermPlus}","manga":null}},{"key":"Kitsune","name":"Kitsune","domain":"https://beta.kitsune.tv","database":null,"search":{"anime":"https://kitsune.tv/shows?q={searchterm}","manga":null}},{"key":"LHTranslation","name":"LHTranslation","domain":"https://lhtranslation.net","database":null,"search":{"anime":null,"manga":"https://lhtranslation.net/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"MangasOrigines","name":"MangasOrigines","domain":"https://mangas-origines.fr/","database":null,"search":{"anime":null,"manga":"https://mangas-origines.fr/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"BlueSolo","name":"BlueSolo","domain":"https://www.bluesolo.org","database":null,"search":{"anime":null,"manga":"home"}},{"key":"DisasterScans","name":"DisasterScans","domain":"https://disasterscans.com","database":null,"search":{"anime":null,"manga":"https://disasterscans.com/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"DynastyScans","name":"DynastyScans","domain":"https://dynasty-scans.com","database":null,"search":{"anime":null,"manga":"https://dynasty-scans.com/search?q={searchtermPlus}"}},{"key":"Aniworld","name":"Aniworld","domain":"https://aniworld.to","database":null,"search":{"anime":"https://aniworld.to/search?q={searchterm}","manga":null}},{"key":"BetterAnime","name":"BetterAnime","domain":"https://betteranime.net","database":null,"search":{"anime":"https://betteranime.net/pesquisa?titulo={searchtermPlus}","manga":null}},{"key":"BilibiliComics","name":"BilibiliComics","domain":"https://manga.bilibili.com","database":null,"search":{"anime":null,"manga":"https://manga.bilibili.com/search?keyword={searchterm( )[noLowercase]}"}},{"key":"MangaReader","name":"MangaReader","domain":"https://mangareader.to","database":"MangaReader","search":{"anime":null,"manga":"https://mangareader.to/search?keyword={searchtermPlus}"}},{"key":"AnimeOnsen","name":"AnimeOnsen","domain":"https://animeonsen.xyz","database":null,"search":{"anime":"https://www.animeonsen.xyz/search/{searchterm}","manga":null}},{"key":"Animetoast","name":"Animetoast","domain":"https://www.animetoast.cc","database":null,"search":{"anime":"https://www.animetoast.cc/?s={searchterm}","manga":null}},{"key":"LuminousScans","name":"LuminousScans","domain":"https://luminous-scans.com","database":null,"search":{"anime":null,"manga":"https://luminous-scans.com/?s={searchtermPlus}"}},{"key":"Animeworld","name":"Animeworld","domain":"https://www.animeworld.tv","database":null,"search":{"anime":"home","manga":null}},{"key":"MangaBuddy","name":"MangaBuddy","domain":"https://mangabuddy.com","database":null,"search":{"anime":null,"manga":"https://mangabuddy.com/search?q={searchtermPlus}"}},{"key":"ToonAnime","name":"ToonAnime","domain":"https://vvww.toonanime.cc","database":null,"search":{"anime":"https://vvww.toonanime.cc/?story={searchtermPlus}&do=search&subaction=search","manga":null}},{"key":"ADKami","name":"ADKami","domain":"https://www.adkami.com/","database":null,"search":{"anime":"https://www.adkami.com/video?search={searchtermPlus}","manga":null}},{"key":"Kaguya","name":"Kaguya","domain":"https://kaguya.app","database":null,"search":{"anime":"https://kaguya.app/browse?keyword={searchtermPlus}","manga":null}},{"key":"Hdrezka","name":"Hdrezka","domain":"https://hdrezka.ag","database":null,"search":{"anime":"https://hdrezka.ag/search/?do=search&subaction=search&q={searchterm}","manga":null}},{"key":"SovetRomantica","name":"SovetRomantica","domain":"https://sovetromantica.com","database":null,"search":{"anime":"https://sovetromantica.com/anime?query={searchterm}","manga":null}},{"key":"ADN","name":"ADN","domain":"https://animationdigitalnetwork.com","database":null,"search":{"anime":"https://animationdigitalnetwork.fr/video?search={searchterm}","manga":null}},{"key":"Aniyan","name":"Aniyan","domain":"https://aniyan.net","database":null,"search":{"anime":"https://aniyan.net/?s={searchtermPlus}","manga":null}},{"key":"Docchi","name":"Docchi","domain":"https://docchi.pl","database":null,"search":{"anime":"home","manga":null}},{"key":"FRAnime","name":"FRAnime","domain":"https://franime.fr","database":null,"search":{"anime":"https://franime.fr/recherche?search={searchtermPlus}","manga":null}},{"key":"FMTeam","name":"FMTeam","domain":"https://fmteam.fr","database":null,"search":{"anime":null,"manga":"home"}},{"key":"Animelon","name":"Animelon","domain":"https://www.animelon.com","database":null,"search":{"anime":"https://www.animelon.com/search?searchTerm={searchTerm}","manga":null}},{"key":"AnimeNoSub","name":"AnimeNoSub","domain":"https://animenosub.to","database":null,"search":{"anime":"https://animenosub.to/?s={searchtermPlus}","manga":null}},{"key":"AnimeSama","name":"AnimeSama","domain":"https://anime-sama.fr","database":null,"search":{"anime":"https://anime-sama.fr/catalogue/","manga":null}},{"key":"MangaFire","name":"MangaFire","domain":"https://mangafire.to","database":"MangaFire","search":{"anime":null,"manga":"https://mangafire.to/filter?keyword={searchtermPlus}"}},{"key":"projectsuki","name":"projectsuki","domain":"https://projectsuki.com","database":null,"search":{"anime":null,"manga":"https://projectsuki.com/search?q={searchtermPlus}"}},{"key":"AnimeBuff","name":"AnimeBuff","domain":"https://animebuff.ru","database":null,"search":{"anime":"https://animebuff.ru/search?q={searchtermPlus}","manga":null}},{"key":"AnimeOnegai","name":"AnimeOnegai","domain":"https://www.animeonegai.com","database":null,"search":{"anime":"https://www.animeonegai.com/es/search?q={searchterm}","manga":null}},{"key":"AnimeKO","name":"AnimeKO","domain":"https://animeko.co","database":null,"search":{"anime":"https://animeko.co/anime?search={searchtermPlus}","manga":null}},{"key":"AnimeGO","name":"AnimeGO","domain":"https://animego.org","database":null,"search":{"anime":"https://animego.org/search/all?q={searchterm}","manga":null}},{"key":"LuciferDonghua","name":"Lucifer Donghua","domain":"https://luciferdonghua.in","database":null,"search":{"anime":"https://luciferdonghua.in/?s={searchterm}","manga":null}},{"key":"NeoxScans","name":"NeoxScans","domain":"https://neoxscans.com/","database":null,"search":{"anime":null,"manga":"https://neoxscans.com/?post_type=wp-manga&s={searchtermPlus}"}},{"key":"HinataSoul","name":"HinataSoul","domain":"https://hinatasoul.com","database":null,"search":{"anime":"https://www.hinatasoul.com/busca?busca={searchtermPlus}","manga":null}},{"key":"OgladajAnime","name":"OgladajAnime","domain":"https://ogladajanime.pl","database":null,"search":{"anime":"https://ogladajanime.pl/search/name/{searchtermPlus}","manga":null}},{"key":"hachi","name":"hachi","domain":"https://hachi.moe","database":null,"search":{"anime":null,"manga":"https://hachi.moe/search?query={searchterm}"}},{"key":"WitAnime","name":"WitAnime","domain":"https://witanime.pics","database":null,"search":{"anime":"https://witanime.pics/?search_param=animes&s={searchtermPlus}","manga":null}},{"key":"Suwayomi","name":"Suwayomi","domain":"https://suwayomi-webui-preview.github.io/","database":null,"search":{"anime":null,"manga":"https://suwayomi-webui-preview.github.io/sources/all/search/?query={searchtermPlus}"}},{"key":"ManhuaUS","name":"ManhuaUS","domain":"https://manhuaus.com","database":null,"search":{"anime":null,"manga":"https://manhuaus.com/?s={searchterm}&post_type=wp-manga&op=&author=&artist=&release=&adult="}},{"key":"Taiyo","name":"Taiyo","domain":"https://taiyo.moe","database":null,"search":{"anime":null,"manga":"home"}},{"key":"AnimesOnline","name":"Animes Online","domain":"https://animesonline.in","database":null,"search":{"anime":"https://www.animesonline.in/busca?s={searchtermPlus}","manga":null}},{"key":"Miruro","name":"Miruro","domain":"https://www.miruro.to","database":null,"search":{"anime":"https://www.miruro.tv/search?query={searchterm}&sort=POPULARITY_DESC","manga":null}},{"key":"Latanime","name":"Latanime","domain":"https://latanime.org","database":null,"search":{"anime":"https://latanime.org/buscar?q={searchtermPlus}","manga":null}},{"key":"MangaRead","name":"MangaRead","domain":"https://www.mangaread.org","database":null,"search":{"anime":null,"manga":"https://www.mangaread.org/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"Q1N","name":"Q1N","domain":"https://q1n.net","database":null,"search":{"anime":"https://q1n.net/?s={searchtermPlus}","manga":null}},{"key":"TempleScan","name":"TempleScan","domain":"https://templescan.net","database":null,"search":{"anime":null,"manga":"home"}},{"key":"ScyllaScans","name":"ScyllaScans","domain":"https://scyllacomics.xyz","database":null,"search":{"anime":null,"manga":"home"}},{"key":"VortexScans","name":"VortexScans","domain":"https://vortexscans.org","database":null,"search":{"anime":null,"manga":"home"}},{"key":"WeebCentral","name":"WeebCentral","domain":"https://weebcentral.com","database":"Weebcentral","search":{"anime":null,"manga":"https://weebcentral.com/search?text={searchterm}"}},{"key":"Kavita","name":"Kavita","domain":"https://demo.kavitareader.com","database":null,"search":{"anime":null,"manga":"home"}},{"key":"Rawkuma","name":"Rawkuma","domain":"https://rawkuma.com","database":null,"search":{"anime":null,"manga":"https://rawkuma.com/?s={searchtermPlus}"}},{"key":"Aninexus","name":"Aninexus","domain":"https://aninexus.to","database":null,"search":{"anime":"https://aninexus.to/search/{searchterm}","manga":null}},{"key":"AnimeKAI","name":"AnimeKAI","domain":"https://animekai.to","database":null,"search":{"anime":"https://animekai.to/browser?keyword={searchtermPlus}","manga":null}},{"key":"Hikari","name":"Hikari","domain":"https://watch.hikaritv.xyz","database":null,"search":{"anime":"https://watch.hikaritv.xyz/search?keyword={searchterm}","manga":null}},{"key":"AniDream","name":"AniDream","domain":"https://anidream.cc","database":null,"search":{"anime":"https://anidream.cc/archive/?title={searchtermPlus}","manga":null}}]')}},t={};function n(s){var a=t[s];if(void 0!==a)return a.exports;var i=t[s]={id:s,exports:{}};return e[s](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=n(50953),t=n(90033);function s(e,t,n,s){try{return s?e(...s):e()}catch(e){i(e,t,n)}}function a(e,n,r,o){if((0,t.Tn)(e)){const a=s(e,n,r,o);return a&&(0,t.yL)(a)&&a.catch((e=>{i(e,n,r)})),a}if((0,t.cy)(e)){const t=[];for(let s=0;s<e.length;s++)t.push(a(e[s],n,r,o));return t}}function i(n,a,i,r=!0){a&&a.vnode;const{errorHandler:o,throwUnhandledErrorInProduction:l}=a&&a.appContext.config||t.MZ;if(a){let t=a.parent;const r=a.proxy,l=`https://vuejs.org/error-reference/#runtime-${i}`;for(;t;){const e=t.ec;if(e)for(let t=0;t<e.length;t++)if(!1===e[t](n,r,l))return;t=t.parent}if(o)return(0,e.C4)(),s(o,null,10,[n,r,l]),void(0,e.bl)()}!function(e,t,n,s=!0,a=!1){if(a)throw e;console.error(e)}(n,0,0,r,l)}const r=[];let o=-1;const l=[];let c=null,u=0;const h=Promise.resolve();let m=null;function p(e){const t=m||h;return e?t.then(this?e.bind(this):e):t}function d(e){if(!(1&e.flags)){const t=v(e),n=r[r.length-1];!n||!(2&e.flags)&&t>=v(n)?r.push(e):r.splice(function(e){let t=o+1,n=r.length;for(;t<n;){const s=t+n>>>1,a=r[s],i=v(a);i<e||i===e&&2&a.flags?t=s+1:n=s}return t}(t),0,e),e.flags|=1,g()}}function g(){m||(m=h.then(b))}function f(e,t,n=o+1){for(;n<r.length;n++){const t=r[n];if(t&&2&t.flags){if(e&&t.id!==e.uid)continue;r.splice(n,1),n--,4&t.flags&&(t.flags&=-2),t(),4&t.flags||(t.flags&=-2)}}}function y(e){if(l.length){const e=[...new Set(l)].sort(((e,t)=>v(e)-v(t)));if(l.length=0,c)return void c.push(...e);for(c=e,u=0;u<c.length;u++){const e=c[u];4&e.flags&&(e.flags&=-2),8&e.flags||e(),e.flags&=-2}c=null,u=0}}const v=e=>null==e.id?2&e.flags?-1:1/0:e.id;function b(e){t.tE;try{for(o=0;o<r.length;o++){const e=r[o];!e||8&e.flags||(4&e.flags&&(e.flags&=-2),s(e,e.i,e.i?15:14),4&e.flags||(e.flags&=-2))}}finally{for(;o<r.length;o++){const e=r[o];e&&(e.flags&=-2)}o=-1,r.length=0,y(),m=null,(r.length||l.length)&&b(e)}}let _=null,w=null;function E(e){const t=_;return _=e,w=e&&e.type.__scopeId||null,t}function S(e,t=_,n){if(!t)return e;if(e._n)return e;const s=(...n)=>{s._d&&dt(-1);const a=E(t);let i;try{i=e(...n)}finally{E(a),s._d&&dt(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function k(n,s){if(null===_)return n;const a=zt(_),i=n.dirs||(n.dirs=[]);for(let n=0;n<s.length;n++){let[r,o,l,c=t.MZ]=s[n];r&&((0,t.Tn)(r)&&(r={mounted:r,updated:r}),r.deep&&(0,e.hV)(o),i.push({dir:r,instance:a,value:o,oldValue:void 0,arg:l,modifiers:c}))}return n}function x(t,n,s,i){const r=t.dirs,o=n&&n.dirs;for(let l=0;l<r.length;l++){const c=r[l];o&&(c.oldValue=o[l].value);let u=c.dir[i];u&&((0,e.C4)(),a(u,s,8,[t.el,c,t,n]),(0,e.bl)())}}const T=Symbol("_vte");Symbol("_leaveCb"),Symbol("_enterCb");function A(e,t){6&e.shapeFlag&&e.component?(e.transition=t,A(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function I(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function N(n,a,i,r,o=!1){if((0,t.cy)(n))return void n.forEach(((e,n)=>N(e,a&&((0,t.cy)(a)?a[n]:a),i,r,o)));if(L(r)&&!o)return void(512&r.shapeFlag&&r.type.__asyncResolved&&r.component.subTree.component&&N(n,a,i,r.component.subTree));const l=4&r.shapeFlag?zt(r.component):r.el,c=o?null:l,{i:u,r:h}=n,m=a&&a.r,p=u.refs===t.MZ?u.refs={}:u.refs,d=u.setupState,g=(0,e.ux)(d),f=d===t.MZ?()=>!1:e=>(0,t.$3)(g,e);if(null!=m&&m!==h&&((0,t.Kg)(m)?(p[m]=null,f(m)&&(d[m]=null)):(0,e.i9)(m)&&(m.value=null)),(0,t.Tn)(h))s(h,u,12,[c,p]);else{const s=(0,t.Kg)(h),a=(0,e.i9)(h);if(s||a){const e=()=>{if(n.f){const e=s?f(h)?d[h]:p[h]:h.value;o?(0,t.cy)(e)&&(0,t.TF)(e,l):(0,t.cy)(e)?e.includes(l)||e.push(l):s?(p[h]=[l],f(h)&&(d[h]=p[h])):(h.value=[l],n.k&&(p[n.k]=h.value))}else s?(p[h]=c,f(h)&&(d[h]=c)):a&&(h.value=c,n.k&&(p[n.k]=c))};c?(e.id=-1,Ue(e,i)):e()}}}Boolean,Boolean,(0,t.We)().requestIdleCallback,(0,t.We)().cancelIdleCallback;const L=e=>!!e.type.__asyncLoader,C=e=>e.type.__isKeepAlive;function O(e,t){R(e,"a",t)}function M(e,t){R(e,"da",t)}function R(e,t,n=Ot){const s=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(D(t,s,n),n){let e=n.parent;for(;e&&e.parent;)C(e.parent.vnode)&&P(s,t,n,e),e=e.parent}}function P(e,n,s,a){const i=D(n,e,a,!0);W((()=>{(0,t.TF)(a[n],i)}),s)}function D(t,n,s=Ot,i=!1){if(s){const r=s[t]||(s[t]=[]),o=n.__weh||(n.__weh=(...i)=>{(0,e.C4)();const r=Pt(s),o=a(n,s,t,i);return r(),(0,e.bl)(),o});return i?r.unshift(o):r.push(o),o}}RegExp,RegExp;const U=e=>(t,n=Ot)=>{Vt&&"sp"!==e||D(e,((...e)=>t(...e)),n)},j=U("bm"),F=U("m"),V=U("bu"),B=U("u"),H=U("bum"),W=U("um"),z=U("sp"),G=U("rtg"),K=U("rtc");function q(e,t=Ot){D("ec",e,t)}const X="components";function Y(e,t){return J(X,e,!0,t)||e}const Z=Symbol.for("v-ndc");function J(e,n,s=!0,a=!1){const i=_||Ot;if(i){const s=i.type;if(e===X){const e=function(e,n=!0){return(0,t.Tn)(e)?e.displayName||e.name:e.name||n&&e.__name}(s,!1);if(e&&(e===n||e===(0,t.PT)(n)||e===(0,t.ZH)((0,t.PT)(n))))return s}const r=Q(i[e]||s[e],n)||Q(i.appContext[e],n);return!r&&a?s:r}}function Q(e,n){return e&&(e[n]||e[(0,t.PT)(n)]||e[(0,t.ZH)((0,t.PT)(n))])}function ee(n,s,a,i){let r;const o=a&&a[i],l=(0,t.cy)(n);if(l||(0,t.Kg)(n)){let t=!1;l&&(0,e.g8)(n)&&(t=!(0,e.fE)(n),n=(0,e.qA)(n)),r=new Array(n.length);for(let a=0,i=n.length;a<i;a++)r[a]=s(t?(0,e.lJ)(n[a]):n[a],a,void 0,o&&o[a])}else if("number"==typeof n){r=new Array(n);for(let e=0;e<n;e++)r[e]=s(e+1,e,void 0,o&&o[e])}else if((0,t.Gv)(n))if(n[Symbol.iterator])r=Array.from(n,((e,t)=>s(e,t,void 0,o&&o[t])));else{const e=Object.keys(n);r=new Array(e.length);for(let t=0,a=e.length;t<a;t++){const a=e[t];r[t]=s(n[a],a,t,o&&o[t])}}else r=[];return a&&(a[i]=r),r}function te(e,n,s={},a,i){if(_.ce||_.parent&&L(_.parent)&&_.parent.ce)return"default"!==n&&(s.name=n),mt(),yt(rt,null,[St("slot",s,a&&a())],64);let r=e[n];r&&r._c&&(r._d=!1),mt();const o=r&&ne(r(s)),l=s.key||o&&o.key,c=yt(rt,{key:(l&&!(0,t.Bm)(l)?l:`_${n}`)+(!o&&a?"_fb":"")},o||(a?a():[]),o&&1===e._?64:-2);return!i&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),r&&r._c&&(r._d=!0),c}function ne(e){return e.some((e=>!vt(e)||e.type!==lt&&!(e.type===rt&&!ne(e.children))))?e:null}const se=e=>e?Ut(e)?zt(e):se(e.parent):null,ae=(0,t.X$)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>se(e.parent),$root:e=>se(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>he(e),$forceUpdate:e=>e.f||(e.f=()=>{d(e.update)}),$nextTick:e=>e.n||(e.n=p.bind(e.proxy)),$watch:e=>Xe.bind(e)}),ie=(e,n)=>e!==t.MZ&&!e.__isScriptSetup&&(0,t.$3)(e,n),re={get({_:n},s){if("__v_skip"===s)return!0;const{ctx:a,setupState:i,data:r,props:o,accessCache:l,type:c,appContext:u}=n;let h;if("$"!==s[0]){const e=l[s];if(void 0!==e)switch(e){case 1:return i[s];case 2:return r[s];case 4:return a[s];case 3:return o[s]}else{if(ie(i,s))return l[s]=1,i[s];if(r!==t.MZ&&(0,t.$3)(r,s))return l[s]=2,r[s];if((h=n.propsOptions[0])&&(0,t.$3)(h,s))return l[s]=3,o[s];if(a!==t.MZ&&(0,t.$3)(a,s))return l[s]=4,a[s];le&&(l[s]=0)}}const m=ae[s];let p,d;return m?("$attrs"===s&&(0,e.u4)(n.attrs,"get",""),m(n)):(p=c.__cssModules)&&(p=p[s])?p:a!==t.MZ&&(0,t.$3)(a,s)?(l[s]=4,a[s]):(d=u.config.globalProperties,(0,t.$3)(d,s)?d[s]:void 0)},set({_:e},n,s){const{data:a,setupState:i,ctx:r}=e;return ie(i,n)?(i[n]=s,!0):a!==t.MZ&&(0,t.$3)(a,n)?(a[n]=s,!0):!((0,t.$3)(e.props,n)||"$"===n[0]&&n.slice(1)in e||(r[n]=s,0))},has({_:{data:e,setupState:n,accessCache:s,ctx:a,appContext:i,propsOptions:r}},o){let l;return!!s[o]||e!==t.MZ&&(0,t.$3)(e,o)||ie(n,o)||(l=r[0])&&(0,t.$3)(l,o)||(0,t.$3)(a,o)||(0,t.$3)(ae,o)||(0,t.$3)(i.config.globalProperties,o)},defineProperty(e,n,s){return null!=s.get?e._.accessCache[n]=0:(0,t.$3)(s,"value")&&this.set(e,n,s.value,null),Reflect.defineProperty(e,n,s)}};function oe(e){return(0,t.cy)(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}let le=!0;function ce(e,n,s){a((0,t.cy)(e)?e.map((e=>e.bind(n.proxy))):e.bind(n.proxy),n,s)}function ue(e,n,s,a){let i=a.includes(".")?Ye(s,a):()=>s[a];if((0,t.Kg)(e)){const s=n[e];(0,t.Tn)(s)&&Ke(i,s)}else if((0,t.Tn)(e))Ke(i,e.bind(s));else if((0,t.Gv)(e))if((0,t.cy)(e))e.forEach((e=>ue(e,n,s,a)));else{const a=(0,t.Tn)(e.handler)?e.handler.bind(s):n[e.handler];(0,t.Tn)(a)&&Ke(i,a,e)}}function he(e){const n=e.type,{mixins:s,extends:a}=n,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,l=r.get(n);let c;return l?c=l:i.length||s||a?(c={},i.length&&i.forEach((e=>me(c,e,o,!0))),me(c,n,o)):c=n,(0,t.Gv)(n)&&r.set(n,c),c}function me(e,t,n,s=!1){const{mixins:a,extends:i}=t;i&&me(e,i,n,!0),a&&a.forEach((t=>me(e,t,n,!0)));for(const a in t)if(s&&"expose"===a);else{const s=pe[a]||n&&n[a];e[a]=s?s(e[a],t[a]):t[a]}return e}const pe={data:de,props:ve,emits:ve,methods:ye,computed:ye,beforeCreate:fe,created:fe,beforeMount:fe,mounted:fe,beforeUpdate:fe,updated:fe,beforeDestroy:fe,beforeUnmount:fe,destroyed:fe,unmounted:fe,activated:fe,deactivated:fe,errorCaptured:fe,serverPrefetch:fe,components:ye,directives:ye,watch:function(e,n){if(!e)return n;if(!n)return e;const s=(0,t.X$)(Object.create(null),e);for(const t in n)s[t]=fe(e[t],n[t]);return s},provide:de,inject:function(e,t){return ye(ge(e),ge(t))}};function de(e,n){return n?e?function(){return(0,t.X$)((0,t.Tn)(e)?e.call(this,this):e,(0,t.Tn)(n)?n.call(this,this):n)}:n:e}function ge(e){if((0,t.cy)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function fe(e,t){return e?[...new Set([].concat(e,t))]:t}function ye(e,n){return e?(0,t.X$)(Object.create(null),e,n):n}function ve(e,n){return e?(0,t.cy)(e)&&(0,t.cy)(n)?[...new Set([...e,...n])]:(0,t.X$)(Object.create(null),oe(e),oe(null!=n?n:{})):n}function be(){return{app:null,config:{isNativeTag:t.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _e=0;function we(e,n){return function(s,i=null){(0,t.Tn)(s)||(s=(0,t.X$)({},s)),null==i||(0,t.Gv)(i)||(i=null);const r=be(),o=new WeakSet,l=[];let c=!1;const u=r.app={_uid:_e++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:Kt,get config(){return r.config},set config(e){},use:(e,...n)=>(o.has(e)||(e&&(0,t.Tn)(e.install)?(o.add(e),e.install(u,...n)):(0,t.Tn)(e)&&(o.add(e),e(u,...n))),u),mixin:e=>(r.mixins.includes(e)||r.mixins.push(e),u),component:(e,t)=>t?(r.components[e]=t,u):r.components[e],directive:(e,t)=>t?(r.directives[e]=t,u):r.directives[e],mount(t,a,o){if(!c){const l=u._ceVNode||St(s,i);return l.appContext=r,!0===o?o="svg":!1===o&&(o=void 0),a&&n?n(l,t):e(l,t,o),c=!0,u._container=t,t.__vue_app__=u,zt(l.component)}},onUnmount(e){l.push(e)},unmount(){c&&(a(l,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide:(e,t)=>(r.provides[e]=t,u),runWithContext(e){const t=Ee;Ee=u;try{return e()}finally{Ee=t}}};return u}}let Ee=null;function Se(e,n,s=!1){const a=Ot||_;if(a||Ee){const i=Ee?Ee._context.provides:a?null==a.parent?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return s&&(0,t.Tn)(n)?n.call(a&&a.proxy):n}}const ke={},xe=()=>Object.create(ke),Te=e=>Object.getPrototypeOf(e)===ke;function Ae(n,s,a,i){const[r,o]=n.propsOptions;let l,c=!1;if(s)for(let e in s){if((0,t.SU)(e))continue;const u=s[e];let h;r&&(0,t.$3)(r,h=(0,t.PT)(e))?o&&o.includes(h)?(l||(l={}))[h]=u:a[h]=u:et(n.emitsOptions,e)||e in i&&u===i[e]||(i[e]=u,c=!0)}if(o){const s=(0,e.ux)(a),i=l||t.MZ;for(let e=0;e<o.length;e++){const l=o[e];a[l]=Ie(r,s,l,i[l],n,!(0,t.$3)(i,l))}}return c}function Ie(e,n,s,a,i,r){const o=e[s];if(null!=o){const e=(0,t.$3)(o,"default");if(e&&void 0===a){const e=o.default;if(o.type!==Function&&!o.skipFactory&&(0,t.Tn)(e)){const{propsDefaults:t}=i;if(s in t)a=t[s];else{const r=Pt(i);a=t[s]=e.call(null,n),r()}}else a=e;i.ce&&i.ce._setProp(s,a)}o[0]&&(r&&!e?a=!1:!o[1]||""!==a&&a!==(0,t.Tg)(s)||(a=!0))}return a}const $e=new WeakMap;function Ne(e,n,s=!1){const a=s?$e:n.propsCache,i=a.get(e);if(i)return i;const r=e.props,o={},l=[];let c=!1;if(!(0,t.Tn)(e)){const a=e=>{c=!0;const[s,a]=Ne(e,n,!0);(0,t.X$)(o,s),a&&l.push(...a)};!s&&n.mixins.length&&n.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}if(!r&&!c)return(0,t.Gv)(e)&&a.set(e,t.Oj),t.Oj;if((0,t.cy)(r))for(let e=0;e<r.length;e++){const n=(0,t.PT)(r[e]);Le(n)&&(o[n]=t.MZ)}else if(r)for(const e in r){const n=(0,t.PT)(e);if(Le(n)){const s=r[e],a=o[n]=(0,t.cy)(s)||(0,t.Tn)(s)?{type:s}:(0,t.X$)({},s),i=a.type;let c=!1,u=!0;if((0,t.cy)(i))for(let e=0;e<i.length;++e){const n=i[e],s=(0,t.Tn)(n)&&n.name;if("Boolean"===s){c=!0;break}"String"===s&&(u=!1)}else c=(0,t.Tn)(i)&&"Boolean"===i.name;a[0]=c,a[1]=u,(c||(0,t.$3)(a,"default"))&&l.push(n)}}const u=[o,l];return(0,t.Gv)(e)&&a.set(e,u),u}function Le(e){return"$"!==e[0]&&!(0,t.SU)(e)}const Ce=e=>"_"===e[0]||"$stable"===e,Oe=e=>(0,t.cy)(e)?e.map(At):[At(e)],Me=(e,t,n)=>{if(t._n)return t;const s=S(((...e)=>Oe(t(...e))),n);return s._c=!1,s},Re=(e,n,s)=>{const a=e._ctx;for(const s in e){if(Ce(s))continue;const i=e[s];if((0,t.Tn)(i))n[s]=Me(0,i,a);else if(null!=i){const e=Oe(i);n[s]=()=>e}}},Pe=(e,t)=>{const n=Oe(t);e.slots.default=()=>n},De=(e,t,n)=>{for(const s in t)(n||"_"!==s)&&(e[s]=t[s])},Ue=function(e,n){n&&n.pendingBranch?(0,t.cy)(e)?n.effects.push(...e):n.effects.push(e):(s=e,(0,t.cy)(s)?l.push(...s):c&&-1===s.id?c.splice(u+1,0,s):1&s.flags||(l.push(s),s.flags|=1),g());var s};function je(n,a){"boolean"!=typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&((0,t.We)().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1),(0,t.We)().__VUE__=!0;const{insert:r,remove:o,patchProp:l,createElement:c,createText:u,createComment:h,setText:m,setElementText:p,parentNode:g,nextSibling:v,setScopeId:b=t.tE,insertStaticContent:_}=n,w=(e,t,n,s=null,a=null,i=null,r=void 0,o=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!bt(e,t)&&(s=Q(e),q(e,a,i,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:h}=t;switch(c){case ot:E(e,t,n,s);break;case lt:S(e,t,n,s);break;case ct:null==e&&k(t,n,s,r);break;case rt:U(e,t,n,s,a,i,r,o,l);break;default:1&h?A(e,t,n,s,a,i,r,o,l):6&h?j(e,t,n,s,a,i,r,o,l):(64&h||128&h)&&c.process(e,t,n,s,a,i,r,o,l,ne)}null!=u&&a&&N(u,e&&e.ref,i,t||e,!t)},E=(e,t,n,s)=>{if(null==e)r(t.el=u(t.children),n,s);else{const n=t.el=e.el;t.children!==e.children&&m(n,t.children)}},S=(e,t,n,s)=>{null==e?r(t.el=h(t.children||""),n,s):t.el=e.el},k=(e,t,n,s)=>{[e.el,e.anchor]=_(e.children,t,n,s,e.el,e.anchor)},A=(e,t,n,s,a,i,r,o,l)=>{"svg"===t.type?r="svg":"math"===t.type&&(r="mathml"),null==e?$(t,n,s,a,i,r,o,l):R(e,t,a,i,r,o,l)},$=(e,n,s,a,i,o,u,h)=>{let m,d;const{props:g,shapeFlag:f,transition:y,dirs:v}=e;if(m=e.el=c(e.type,o,g&&g.is,g),8&f?p(m,e.children):16&f&&M(e.children,m,null,a,i,Fe(e,o),u,h),v&&x(e,null,a,"created"),O(m,e,e.scopeId,u,a),g){for(const e in g)"value"===e||(0,t.SU)(e)||l(m,e,null,g[e],o,a);"value"in g&&l(m,"value",null,g.value,o),(d=g.onVnodeBeforeMount)&&Nt(d,a,e)}v&&x(e,null,a,"beforeMount");const b=function(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}(i,y);b&&y.beforeEnter(m),r(m,n,s),((d=g&&g.onVnodeMounted)||b||v)&&Ue((()=>{d&&Nt(d,a,e),b&&y.enter(m),v&&x(e,null,a,"mounted")}),i)},O=(e,t,n,s,a)=>{if(n&&b(e,n),s)for(let t=0;t<s.length;t++)b(e,s[t]);if(a){let n=a.subTree;if(t===n||it(n.type)&&(n.ssContent===t||n.ssFallback===t)){const t=a.vnode;O(e,t,t.scopeId,t.slotScopeIds,a.parent)}}},M=(e,t,n,s,a,i,r,o,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=o?It(e[c]):At(e[c]);w(null,l,t,n,s,a,i,r,o)}},R=(e,n,s,a,i,r,o)=>{const c=n.el=e.el;let{patchFlag:u,dynamicChildren:h,dirs:m}=n;u|=16&e.patchFlag;const d=e.props||t.MZ,g=n.props||t.MZ;let f;if(s&&Ve(s,!1),(f=g.onVnodeBeforeUpdate)&&Nt(f,s,n,e),m&&x(n,e,s,"beforeUpdate"),s&&Ve(s,!0),(d.innerHTML&&null==g.innerHTML||d.textContent&&null==g.textContent)&&p(c,""),h?P(e.dynamicChildren,h,c,s,a,Fe(n,i),r):o||W(e,n,c,null,s,a,Fe(n,i),r,!1),u>0){if(16&u)D(c,d,g,s,i);else if(2&u&&d.class!==g.class&&l(c,"class",null,g.class,i),4&u&&l(c,"style",d.style,g.style,i),8&u){const e=n.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t],a=d[n],r=g[n];r===a&&"value"!==n||l(c,n,a,r,i,s)}}1&u&&e.children!==n.children&&p(c,n.children)}else o||null!=h||D(c,d,g,s,i);((f=g.onVnodeUpdated)||m)&&Ue((()=>{f&&Nt(f,s,n,e),m&&x(n,e,s,"updated")}),a)},P=(e,t,n,s,a,i,r)=>{for(let o=0;o<t.length;o++){const l=e[o],c=t[o],u=l.el&&(l.type===rt||!bt(l,c)||70&l.shapeFlag)?g(l.el):n;w(l,c,u,null,s,a,i,r,!0)}},D=(e,n,s,a,i)=>{if(n!==s){if(n!==t.MZ)for(const r in n)(0,t.SU)(r)||r in s||l(e,r,n[r],null,i,a);for(const r in s){if((0,t.SU)(r))continue;const o=s[r],c=n[r];o!==c&&"value"!==r&&l(e,r,c,o,i,a)}"value"in s&&l(e,"value",n.value,s.value,i)}},U=(e,t,n,s,a,i,o,l,c)=>{const h=t.el=e?e.el:u(""),m=t.anchor=e?e.anchor:u("");let{patchFlag:p,dynamicChildren:d,slotScopeIds:g}=t;g&&(l=l?l.concat(g):g),null==e?(r(h,n,s),r(m,n,s),M(t.children||[],n,m,a,i,o,l,c)):p>0&&64&p&&d&&e.dynamicChildren?(P(e.dynamicChildren,d,n,a,i,o,l),(null!=t.key||a&&t===a.subTree)&&Be(e,t,!0)):W(e,t,n,m,a,i,o,l,c)},j=(e,t,n,s,a,i,r,o,l)=>{t.slotScopeIds=o,null==e?512&t.shapeFlag?a.ctx.activate(t,n,s,r,l):F(t,n,s,a,i,r,l):V(e,t,l)},F=(n,a,r,o,l,c,u)=>{const h=n.component=function(n,s,a){const i=n.type,r=(s?s.appContext:n.appContext)||Lt,o={uid:Ct++,vnode:n,type:i,parent:s,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new e.yC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:s?s.provides:Object.create(r.provides),ids:s?s.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ne(i,r),emitsOptions:Qe(i,r),emit:null,emitted:null,propsDefaults:t.MZ,inheritAttrs:i.inheritAttrs,ctx:t.MZ,data:t.MZ,props:t.MZ,attrs:t.MZ,slots:t.MZ,refs:t.MZ,setupState:t.MZ,setupContext:null,suspense:a,suspenseId:a?a.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=s?s.root:o,o.emit=Je.bind(null,o),n.ce&&n.ce(o),o}(n,o,l);if(C(n)&&(h.ctx.renderer=ne),function(n,a=!1,r=!1){a&&Rt(a);const{props:o,children:l}=n.vnode,c=Ut(n);!function(t,n,s,a=!1){const i={},r=xe();t.propsDefaults=Object.create(null),Ae(t,n,i,r);for(const e in t.propsOptions[0])e in i||(i[e]=void 0);s?t.props=a?i:(0,e.Gc)(i):t.type.props?t.props=i:t.props=r,t.attrs=r}(n,o,c,a),((e,n,s)=>{const a=e.slots=xe();if(32&e.vnode.shapeFlag){const e=n._;e?(De(a,n,s),s&&(0,t.yQ)(a,"_",e,!0)):Re(n,a)}else n&&Pe(e,n)})(n,l,r);const u=c?function(n,a){const r=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,re);const{setup:o}=r;if(o){(0,e.C4)();const r=n.setupContext=o.length>1?function(e){const t=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,Wt),slots:e.slots,emit:e.emit,expose:t}}(n):null,l=Pt(n),c=s(o,n,0,[n.props,r]),u=(0,t.yL)(c);if((0,e.bl)(),l(),!u&&!n.sp||L(n)||I(n),u){if(c.then(Dt,Dt),a)return c.then((e=>{Bt(n,e,a)})).catch((e=>{i(e,n,0)}));n.asyncDep=c}else Bt(n,c,a)}else Ht(n,a)}(n,a):void 0;a&&Rt(!1)}(h,!1,u),h.asyncDep){if(l&&l.registerDep(h,B,u),!n.el){const e=h.subTree=St(lt);S(null,e,a,r)}}else B(h,n,a,r,l,c,u)},V=(e,t,n)=>{const s=t.component=e.component;if(function(e,t,n){const{props:s,children:a,component:i}=e,{props:r,children:o,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!a&&!o||o&&o.$stable)||s!==r&&(s?!r||at(s,r,c):!!r);if(1024&l)return!0;if(16&l)return s?at(s,r,c):!!r;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(r[n]!==s[n]&&!et(c,n))return!0}}return!1}(e,t,n)){if(s.asyncDep&&!s.asyncResolved)return void H(s,t,n);s.next=t,s.update()}else t.el=e.el,s.vnode=t},B=(n,s,a,i,r,o,l)=>{const c=()=>{if(n.isMounted){let{next:e,bu:s,u:a,parent:i,vnode:u}=n;{const t=He(n);if(t)return e&&(e.el=u.el,H(n,e,l)),void t.asyncDep.then((()=>{n.isUnmounted||c()}))}let h,m=e;Ve(n,!1),e?(e.el=u.el,H(n,e,l)):e=u,s&&(0,t.DY)(s),(h=e.props&&e.props.onVnodeBeforeUpdate)&&Nt(h,i,e,u),Ve(n,!0);const p=tt(n),d=n.subTree;n.subTree=p,w(d,p,g(d.el),Q(d),n,r,o),e.el=p.el,null===m&&function({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s!==e)break;(e=t.vnode).el=n,t=t.parent}}(n,p.el),a&&Ue(a,r),(h=e.props&&e.props.onVnodeUpdated)&&Ue((()=>Nt(h,i,e,u)),r)}else{let e;const{el:l,props:c}=s,{bm:u,m:h,parent:m,root:p,type:d}=n,g=L(s);if(Ve(n,!1),u&&(0,t.DY)(u),!g&&(e=c&&c.onVnodeBeforeMount)&&Nt(e,m,s),Ve(n,!0),l&&ae){const e=()=>{n.subTree=tt(n),ae(l,n.subTree,n,r,null)};g&&d.__asyncHydrate?d.__asyncHydrate(l,n,e):e()}else{p.ce&&p.ce._injectChildStyle(d);const e=n.subTree=tt(n);w(null,e,a,i,n,r,o),s.el=e.el}if(h&&Ue(h,r),!g&&(e=c&&c.onVnodeMounted)){const t=s;Ue((()=>Nt(e,m,t)),r)}(256&s.shapeFlag||m&&L(m.vnode)&&256&m.vnode.shapeFlag)&&n.a&&Ue(n.a,r),n.isMounted=!0,s=a=i=null}};n.scope.on();const u=n.effect=new e.X2(c);n.scope.off();const h=n.update=u.run.bind(u),m=n.job=u.runIfDirty.bind(u);m.i=n,m.id=n.uid,u.scheduler=()=>d(m),Ve(n,!0),h()},H=(n,s,a)=>{s.component=n;const i=n.vnode.props;n.vnode=s,n.next=null,function(n,s,a,i){const{props:r,attrs:o,vnode:{patchFlag:l}}=n,c=(0,e.ux)(r),[u]=n.propsOptions;let h=!1;if(!(i||l>0)||16&l){let e;Ae(n,s,r,o)&&(h=!0);for(const i in c)s&&((0,t.$3)(s,i)||(e=(0,t.Tg)(i))!==i&&(0,t.$3)(s,e))||(u?!a||void 0===a[i]&&void 0===a[e]||(r[i]=Ie(u,c,i,void 0,n,!0)):delete r[i]);if(o!==c)for(const e in o)s&&(0,t.$3)(s,e)||(delete o[e],h=!0)}else if(8&l){const e=n.vnode.dynamicProps;for(let a=0;a<e.length;a++){let i=e[a];if(et(n.emitsOptions,i))continue;const l=s[i];if(u)if((0,t.$3)(o,i))l!==o[i]&&(o[i]=l,h=!0);else{const e=(0,t.PT)(i);r[e]=Ie(u,c,e,l,n,!1)}else l!==o[i]&&(o[i]=l,h=!0)}}h&&(0,e.hZ)(n.attrs,"set","")}(n,s.props,i,a),((e,n,s)=>{const{vnode:a,slots:i}=e;let r=!0,o=t.MZ;if(32&a.shapeFlag){const e=n._;e?s&&1===e?r=!1:De(i,n,s):(r=!n.$stable,Re(n,i)),o=n}else n&&(Pe(e,n),o={default:1});if(r)for(const e in i)Ce(e)||null!=o[e]||delete i[e]})(n,s.children,a),(0,e.C4)(),f(n),(0,e.bl)()},W=(e,t,n,s,a,i,r,o,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,h=t.children,{patchFlag:m,shapeFlag:d}=t;if(m>0){if(128&m)return void G(c,h,n,s,a,i,r,o,l);if(256&m)return void z(c,h,n,s,a,i,r,o,l)}8&d?(16&u&&J(c,a,i),h!==c&&p(n,h)):16&u?16&d?G(c,h,n,s,a,i,r,o,l):J(c,a,i,!0):(8&u&&p(n,""),16&d&&M(h,n,s,a,i,r,o,l))},z=(e,n,s,a,i,r,o,l,c)=>{e=e||t.Oj,n=n||t.Oj;const u=e.length,h=n.length,m=Math.min(u,h);let p;for(p=0;p<m;p++){const t=n[p]=c?It(n[p]):At(n[p]);w(e[p],t,s,null,i,r,o,l,c)}u>h?J(e,i,r,!0,!1,m):M(n,s,a,i,r,o,l,c,m)},G=(e,n,s,a,i,r,o,l,c)=>{let u=0;const h=n.length;let m=e.length-1,p=h-1;for(;u<=m&&u<=p;){const t=e[u],a=n[u]=c?It(n[u]):At(n[u]);if(!bt(t,a))break;w(t,a,s,null,i,r,o,l,c),u++}for(;u<=m&&u<=p;){const t=e[m],a=n[p]=c?It(n[p]):At(n[p]);if(!bt(t,a))break;w(t,a,s,null,i,r,o,l,c),m--,p--}if(u>m){if(u<=p){const e=p+1,t=e<h?n[e].el:a;for(;u<=p;)w(null,n[u]=c?It(n[u]):At(n[u]),s,t,i,r,o,l,c),u++}}else if(u>p)for(;u<=m;)q(e[u],i,r,!0),u++;else{const d=u,g=u,f=new Map;for(u=g;u<=p;u++){const e=n[u]=c?It(n[u]):At(n[u]);null!=e.key&&f.set(e.key,u)}let y,v=0;const b=p-g+1;let _=!1,E=0;const S=new Array(b);for(u=0;u<b;u++)S[u]=0;for(u=d;u<=m;u++){const t=e[u];if(v>=b){q(t,i,r,!0);continue}let a;if(null!=t.key)a=f.get(t.key);else for(y=g;y<=p;y++)if(0===S[y-g]&&bt(t,n[y])){a=y;break}void 0===a?q(t,i,r,!0):(S[a-g]=u+1,a>=E?E=a:_=!0,w(t,n[a],s,null,i,r,o,l,c),v++)}const k=_?function(e){const t=e.slice(),n=[0];let s,a,i,r,o;const l=e.length;for(s=0;s<l;s++){const l=e[s];if(0!==l){if(a=n[n.length-1],e[a]<l){t[s]=a,n.push(s);continue}for(i=0,r=n.length-1;i<r;)o=i+r>>1,e[n[o]]<l?i=o+1:r=o;l<e[n[i]]&&(i>0&&(t[s]=n[i-1]),n[i]=s)}}for(i=n.length,r=n[i-1];i-- >0;)n[i]=r,r=t[r];return n}(S):t.Oj;for(y=k.length-1,u=b-1;u>=0;u--){const e=g+u,t=n[e],m=e+1<h?n[e+1].el:a;0===S[u]?w(null,t,s,m,i,r,o,l,c):_&&(y<0||u!==k[y]?K(t,s,m,2):y--)}}},K=(e,t,n,s,a=null)=>{const{el:i,type:o,transition:l,children:c,shapeFlag:u}=e;if(6&u)K(e.component.subTree,t,n,s);else if(128&u)e.suspense.move(t,n,s);else if(64&u)o.move(e,t,n,ne);else if(o!==rt)if(o!==ct)if(2!==s&&1&u&&l)if(0===s)l.beforeEnter(i),r(i,t,n),Ue((()=>l.enter(i)),a);else{const{leave:e,delayLeave:s,afterLeave:a}=l,o=()=>r(i,t,n),c=()=>{e(i,(()=>{o(),a&&a()}))};s?s(i,o,c):c()}else r(i,t,n);else(({el:e,anchor:t},n,s)=>{let a;for(;e&&e!==t;)a=v(e),r(e,n,s),e=a;r(t,n,s)})(e,t,n);else{r(i,t,n);for(let e=0;e<c.length;e++)K(c[e],t,n,s);r(e.anchor,t,n)}},q=(e,t,n,s=!1,a=!1)=>{const{type:i,props:r,ref:o,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:h,dirs:m,cacheIndex:p}=e;if(-2===h&&(a=!1),null!=o&&N(o,null,n,e,!0),null!=p&&(t.renderCache[p]=void 0),256&u)return void t.ctx.deactivate(e);const d=1&u&&m,g=!L(e);let f;if(g&&(f=r&&r.onVnodeBeforeUnmount)&&Nt(f,t,e),6&u)Z(e.component,n,s);else{if(128&u)return void e.suspense.unmount(n,s);d&&x(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,ne,s):c&&!c.hasOnce&&(i!==rt||h>0&&64&h)?J(c,t,n,!1,!0):(i===rt&&384&h||!a&&16&u)&&J(l,t,n),s&&X(e)}(g&&(f=r&&r.onVnodeUnmounted)||d)&&Ue((()=>{f&&Nt(f,t,e),d&&x(e,null,t,"unmounted")}),n)},X=e=>{const{type:t,el:n,anchor:s,transition:a}=e;if(t===rt)return void Y(n,s);if(t===ct)return void(({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=v(e),o(e),e=n;o(t)})(e);const i=()=>{o(n),a&&!a.persisted&&a.afterLeave&&a.afterLeave()};if(1&e.shapeFlag&&a&&!a.persisted){const{leave:t,delayLeave:s}=a,r=()=>t(n,i);s?s(e.el,i,r):r()}else i()},Y=(e,t)=>{let n;for(;e!==t;)n=v(e),o(e),e=n;o(t)},Z=(e,n,s)=>{const{bum:a,scope:i,job:r,subTree:o,um:l,m:c,a:u}=e;We(c),We(u),a&&(0,t.DY)(a),i.stop(),r&&(r.flags|=8,q(o,e,n,s)),l&&Ue(l,n),Ue((()=>{e.isUnmounted=!0}),n),n&&n.pendingBranch&&!n.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===n.pendingId&&(n.deps--,0===n.deps&&n.resolve())},J=(e,t,n,s=!1,a=!1,i=0)=>{for(let r=i;r<e.length;r++)q(e[r],t,n,s,a)},Q=e=>{if(6&e.shapeFlag)return Q(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();const t=v(e.anchor||e.el),n=t&&t[T];return n?v(n):t};let ee=!1;const te=(e,t,n)=>{null==e?t._vnode&&q(t._vnode,null,null,!0):w(t._vnode||null,e,t,null,null,null,n),t._vnode=e,ee||(ee=!0,f(),y(),ee=!1)},ne={p:w,um:q,m:K,r:X,mt:F,mc:M,pc:W,pbc:P,n:Q,o:n};let se,ae;return a&&([se,ae]=a(ne)),{render:te,hydrate:se,createApp:we(te,se)}}function Fe({type:e,props:t},n){return"svg"===n&&"foreignObject"===e||"mathml"===n&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Ve({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Be(e,n,s=!1){const a=e.children,i=n.children;if((0,t.cy)(a)&&(0,t.cy)(i))for(let e=0;e<a.length;e++){const t=a[e];let n=i[e];1&n.shapeFlag&&!n.dynamicChildren&&((n.patchFlag<=0||32===n.patchFlag)&&(n=i[e]=It(i[e]),n.el=t.el),s||-2===n.patchFlag||Be(t,n)),n.type===ot&&(n.el=t.el)}}function He(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:He(t)}function We(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ze=Symbol.for("v-scx"),Ge=()=>Se(ze);function Ke(e,t,n){return qe(e,t,n)}function qe(n,s,i=t.MZ){const{immediate:r,deep:o,flush:l,once:c}=i,u=(0,t.X$)({},i),h=s&&r||!s&&"post"!==l;let m;if(Vt)if("sync"===l){const e=Ge();m=e.__watcherHandles||(e.__watcherHandles=[])}else if(!h){const e=()=>{};return e.stop=t.tE,e.resume=t.tE,e.pause=t.tE,e}const p=Ot;u.call=(e,t,n)=>a(e,p,t,n);let g=!1;"post"===l?u.scheduler=e=>{Ue(e,p&&p.suspense)}:"sync"!==l&&(g=!0,u.scheduler=(e,t)=>{t?e():d(e)}),u.augmentJob=e=>{s&&(e.flags|=4),g&&(e.flags|=2,p&&(e.id=p.uid,e.i=p))};const f=(0,e.wB)(n,s,u);return Vt&&(m?m.push(f):h&&f()),f}function Xe(e,n,s){const a=this.proxy,i=(0,t.Kg)(e)?e.includes(".")?Ye(a,e):()=>a[e]:e.bind(a,a);let r;(0,t.Tn)(n)?r=n:(r=n.handler,s=n);const o=Pt(this),l=qe(i,r.bind(a),s);return o(),l}function Ye(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}const Ze=(e,n)=>"modelValue"===n||"model-value"===n?e.modelModifiers:e[`${n}Modifiers`]||e[`${(0,t.PT)(n)}Modifiers`]||e[`${(0,t.Tg)(n)}Modifiers`];function Je(e,n,...s){if(e.isUnmounted)return;const i=e.vnode.props||t.MZ;let r=s;const o=n.startsWith("update:"),l=o&&Ze(i,n.slice(7));let c;l&&(l.trim&&(r=s.map((e=>(0,t.Kg)(e)?e.trim():e))),l.number&&(r=s.map(t.bB)));let u=i[c=(0,t.rU)(n)]||i[c=(0,t.rU)((0,t.PT)(n))];!u&&o&&(u=i[c=(0,t.rU)((0,t.Tg)(n))]),u&&a(u,e,6,r);const h=i[c+"Once"];if(h){if(e.emitted){if(e.emitted[c])return}else e.emitted={};e.emitted[c]=!0,a(h,e,6,r)}}function Qe(e,n,s=!1){const a=n.emitsCache,i=a.get(e);if(void 0!==i)return i;const r=e.emits;let o={},l=!1;if(!(0,t.Tn)(e)){const a=e=>{const s=Qe(e,n,!0);s&&(l=!0,(0,t.X$)(o,s))};!s&&n.mixins.length&&n.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return r||l?((0,t.cy)(r)?r.forEach((e=>o[e]=null)):(0,t.X$)(o,r),(0,t.Gv)(e)&&a.set(e,o),o):((0,t.Gv)(e)&&a.set(e,null),null)}function et(e,n){return!(!e||!(0,t.Mp)(n))&&(n=n.slice(2).replace(/Once$/,""),(0,t.$3)(e,n[0].toLowerCase()+n.slice(1))||(0,t.$3)(e,(0,t.Tg)(n))||(0,t.$3)(e,n))}function tt(e){const{type:n,vnode:s,proxy:a,withProxy:r,propsOptions:[o],slots:l,attrs:c,emit:u,render:h,renderCache:m,props:p,data:d,setupState:g,ctx:f,inheritAttrs:y}=e,v=E(e);let b,_;try{if(4&s.shapeFlag){const e=r||a,t=e;b=At(h.call(t,e,m,p,g,d,f)),_=c}else{const e=n;b=At(e.length>1?e(p,{attrs:c,slots:l,emit:u}):e(p,null)),_=n.props?c:nt(c)}}catch(t){ut.length=0,i(t,e,1),b=St(lt)}let w=b;if(_&&!1!==y){const e=Object.keys(_),{shapeFlag:n}=w;e.length&&7&n&&(o&&e.some(t.CP)&&(_=st(_,o)),w=kt(w,_,!1,!0))}return s.dirs&&(w=kt(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(s.dirs):s.dirs),s.transition&&A(w,s.transition),b=w,E(v),b}const nt=e=>{let n;for(const s in e)("class"===s||"style"===s||(0,t.Mp)(s))&&((n||(n={}))[s]=e[s]);return n},st=(e,n)=>{const s={};for(const a in e)(0,t.CP)(a)&&a.slice(9)in n||(s[a]=e[a]);return s};function at(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let a=0;a<s.length;a++){const i=s[a];if(t[i]!==e[i]&&!et(n,i))return!0}return!1}const it=e=>e.__isSuspense;const rt=Symbol.for("v-fgt"),ot=Symbol.for("v-txt"),lt=Symbol.for("v-cmt"),ct=Symbol.for("v-stc"),ut=[];let ht=null;function mt(e=!1){ut.push(ht=e?null:[])}let pt=1;function dt(e,t=!1){pt+=e,e<0&&ht&&t&&(ht.hasOnce=!0)}function gt(e){return e.dynamicChildren=pt>0?ht||t.Oj:null,ut.pop(),ht=ut[ut.length-1]||null,pt>0&&ht&&ht.push(e),e}function ft(e,t,n,s,a,i){return gt(Et(e,t,n,s,a,i,!0))}function yt(e,t,n,s,a){return gt(St(e,t,n,s,a,!0))}function vt(e){return!!e&&!0===e.__v_isVNode}function bt(e,t){return e.type===t.type&&e.key===t.key}const _t=({key:e})=>null!=e?e:null,wt=({ref:n,ref_key:s,ref_for:a})=>("number"==typeof n&&(n=""+n),null!=n?(0,t.Kg)(n)||(0,e.i9)(n)||(0,t.Tn)(n)?{i:_,r:n,k:s,f:!!a}:n:null);function Et(e,n=null,s=null,a=0,i=null,r=(e===rt?0:1),o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:n,key:n&&_t(n),ref:n&&wt(n),scopeId:w,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:a,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:_};return l?($t(c,s),128&r&&e.normalize(c)):s&&(c.shapeFlag|=(0,t.Kg)(s)?8:16),pt>0&&!o&&ht&&(c.patchFlag>0||6&r)&&32!==c.patchFlag&&ht.push(c),c}const St=function(n,s=null,a=null,i=0,r=null,o=!1){if(n&&n!==Z||(n=lt),vt(n)){const e=kt(n,s,!0);return a&&$t(e,a),pt>0&&!o&&ht&&(6&e.shapeFlag?ht[ht.indexOf(n)]=e:ht.push(e)),e.patchFlag=-2,e}if(function(e){return(0,t.Tn)(e)&&"__vccOpts"in e}(n)&&(n=n.__vccOpts),s){s=function(n){return n?(0,e.ju)(n)||Te(n)?(0,t.X$)({},n):n:null}(s);let{class:n,style:a}=s;n&&!(0,t.Kg)(n)&&(s.class=(0,t.C4)(n)),(0,t.Gv)(a)&&((0,e.ju)(a)&&!(0,t.cy)(a)&&(a=(0,t.X$)({},a)),s.style=(0,t.Tr)(a))}return Et(n,s,a,i,r,(0,t.Kg)(n)?1:it(n)?128:(e=>e.__isTeleport)(n)?64:(0,t.Gv)(n)?4:(0,t.Tn)(n)?2:0,o,!0)};function kt(e,n,s=!1,a=!1){const{props:i,ref:r,patchFlag:o,children:l,transition:c}=e,u=n?function(...e){const n={};for(let s=0;s<e.length;s++){const a=e[s];for(const e in a)if("class"===e)n.class!==a.class&&(n.class=(0,t.C4)([n.class,a.class]));else if("style"===e)n.style=(0,t.Tr)([n.style,a.style]);else if((0,t.Mp)(e)){const s=n[e],i=a[e];!i||s===i||(0,t.cy)(s)&&s.includes(i)||(n[e]=s?[].concat(s,i):i)}else""!==e&&(n[e]=a[e])}return n}(i||{},n):i,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&_t(u),ref:n&&n.ref?s&&r?(0,t.cy)(r)?r.concat(wt(n)):[r,wt(n)]:wt(n):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:n&&e.type!==rt?-1===o?16:16|o:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&kt(e.ssContent),ssFallback:e.ssFallback&&kt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&a&&A(h,c.clone(h)),h}function xt(e=" ",t=0){return St(ot,null,e,t)}function Tt(e="",t=!1){return t?(mt(),yt(lt,null,e)):St(lt,null,e)}function At(e){return null==e||"boolean"==typeof e?St(lt):(0,t.cy)(e)?St(rt,null,e.slice()):vt(e)?It(e):St(ot,null,String(e))}function It(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:kt(e)}function $t(e,n){let s=0;const{shapeFlag:a}=e;if(null==n)n=null;else if((0,t.cy)(n))s=16;else if("object"==typeof n){if(65&a){const t=n.default;return void(t&&(t._c&&(t._d=!1),$t(e,t()),t._c&&(t._d=!0)))}{s=32;const t=n._;t||Te(n)?3===t&&_&&(1===_.slots._?n._=1:(n._=2,e.patchFlag|=1024)):n._ctx=_}}else(0,t.Tn)(n)?(n={default:n,_ctx:_},s=32):(n=String(n),64&a?(s=16,n=[xt(n)]):s=8);e.children=n,e.shapeFlag|=s}function Nt(e,t,n,s=null){a(e,t,7,[n,s])}const Lt=be();let Ct=0;let Ot=null;let Mt,Rt;{const e=(0,t.We)(),n=(t,n)=>{let s;return(s=e[t])||(s=e[t]=[]),s.push(n),e=>{s.length>1?s.forEach((t=>t(e))):s[0](e)}};Mt=n("__VUE_INSTANCE_SETTERS__",(e=>Ot=e)),Rt=n("__VUE_SSR_SETTERS__",(e=>Vt=e))}const Pt=e=>{const t=Ot;return Mt(e),e.scope.on(),()=>{e.scope.off(),Mt(t)}},Dt=()=>{Ot&&Ot.scope.off(),Mt(null)};function Ut(e){return 4&e.vnode.shapeFlag}let jt,Ft,Vt=!1;function Bt(n,s,a){(0,t.Tn)(s)?n.type.__ssrInlineRender?n.ssrRender=s:n.render=s:(0,t.Gv)(s)&&(n.setupState=(0,e.Pr)(s)),Ht(n,a)}function Ht(n,s,a){const i=n.type;if(!n.render){if(!s&&jt&&!i.render){const e=i.template||he(n).template;if(e){const{isCustomElement:s,compilerOptions:a}=n.appContext.config,{delimiters:r,compilerOptions:o}=i,l=(0,t.X$)((0,t.X$)({isCustomElement:s,delimiters:r},a),o);i.render=jt(e,l)}}n.render=i.render||t.tE,Ft&&Ft(n)}{const s=Pt(n);(0,e.C4)();try{!function(n){const s=he(n),a=n.proxy,i=n.ctx;le=!1,s.beforeCreate&&ce(s.beforeCreate,n,"bc");const{data:r,computed:o,methods:l,watch:c,provide:u,inject:h,created:m,beforeMount:p,mounted:d,beforeUpdate:g,updated:f,activated:y,deactivated:v,beforeDestroy:b,beforeUnmount:_,destroyed:w,unmounted:E,render:S,renderTracked:k,renderTriggered:x,errorCaptured:T,serverPrefetch:A,expose:$,inheritAttrs:N,components:L,directives:C,filters:R}=s;if(h&&function(n,s){(0,t.cy)(n)&&(n=ge(n));for(const a in n){const i=n[a];let r;r=(0,t.Gv)(i)?"default"in i?Se(i.from||a,i.default,!0):Se(i.from||a):Se(i),(0,e.i9)(r)?Object.defineProperty(s,a,{enumerable:!0,configurable:!0,get:()=>r.value,set:e=>r.value=e}):s[a]=r}}(h,i),l)for(const e in l){const n=l[e];(0,t.Tn)(n)&&(i[e]=n.bind(a))}if(r){const s=r.call(a,a);(0,t.Gv)(s)&&(n.data=(0,e.Kh)(s))}if(le=!0,o)for(const e in o){const n=o[e],s=(0,t.Tn)(n)?n.bind(a,a):(0,t.Tn)(n.get)?n.get.bind(a,a):t.tE,r=!(0,t.Tn)(n)&&(0,t.Tn)(n.set)?n.set.bind(a):t.tE,l=Gt({get:s,set:r});Object.defineProperty(i,e,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(c)for(const e in c)ue(c[e],i,a,e);if(u){const e=(0,t.Tn)(u)?u.call(a):u;Reflect.ownKeys(e).forEach((t=>{!function(e,t){if(Ot){let n=Ot.provides;const s=Ot.parent&&Ot.parent.provides;s===n&&(n=Ot.provides=Object.create(s)),n[e]=t}}(t,e[t])}))}function P(e,n){(0,t.cy)(n)?n.forEach((t=>e(t.bind(a)))):n&&e(n.bind(a))}if(m&&ce(m,n,"c"),P(j,p),P(F,d),P(V,g),P(B,f),P(O,y),P(M,v),P(q,T),P(K,k),P(G,x),P(H,_),P(W,E),P(z,A),(0,t.cy)($))if($.length){const e=n.exposed||(n.exposed={});$.forEach((t=>{Object.defineProperty(e,t,{get:()=>a[t],set:e=>a[t]=e})}))}else n.exposed||(n.exposed={});S&&n.render===t.tE&&(n.render=S),null!=N&&(n.inheritAttrs=N),L&&(n.components=L),C&&(n.directives=C),A&&I(n)}(n)}finally{(0,e.bl)(),s()}}}const Wt={get:(t,n)=>((0,e.u4)(t,"get",""),t[n])};function zt(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy((0,e.Pr)((0,e.IG)(t.exposed)),{get:(e,n)=>n in e?e[n]:n in ae?ae[n](t):void 0,has:(e,t)=>t in e||t in ae})):t.proxy}const Gt=(t,n)=>(0,e.EW)(t,n,Vt),Kt="3.5.13";let qt;const Xt="undefined"!=typeof window&&window.trustedTypes;if(Xt)try{qt=Xt.createPolicy("vue",{createHTML:e=>e})}catch(e){}const Yt=qt?e=>qt.createHTML(e):e=>e,Zt="undefined"!=typeof document?document:null,Jt=Zt&&Zt.createElement("template"),Qt={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const a="svg"===t?Zt.createElementNS("http://www.w3.org/2000/svg",e):"mathml"===t?Zt.createElementNS("http://www.w3.org/1998/Math/MathML",e):n?Zt.createElement(e,{is:n}):Zt.createElement(e);return"select"===e&&s&&null!=s.multiple&&a.setAttribute("multiple",s.multiple),a},createText:e=>Zt.createTextNode(e),createComment:e=>Zt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Zt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,a,i){const r=n?n.previousSibling:t.lastChild;if(a&&(a===i||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),a!==i&&(a=a.nextSibling););else{Jt.innerHTML=Yt("svg"===s?`<svg>${e}</svg>`:"mathml"===s?`<math>${e}</math>`:e);const a=Jt.content;if("svg"===s||"mathml"===s){const e=a.firstChild;for(;e.firstChild;)a.appendChild(e.firstChild);a.removeChild(e)}t.insertBefore(a,n)}return[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},en=Symbol("_vtc");Boolean;const tn=Symbol("_vod"),nn=Symbol("_vsh"),sn={beforeMount(e,{value:t},{transition:n}){e[tn]="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):an(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),an(e,!0),s.enter(e)):s.leave(e,(()=>{an(e,!1)})):an(e,t))},beforeUnmount(e,{value:t}){an(e,t)}};function an(e,t){e.style.display=t?e[tn]:"none",e[nn]=!t}const rn=Symbol(""),on=/(^|;)\s*display\s*:/,ln=/\s*!important$/;function cn(e,n,s){if((0,t.cy)(s))s.forEach((t=>cn(e,n,t)));else if(null==s&&(s=""),n.startsWith("--"))e.setProperty(n,s);else{const a=function(e,n){const s=hn[n];if(s)return s;let a=(0,t.PT)(n);if("filter"!==a&&a in e)return hn[n]=a;a=(0,t.ZH)(a);for(let t=0;t<un.length;t++){const s=un[t]+a;if(s in e)return hn[n]=s}return n}(e,n);ln.test(s)?e.setProperty((0,t.Tg)(a),s.replace(ln,""),"important"):e[a]=s}}const un=["Webkit","Moz","ms"],hn={},mn="http://www.w3.org/1999/xlink";function pn(e,n,s,a,i,r=(0,t.J$)(n)){a&&n.startsWith("xlink:")?null==s?e.removeAttributeNS(mn,n.slice(6,n.length)):e.setAttributeNS(mn,n,s):null==s||r&&!(0,t.Y2)(s)?e.removeAttribute(n):e.setAttribute(n,r?"":(0,t.Bm)(s)?String(s):s)}function dn(e,n,s,a,i){if("innerHTML"===n||"textContent"===n)return void(null!=s&&(e[n]="innerHTML"===n?Yt(s):s));const r=e.tagName;if("value"===n&&"PROGRESS"!==r&&!r.includes("-")){const t="OPTION"===r?e.getAttribute("value")||"":e.value,a=null==s?"checkbox"===e.type?"on":"":String(s);return t===a&&"_value"in e||(e.value=a),null==s&&e.removeAttribute(n),void(e._value=s)}let o=!1;if(""===s||null==s){const a=typeof e[n];"boolean"===a?s=(0,t.Y2)(s):null==s&&"string"===a?(s="",o=!0):"number"===a&&(s=0,o=!0)}try{e[n]=s}catch(e){}o&&e.removeAttribute(i||n)}function gn(e,t,n,s){e.addEventListener(t,n,s)}const fn=Symbol("_vei");const yn=/(?:Once|Passive|Capture)$/;let vn=0;const bn=Promise.resolve(),_n=()=>vn||(bn.then((()=>vn=0)),vn=Date.now()),wn=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123;"undefined"!=typeof HTMLElement&&HTMLElement,Symbol("_moveCb"),Symbol("_enterCb");const En=e=>{const n=e.props["onUpdate:modelValue"]||!1;return(0,t.cy)(n)?e=>(0,t.DY)(n,e):n};function Sn(e){e.target.composing=!0}function kn(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const xn=Symbol("_assign"),Tn={created(e,{modifiers:{lazy:n,trim:s,number:a}},i){e[xn]=En(i);const r=a||i.props&&"number"===i.props.type;gn(e,n?"change":"input",(n=>{if(n.target.composing)return;let a=e.value;s&&(a=a.trim()),r&&(a=(0,t.bB)(a)),e[xn](a)})),s&&gn(e,"change",(()=>{e.value=e.value.trim()})),n||(gn(e,"compositionstart",Sn),gn(e,"compositionend",kn),gn(e,"change",kn))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:n,oldValue:s,modifiers:{lazy:a,trim:i,number:r}},o){if(e[xn]=En(o),e.composing)return;const l=null==n?"":n;if((!r&&"number"!==e.type||/^0\d/.test(e.value)?e.value:(0,t.bB)(e.value))!==l){if(document.activeElement===e&&"range"!==e.type){if(a&&n===s)return;if(i&&e.value.trim()===l)return}e.value=l}}},An={deep:!0,created(e,{value:n,modifiers:{number:s}},a){const i=(0,t.vM)(n);gn(e,"change",(()=>{const n=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>s?(0,t.bB)($n(e)):$n(e)));e[xn](e.multiple?i?new Set(n):n:n[0]),e._assigning=!0,p((()=>{e._assigning=!1}))})),e[xn]=En(a)},mounted(e,{value:t}){In(e,t)},beforeUpdate(e,t,n){e[xn]=En(n)},updated(e,{value:t}){e._assigning||In(e,t)}};function In(e,n){const s=e.multiple,a=(0,t.cy)(n);if(!s||a||(0,t.vM)(n)){for(let i=0,r=e.options.length;i<r;i++){const r=e.options[i],o=$n(r);if(s)if(a){const e=typeof o;r.selected="string"===e||"number"===e?n.some((e=>String(e)===String(o))):(0,t.u3)(n,o)>-1}else r.selected=n.has(o);else if((0,t.BX)($n(r),n))return void(e.selectedIndex!==i&&(e.selectedIndex=i))}s||-1===e.selectedIndex||(e.selectedIndex=-1)}}function $n(e){return"_value"in e?e._value:e.value}const Nn=(0,t.X$)({patchProp:(e,n,s,i,r,o)=>{const l="svg"===r;"class"===n?function(e,t,n){const s=e[en];s&&(t=(t?[t,...s]:[...s]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,i,l):"style"===n?function(e,n,s){const a=e.style,i=(0,t.Kg)(s);let r=!1;if(s&&!i){if(n)if((0,t.Kg)(n))for(const e of n.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==s[t]&&cn(a,t,"")}else for(const e in n)null==s[e]&&cn(a,e,"");for(const e in s)"display"===e&&(r=!0),cn(a,e,s[e])}else if(i){if(n!==s){const e=a[rn];e&&(s+=";"+e),a.cssText=s,r=on.test(s)}}else n&&e.removeAttribute("style");tn in e&&(e[tn]=r?a.display:"",e[nn]&&(a.display="none"))}(e,s,i):(0,t.Mp)(n)?(0,t.CP)(n)||function(e,n,s,i,r=null){const o=e[fn]||(e[fn]={}),l=o[n];if(i&&l)l.value=i;else{const[s,c]=function(e){let n;if(yn.test(e)){let t;for(n={};t=e.match(yn);)e=e.slice(0,e.length-t[0].length),n[t[0].toLowerCase()]=!0}return[":"===e[2]?e.slice(3):(0,t.Tg)(e.slice(2)),n]}(n);if(i){const l=o[n]=function(e,n){const s=e=>{if(e._vts){if(e._vts<=s.attached)return}else e._vts=Date.now();a(function(e,n){if((0,t.cy)(n)){const t=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{t.call(e),e._stopped=!0},n.map((e=>t=>!t._stopped&&e&&e(t)))}return n}(e,s.value),n,5,[e])};return s.value=e,s.attached=_n(),s}(i,r);gn(e,s,l,c)}else l&&(function(e,t,n,s){e.removeEventListener(t,n,s)}(e,s,l,c),o[n]=void 0)}}(e,n,0,i,o):("."===n[0]?(n=n.slice(1),1):"^"===n[0]?(n=n.slice(1),0):function(e,n,s,a){if(a)return"innerHTML"===n||"textContent"===n||!!(n in e&&wn(n)&&(0,t.Tn)(s));if("spellcheck"===n||"draggable"===n||"translate"===n)return!1;if("form"===n)return!1;if("list"===n&&"INPUT"===e.tagName)return!1;if("type"===n&&"TEXTAREA"===e.tagName)return!1;if("width"===n||"height"===n){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}return(!wn(n)||!(0,t.Kg)(s))&&n in e}(e,n,i,l))?(dn(e,n,i),e.tagName.includes("-")||"value"!==n&&"checked"!==n&&"selected"!==n||pn(e,n,i,l,0,"value"!==n)):!e._isVueCE||!/[A-Z]/.test(n)&&(0,t.Kg)(i)?("true-value"===n?e._trueValue=i:"false-value"===n&&(e._falseValue=i),pn(e,n,i,l)):dn(e,(0,t.PT)(n),i,0,n)}},Qt);let Ln;const Cn=(...e)=>{const n=(Ln||(Ln=je(Nn))).createApp(...e),{mount:s}=n;return n.mount=e=>{const a=function(e){if((0,t.Kg)(e))return document.querySelector(e);return e}(e);if(!a)return;const i=n._component;(0,t.Tn)(i)||i.render||i.template||(i.template=a.innerHTML),1===a.nodeType&&(a.textContent="");const r=s(a,!1,function(e){return e instanceof SVGElement?"svg":"function"==typeof MathMLElement&&e instanceof MathMLElement?"mathml":void 0}(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),r},n};var On=n(99418);function Mn(){return(0,On.A)()}const Rn={install(e,t={},n=Mn){e.directive("dompurify-html",function(e={},t=Mn){const n=t();!function(e,t){const n=e.hooks??{};let s;for(s in n){const e=n[s];void 0!==e&&t.addHook(s,e)}}(e,n);const s=function(t){const s=t.value;if(t.oldValue===s)return;const a=`${s}`,i=t.arg,r=e.namedConfigurations,o=e.default??{};return r&&void 0!==i?n.sanitize(a,r[i]??o):n.sanitize(a,o)},a=function(e,t){const n=s(t);void 0!==n&&(e.innerHTML=n)},i={mounted:a,updated:a};return e.enableSSRPropsSupport?{...i,getSSRProps:e=>({innerHTML:s(e)})}:i}(t,n))}};var Pn=n(13647);var Dn,Un,jn,Fn=n(26017),Vn=n(13647),Bn=n(78584);function Hn(e,t){const n={id:e,type:t.toUpperCase()};return Vn.request.xhr("POST",{url:"https://graphql.anilist.co",headers:{"Content-Type":"application/json",Accept:"application/json"},data:JSON.stringify({query:"\n  query ($id: Int, $type: MediaType) {\n    Media (id: $id, type: $type) {\n      id\n      idMal\n    }\n  }\n  ",variables:n})}).then((e=>{const t=JSON.parse(e.responseText);return Bn.log(t),function(e,t=!1){if(void 0!==e.errors)for(let n=0,s=e.errors.length;n<s;n++){const s=e.errors[n];switch(s.status){case 400:if(!t)return Fn.flashm(Vn.storage.lang("Error_Authenticate",["https://anilist.co/api/v2/oauth/authorize?client_id=1487&response_type=token"]),{error:!0,type:"error"}),"noLogin";case 404:if(!t){Fn.flashm(`anilist: ${s.message}`,{error:!0,type:"error"});break}default:throw t||Fn.flashm(`anilist: ${s.message}`,{error:!0,type:"error"}),s.message}}}(t),t.data.Media.idMal}))}(Un=Dn||(Dn={}))[Un.NoState=0]="NoState",Un[Un.Watching=1]="Watching",Un[Un.Completed=2]="Completed",Un[Un.Onhold=3]="Onhold",Un[Un.Dropped=4]="Dropped",Un[Un.PlanToWatch=6]="PlanToWatch",Un[Un.All=7]="All",Un[Un.Rewatching=23]="Rewatching",function(e){e[e.NoScore=0]="NoScore",e[e.R1=1]="R1",e[e.R2=2]="R2",e[e.R3=3]="R3",e[e.R4=4]="R4",e[e.R5=5]="R5",e[e.R6=6]="R6",e[e.R7=7]="R7",e[e.R8=8]="R8",e[e.R9=9]="R9",e[e.R10=10]="R10"}(jn||(jn={}));var Wn=n(78584);let zn;if(function(){try{return localStorage.getItem("x"),!0}catch(e){return Wn.info("Local storage is not available",e),!1}}())zn=localStorage;else{let e={};zn={getItem:t=>t in e?e[t]:null,setItem(t,n){e[t]=n},removeItem(t){t in e&&delete e[t]},clear(){e={}}}}const Gn=zn;var Kn=n(13647);class qn{constructor(e,t,n=!0,s=0){return this.key=e,this.ttl=t,this.localStorage=n,this.refetchTtl=s,this}containsValue(e){return null!=e}valueValid(e,t){return!(!e||!e.timestamp)&&(new Date).getTime()<e.timestamp+t}ttlValid(e){return this.valueValid(e,this.ttl)}refetchTtlValid(e){return this.valueValid(e,this.refetchTtl)}async hasValue(){const e=await this.getStorage();return!(!this.containsValue(e)||!this.ttlValid(e))}async hasValueAndIsNotEmpty(){const e=await this.getStorage();return!!(this.containsValue(e)&&void 0!==e.data&&null!==e.data&&Object.keys(e.data).length&&this.ttlValid(e))}async fullState(){const e=await this.getStorage(),t=this.containsValue(e)&&this.refetchTtlValid(e),n=this.ttlValid(e);return{value:e,hasValue:t,isValid:n,refetch:t&&!n}}async getValue(){return(await this.getStorage()).data}async setValue(e){const t={data:e,timestamp:(new Date).getTime()};return this.localStorage?Gn.setItem(this.key,JSON.stringify(t)):Kn.storage.set(this.key,t)}async clearValue(){return this.localStorage?Gn.removeItem(this.key):Kn.storage.remove(this.key)}async getStorage(){return this.localStorage?JSON.parse(Gn.getItem(this.key)):Kn.storage.get(this.key)}}var Xn=n(13647),Yn=n(26017),Zn=n(78584);async function Jn(e,t){if(!t)return{};const n=await Xn.request.xhr("GET",`https://api.malsync.moe/nc/mal/${e}/${t}/pr`);return JSON.parse(n.responseText)}var Qn=n(13647);const es={years:31536e6,months:2592e6,weeks:6048e5,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1};class ts{constructor(e=Qn.storage.lang("locale")){return this.isFallback=!Intl.DurationFormat,this.locale=e,this}setLocale(e){return this.locale=e,this}setDuration(e){return this.duration=e,this}setDurationFormatted(e,t="Duration"){const n=ts.durationToMs(e);return this.setRelativeTime(n,"milliseconds",t),this}setRelativeTime(e,t,n="Duration"){const s=e*es[t];return this.duration=this.process(s,n),this}setTimestamp(e,t="Duration",n=Date.now()){const s=e-new Date(n).getTime();return this.setRelativeTime(s,"milliseconds",t),this}process(e,t){switch(t){case"Duration":return ss(e,["seconds","minutes","hours","days"]).duration;case"Progress":if(!e)break;return function(e){let t=e.days||0;return e.years?e.years>1?e.days&&e.days>182?{years:e.years+1}:{years:e.years}:{years:e.years,days:e.days}:((e.months||e.weeks)&&(t+=e.months?30*e.months:0,t+=e.weeks?7*e.weeks:0),t?t>3?e.hours&&e.hours>11?{days:t+1}:{days:t}:{days:t,hours:e.hours}:e.hours?e.hours>5?e.minutes&&e.minutes>29?{hours:e.hours+1}:{hours:e.hours}:{hours:e.hours,minutes:e.minutes}:e.minutes&&e.minutes>14?{minutes:e.minutes}:{minutes:e.minutes||0,seconds:e.seconds||0})}(ss(e,["seconds","minutes","hours","days","years"]).duration);case"M/H/D/Y":if(!e)break;return ss(e,["minutes","hours","days","years"]).duration;default:return{}}return{}}static durationToMs(e){const t=Object.keys(e);let n=0;if(t.length<=0)return n;for(let s=0;s<t.length;s++){const a=t[s],i=e[a];n+=es[a]*i}return n||0}getRelativeText(e={style:"narrow"}){if(!this.duration)return"";if(this.isFallback)return function(e){let t="";return e.years&&(1===e.years?t+=` ${e.years} ${Qn.storage.lang("bookmarksItem_Year")}`:t+=` ${e.years} ${Qn.storage.lang("bookmarksItem_Years")}`),e.days&&(1===e.days?t+=` ${e.days} ${Qn.storage.lang("bookmarksItem_Day")}`:t+=` ${e.days} ${Qn.storage.lang("bookmarksItem_Days")}`),e.hours&&(1===e.hours?t+=` ${e.hours} ${Qn.storage.lang("bookmarksItem_Hour")}`:t+=` ${e.hours} ${Qn.storage.lang("bookmarksItem_Hours")}`),e.minutes&&(1===e.minutes?t+=` ${e.minutes} ${Qn.storage.lang("bookmarksItem_min")}`:t+=` ${e.minutes} ${Qn.storage.lang("bookmarksItem_mins")}`),e.seconds&&(1===e.seconds?t+=` ${e.seconds} ${Qn.storage.lang("bookmarksItem_sec")}`:t+=` ${e.seconds} ${Qn.storage.lang("bookmarksItem_secs")}`),t.trim()}(this.duration);const t=e;if("significantLongNarrow"===e.style){const e=Object.keys(es);for(let n=0;n<e.length;n++){const s=e[n];if(this.duration[s]){t[s]="long",t.style="narrow";break}}}return new Intl.DurationFormat(this.locale,t).format(this.duration)}getDuration(){return this.duration}getLocale(){return this.locale}}class ns{constructor(e,t=Qn.storage.lang("locale")){if(this.locale=t,"string"==typeof e){const t=Number(e);if(!Number.isNaN(t))return this.date=new Date(t),this}return this.date=new Date(e),this}setDate(e){return this.date=new Date(e),this}setLocale(e){return this.locale=e,this}isValidDate(){return as(this.date)}isNow(){return function(e,t=Date.now(),n={seconds:30}){if(Number.isNaN(e))return!1;const s=new Date(t).getTime(),a=ts.durationToMs(n);return!(Math.abs(e-s)>a)}(this.date.getTime())}isFuture(){return this.date.getTime()>Date.now()}getDate(){return this.date}getLocale(){return this.locale}getDateTimeText(e={dateStyle:"medium"}){return as(this.date)?new Intl.DateTimeFormat(this.locale,e).format(this.date):""}getRelativeNowText(e="Duration",t){if(!this.isValidDate())return"";const n=new ts(this.locale);return n.setTimestamp(this.date.getTime(),e),n.getRelativeText(t)}getRelativeNowFriendlyText(e="Duration",t){if(!this.isValidDate())return"";if(this.isNow())return Qn.storage.lang("bookmarksItem_now");const n=this.getRelativeNowText(e,t);return this.isFuture()?n:Qn.storage.lang("bookmarksItem_ago",[n])}}function ss(e,t=["minutes","hours","days","years"],n=0){const s={},a=new Date(n).getTime();let i=Math.abs(a-e);const r=e>a;for(const e in es){if(!t.includes(e))continue;const n=Math.floor(i/es[e]);s[e]=n}const o=Object.keys(s);for(let e=1;e<o.length;e++){const t=o[e-1],n=s[t],a=o[e];i-=es[t]*n;const r=Math.floor(i/es[a]);s[a]=r}return{duration:s,isFuture:r}}function as(e){if(!e)return!1;if("number"==typeof e)return!0;const t="string"==typeof e?new Date(e):e;return t instanceof Date&&!Number.isNaN(t.getTime())}var is=n(78584),rs=n(13647);class os{constructor(e,t){return this.cacheKey=e,this.type=t,this.releaseItem=void 0,this.logger=is.m("progress").m(e.toString()),this}async initReleaseProgress(e){e&&await async function(e,t,n="default",s=Zn.m("release")){if(n||(n="default"),(s=s.m(e.uid.toString())).log(e.title,e.cacheKey,e.apiCacheKey,`Mode: ${n}`),!e.apiCacheKey)return void s.log("No Api Cache Id");if(!Xn.settings.get("epPredictions"))return void s.log("epPredictions disabled");const a=await Xn.storage.get(`release/${t}/${e.cacheKey}`);s.m("Load").log(a);let i,r=!1;if(a&&a.mode&&a.mode!==n&&(r=!0),a&&a.timestamp&&Date.now()-a.timestamp<12e4&&!r)return void s.log("Up to date");if(a&&a.finished&&a.timestamp&&Date.now()-a.timestamp<6048e5&&!r)return void s.log("Finished");if(a&&!a.value&&a.timestamp&&Date.now()-a.timestamp<864e5&&!r)return void s.log("Nulled");r&&s.log("Update forced"),"off"===n&&(s.log("Disabled"),e.xhr=[]),void 0!==e.xhr?i=e.xhr:(i=await Jn(t,e.apiCacheKey),await Yn.wait(500)),s.log(i);const o=function(e,t,n){const s={};if(!e.length)return null;let a;if("default"===t?(s.mainId="anime"===n?Xn.settings.get("progressIntervalDefaultAnime"):Xn.settings.get("progressIntervalDefaultManga"),s.fallback="en/sub"):s.mainId=t,s.fallbackPrediction="jp/dub",s.mainId){const t=e.find((e=>e.id===s.mainId));t&&(a=t)}if(s.fallback&&!a){const t=e.find((e=>e.id===s.fallback));t&&(a=t)}if(s.fallbackPrediction&&a&&!a.predicition&&a.lastEp&&a.lastEp.timestamp){const t=e.find((e=>e.id===s.fallbackPrediction)),n=a.lastEp.timestamp+6048e5;n&&t&&t.predicition&&(a.lastEp.total===t.lastEp.total?Math.abs(n-t.predicition.timestamp)<108e6&&(a.predicition={timestamp:n,probability:"medium"}):t.lastEp.total&&a.lastEp.total===t.lastEp.total-1&&Math.abs(n-(t.predicition.timestamp-6048e5))<108e6&&(a.predicition={timestamp:n,probability:"medium"}))}if(s.fallbackPrediction&&!a){const t=e.find((e=>e.id===s.fallbackPrediction));t&&t.lastEp&&t.predicition&&0===t.lastEp.total&&(a=t,a.predicition.probability="medium")}return a||null}(i,n,t);o||s.log("No value for the selected mode");let l=!1;o&&o.state&&"complete"===o.state&&(l=!0),s.m("Save").log(o),a&&a.value&&async function(e,t,n,s){try{if("anime"===s&&!Xn.settings.get("progressNotificationsAnime")||"manga"===s&&!Xn.settings.get("progressNotificationsManga"))return;if(e&&n&&n&&t.lastEp&&void 0!==t.lastEp.total&&n.lastEp&&n.lastEp.total&&t.lang===n.lang&&t.type===n.type&&t.lastEp.total<n.lastEp.total&&e.watchedEp+1===n.lastEp.total){let t;t=e.single?{title:e.title,text:Xn.storage.lang(`syncPage_malObj_nextEp_${s}`,[n.lastEp.total]),sticky:Xn.settings.get("notificationsSticky"),image:await e.single.getImage(),url:e.single.getStreamingUrl()?e.single.getStreamingUrl():e.single.getUrl()}:{title:e.title,text:Xn.storage.lang(`syncPage_malObj_nextEp_${s}`,[n.lastEp.total]),sticky:Xn.settings.get("notificationsSticky"),image:e.image,url:e.options&&e.options.u?e.options.u:e.url},Xn.request.notification(t)}}catch(e){Zn.error("Could not check notification Progress",e)}}(e,a.value,o,t),await Xn.storage.set(`release/${t}/${e.cacheKey}`,{timestamp:Date.now(),value:o,mode:n,finished:l})}(e,this.type,e.progressMode);const t=await rs.storage.get(`release/${this.type}/${this.cacheKey}`);this.logger.m("Init Release").log(t),t&&(function(e){if(e&&e.timestamp){const t=(new Date).getTime()-e.timestamp;if(e.finished&&t<6048e5)return!1;if(!e.value&&t<864e5)return!1;if(t<864e5)return!1}return!0}(t)?this.logger.log("Too old"):this.releaseItem=t)}getProgressCurrentEpisode(){const e=this.releaseItem;return e&&e.value&&e.value.lastEp&&e.value.lastEp.total?e.value.lastEp.total:null}isProgressFinished(){const e=this.releaseItem;return!(!e||!e.finished)}getProgressPrediction(){const e=this.releaseItem;return e&&e.value&&e.value.predicition&&e.value.predicition.timestamp?e.value.predicition.timestamp:null}getProgressLastTimestamp(){const e=this.releaseItem;return e&&e.value&&e.value.lastEp&&e.value.lastEp.timestamp?e.value.lastEp.timestamp:null}async init(e=!1){return await Promise.all([this.initReleaseProgress(e)]),this}getCurrentEpisode(){return rs.settings.get("epPredictions")?this.getProgressCurrentEpisode():null}isFinished(){return this.isProgressFinished()}isAiring(){return!this.isFinished()}getPredictionTimestamp(){return!this.getProgressPrediction()||(new Date).getTime()>this.getProgressPrediction()?NaN:this.getProgressPrediction()}getPrediction(){const e=Number(this.getPredictionTimestamp());return Number.isNaN(e)?"":new ns(e).getRelativeNowFriendlyText("Progress",{style:"significantLongNarrow"})}getPredictionText(){const e=Number(this.getPredictionTimestamp());if(Number.isNaN(e))return"";const t=new ns(Number(e)),n=t.getRelativeNowText("Progress",{style:"long"});return t.isValidDate()?t.isNow()?rs.storage.lang("bookmarksItem_now"):rs.storage.lang(`prediction_Episode_${this.type}`,[n]):""}getLastTimestamp(){return this.getProgressLastTimestamp()?this.getProgressLastTimestamp():NaN}getLast(){const e=Number(this.getLastTimestamp());return Number.isNaN(e)?"":new ns(e).getRelativeNowFriendlyText("Progress",{style:"significantLongNarrow"})}getLastText(){const e=Number(this.getLastTimestamp());if(Number.isNaN(e))return"";const t=new ns(Number(e)),n=t.getRelativeNowText("Progress",{style:"long"});return t.isValidDate()?t.isNow()?rs.storage.lang("bookmarksItem_now"):rs.storage.lang(`prediction_Last_${this.type}`,[n]):""}getAuto(){const e=this.getPrediction();if(e)return e;return this.getLast()||""}getAutoText(){const e=this.getPredictionText();if(e)return e;return this.getLastText()||""}getColor(){return"#f57c00"}getBars(e,t){const n=this.getCurrentEpisode(),s={totalWidth:100,epWidth:0,predWidth:0};if(!t)if(s.totalWidth=0,e&&(!n||e>=n))t=Math.ceil(1.2*e);else{if(!n||e&&!(e<n))return s;t=Math.ceil(1.2*n)}return e&&(s.epWidth=e/t*100,s.epWidth>100&&(s.epWidth=100)),n&&(s.predWidth=n/t*100,s.predWidth>100&&(s.predWidth=100)),s}}var ls=n(53011),cs=n(78584),us=n(13647);const hs=Math.floor(1e9*Math.random()),ms=new ls.EventEmitter2({wildcard:!0});function ps(e,...t){cs.m("Global").m("Emit").debug(e,...t),ms.emit(`${e}`,...t),void 0!==us&&us&&"webextension"===us.type&&chrome.runtime.sendMessage({name:"emitter",item:{event:e,params:t,id:hs}})}void 0!==us&&us&&"webextension"===us.type&&(chrome.runtime.sendMessage({name:"registerEmitter"}),chrome.runtime.onMessage.addListener(((e,t,n)=>{e.name&&"emitter"===e.name&&(cs.m("Global").m("Event").debug(e.item.id,e.item.event,e.item.params),e.item.id!==hs&&ms.emit(e.item.event,...e.item.params))}))),Error;class ds extends Error{constructor(e){super(e),this.name="SafeError"}}Error,Error;var gs=n(26017),fs=n(13647);class ys extends Error{constructor(e){super(e),this.name="NotAutenticatedError"}}class vs extends Error{constructor(e){super(e),this.name="UrlNotSupportedError"}}class bs extends Error{constructor(e){super(e),this.name="ServerOfflineError"}}class _s extends Error{constructor(e){super(e),this.name="NotFoundError"}}class ws extends Error{constructor(e){super(e),this.name="UnexpectedResponseError"}}function Es(e,t){return e instanceof ys?fs.storage.lang("Error_Authenticate",[t]):e instanceof bs?"Server Offline":e instanceof vs?`Incorrect url provided [${e.message}]`:e instanceof _s?"Could not find this entry":e.message}var Ss=n(13647);const ks={ui:{module:"dropdown"},getOptions:()=>[{value:0,label:Ss.storage.lang("UI_Score_Not_Rated")},{value:100,label:Ss.storage.lang("UI_Score_Masterpiece")},{value:90,label:Ss.storage.lang("UI_Score_Great")},{value:80,label:Ss.storage.lang("UI_Score_VeryGood")},{value:70,label:Ss.storage.lang("UI_Score_Good")},{value:60,label:Ss.storage.lang("UI_Score_Fine")},{value:50,label:Ss.storage.lang("UI_Score_Average")},{value:40,label:Ss.storage.lang("UI_Score_Bad")},{value:30,label:Ss.storage.lang("UI_Score_VeryBad")},{value:20,label:Ss.storage.lang("UI_Score_Horrible")},{value:10,label:Ss.storage.lang("UI_Score_Appalling")}],valueToOptionValue:e=>e?e<10?10:10*Math.round(e/10):0,optionValueToValue:e=>e?Number(e):0};var xs=n(78584),Ts=n(13647),As=n(26017),Is=n(7263);Object.seal(ms);class $s{constructor(e){return this.url=e,this.type=null,this.syncMethod="normal",this.askCompleted=!1,this.rewatchingSupport=!0,this.datesSupport=!0,this.ids={mal:NaN,ani:NaN,kitsu:{id:NaN,slug:""},simkl:NaN},this.options=null,this.progress=!1,this.updateProgress=!1,this._onList=!1,this._authenticated=!1,this.handleUrl(e),this.logger=xs.m("[S]","#348fff"),this}getType(){return this.type}getUrl(){return this.url}supportsRewatching(){return this.rewatchingSupport}supportsDates(){return this.datesSupport}getApiCacheKey(){return this.getKey(["ANILIST"])}getRulesCacheKey(){return this.getKey(["ANILIST","KITSU"],!1)}setStatus(e){return e=Number(e),this._setStatus(e),this}getStatus(){return this.isOnList()?this._getStatus():Dn.NoState}setStartDate(e){return this.supportsDates()&&this._setStartDate(e),this}getStartDate(){return this.supportsDates()?this._getStartDate():null}setFinishDate(e){return this.supportsDates()&&this._setFinishDate(e),this}getFinishDate(){return this.supportsDates()?this._getFinishDate():null}setRewatchCount(e){return this.supportsRewatching()&&this._setRewatchCount(e),this}getRewatchCount(){return this.supportsRewatching()?this._getRewatchCount():null}getScoreMode(){return ks}setScore(e){return(e=parseInt(`${e}`))||(e=0),this._setScore(e),this}getScore(){return this._getScore()||0}setAbsoluteScore(e){return e=parseInt(`${e}`),this._setAbsoluteScore(e),this}getAbsoluteScore(){return this._getAbsoluteScore()||0}setEpisode(e){return e=parseInt(`${e}`),this.getTotalEpisodes()&&e>this.getTotalEpisodes()&&(e=this.getTotalEpisodes()),this._setEpisode(e),this}getEpisode(){return this._getEpisode()}setVolume(e){return this._setVolume(e),this}getVolume(){return this._getVolume()}setStreamingUrl(e){return this.options&&(this.options.u=e),this}getStreamingUrl(){if(this.options&&this.options.u)return this.options.u}cleanTags(){this.options=null}async initProgress(){const e=await Jn(this.getType(),this.getApiCacheKey());return new os(this.getCacheKey(),this.getType()).init({uid:this.getCacheKey(),apiCacheKey:this.getApiCacheKey(),title:this.getTitle(),cacheKey:this.getCacheKey(),progressMode:this.getProgressMode(),watchedEp:this.getEpisode(),single:this,xhr:e}).then((t=>{this.updateProgress=!1,this.progress=t,this.progressXhr=e}))}getProgress(){return!!this.progress&&this.progress}getProgressFormated(){const e=[],t=new Intl.DisplayNames("en",{type:"language"});return xs.log(this.progressXhr),this.progressXhr&&Object.keys(this.progressXhr).length&&this.progressXhr.forEach((n=>{e.push({type:n.type,key:n.id,state:n.state,label:t.of(n.lang.replace(/^jp$/,"ja"))||n.lang,dropped:"dropped"===n.state||"discontinued"===n.state,episode:n.lastEp&&n.lastEp.total?n.lastEp.total:0,lastEp:n.lastEp,predicition:n.prediction})})),e}getProgressOptions(){return this.getProgressFormated().filter((e=>"complete"!==e.state))}getProgressCompleted(){return this.getProgressFormated().filter((e=>"complete"===e.state))}getProgressMode(){return this.options&&this.options.p?this.options.p:""}setProgressMode(e){this.options&&(this.options.p=e,this.updateProgress=!0),Ts.settings.get("malTags")||As.setEntrySettings(this.type,this.getCacheKey(),this.options,this._getTags()).then((()=>this.initProgress()))}getProgressKey(){let e=this.getProgressMode();if(e||(e="anime"===this.getType()?Ts.settings.get("progressIntervalDefaultAnime"):Ts.settings.get("progressIntervalDefaultManga")),!e)return null;const t=/^([^/]*)\/(.*)$/.exec(e);return t?{key:e,lang:t[1],type:t[2]}:null}getPageRelations(){const e=this.shortName,t=[];return this.ids.mal&&"MAL"!==e&&t.push({name:"MAL",icon:"https://cdn.myanimelist.net/images/favicon.ico",link:`https://myanimelist.net/${this.type}/${this.ids.mal}`}),this.ids.ani&&"AniList"!==e&&t.push({name:"AniList",icon:"https://anilist.co/img/icons/favicon-32x32.png",link:`https://anilist.co/${this.type}/${this.ids.ani}`}),this.ids.kitsu.id&&"Kitsu"!==e&&t.push({name:"Kitsu",icon:"https://kitsu.app/favicon-32x32-3e0ecb6fc5a6ae681e65dcbc2bdf1f17.png",link:`https://kitsu.app/${this.type}/${this.ids.kitsu.id}`}),this.ids.simkl&&"Simkl"!==e&&t.push({name:"Simkl",icon:"https://eu.simkl.in/img_favicon/v2/favicon-32x32.png",link:`https://simkl.com/${this.type}/${this.ids.simkl}`}),t}fillRelations(){return Promise.resolve()}update(){return this.logger.log("[SINGLE]","Update info",this.ids),this.lastError=null,this._update().catch((e=>{throw this.lastError=e,e})).then((()=>(this.persistanceState=this.getStateEl(),As.getEntrySettings(this.type,this.getCacheKey(),this._getTags())))).then((e=>{this.options=e,this.registerEvent(),this.emitUpdate("state")}))}async sync(){return this.logger.log("[SINGLE]","Sync",this.ids),this.lastError=null,this._setTags(await As.setEntrySettings(this.type,this.getCacheKey(),this.options,this._getTags())),this.fixDates(),this._sync().catch((e=>{throw this.lastError=e,e})).then((()=>{this.undoState=this.persistanceState,this.updateProgress&&this.initProgress(),this._onList=!0,this.emitUpdate()}))}emitUpdate(e="update"){ps(`${e}.${this.getCacheKey()}`,{id:this.getPageId(),type:this.getType(),cacheKey:this.getCacheKey(),state:this.getStateEl(),meta:{title:this.getTitle(),image:this.getImage(),malId:this.getMalId(),totalEp:this.getTotalEpisodes(),url:this.getUrl()}})}async delete(){return this._delete().then((()=>{this._onList=!1,ps(`delete.${this.getCacheKey()}`,{id:this.getPageId(),type:this.getType(),cacheKey:this.getCacheKey()})}))}registerEvent(){this.globalUpdateEvent||(this.globalUpdateEvent=ms.on(`update.${this.getCacheKey()}`,(e=>this.updateEvent(e))))}updateEvent(e){this.isDirty()?this.logger.log("Ignore event"):e&&e.state&&(this.setStateEl(e.state),this.persistanceState=this.getStateEl(),ms.emit("syncPage_fillUi"))}isDirty(){return JSON.stringify(this.persistanceState)!==JSON.stringify(this.getStateEl())||this.updateProgress}undo(){if(this.logger.log("[SINGLE]","Undo",this.undoState),!this.undoState)throw new ds("No undo state found");if(!this.undoState.onList){if(void 0===this.delete)throw new Error("Deleting an entry is not supported");return this.delete().then((()=>{this.setStateEl(this.undoState),this.undoState=null}))}return this.setStateEl(this.undoState),this.sync().then((()=>{this.undoState=null}))}getTitle(e=!1){return this._getTitle(e)}getTotalEpisodes(){let e=this._getTotalEpisodes();return e||(e=0),e}getTotalVolumes(){return this._getTotalVolumes()}isOnList(){return this._onList}isAuthenticated(){return this._authenticated}getDisplayUrl(){return this._getDisplayUrl()}getMalUrl(){return Number.isNaN(this.ids.mal)?null:`https://myanimelist.net/${this.getType()}/${this.ids.mal}`}getMalId(){return Number.isNaN(this.ids.mal)?null:this.ids.mal}getIds(){return this.ids}getImage(){return this._getImage()}getRating(){return this._getRating().then((e=>e||"N/A"))}setResumeWatching(e,t){return As.setResumeWaching(e,t,this.type,this.getCacheKey())}getResumeWatching(){return this.options&&this.options.r?this.options.r:null}setContinueWatching(e,t){return As.setContinueWaching(e,t,this.type,this.getCacheKey())}getContinueWatching(){return this.options&&this.options.c?this.options.c:null}increaseRewatchCount(){}getStateEl(){return{onList:this.isOnList(),episode:this.getEpisode(),volume:this.getVolume(),status:this.getStatus(),startDate:this.getStartDate(),finishDate:this.getFinishDate(),rewatchCount:this.getRewatchCount(),score:this.getScore(),absoluteScore:this.getAbsoluteScore()}}setStateEl(e){this._onList=e.onList,this.setEpisode(e.episode),this.setVolume(e.volume),this.setStatus(e.status),this.setStartDate(e.startDate),this.setFinishDate(e.finishDate),this.setRewatchCount(e.rewatchCount),this.setScore(e.score),e.absoluteScore&&this.setAbsoluteScore(e.absoluteScore)}getStateDiff(){const e=this.getStateEl();if(e&&this.undoState){const t={};for(const n in e)e[n]!==this.undoState[n]&&(t[n]=e[n]);return t}}getSyncMethod(){return this.syncMethod}setSyncMethod(e){this.syncMethod=e}fixDates(){if(!this.supportsDates()||"listSync"===this.getSyncMethod())return;const e=(0,gs.returnYYYYMMDD)();null===this.getStartDate()&&this._getStatus()===Dn.Watching&&this._getEpisode()>0&&this.setStartDate(e),null===this.getFinishDate()&&this._getStatus()===Dn.Completed&&(this.setFinishDate(e),null===this.getStartDate()&&this.setStartDate(e))}async lifeCycleHook(e){this.askCompleted&&("afterCheckSync"===e&&Ts.settings.get("askBefore")||"beforeSync"===e&&!Ts.settings.get("askBefore"))&&(this.askCompleted=!1,this.getStatus()===Dn.Rewatching?await this.finishRewatchingMessage():await this.finishWatchingMessage())}async checkSync(e,t){const n=this.getEpisode(),s=this.getStatus(),a=this.getVolume();return s===Dn.Completed?1===e&&this.startRewatchingMessage():!(n>=e&&!(void 0!==t&&(a||t>1||!e)&&t>a))&&(e&&e===this.getTotalEpisodes()?(this.askCompleted=!0,!0):s===Dn.Watching||s===Dn.Rewatching||this.startWatchingMessage())}async startWatchingMessage(){return As.flashConfirm(Ts.storage.lang(`syncPage_flashConfirm_start_${this.getType()}`),"add").then((e=>(e&&(this.setStatus(Dn.Watching),this.setStartDate((0,gs.returnYYYYMMDD)())),e)))}async finishWatchingMessage(){const e=this.getScoreCheckboxValue();let t='<div><select id="finish_score" style="margin-top:5px; color:white; background-color:#4e4e4e; border: none;">';return this.getScoreCheckbox().forEach((n=>{t+=`<option value="${n.value}" ${e===n.value?"selected":""}>${n.label}</option>`})),t+="</select></div>",As.flashConfirm(Ts.storage.lang("syncPage_flashConfirm_complete")+t,"complete").then((e=>(e&&(this.setStatus(Dn.Completed),this.setFinishDate((0,gs.returnYYYYMMDD)()),this.getStartDate()||this.setStartDate((0,gs.returnYYYYMMDD)()),Number(Is.$("#finish_score").val())>0&&(this.logger.log(`finish_score: ${Is.$("#finish_score :selected").val()}`),this.handleScoreCheckbox(Is.$("#finish_score :selected").val()))),e)))}async startRewatchingMessage(){return As.flashConfirm(Ts.storage.lang(`syncPage_flashConfirm_rewatch_start_${this.getType()}`),"add").then((e=>(e&&this.setStatus(Dn.Rewatching),e)))}async finishRewatchingMessage(){return As.flashConfirm(Ts.storage.lang(`syncPage_flashConfirm_rewatch_finish_${this.getType()}`),"complete").then((e=>(e&&(this.setStatus(Dn.Completed),this.increaseRewatchCount()),e)))}getScoreCheckbox(){return this.getScoreMode().getOptions()}getScoreCheckboxValue(){return this.getScoreMode().valueToOptionValue(this.getAbsoluteScore())}handleScoreCheckbox(e){this.setAbsoluteScore(this.getScoreMode().optionValueToValue(e))}getDisplayScoreCheckbox(){const e=this.getScoreCheckboxValue(),t=this.getScoreCheckbox().filter((t=>t.value===e));return t.length?t[0].label:""}getStatusCheckbox(){const e=[{value:Dn.Watching.toString(),label:Ts.storage.lang(`UI_Status_watching_${this.getType()}`)},{value:Dn.Completed.toString(),label:Ts.storage.lang("UI_Status_Completed")},{value:Dn.Onhold.toString(),label:Ts.storage.lang("UI_Status_OnHold")},{value:Dn.Dropped.toString(),label:Ts.storage.lang("UI_Status_Dropped")},{value:Dn.PlanToWatch.toString(),label:Ts.storage.lang(`UI_Status_planTo_${this.getType()}`)}];return this.supportsRewatching()&&e.push({value:Dn.Rewatching.toString(),label:Ts.storage.lang(`UI_Status_Rewatching_${this.getType()}`)}),e}handleStatusCheckbox(e){this.setStatus(e)}getStatusCheckboxValue(){return this.getStatus()}getKey(e,t=!0){return t&&this.ids.mal?this.ids.mal:this.ids.ani&&e.includes("ANILIST")?`anilist:${this.ids.ani}`:this.ids.kitsu.id&&e.includes("KITSU")?`kitsu:${this.ids.kitsu.id}`:this.ids.simkl&&e.includes("SIMKL")?`simkl:${this.ids.simkl}`:this.ids.mal}getLastError(){return this.lastError}getLastErrorMessage(){return this.errorMessage(this.getLastError())}flashmError(e){As.flashm(this.errorMessage(e),{error:!0,type:"error"})}errorMessage(e){return Es(e,this.authenticationUrl)}}var Ns=n(78584),Ls=n(13647);const Cs=Ns.m("anilist","#3db4f2");function Os(e,t=null){const n={CURRENT:Dn.Watching,PLANNING:Dn.PlanToWatch,COMPLETED:Dn.Completed,DROPPED:Dn.Dropped,PAUSED:Dn.Onhold,REPEATING:Dn.Watching};return null!==t?Object.keys(n).find((e=>n[e]===t)):n[e]}var Ms;function Rs(e){return e?.year&&e?.month&&e?.day?`${String(e.year).padStart(4,"0")}-${String(e.month).padStart(2,"0")}-${String(e.day).padStart(2,"0")}`:null}function Ps(e){const t={year:null,month:null,day:null},n=e?.match(/^(\d{4})-(\d{2})-(\d{2})$/);return n?.[1]&&n?.[2]&&n?.[3]&&(t.year=parseInt(n[1]),t.month=parseInt(n[2]),t.day=parseInt(n[3])),t}function Ds(e,t){return Number.isNaN(e)||!e?`anilist:${t}`:e}async function Us(e,t,n=!0){if(n&&!Ls.settings.get("anilistToken"))throw new ys("No token found");const s={"Content-Type":"application/json",Accept:"application/json"};return Ls.settings.get("anilistToken")&&(s.Authorization=`Bearer ${Ls.settings.get("anilistToken")}`),Ls.request.xhr("POST",{url:"https://graphql.anilist.co",headers:s,data:JSON.stringify({query:e,variables:t})}).then((s=>{try{const a=function(e){try{return JSON.parse(e)}catch(e){throw new ws(e.message)}}(s.responseText);if(void 0!==a.errors&&a.errors.length){Cs.error("[SINGLE]","Error",a.errors);const s=a.errors[0];switch(s.status){case 400:if("Invalid token"===s.message&&!n)return Ls.settings.set("anilistToken",null),Us(e,t,n);if("validation"===s.message)throw new Error("Wrong request format");if(s.message.includes("invalid"))throw new Error("Wrong request format");throw new ys(s.message);case 404:throw new _s(s.message);default:throw new Error(s.message)}}return a}catch(e){if(e instanceof ws){if(s.status>499&&s.status<600||0===s.status)throw new bs(`Server Offline status: ${s.status}`);if(403===s.status)throw new Error(Ls.storage.lang("Error_Blocked",["AniList"]))}throw e}}))}function js(e){return!e||e.endsWith("/default.jpg")?"":e}!function(e){e[e.CURRENT=Dn.Watching]="CURRENT",e[e.PLANNING=Dn.PlanToWatch]="PLANNING",e[e.COMPLETED=Dn.Completed]="COMPLETED",e[e.DROPPED=Dn.Dropped]="DROPPED",e[e.PAUSED=Dn.Onhold]="PAUSED",e[e.REPEATING=Dn.Rewatching]="REPEATING"}(Ms||(Ms={}));var Fs=n(13647);const Vs={ui:{module:"input",pattern:"^([0-9]{1,2}|100)$"},getOptions(){const e=[{value:0,label:Fs.storage.lang("UI_Score_Not_Rated")}];for(let t=1;t<101;t++)e.push({value:t,label:String(t)});return e},valueToOptionValue:e=>e?Number(e):0,optionValueToValue:e=>e?Number(e):0};var Bs=n(13647);const Hs={ui:{module:"click",type:"smiley"},getOptions:()=>[{value:0,label:Bs.storage.lang("UI_Score_Not_Rated")},{value:85,label:""},{value:60,label:""},{value:35,label:""}],valueToOptionValue:e=>e?e>=73?85:e<=47?35:60:0,optionValueToValue:e=>e?Number(e):0};var Ws=n(13647);const zs={ui:{module:"click",type:"star"},getOptions:()=>[{value:0,label:Ws.storage.lang("UI_Score_Not_Rated")},{value:90,label:""},{value:70,label:""},{value:50,label:""},{value:30,label:""},{value:10,label:""}],valueToOptionValue:e=>e?e<20?10:e<40?30:e<60?50:e<80?70:90:0,optionValueToValue:e=>e?Number(e):0};var Gs=n(13647);const Ks={ui:{module:"input",pattern:"^([0-9](\\.[0-9]?)?|10(.0)?)$"},getOptions(){const e=[{value:0,label:Gs.storage.lang("UI_Score_Not_Rated")}];for(let t=1;t<101;t++)e.push({value:t/10,label:(t/10).toFixed(1)});return e},valueToOptionValue:e=>e?Number(e/10):0,optionValueToValue:e=>e?Number(10*e):0};var qs=n(78584),Xs=n(26017),Ys=n(13647);class Zs extends $s{constructor(e){return super(e),this.url=e,this.displayUrl="",this.shortName="AniList",this.authenticationUrl="https://anilist.co/api/v2/oauth/authorize?client_id=1487&response_type=token",this.logger=qs.m(this.shortName,"#3db4f2"),this}handleUrl(e){if(e.match(/anilist\.co\/(anime|manga)\/\d*/i))return this.type="anime"===Xs.urlPart(e,3)?"anime":"manga",void(this.ids.ani=Number(Xs.urlPart(e,4)));if(e.match(/myanimelist\.net\/(anime|manga)\/\d*/i))return this.type="anime"===Xs.urlPart(e,3)?"anime":"manga",void(this.ids.mal=Number(Xs.urlPart(e,4)));throw new vs(e)}getCacheKey(){return this.getKey(["ANILIST"])}getPageId(){return this.ids.ani}_getStatus(){return parseInt(Ms[this.animeInfo.mediaListEntry.status])}_setStatus(e){this.animeInfo.mediaListEntry.status=Ms[e]}_getStartDate(){return Rs(this.animeInfo.mediaListEntry.startedAt)}_setStartDate(e){this.animeInfo.mediaListEntry.startedAt=Ps(e)}_getFinishDate(){return Rs(this.animeInfo.mediaListEntry.completedAt)}_setFinishDate(e){this.animeInfo.mediaListEntry.completedAt=Ps(e)}_getRewatchCount(){return this.animeInfo.mediaListEntry.repeat}_setRewatchCount(e){this.animeInfo.mediaListEntry.repeat=e}_getScore(){if(0===Number(this.animeInfo.mediaListEntry.score))return 0;const e=Math.round(Number(this.animeInfo.mediaListEntry.score)/10);return 0===e?1:e}_setScore(e){this.animeInfo.mediaListEntry.score=10*e}_getAbsoluteScore(){return Number(this.animeInfo.mediaListEntry.score)}_setAbsoluteScore(e){this.animeInfo.mediaListEntry.score=Number(e)}_getEpisode(){return this.animeInfo.mediaListEntry.progress}_setEpisode(e){this.animeInfo.mediaListEntry.progress=parseInt(`${e}`)}_getVolume(){return this.animeInfo.mediaListEntry.progressVolumes}_setVolume(e){this.animeInfo.mediaListEntry.progressVolumes=e}_getTags(){let e=this.animeInfo.mediaListEntry.notes;return null!==e&&"null"!==e||(e=""),e}_setTags(e){this.animeInfo.mediaListEntry.notes=e}_getTitle(){return this.animeInfo.title.userPreferred}_getTotalEpisodes(){const e=this.animeInfo.episodes?this.animeInfo.episodes:this.animeInfo.chapters;return null===e?0:e}_getTotalVolumes(){return this.animeInfo.volumes||0}_getDisplayUrl(){return""!==this.displayUrl&&null!==this.displayUrl?this.displayUrl:this.url}_getImage(){return js(this.animeInfo.coverImage.large)}_getRating(){return Promise.resolve(this.animeInfo.averageScore)}async _update(){let e=this.ids.mal,t="idMal";Number.isNaN(this.ids.mal)&&(e=this.ids.ani,t="id");const n=`\n    query ($id: Int, $type: MediaType) {\n      Media (${t}: $id, type: $type) {\n        id\n        idMal\n        siteUrl\n        episodes\n        chapters\n        volumes\n        averageScore\n        coverImage{\n          large\n        }\n        title {\n          userPreferred\n        }\n        mediaListEntry {\n          id\n          status\n          startedAt {\n            year\n            month\n            day\n          }\n          completedAt {\n            year\n            month\n            day\n          }\n          progress\n          progressVolumes\n          score(format: POINT_100)\n          repeat\n          notes\n        }\n      }\n    }\n    `,s={id:e,type:this.type.toUpperCase()};return this._authenticated=!0,this.apiCall(n,s).catch((e=>{if(e instanceof ys)return this._authenticated=!1,this.apiCall(n,s,!1);throw e})).then((e=>{if(this.logger.log("[SINGLE]","Data",e),this.animeInfo=e.data.Media,this.ids.ani=this.animeInfo.id,Number.isNaN(this.ids.mal)&&this.animeInfo.idMal&&(this.ids.mal=this.animeInfo.idMal),this.displayUrl=this.animeInfo.siteUrl,this._onList=!0,null===this.animeInfo.mediaListEntry&&(this._onList=!1,this.animeInfo.mediaListEntry={notes:"",progress:0,progressVolumes:0,repeat:0,score:0,status:"PLANNING",startedAt:{year:null,month:null,day:null},completedAt:{year:null,month:null,day:null}}),!this._authenticated)throw new ys("Not Authenticated")}))}async _sync(){let e="\n      mutation ($mediaId: Int, $status: MediaListStatus, $startedAt: FuzzyDateInput, $completedAt: FuzzyDateInput, $progress: Int, $scoreRaw: Int, $repeat: Int, $notes: String) {\n        SaveMediaListEntry (mediaId: $mediaId, status: $status, startedAt: $startedAt, completedAt: $completedAt, progress: $progress, scoreRaw: $scoreRaw, repeat: $repeat, notes: $notes) {\n          id\n          status\n          progress\n        }\n      }\n    ";const t={mediaId:this.ids.ani,status:this.animeInfo.mediaListEntry.status,startedAt:this.animeInfo.mediaListEntry.startedAt,completedAt:this.animeInfo.mediaListEntry.completedAt,progress:this.animeInfo.mediaListEntry.progress,scoreRaw:this.animeInfo.mediaListEntry.score,repeat:this.animeInfo.mediaListEntry.repeat,notes:this.animeInfo.mediaListEntry.notes,volumes:null};return"manga"===this.type&&(e="\n        mutation ($mediaId: Int, $status: MediaListStatus, $startedAt: FuzzyDateInput, $completedAt: FuzzyDateInput, $progress: Int, $scoreRaw: Int, $repeat: Int, $notes: String, $volumes: Int) {\n          SaveMediaListEntry (mediaId: $mediaId, status: $status, startedAt: $startedAt, completedAt: $completedAt, progress: $progress, scoreRaw: $scoreRaw, repeat: $repeat, notes: $notes, progressVolumes: $volumes) {\n            id\n            status\n            progress\n            progressVolumes\n          }\n        }\n      ",t.volumes=this.animeInfo.mediaListEntry.progressVolumes),this.apiCall(e,t).then((e=>(e&&e.data&&e.data.SaveMediaListEntry&&e.data.SaveMediaListEntry.id&&(this.animeInfo.mediaListEntry.id=e.data.SaveMediaListEntry.id),e)))}apiCall(e,t,n=!0){return Us(e,t,n)}getScoreMode(){switch(Ys.settings.get("anilistOptions").scoreFormat){case"POINT_100":return Vs;case"POINT_3":return Hs;case"POINT_5":return zs;case"POINT_10_DECIMAL":return Ks;default:return ks}}_delete(){const e={mediaId:this.animeInfo.mediaListEntry.id};return this.apiCall("\n      mutation ($mediaId: Int) {\n        DeleteMediaListEntry(id: $mediaId) {\n          deleted\n        }\n      }\n    ",e)}}var Js=n(13647),Qs=n(78584),ea=n(26017);Object.seal(ms);class ta{constructor(e=1,t="anime",n="default"){return this.status=e,this.listType=t,this.sort=n,this.done=!1,this.loading=!1,this.firstLoaded=!1,this.seperateRewatching=!1,this.modes={frontend:!1,sortAiring:!1,initProgress:!1,cached:!1},this.username="",this.offset=0,this.templist=[],this.api=Js,this.cacheObj=void 0,this.status=Number(this.status),this.logger=Qs.m("[S]","#348fff"),this}setTemplist(e){return this.templist=e,this}getTemplist(){return this.templist}setSort(e){if(this.firstLoaded||this.loading)throw"To late to change sort";this.sort=e}isDone(){return this.done}isLoading(){return this.loading}isFirstLoaded(){return this.firstLoaded}async getCompleteList(){do{await this.getNext()}while(!this.done);return this.modes.sortAiring&&await this.sortAiringList(),this.modes.cached&&this.getCache().setValue(this.templist.slice(0,18)),this.firstLoaded=!0,this.templist}async getNextPage(){return this.done?this.templist:!this.modes.frontend||1!==this.status||"default"!==this.sort&&"unread"!==this.sort?(await this.getNext(),this.modes.cached&&this.getCache().setValue(this.templist.slice(0,24)),this.firstLoaded=!0,this.templist):(this.modes.sortAiring=!0,this.getCompleteList())}async getNext(){this.loading=!0;const e=await this.getPart();this.templist=this.templist.concat(e),this.loading=!1}async getCached(){if(await this.getCache().hasValue()){const e=await this.getCache().getValue();return e.forEach((e=>{(e=this.fn(e)).watchedEp="",e.score=""})),e}return[]}initFrontendMode(){this.modes.frontend=!0,this.updateListener=ms.on("update.*",(e=>{if(Qs.log("update",e),e.cacheKey){const t=this.templist.find((t=>t.cacheKey===e.cacheKey));Qs.log(t),t&&e.state&&(t.watchedEp=e.state.episode,t.score=e.state.score,t.status=e.state.status)}}),{objectify:!0})}destroy(){this.updateListener&&this.updateListener.off()}getUsername(){return this.getUserObject().then((e=>e.username))}getSortingOptions(e=!1){const t=[{icon:"filter_list",title:Js.storage.lang("settings_progress_default"),value:"default"}];return 1===this.status&&"manga"===this.listType&&t.push({icon:"adjust",title:Js.storage.lang("list_sorting_unread"),value:"unread"}),this._getSortingOptions().forEach((n=>{if(!e){if(n.asc){const e={...n};delete e.asc,e.value+="_asc",e.title+=" Ascending",t.push(e)}delete n.asc}t.push(n)})),t}flashmError(e){ea.flashm(this.errorMessage(e),{error:!0,type:"error"})}errorMessage(e){return Es(e,this.authenticationUrl)}async fn(e,t=""){let n=null;return e.fn={continueUrl:()=>null!==n?n:ea.getContinueWaching(e.type,e.cacheKey).then((t=>{const s=parseInt(e.watchedEp.toString());return void 0===t||t.ep!==s+1?"":(n=t.url,n)})),initProgress:()=>new os(e.cacheKey,e.type).init().then((t=>{e.fn.progress=t})),progress:!1},e.options=await ea.getEntrySettings(e.type,e.cacheKey,e.tags),t&&(e.options.u=t),(this.modes.sortAiring||this.modes.initProgress)&&await e.fn.initProgress(),e}async initProgress(){const e=[];this.templist.forEach((t=>{e.push(t.fn.initProgress())})),await Promise.all(e)}async sortAiringList(){if("unread"===this.sort)return void this.sortUnread();const e=[];let t=[],n=[];function s(e,t){let n=e.fn.progress.getPredictionTimestamp(),s=t.fn.progress.getPredictionTimestamp();return n||(n=999999999999),s||(s=n),n-s}this.templist.forEach((s=>{const a=s.fn.progress;"anime"===this.listType?a&&a.isAiring()&&a.getPredictionTimestamp()?s.watchedEp<a.getCurrentEpisode()?t.push(s):n.push(s):e.push(s):a&&a.isAiring()&&a.getCurrentEpisode()&&s.watchedEp&&s.watchedEp<a.getCurrentEpisode()&&s.watchedEp+6>a.getCurrentEpisode()?t.push(s):e.push(s)})),t=t.sort(s).reverse(),n=n.sort(s),this.templist=t.concat(n,e)}sortUnread(){this.templist=this.templist.sort((function(e,t){let n=1e4,s=1e4;if(e.fn.progress&&e.fn.progress.getCurrentEpisode()){const t=e.fn.progress.getCurrentEpisode()-e.watchedEp;t>0&&(n=t)}if(t.fn.progress&&t.fn.progress.getCurrentEpisode()){const e=t.fn.progress.getCurrentEpisode()-t.watchedEp;e>0&&(s=e)}return n-s}))}getCache(){return this.cacheObj||(this.cacheObj=new qn(`list/${this.name}/${this.listType}/${this.status}/${this.sort}`,1728e5)),this.cacheObj}}var na=n(13647),sa=n(78584);class aa extends ta{constructor(){super(...arguments),this.name="AniList",this.compact=!1,this.seperateRewatching=!0,this.authenticationUrl="https://anilist.co/api/v2/oauth/authorize?client_id=1487&response_type=token"}getUserObject(){return Us("\n    query {\n      Viewer {\n        name\n        id\n        avatar {\n          large\n        }\n        options {\n          displayAdultContent\n        }\n        mediaListOptions {\n          scoreFormat\n        }\n      }\n    }\n    ",[],!0).then((e=>{if(e.data.Viewer.options&&e.data.Viewer.mediaListOptions){const t=na.settings.get("anilistOptions");t.displayAdultContent=e.data.Viewer.options.displayAdultContent,t.scoreFormat=e.data.Viewer.mediaListOptions.scoreFormat,na.settings.set("anilistOptions",t)}return{username:e.data.Viewer.name,picture:e.data.Viewer.avatar.large||"",href:`https://anilist.co/user/${e.data.Viewer.id}`}}))}deauth(){return na.settings.set("anilistToken","")}accessToken(){return this.api.settings.get("anilistToken")}_getSortingOptions(){return[{icon:"sort_by_alpha",title:na.storage.lang("list_sorting_alpha"),value:"alpha"},{icon:"history",title:na.storage.lang("list_sorting_history"),value:"updated",asc:!0},{icon:"score",title:na.storage.lang("list_sorting_score"),value:"score",asc:!0}]}getOrder(e){switch(e){case"alpha":return"MEDIA_TITLE_ENGLISH";case"updated":return"UPDATED_TIME_DESC";case"updated_asc":return"UPDATED_TIME";case"score":return"SCORE_DESC";case"score_asc":return"SCORE";default:return this.status===Dn.Watching||(this.status,Dn.PlanToWatch),this.getOrder("updated")}}async getPart(){this.offset<1&&(this.offset=1),sa.log("[UserList][AniList]",`username: ${this.username}`,`status: ${this.status}`,`offset: ${this.offset}`),this.username||(this.username=await this.getUsername());let e="\n    query ($page: Int, $userName: String, $type: MediaType, $status: MediaListStatus, $sort: [MediaListSort] ) {\n      Page (page: $page, perPage: 100) {\n        pageInfo {\n          hasNextPage\n        }\n        mediaList (status: $status, type: $type, userName: $userName, sort: $sort) {\n          status\n          startedAt {\n            year\n            month\n            day\n          }\n          completedAt {\n            year\n            month\n            day\n          }\n          repeat\n          score(format: POINT_100)\n          progress\n          progressVolumes\n          notes\n          media {\n            siteUrl\n            id\n            idMal\n            episodes\n            chapters\n            volumes\n            status\n            averageScore\n            coverImage{\n              large\n              extraLarge\n            }\n            bannerImage\n            title {\n              userPreferred\n            }\n          }\n        }\n      }\n    }\n    ";this.compact&&(e="\n      query ($page: Int, $userName: String, $type: MediaType, $status: MediaListStatus, $sort: [MediaListSort]) {\n        Page (page: $page, perPage: 100) {\n          pageInfo {\n            hasNextPage\n          }\n          mediaList (status: $status, type: $type, userName: $userName, sort: $sort) {\n            progress\n            media {\n              id\n              idMal\n            }\n          }\n        }\n      }\n      ");const t={page:this.offset,userName:this.username,type:this.listType.toUpperCase(),status:Ms[parseInt(this.status.toString())],sort:null},n=this.getOrder(this.sort);return n&&(t.sort=n),Us(e,t,!0).then((e=>{sa.log("res",e);const t=e.data.Page.mediaList;return this.offset+=1,e.data.Page.pageInfo.hasNextPage||(this.done=!0),this.prepareData(t,this.listType)}))}async prepareData(e,t){const n=[];for(let s=0;s<e.length;s++){const a=e[s];let i;i="anime"===t?await this.fn({uid:a.media.id,malId:a.media.idMal,apiCacheKey:a.media.idMal??`anilist:${a.media.id}`,cacheKey:Ds(a.media.idMal,a.media.id),type:t,title:a.media.title.userPreferred,url:a.media.siteUrl,score:Math.round(a.score/10),watchedEp:a.progress,totalEp:a.media.episodes,status:Os(a.status),startDate:Rs(a.startedAt),finishDate:Rs(a.completedAt),rewatchCount:a.repeat,image:js(a.media.coverImage.large),imageLarge:js(a.media.coverImage.extraLarge),imageBanner:js(a.media.bannerImage),tags:a.notes,airingState:a.anime_airing_status}):await this.fn({uid:a.media.id,malId:a.media.idMal,apiCacheKey:a.media.idMal??`anilist:${a.media.id}`,cacheKey:Ds(a.media.idMal,a.media.id),type:t,title:a.media.title.userPreferred,url:a.media.siteUrl,score:Math.round(a.score/10),watchedEp:a.progress,readVol:a.progressVolumes,totalEp:a.media.chapters,totalVol:a.media.volumes,status:Os(a.status),startDate:Rs(a.startedAt),finishDate:Rs(a.completedAt),rewatchCount:a.repeat,image:js(a.media.coverImage.large),imageLarge:js(a.media.coverImage.extraLarge),imageBanner:js(a.media.bannerImage),tags:a.notes,airingState:a.anime_airing_status}),null===i.totalEp&&(i.totalEp=0),n.push(i)}return n}prepareCompact(e,t){const n=[];for(let t=0;t<e.length;t++){const s=e[t];n.push({malid:s.media.idMal,id:s.media.id,watchedEp:s.progress,cacheKey:Ds(s.media.idMal,s.media.id)})}return n}}var ia=n(13647),ra=n(78584);const oa=n(52163);function la(e,t,n){return function(e,t){let n=t.replace(/^\[l\]/i,"").trim(),s=[];const a=e.match(/{searchterm(\(.\))?(\[[^[\]]*\])?}/);if(!a)return e;const[i,r,o]=a;return o&&(s=o.substring(1,o.length-1).split(",")),s.includes("noLowercase")||(n=n.toLowerCase()),s.includes("noSpecial")?n=n.replace(/[^a-zA-Z\d ]/g,"").replace(/ +/g," ").trim():s.includes("specialReplace")&&(n=n.replace(/[^a-zA-Z\d ]/g," ").replace(/ +/g," ").trim()),n=s.includes("noEncode")?n.replace(/\//g," "):encodeURIComponent(n),r&&(n=n.replace(/(%20| )/g,r[1])),e.replace(i,n)}(e.replace("{searchtermPlus}","{searchterm(+)}").replace("{searchtermMinus}","{searchterm(-)}").replace("{searchtermUnderscore}","{searchterm(_)}").replace("{searchtermRaw}","{searchterm[noEncode,noLowercase]}").replace("{cacheId}",n),t)}let ca=null;function ua(){const e=ia.settings.get("quicklinks").map((e=>{return(t=e)?t.custom?t:function(){if(ca)return ca;const e=Object.values(ia.settings.getStaticChibi()).map((e=>({key:e.key,name:e.name,domain:"string"==typeof e.domain?e.domain:e.domain[0],database:e.database||null,search:"object"==typeof e.search?e.search:{anime:"anime"===e.type&&e.search||null,manga:"manga"===e.type&&e.search||null}})));return ca=[...oa,...e],ca}().find((e=>e.name===t)):null;var t})).filter((e=>e));return JSON.parse(JSON.stringify(e))}async function ha(e,t,n){let s=ua();if(t)try{s=await async function(e,t,n){const s=await async function(e,t){const n=`https://api.malsync.moe/mal/${e}/${t}`;return ia.request.xhr("GET",n).then((async e=>{if(ra.log("malSync response",e),400===e.status)return{};if(200===e.status){const t=JSON.parse(e.responseText);return t&&t.Sites?t.Sites:{}}throw new Error("malsync offline")}))}(t,n);return e.map((e=>(e.database&&s[e.database]&&(e.databaseLinks=s[e.database]),e)))}(s,e,t)}catch(e){ra.m("API Problem").error(e)}return function(e,t,n,s){return e.filter((e=>e.search&&e.search[t])).map((e=>{const a=[];let i;return e.databaseLinks?(i="link",Object.values(e.databaseLinks).forEach((e=>{a.push({name:e.title,url:e.url})}))):"home"===e.search[t]?(i="home",a.push({name:"Homepage",url:e.domain})):(i="search",a.push({name:"Quicksearch",url:la(e.search[t],n,s),fn:n=>la(e.search[t],n,s)})),{name:e.name,domain:e.domain,group:i,links:a}}))}(s,e,n,t)}const ma={class:"ms-data"},pa={class:"ms-loading"},da={class:"ms-data-inner"},ga=["title"],fa={key:1,class:"errorMessageText"},ya={class:"form progress"},va={class:"input-title"},ba={class:"ms-input-wrapper"},_a={class:"el-input-number is-controls-right"},wa={class:"el-input"},Ea=["pattern"],Sa={key:0,class:"ms-input-ep"},ka={props:{value:{default:0,type:Number},total:{default:0,type:Number},label:{default:"",type:String},pattern:{default:"^[0-9]*$",type:String},additionalSlot:{default:!1,type:Boolean}},emits:["update:value"],data:()=>({modelValue:0}),watch:{value:{handler(e){this.modelValue!==e&&(this.modelValue=e)},immediate:!0},modelValue:{handler(e,t){!e||String(e).match(new RegExp(this.pattern))?this.$emit("update:value",Number(e)):this.modelValue=t}}},methods:{increase(){(!this.total||this.modelValue<this.total)&&(this.modelValue=Math.floor(this.modelValue+1))},decrease(){this.modelValue>0&&(this.modelValue=Math.ceil(this.modelValue-1))}}};var xa=n(66262);const Ta=(0,xa.A)(ka,[["render",function(e,n,s,a,i,r){return mt(),ft("div",ya,[Et("div",va,(0,t.v_)(s.label),1),Et("div",ba,[Et("div",_a,[k(Et("span",{role:"button",class:"el-input-number__decrease ms-button",onClick:n[0]||(n[0]=e=>r.decrease())},n[3]||(n[3]=[Et("i",{class:"el-icon-arrow-down"},null,-1)]),512),[[sn,s.value]]),k(Et("span",{role:"button",class:"el-input-number__increase ms-button",onClick:n[1]||(n[1]=e=>r.increase())},n[4]||(n[4]=[Et("i",{class:"el-icon-arrow-up"},null,-1)]),512),[[sn,!(s.total&&s.value===s.total)]]),Et("div",wa,[k(Et("input",{"onUpdate:modelValue":n[2]||(n[2]=t=>e.modelValue=t),type:"text",autocomplete:"off",class:"el-input__inner",pattern:s.pattern},null,8,Ea),[[Tn,e.modelValue]])])]),s.additionalSlot||s.total?(mt(),ft("div",Sa,[s.total?(mt(),ft(rt,{key:0},[n[5]||(n[5]=xt(" / ")),te(e.$slots,"default"),xt(" "+(0,t.v_)(s.total),1)],64)):te(e.$slots,"default",{key:1})])):Tt("v-if",!0)])])}],["__file","input-number.vue"]]),Aa={key:0},Ia={class:"form progress"},$a={class:"input-title"},Na={class:"ms-input-wrapper"},La={class:"el-select"},Ca={class:"el-input el-input--suffix"},Oa=["value"],Ma={props:{value:{default:0,type:Number},options:{default:()=>[],type:Array},label:{default:"",type:String}},emits:["update:value"],data:()=>({modelValue:0}),watch:{value:{handler(e){this.modelValue!==e&&(this.modelValue=e)},immediate:!0},modelValue:{handler(e){this.$emit("update:value",Number(e))}}}},Ra=(0,xa.A)(Ma,[["render",function(e,n,s,a,i,r){return mt(),ft("div",Ia,[Et("div",$a,(0,t.v_)(s.label),1),Et("div",Na,[Et("div",La,[Et("div",Ca,[k(Et("select",{"onUpdate:modelValue":n[0]||(n[0]=t=>e.modelValue=t),autocomplete:"off",class:"el-input__inner"},[(mt(!0),ft(rt,null,ee(s.options,(e=>(mt(),ft("option",{key:e.value,value:e.value},(0,t.v_)(e.label),9,Oa)))),128))],512),[[An,e.modelValue]]),n[1]||(n[1]=Et("span",{class:"el-input__suffix"},[Et("span",{class:"el-input__suffix-inner"},[Et("i",{class:"el-select__caret el-input__icon el-icon-arrow-up"})])],-1))])])])])}],["__file","input-dropdown.vue"]]),Pa={class:"form progress"},Da={class:"input-title"},Ua={class:"ms-input-wrapper"},ja={class:"el-select"},Fa={class:"el-rate"},Va=["onClick","onMouseover"],Ba=["data-value"],Ha={key:1,class:"smile-score-wrap"},Wa={class:"el-rate"},za=["onClick","onMouseover"],Ga=["data-value"],Ka={props:{value:{default:0,type:Number},options:{default:()=>[],type:Array},label:{default:"",type:String},type:{default:"star",type:String}},emits:["update:value"],data:()=>({modelValue:0,hoverValue:null}),computed:{fillNumber(){return this.hoverValue?this.hoverValue:this.modelValue}},watch:{value:{handler(e){this.modelValue!==e&&(this.modelValue=e)},immediate:!0},modelValue:{handler(e){this.$emit("update:value",Number(e))}}},methods:{updateValue(e){e!==this.modelValue?this.modelValue=e:this.modelValue=0},hover(e){this.hoverValue=e}}},qa={components:{inputDropdown:Ra,inputNumber:Ta,inputClicker:(0,xa.A)(Ka,[["render",function(e,n,s,a,i,r){return mt(),ft("div",Pa,[Et("div",Da,(0,t.v_)(s.label),1),Et("div",Ua,[Et("div",ja,["star"===s.type?(mt(),ft("div",{key:0,class:(0,t.C4)(["star-score-wrap","stars-"+r.fillNumber])},[Et("div",Fa,[(mt(!0),ft(rt,null,ee(s.options.slice().reverse(),(s=>k((mt(),ft("span",{key:s.value,class:"el-rate__item",onClick:e=>r.updateValue(s.value),onMouseover:e=>r.hover(s.value),onMouseout:n[0]||(n[0]=e=>r.hover(null))},[Et("i",{class:(0,t.C4)(["el-rate__icon",{"el-icon-star-on":s.value<=r.fillNumber,"el-icon-star-off":s.value>r.fillNumber,hover:s.value===e.hoverValue}]),"data-value":s.value},null,10,Ba)],40,Va)),[[sn,s.value]]))),128))])],2)):"smiley"===s.type?(mt(),ft("div",Ha,[Et("div",Wa,[(mt(!0),ft(rt,null,ee(s.options.slice().reverse(),(s=>k((mt(),ft("span",{key:s.value,class:"el-rate__items",onClick:e=>r.updateValue(s.value),onMouseover:e=>r.hover(s.value),onMouseout:n[1]||(n[1]=e=>r.hover(null))},[Et("div",{class:(0,t.C4)(["el-rate__icon",{"smiley-off":s.value!=r.fillNumber,hover:s.value===e.hoverValue}]),"data-value":s.value},(0,t.v_)(s.label),11,Ga)],40,za)),[[sn,s.value]]))),128))])])):Tt("v-if",!0)])])])}],["styles",[".el-rate__icon[data-v-19f7151e]:hover {\n  cursor: pointer;\n}\n.stars-50 .el-rate__icon[data-v-19f7151e] {\n  color: #f7ba2a;\n}\n.stars-70 .el-rate__icon[data-v-19f7151e],\n.stars-90 .el-rate__icon[data-v-19f7151e] {\n  color: #ff9900;\n}\n.smiley-off[data-v-19f7151e] {\n  filter: grayscale(100%);\n}\n"]],["__scopeId","data-v-19f7151e"],["__file","input-clicker.vue"]])},props:{value:{default:0,type:Number},scoreModeStrategy:{default:null,type:Object},label:{default:"",type:String}},emits:["update:value"],data:()=>({modelValue:0}),watch:{value:{handler(e){this.modelValue!==e&&(this.modelValue=this.scoreModeStrategy.valueToOptionValue(e))},immediate:!0},modelValue:{handler(e){this.$emit("update:value",this.scoreModeStrategy.optionValueToValue(e))}}}},Xa=(0,xa.A)(qa,[["render",function(e,t,n,s,a,i){const r=Y("inputNumber"),o=Y("inputClicker"),l=Y("inputDropdown");return n.scoreModeStrategy?(mt(),ft("div",Aa,["input"===n.scoreModeStrategy.ui.module?(mt(),yt(r,{key:0,label:n.label,value:e.modelValue,pattern:n.scoreModeStrategy.ui.pattern,"onUpdate:value":t[0]||(t[0]=t=>e.modelValue=t)},null,8,["label","value","pattern"])):"click"===n.scoreModeStrategy.ui.module?(mt(),yt(o,{key:1,label:n.label,options:n.scoreModeStrategy.getOptions(),value:e.modelValue,type:n.scoreModeStrategy.ui.type,"onUpdate:value":t[1]||(t[1]=t=>e.modelValue=t)},null,8,["label","options","value","type"])):(mt(),yt(l,{key:2,label:n.label,options:n.scoreModeStrategy.getOptions(),value:e.modelValue,"onUpdate:value":t[2]||(t[2]=t=>e.modelValue=t)},null,8,["label","options","value"]))])):Tt("v-if",!0)}],["__file","score-mode.vue"]]);var Ya=n(13647),Za=n(26017),Ja=n(78584),Qa=n(7263);const ei={components:{inputNumber:Ta,scoreMode:Xa},data:()=>({lang:Ya.storage.lang,utils:Za,malObj:null,episode:null,score:null,volume:null,loading:!1,forceUpdateState:!1}),computed:{malObjEpisode(){return this.malObj?this.malObj.getEpisode():null},malObjScore(){return this.malObj?this.malObj.getAbsoluteScore():null},malObjVolume(){return this.malObj?this.malObj.getVolume():null},progress(){return this.malObj&&this.malObj.getProgress()&&this.malObj.getProgress().isAiring()&&this.malObj.getProgress().getCurrentEpisode()?this.malObj.getProgress():""},errorMessage(){return this.malObj&&this.malObj.getLastError()?this.malObj.getLastErrorMessage():""},onList(){return this.malObj&&this.malObj.isOnList()?this.malObj.isOnList():null}},watch:{malObj:{handler(e){e&&e.initProgress()},immediate:!0},malObjEpisode:{immediate:!0,handler(e){this.episode=e}},malObjScore:{immediate:!0,handler(e){this.score=e}},malObjVolume:{immediate:!0,handler(e){this.volume=e}},episode:{handler(e,t){this.malObj&&(this.malObj.setEpisode(e),!this.malObj.getTotalEpisodes()||this.malObj.getEpisode()!==this.malObj.getTotalEpisodes()||this.malObj.getStatus()!==Dn.Watching&&this.malObj.getStatus()!==Dn.PlanToWatch&&this.malObj.getStatus()!==Dn.NoState?this.malObj.getStatus()===Dn.Completed&&this.malObj.getTotalEpisodes()&&this.malObj.getEpisode()<this.malObj.getTotalEpisodes()?(this.malObj.setStatus(Dn.Watching),this.forceUpdateState=!0):t||!e||this.malObj.getStatus()!==Dn.PlanToWatch&&this.malObj.getStatus()!==Dn.NoState||(this.malObj.setStatus(Dn.Watching),this.forceUpdateState=!0):(this.malObj.setStatus(Dn.Completed),this.forceUpdateState=!0))}},score:{handler(e){this.malObj&&this.malObj.setAbsoluteScore(e)}},volume:{handler(e){this.malObj&&this.malObj.setVolume(e)}}},methods:{async reload(){if(this.malObj){this.loading=!0;try{await this.malObj.update()}catch(e){Ja.error(e)}this.loading=!1}},async update(){if(this.malObj){this.loading=!0;try{await this.malObj.sync(),await this.malObj.update()}catch(e){Ja.error(e)}this.loading=!1,this.forceUpdateState&&(this.forceUpdateState=!1,Qa.$(".cover-wrap-inner .list .add").click(),Za.waitUntilTrue((()=>Qa.$(".list-editor .el-icon-close").length),(()=>Qa.$(".list-editor .el-icon-close").click())))}},async addUpdate(){this.forceUpdateState=!0,await this.update()},hide(){this.$el.remove(),Ya.settings.set("anilistUpdateUi",!1)}}},ti=(0,xa.A)(ei,[["render",function(e,n,s,a,i,r){const o=Y("scoreMode"),l=Y("inputNumber"),c=J("directives","dompurify-html");return e.malObj?(mt(),ft("div",{key:0,id:"malsync-update-ui",class:(0,t.C4)({"malsync-loading":e.loading,"malsync-error":r.errorMessage,"malsync-not-list":!r.onList})},[Et("div",ma,[k(Et("div",pa,null,512),[[sn,e.loading]]),Et("div",da,[Et("span",{class:"remove-update-mal-sync",onClick:n[0]||(n[0]=e=>r.hide())},"x"),St(o,{label:e.lang("UI_Score"),value:e.score,"score-mode-strategy":e.malObj?e.malObj.getScoreMode():null,"onUpdate:value":n[1]||(n[1]=t=>e.score=t)},null,8,["label","value","score-mode-strategy"]),St(l,{label:e.utils.episode(e.malObj.getType()),total:e.malObj.getTotalEpisodes(),value:e.episode,"additional-slot":Boolean(r.progress),"onUpdate:value":n[2]||(n[2]=t=>e.episode=t)},{default:S((()=>[r.progress?(mt(),ft("span",{key:0,class:"mal-sync-ep",title:r.progress.getAutoText()},[n[6]||(n[6]=xt(" [")),Et("span",{style:(0,t.Tr)(`border-bottom: 1px dotted ${r.progress.getColor()};`)},(0,t.v_)(r.progress.getCurrentEpisode()),5),n[7]||(n[7]=xt("] "))],8,ga)):Tt("v-if",!0)])),_:1},8,["label","total","value","additional-slot"]),e.malObj&&"manga"===e.malObj.getType()&&r.onList?(mt(),yt(l,{key:0,label:e.lang("UI_Volume"),total:e.malObj.getTotalVolumes(),value:e.volume,"onUpdate:value":n[3]||(n[3]=t=>e.volume=t)},null,8,["label","total","value"])):Tt("v-if",!0),r.errorMessage?k((mt(),ft("span",fa,null,512)),[[c,r.errorMessage]]):Tt("v-if",!0),n[8]||(n[8]=Et("span",{class:"powered-malsync"},"Provided by MAL-Sync",-1))]),r.onList?!e.malObj.isDirty()||e.loading||r.errorMessage?Tt("v-if",!0):(mt(),ft("div",{key:1,class:"malsync-save",onClick:n[5]||(n[5]=e=>r.update())},(0,t.v_)(e.lang("Update")),1)):(mt(),ft("div",{key:0,class:(0,t.C4)(["malsync-add",{"ms-load":e.loading||r.errorMessage}]),onClick:n[4]||(n[4]=e=>r.addUpdate())},(0,t.v_)(e.lang("Add")),3))])],2)):Tt("v-if",!0)}],["styles",["#malsync-update-ui.malsync-loading,\n#malsync-update-ui.malsync-error {\n  pointer-events: none;\n}\n#malsync-update-ui.malsync-loading .ms-data-inner,\n#malsync-update-ui.malsync-error .ms-data-inner {\n  opacity: 0.4 !important;\n}\n#malsync-update-ui.malsync-not-list .ms-data-inner {\n  opacity: 0.4 !important;\n}\n#malsync-update-ui.malsync-not-list:hover .ms-data-inner {\n  opacity: 1 !important;\n}\n#malsync-update-ui.malsync-error {\n  pointer-events: none;\n}\n#malsync-update-ui.malsync-error .ms-data {\n  outline: solid 1px red;\n}\n#malsync-update-ui.malsync-error .ms-data-inner {\n  opacity: 1 !important;\n}\n#malsync-update-ui.malsync-error .powered-malsync {\n  opacity: 1 !important;\n  color: red !important;\n}\n#malsync-update-ui.malsync-error .ms-data-inner .progress {\n  opacity: 0.4 !important;\n}\n#malsync-update-ui.malsync-error .errorMessageText {\n  color: red;\n  margin-bottom: 15px;\n  text-align: center;\n}\n#malsync-update-ui .ms-data {\n  position: relative;\n  background: rgb(var(--color-foreground));\n  border-radius: 3px;\n  margin-bottom: 16px;\n  overflow: hidden;\n}\n#malsync-update-ui .ms-data .ms-data-inner {\n  opacity: 1;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  padding: 18px;\n  gap: 15px;\n  transition: opacity 0.1s ease-in-out;\n}\n#malsync-update-ui .ms-data .malsync-save,\n#malsync-update-ui .ms-data .malsync-add {\n  text-align: center;\n  background: rgb(var(--color-blue));\n  height: 28px;\n  vertical-align: middle;\n  line-height: 28px;\n  color: rgb(var(--color-white));\n  text-transform: uppercase;\n  font-size: 14px;\n  cursor: pointer;\n}\n#malsync-update-ui .ms-data .malsync-save.ms-load,\n#malsync-update-ui .ms-data .malsync-add.ms-load {\n  pointer-events: none;\n  opacity: 0.4;\n}\n#malsync-update-ui .ms-data .malsync-add {\n  background: rgb(var(--color-green));\n}\n#malsync-update-ui .ms-data:hover .powered-malsync {\n  opacity: 0.3;\n}\n#malsync-update-ui .ms-data .powered-malsync {\n  transition: opacity 0.2s ease-in-out;\n  opacity: 0.1;\n  position: absolute;\n  bottom: 5px;\n  left: 0;\n  width: 100%;\n  text-align: center;\n  font-size: 12px;\n  color: rgb(var(--color-text-secondary));\n}\n#malsync-update-ui .progress {\n  max-width: 229px;\n  margin-left: auto;\n  margin-right: auto;\n}\n#malsync-update-ui .el-input__inner,\n#malsync-update-ui .star-score-wrap,\n#malsync-update-ui .smile-score-wrap {\n  background: rgb(var(--color-background)) !important;\n  height: 27px;\n}\n#malsync-update-ui .star-score-wrap {\n  margin-top: 5px;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n#malsync-update-ui .star-score-wrap .el-rate__item {\n  cursor: pointer;\n}\n#malsync-update-ui .smile-score-wrap {\n  margin-top: 5px;\n  width: 100%;\n}\n#malsync-update-ui .smile-score-wrap .el-rate {\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  height: 100%;\n}\n#malsync-update-ui .ms-button {\n  width: 20px;\n  height: 18px;\n}\n#malsync-update-ui .ms-button.el-input-number__increase {\n  line-height: 20px;\n}\n#malsync-update-ui .ms-button.el-input-number__decrease {\n  line-height: 16px;\n}\n#malsync-update-ui .el-input-number {\n  width: auto;\n}\n#malsync-update-ui .el-select {\n  width: 100%;\n}\n#malsync-update-ui .el-select .el-input__inner {\n  line-height: normal;\n}\n#malsync-update-ui .el-select .el-input__suffix {\n  pointer-events: none;\n  right: 0;\n  top: 6px;\n}\n#malsync-update-ui .el-select .el-input__suffix * {\n  pointer-events: none !important;\n}\n#malsync-update-ui .ms-input-wrapper {\n  display: flex;\n  align-items: center;\n}\n#malsync-update-ui .ms-input-wrapper .ms-input-ep {\n  white-space: nowrap;\n  margin-left: 10px;\n}\n#malsync-update-ui .ms-loading {\n  position: absolute;\n  height: 4px;\n  width: 100%;\n  overflow: hidden;\n}\n#malsync-update-ui .ms-loading::before {\n  display: block;\n  position: absolute;\n  content: '';\n  left: -200px;\n  width: 200px;\n  height: 4px;\n  background: rgb(var(--color-blue));\n  animation: loading-mal 2s linear infinite;\n}\n@keyframes loading-mal {\n0% {\n    left: -200px;\n    width: 30%;\n}\n50% {\n    width: 30%;\n}\n70% {\n    width: 70%;\n}\n80% {\n    left: 50%;\n}\n95% {\n    left: 120%;\n}\n100% {\n    left: 100%;\n}\n}\n#malsync-update-ui .remove-update-mal-sync {\n  cursor: pointer;\n  position: absolute;\n  opacity: 0.4;\n  right: 5px;\n  top: 2px;\n  font-size: 12px;\n}\n"]],["__file","updateUi.vue"]]);var ni=n(26017),si=n(7263),ai=n(13647),ii=n(78584);class ri{constructor(e){this.url=e,this.page=null,this.authError=!1,this.tempAnimelist=null,this.tempMangalist=null;let t=!0;ni.changeDetect((()=>{this.url=window.location.href,this.init()}),(()=>{if(t)return void(t=!1);if(null!==this.page&&"bookmarks"===this.page.page&&$(".lists").length)return $(".lists").first().height();let e=$('meta[property="og:url"]').attr("content");return void 0!==e&&e.split("/").length>4?e.split("/").slice(0,6).join("/"):(e=window.location.href,e)})),si.$(document).on("click",".save-btn",(()=>{setTimeout((()=>{this.vueEl&&this.vueEl.reload()}),500)})),si.$(document).on("click",".delete-btn",(()=>{ni.waitUntilTrue((()=>!si.$(".delete-btn").length),(()=>{setTimeout((()=>{this.vueEl&&this.vueEl.reload()}),500)}))})),ni.waitUntilTrue((()=>si.$(".cover-wrap .list .el-dropdown-link").length),(()=>{const e=si.$(".cover-wrap .list .el-dropdown-link").attr("aria-controls");si.$(document).on("mousedown",`#${e} .el-dropdown-menu__item`,(()=>{setTimeout((()=>{this.vueEl&&this.vueEl.reload()}),500)}))})),ai.storage.addStyle(n(22344).toString())}async init(){await(0,gs.waitForPageToBeVisible)();const e=ni.urlPart(this.url,3);"anime"!==e&&"manga"!==e||(this.page={page:"detail",id:ni.urlPart(this.url,4),apiCacheKey:NaN,type:e},this.streamingUI(),Hn(this.page.id,this.page.type).then((e=>{this.page.apiCacheKey=e||`anilist:${this.page.id}`,ii.log("page",this.page),this.malToKiss()})));const t=ni.urlPart(this.url,5);"animelist"!==t&&"mangalist"!==t||(this.page={page:"bookmarks",type:t.substring(0,5)},this.bookmarks())}async getMalUrl(){const e=ni.urlPart(this.url,3);if("anime"===e||"manga"===e){const t=ni.urlPart(this.url,4);return Hn(Number(t),e).then((t=>t?`https://myanimelist.net/${e}/${t}/${ni.urlPart(this.url,5)}`:""))}return""}getImage(){return $(".header .cover").attr("src")||""}getTitle(){return $("h1").first().clone().children().remove().end().text().trim()}malToKiss(){$(document).ready((()=>{ii.log("malToKiss"),$(".mal_links").remove();const e=this.getTitle();ha(this.page.type,this.page.apiCacheKey,e).then((e=>{let t="";e.forEach((e=>{let n="";e.links.forEach((e=>{n+=`\n              <div class="mal_links" style="margin-top: 5px;">\n                <a target="_blank" href="${e.url}">\n                  ${e.name}\n                </a>\n              </div>`})),t+=`\n            <div id="${e.name}Links" class="mal_links" style="\n              background: rgb(var(--color-foreground));\n              border-radius: 3px;\n              display: block;\n              padding: 8px 12px;\n              width: 100%;\n              margin-bottom: 16px;\n              margin-top: 16px;\n              font-size: 1.2rem;\n              position: relative;\n              word-break: break-all;\n            ">\n              <img src="${ni.favicon(e.domain)}" height="16" width="16">\n              <span style="font-weight: 500; line-height: 16px; vertical-align: middle;">${e.name}</span>\n              <span title="${e.name}" class="remove-mal-sync" title="remove" style="position: absolute; top: 2px; right: 5px; cursor: pointer; opacity: 0.4;">x</span>\n              ${n}\n            </div>`})),$(".mal_links").remove(),"below"===ai.settings.get("quicklinksPosition")?$(".sidebar .data").after(si.html(t)):$(".sidebar .data").before(si.html(t)),$(".remove-mal-sync").click((function(){const e=$(this).attr("title");!function(e){const t=ia.settings.get("quicklinks");ia.settings.set("quicklinks",function(e,t){return t?e.filter((e=>!(!e||e===t||"object"==typeof e&&e.name===t))):e}(t,e))}(String(e)),window.location.reload()}))}))}))}async streamingUI(){ii.log("Streaming UI"),$("#mal-sync-stream-div").remove(),$(".malsync-rel-link").remove(),this.vueEl&&(this.vueEl.loading=!0);const e=new Zs(this.url);await e.update(),this.initVue(e),this.pageRelation(e);const t=e.getStreamingUrl();t&&$(document).ready((async function(){$("#mal-sync-stream-div").remove(),$("h1").first().append(si.html(`\n        <div class="data title progress" id="mal-sync-stream-div" style="margin-top: -2px; display: inline-block; position: relative; top: 2px;">\n          <a class="mal-sync-stream" title="${t?t.split("/")[2]:""}" target="_blank" style="margin: 0 0;" href="${t}">\n            <img src="${ni.favicon(t?t.split("/")[2]:"")}">\n          </a>\n        </div>`));const n=e.getResumeWatching(),s=e.getContinueWatching();ii.log("Resume",n,"Continue",s),s&&s.ep===e.getEpisode()+1?$("#mal-sync-stream-div").append(si.html(`<a class="nextStream" title="${ai.storage.lang(`overview_Continue_${e.getType()}`)}" target="_blank" style="margin: 0 5px 0 0; color: #BABABA;" href="${s.url}">\n              <img src="${ai.storage.assetUrl("double-arrow-16px.png")}" width="16" height="16">\n            </a>`)):n&&n.ep===e.getEpisode()&&$("#mal-sync-stream-div").append(si.html(`<a class="resumeStream" title="${ai.storage.lang(`overview_Resume_Episode_${e.getType()}`)}" target="_blank" style="margin: 0 5px 0 0; color: #BABABA;" href="${n.url}">\n              <img src="${ai.storage.assetUrl("arrow-16px.png")}" width="16" height="16">\n            </a>`))}))}async pageRelation(e){await e.fillRelations(),$(".malsync-rel-link").remove(),$("h1").first().append(si.html('<div class="malsync-rel-link" style="float: right;"></div>')),e.getPageRelations().forEach((e=>{$(".malsync-rel-link").append(si.html(`\n          <a href="${e.link}" target="_blank" title="${e.name}" class="link">\n            <img src="${e.icon}" width="16" width="16">\n          </a>\n\n        `))}))}bookmarks(){if(this.authError)return;const e=this;$(document).ready((()=>{if($(".list-entries .entry, .list-entries .entry-card").not(".malSyncDone").each(((e,t)=>{$(t).addClass("malSyncDone");let n=$(t).find(".notes").first().attr("label");void 0!==n&&(n=n.replace(/(malSync|last)::[\d\D]+::/,"").replace(/#,/,""),""===n.trim()||","===n.trim()?$(t).find(".notes").first().css("visibility","hidden"):$(t).find(".notes").first().attr("label",n))})),"anime"===this.page.type){if(null!==this.tempAnimelist)return void n(this.tempAnimelist)}else if(null!==this.tempMangalist)return void n(this.tempMangalist);const t=new aa(1,this.page.type);function n(t){ii.log(t),$.each(t,(async(t,n)=>{const s=$(`.entry:not(.malSyncDone2) a[href^="/${e.page.type}/${n.uid}/"], .entry-card:not(.malSyncDone2) a[href^="/${e.page.type}/${n.uid}/"]`);if(s.length){const e=s.first().parent();e.parent().addClass("malSyncDone2"),n.options&&n.options.u&&(ii.log(n.options.u),e.find("a").first().after(si.html(`\n                <a class="mal-sync-stream mal-rem" title="${n.options.u.split("/")[2]}" target="_blank" style="margin: 0 0; max-height: 14px;" href="${n.options.u}">\n                  <img src="${ni.favicon(n.options.u.split("/")[2])}">\n                </a>`)));const t=n.options.r,a=n.options.c,i=n.watchedEp;ii.log("Resume",t,"Continue",a),a&&a.ep===i+1?e.prepend(si.html(`<a class="nextStream mal-rem" title="Continue watching" target="_blank" style="margin: -2px 5px 0 0; color: #BABABA;" href="${a.url}">\n                  <img src="${ai.storage.assetUrl("double-arrow-16px.png")}" width="16" height="16">\n                </a>`)):t&&t.ep===i&&e.prepend(si.html(`<a class="resumeStream mal-rem" title="Resume watching" target="_blank" style="margin: -2px 5px 0 0; color: #BABABA;" href="${t.url}">\n                  <img src="${ai.storage.assetUrl("arrow-16px.png")}" width="16" height="16">\n                </a>`)),await n.fn.initProgress(),n.fn.progress&&n.fn.progress.isAiring()&&n.fn.progress.getCurrentEpisode()&&e.parent().find(".progress").first().append(si.html(` <span class="mal-sync-ep-pre" title="${n.fn.progress.getAutoText()}">[<span style="border-bottom: 1px dotted ${n.fn.progress.getColor()};">${n.fn.progress.getCurrentEpisode()}</span>]</span>`))}}))}t.getCompleteList().then((e=>{"anime"===this.page.type?this.tempAnimelist=e:this.tempMangalist=e,n(e)})).catch((e=>{e instanceof ys&&(this.authError=!0),ii.error(e),t.flashmError(e)}))}))}initVue(e){ai.settings.get("anilistUpdateUi")&&($("#malsync-update-ui").length||$(".sidebar").first().prepend(si.html('<div id="malsync-update-ui"></div>')),this.vueEl&&this.vueEl.$.appContext.app.unmount(),this.vueEl=function(e,t,n){const s=Cn(e);s.use(Rn,{default:{ADD_ATTR:["target"]},namedConfigurations:{noMedia:{FORBID_TAGS:["img","svg","picture","video","audio"]}}}),n&&n.use&&n.use(s);let a="string"==typeof t?document.querySelector(t):t;if(!a)throw new Error("Can't find root element");if(n&&n.shadowDom){let e;a.shadowRoot?(e=a.shadowRoot,e.innerHTML=""):e=a.attachShadow({mode:"open"}),a=e.appendChild(document.createElement("div"))}const i={};return s.mixin({beforeCreate(){this.$options.styles&&!i[this.$options.__file]&&(a.appendChild(function(e,t=""){const n=document.createElement("style");n.type="text/css",n.setAttribute("data-name",t);const s=document.createTextNode(e);return n.appendChild(s),n}(this.$options.styles.join("\n"),this.$options.__file)),i[this.$options.__file]=!0)},methods:{lang:Pn.storage.lang,getOption:e=>Pn.settings.get(e)}}),s.directive("visible",((e,t)=>{e.style.visibility=t.value?"visible":"hidden"})),s.mount(a)}(ti,"#malsync-update-ui"),this.vueEl.malObj=e)}}var oi=n(13647),li=n(7263),ci=n(78584),ui=n(26017);async function hi(){const e=await oi.storage.get("timestampUpdate/firebaseNotification");(void 0===e||li.$.now()-e>6e5)&&(await mi(),oi.storage.set("timestampUpdate/firebaseNotification",li.$.now()))}async function mi(){ci.log("checkNotifications");const e=await oi.request.xhr("GET","https://kissanimelist.firebaseio.com/Data2/Notification/Current.json"),t=parseInt(JSON.parse(e.responseText));Number.isNaN(t)&&ci.error("Could not read current Notification number"),ci.log("Current Notification",t);const n=parseInt(await oi.storage.get("firebaseNotification")),s=n+1;if(void 0===n||Number.isNaN(n))return void oi.storage.set("firebaseNotification",t);if(t<s)return void ci.log("No new notifications");const a=`https://kissanimelist.firebaseio.com/Data2/Notification/list/N${s}.json`,i=await oi.request.xhr("GET",a);if(!i)return;const r=JSON.parse(i.responseText);if(!r)return ci.info("Notification empty",i.responseText),void oi.storage.set("firebaseNotification",s).then((function(){mi()}));li.$(document).ready((function(){const e=ui.flashm(`<div style="text-align: left;">${r}</div><button class="okChangelog" style="background-color: transparent; border: none; color: rgb(255,64,129);margin-top: 10px;cursor: pointer;">Close</button>`,{permanent:!0,position:"top"});e.find(".okChangelog").click((function(){e.remove(),oi.storage.set("firebaseNotification",s).then((function(){mi()}))}))}))}var pi=n(13647),di=n(78584);let gi;console.log("%cMAL-Sync","font-size: 40px; padding-bottom: 3px; color: white; text-shadow: -1px -1px #2e51a2, 1px -1px #2e51a2, -1px 1px #2e51a2, 1px 1px #2e51a2, 2px 2px #2e51a2, 3px 3px #2e51a2;",`Version: ${pi.storage.version()}`),pi.settings.init().then((()=>{!function(){if(pi.settings.get("userscriptModeButton"))throw"Userscript mode";!function(e){const t=di.m("TabMalUrl");chrome.runtime.onMessage.addListener((function(n,s,a){return Date.now()-gi<3e3?"TabMalUrl"===n.action&&(t.info("miniMAL"),e.getMalUrl().then((t=>{const n={url:t,image:e.getImage(),title:e.getTitle()};t||"ANILIST"!==pi.settings.get("syncMode")||(n.url=e.url),a(n)})),!0):(t.log("Focus timeout"),!1)}))}(new ri(window.location.href)),hi(),$(window).blur((function(){gi=Date.now()}))}()}))})()})();
//# sourceMappingURL=anilist-script.js.map