"use strict";(self.webpackChunkMALSync=self.webpackChunkMALSync||[]).push([[2582],{32582:(n,e,t)=>{t.r(e),t.d(e,{default:()=>J});var a=t(20641),l=t(90033),i=t(50953),s=t(37256),o=t(11312),c=t(20545),r=t(60773);const u=(0,a.pM)({__name:"install-start",setup:n=>(n,e)=>((0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(c.A,{spacer:!0},{default:(0,a.k6)((()=>[(0,a.eW)(" 🎉 "+(0,l.v_)(n.lang("minimalClass_versionMsg_Text_1")),1)])),_:1}),(0,a.bF)(r.A,null,{default:(0,a.k6)((()=>[(0,a.Lk)("p",null,[(0,a.Lk)("strong",null,(0,l.v_)(n.lang("installPage_Start_Description").replace("-","—")),1)])])),_:1})]))});var d=t(66262);const v=(0,d.A)(u,[["__file","install-start.vue"]]),_={class:"how"},g=(0,a.pM)({__name:"install-how",setup:n=>(n,e)=>{const t=(0,a.gN)("dompurify-html");return(0,a.uX)(),(0,a.CE)("div",_,[(0,a.bF)(c.A,{spacer:!0},{default:(0,a.k6)((()=>[(0,a.eW)(" 🔁 "+(0,l.v_)(n.lang("installPage_Howto")),1)])),_:1}),(0,a.bF)(r.A,null,{default:(0,a.k6)((()=>[(0,a.bo)((0,a.Lk)("p",null,null,512),[[t,n.lang("installPage_Howto_Description")]]),(0,a.Lk)("p",null,[(0,a.Lk)("strong",null,(0,l.v_)(n.lang("Anime"))+":",1),e[0]||(e[0]=(0,a.Lk)("br",null,null,-1)),(0,a.eW)(" "+(0,l.v_)(n.lang("installPage_Howto_Anime_Description")),1)]),(0,a.Lk)("p",null,[(0,a.Lk)("strong",null,(0,l.v_)(n.lang("Manga"))+":",1),e[1]||(e[1]=(0,a.Lk)("br",null,null,-1)),(0,a.eW)(" "+(0,l.v_)(n.lang("installPage_Howto_Manga_Description")),1)]),(0,a.Lk)("p",null,(0,l.v_)(n.lang("installPage_Howto_Notes").replace("-","—")),1)])),_:1})])}}),p=(0,d.A)(g,[["styles",[".how[data-v-4951a18e] a {\n  color: var(--cl-secondary-text);\n  transition: color 0.2s ease-in-out;\n}\n.how[data-v-4951a18e] a:hover {\n  color: var(--cl-secondary);\n}\n"]],["__scopeId","data-v-4951a18e"],["__file","install-how.vue"]]),f=(0,a.pM)({__name:"install-correct",setup:n=>(n,e)=>((0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(c.A,{spacer:!0},{default:(0,a.k6)((()=>[(0,a.eW)(" ⚒️ "+(0,l.v_)(n.lang("installPage_Wrong")),1)])),_:1}),(0,a.bF)(r.A,null,{default:(0,a.k6)((()=>[(0,a.Lk)("p",null,(0,l.v_)(n.lang("installPage_Wrong_Description")),1),e[0]||(e[0]=(0,a.Lk)("p",{class:"correctionGif"},[(0,a.Lk)("img",{id:"hiddenimage",height:"338",width:"600",src:"https://raw.githubusercontent.com/lolamtisch/KissAnimeList/master/Screenshots/Wrong%20recognition.gif",alt:"Wrong recognition"})],-1))])),_:1})]))}),k=(0,d.A)(f,[["styles",["#hiddenimage[data-v-21db918d] {\n  width: 100%;\n  height: auto;\n}\n"]],["__scopeId","data-v-21db918d"],["__file","install-correct.vue"]]);var b=t(57427);const m=(0,a.pM)({__name:"install-links",setup:n=>(n,e)=>((0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(s.A,null,{default:(0,a.k6)((()=>[(0,a.bF)(c.A,{spacer:!0},{default:(0,a.k6)((()=>[(0,a.eW)(" 🔗 "+(0,l.v_)(n.lang("installPage_Links").replace("-","—")),1)])),_:1}),(0,a.bF)(r.A,{spacer:"none"},{default:(0,a.k6)((()=>[(0,a.Lk)("p",null,(0,l.v_)(n.lang("installPage_Description_paragraph1").replace("-","—")),1),(0,a.Lk)("p",null,(0,l.v_)(n.lang("installPage_Description_paragraph2")),1)])),_:1})])),_:1}),(0,a.bF)(b.A,{short:!0})]))}),h=(0,d.A)(m,[["__file","install-links.vue"]]);var A=t(93446);const y=(0,a.pM)({__name:"install-permissions",emits:["next","back"],setup(n,{emit:e}){const t=e;return(n,e)=>((0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(c.A,{spacer:!0},{default:(0,a.k6)((()=>[(0,a.eW)(" 🔑 "+(0,l.v_)(n.lang("settings_custom_domains_missing_permissions_header")),1)])),_:1}),(0,a.bF)(r.A,null,{default:(0,a.k6)((()=>[(0,a.Lk)("p",null,[(0,a.bF)(A.A,{onRequired:e[0]||(e[0]=n=>{setTimeout((()=>t("next")),100)})})])])),_:1})]))}}),w=(0,d.A)(y,[["__file","install-permissions.vue"]]);var x=t(10248),F=t(66550),L=t(84731),W=t(13647);const C=(0,a.pM)({__name:"install-provider",emits:["next","back"],setup(n,{emit:e}){const t=e,i={key:"syncMode",title:()=>W.storage.lang("settings_Mode"),props:{component:"multiSelect",option:"syncMode",labelSection:!1,props:{options:(0,F.AA)("short"),ignoreSelect:!0}},component:L.A};function s(){setTimeout((()=>t("next")),100)}return(n,e)=>((0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(c.A,{spacer:!0},{default:(0,a.k6)((()=>[(0,a.eW)(" 📂 "+(0,l.v_)(n.lang("installPage_Mode")),1)])),_:1}),(0,a.bF)(r.A,null,{default:(0,a.k6)((()=>[(0,a.Lk)("p",null,[(0,a.bF)(x.A,{comp:i,onClick:s})])])),_:1})]))}}),M=(0,d.A)(C,[["__file","install-provider.vue"]]);var X=t(3507),E=t(66222),j=t(59465),P=t(72702),S=t(97920),T=t(22388),z=t(59805),D=t(13647);const O={class:"image-section"},H={class:"img"},Q={class:"button-section"},$={class:"image-section"},I={class:"img loading"},K={class:"img-center"},R={style:{visibility:"hidden"}},U={class:"button-section",style:{visibility:"hidden"}},N={class:"image-section"},q={class:"button-section"},B=(0,a.pM)({__name:"install-login",props:{title:{type:String,required:!0}},emits:["back"],setup(n){const e=(0,a.EW)((()=>({listObj:(0,E.IA)(D.settings.get("syncMode"))}))),t=(0,X.W)(e,(n=>{const{listObj:e}=n.value;return e.getUserObject().catch((n=>{if(n instanceof j.jH)return{username:"",picture:"error",href:""};throw n}))}),{cache:{prefix:"settings-profile",ttl:1e4,refetchTtl:36e5,keyFn:n=>n.value.listObj.name}}),s=(0,a.EW)((()=>t.loading?"loading":t.data&&!t.data.username?"noAuth":"auth"));function u(){"noAuth"===s.value&&t.execute()}return(0,a.sV)((()=>{window.addEventListener("focus",u)})),(0,a.xo)((()=>{window.removeEventListener("focus",u)})),(n,u)=>((0,a.uX)(),(0,a.Wv)(r.A,{spacer:"none",class:"login-install"},{default:(0,a.k6)((()=>[(0,a.bF)(c.A,{style:{width:"100%"}},{default:(0,a.k6)((()=>[(0,a.eW)(" 🔒 "+(0,l.v_)(n.lang("settings_Authenticate")),1)])),_:1}),"auth"===s.value?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("div",O,[(0,a.Lk)("div",H,[(0,a.bF)(T.A,{src:(0,i.R1)(t).data?.picture,class:"img-el"},null,8,["src"])]),(0,a.Lk)("div",null,[(0,a.bF)(o.A,{padding:"mini",animation:!1},{default:(0,a.k6)((()=>[(0,a.eW)((0,l.v_)(n.lang("installPage_Login_Successful",[(0,i.R1)(t).data.username])),1)])),_:1})])]),(0,a.Lk)("div",Q,[(0,a.bF)(P.A,{href:"https://malsync.moe/pwa/#/settings",class:"button-next",target:""},{default:(0,a.k6)((()=>[(0,a.bF)(o.A,{color:"secondary",class:"button-next"},{default:(0,a.k6)((()=>[(0,a.bF)(S.A,{icon:"settings"},{default:(0,a.k6)((()=>[(0,a.eW)((0,l.v_)(n.lang("minimalApp_Settings")),1)])),_:1})])),_:1})])),_:1}),(0,a.bF)(P.A,{href:"https://malsync.moe/pwa/",class:"button-next",target:""},{default:(0,a.k6)((()=>[(0,a.bF)(o.A,{color:"primary",class:"button-next"},{default:(0,a.k6)((()=>[(0,a.bF)(S.A,{icon:"play_arrow"},{default:(0,a.k6)((()=>[(0,a.eW)((0,l.v_)(n.lang("start")),1)])),_:1})])),_:1})])),_:1})])],64)):(0,a.Q3)("v-if",!0),"loading"===s.value?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.Lk)("div",$,[(0,a.Lk)("div",I,[(0,a.Lk)("div",K,[(0,a.bF)(z.A)])]),(0,a.Lk)("div",R,[(0,a.bF)(o.A,{padding:"mini",animation:!1},{default:(0,a.k6)((()=>[(0,a.eW)((0,l.v_)(n.lang("settings_profile_no_login")),1)])),_:1})])]),(0,a.Lk)("div",U,[(0,a.bF)(o.A,{color:"default",onClick:u[0]||(u[0]=e=>n.$emit("back"))},{default:(0,a.k6)((()=>[(0,a.eW)((0,l.v_)(n.lang("back")),1)])),_:1}),(0,a.bF)(P.A,{href:e.value.listObj.authenticationUrl,class:"button-next"},{default:(0,a.k6)((()=>[(0,a.bF)(o.A,{color:"secondary",class:"button-next"},{default:(0,a.k6)((()=>[(0,a.bF)(S.A,{icon:"login"},{default:(0,a.k6)((()=>[(0,a.eW)((0,l.v_)(n.lang("settings_Authenticate")),1)])),_:1})])),_:1})])),_:1},8,["href"])])],64)):(0,a.Q3)("v-if",!0),"noAuth"===s.value?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[(0,a.Lk)("div",N,[(0,a.Lk)("div",{class:"img noauth",onClick:u[1]||(u[1]=n=>(0,i.R1)(t).execute())},u[3]||(u[3]=[(0,a.Lk)("div",{class:"img-center"},[(0,a.Lk)("span",{class:"material-icons"},"sync")],-1)])),(0,a.Lk)("div",null,[(0,a.bF)(P.A,{href:e.value.listObj.authenticationUrl},{default:(0,a.k6)((()=>[(0,a.bF)(o.A,{padding:"mini",color:"secondary"},{default:(0,a.k6)((()=>[(0,a.bF)(S.A,{icon:"login"},{default:(0,a.k6)((()=>[(0,a.eW)((0,l.v_)(n.lang("settings_Authenticate")),1)])),_:1})])),_:1})])),_:1},8,["href"])])]),(0,a.Lk)("div",q,[(0,a.bF)(o.A,{color:"default",onClick:u[2]||(u[2]=e=>n.$emit("back"))},{default:(0,a.k6)((()=>u[4]||(u[4]=[(0,a.eW)(" Back ")]))),_:1}),(0,a.bF)(P.A,{href:e.value.listObj.authenticationUrl,class:"button-next"},{default:(0,a.k6)((()=>[(0,a.bF)(o.A,{color:"secondary",class:"button-next"},{default:(0,a.k6)((()=>[(0,a.bF)(S.A,{icon:"login"},{default:(0,a.k6)((()=>[(0,a.eW)((0,l.v_)(n.lang("settings_Authenticate")),1)])),_:1})])),_:1})])),_:1},8,["href"])])],64)):(0,a.Q3)("v-if",!0)])),_:1}))}}),G=(0,d.A)(B,[["styles",["/* stylelint-disable prettier/prettier */\n/* Aspect ratios */\n/* Transitions */\n/* Typography */\n/* Shadows */\n/* Fonts */\n@keyframes skeleton-loading-malsync-299fe052 {\nto {\n    transform: translateX(100%);\n}\n}\n.img[data-v-299fe052] {\n  background-color: var(--cl-backdrop);\n  width: calc(var(--base-font-size) * 7);\n  height: calc(var(--base-font-size) * 7);\n  min-width: calc(var(--base-font-size) * 7);\n  font-size: calc(var(--base-font-size) * 4.5);\n  border-radius: 50%;\n  overflow: hidden;\n}\n.img.noauth[data-v-299fe052] {\n  transition: transform 0.25s ease;\n  cursor: pointer;\n  user-select: none;\n  background-color: var(--cl-secondary);\n}\n.img.noauth[data-v-299fe052]:active {\n  transition-delay: 0s !important;\n  transform: translateY(3px);\n}\n.img.loading[data-v-299fe052] {\n  background-color: var(--cl-primary);\n}\n.img-el[data-v-299fe052] {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n.img-center[data-v-299fe052] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  width: 100%;\n}\n.img .material-icons[data-v-299fe052] {\n  font-size: inherit;\n}\n.image-section[data-v-299fe052] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: var(--size-spacer);\n  font-weight: bold;\n}\n.login-install[data-v-299fe052] {\n  flex-grow: 1;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-direction: column;\n}\n"]],["__scopeId","data-v-299fe052"],["__file","install-login.vue"]]),V={class:"button-section"},Y=(0,a.pM)({__name:"install",setup(n){const e=[{component:v,card:!0,limited:!0,buttons:!0},{component:p,card:!0,limited:!0,buttons:!0},{component:k,card:!0,limited:!0,buttons:!0},{component:h,card:!1,limited:!1,buttons:!0},{component:M,card:!0,limited:!0,buttons:"back"},{component:w,card:!0,limited:!0,buttons:!1},{component:G,card:!0,limited:!0,buttons:!1}],t=(0,i.KR)(0),c=(0,a.EW)((()=>e[t.value])),u=(0,a.EW)((()=>t.value===e.length-1)),d=(0,a.EW)((()=>t.value/(e.length-1)*100));return(n,e)=>((0,a.uX)(),(0,a.Wv)(r.A,{class:"block-wrapper"},{default:(0,a.k6)((()=>[((0,a.uX)(),(0,a.Wv)((0,a.$y)(c.value.card?s.A:"div"),{style:{"max-width":"100%"}},{default:(0,a.k6)((()=>[(0,a.Lk)("div",{class:"progress-bar",style:(0,l.Tr)(`width: ${d.value}%`)},null,4),(0,a.Lk)("div",{class:(0,l.C4)(["block-section",{limited:c.value.limited}])},[((0,a.uX)(),(0,a.Wv)((0,a.$y)(c.value.component),{onBack:e[0]||(e[0]=n=>t.value--),onNext:e[1]||(e[1]=n=>t.value++)},null,32)),(0,a.Lk)("div",{style:(0,l.Tr)("width: 1000px; flex-grow: "+(c.value.buttons?"1":"0"))},null,4),c.value.buttons?((0,a.uX)(),(0,a.Wv)((0,a.$y)(c.value.card?"div":s.A),{key:0},{default:(0,a.k6)((()=>[(0,a.Lk)("div",V,[t.value?((0,a.uX)(),(0,a.Wv)(o.A,{key:0,class:"open-button",onClick:e[2]||(e[2]=n=>t.value--)},{default:(0,a.k6)((()=>[(0,a.eW)((0,l.v_)(n.lang("back")),1)])),_:1})):(0,a.Q3)("v-if",!0),u.value||"back"===c.value.buttons?(0,a.Q3)("v-if",!0):((0,a.uX)(),(0,a.Wv)(o.A,{key:1,class:"open-button button-next",color:"primary",onClick:e[3]||(e[3]=n=>t.value++)},{default:(0,a.k6)((()=>[(0,a.eW)((0,l.v_)(n.lang("next")),1)])),_:1}))])])),_:1})):(0,a.Q3)("v-if",!0)],2)])),_:1}))])),_:1}))}}),J=(0,d.A)(Y,[["styles",[".block-wrapper[data-v-2d9436f0] {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  height: 100%;\n  align-items: center;\n  flex-grow: 1;\n}\n.block-section[data-v-2d9436f0] {\n  min-height: 550px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n.block-section.limited[data-v-2d9436f0] {\n  max-width: 650px;\n}\n.block-wrapper[data-v-2d9436f0] .button-section {\n  display: flex;\n  justify-content: flex-start;\n  gap: 15px;\n  width: 100%;\n}\n.block-wrapper[data-v-2d9436f0] .button-section .button-next {\n  width: 100%;\n  flex-grow: 1;\n}\n.progress-bar[data-v-2d9436f0] {\n  position: fixed;\n  left: 0;\n  top: 0;\n  height: 5px;\n  background-color: var(--cl-primary);\n  transition: width 0.3s ease-in-out;\n}\n"]],["__scopeId","data-v-2d9436f0"],["__file","install.vue"]])}}]);
//# sourceMappingURL=2582.js.map