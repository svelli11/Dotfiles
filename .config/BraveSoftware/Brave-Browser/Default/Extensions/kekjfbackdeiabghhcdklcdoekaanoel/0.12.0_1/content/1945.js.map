{"version":3,"file":"content/1945.js","mappings":"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","sources":["webpack://MALSync/./src/_minimal/components/media/media-status-dropdown.vue?7bb0","webpack://MALSync/./src/_minimal/components/media/media-status-dropdown.vue","webpack://MALSync/./src/_minimal/components/media/media-status-dropdown.vue?68a3","webpack://MALSync/./src/_minimal/components/media/media-status-dropdown.vue?4001","webpack://MALSync/./src/_minimal/components/error/error-bookmarks.vue?22d8","webpack://MALSync/./src/_minimal/components/error/error-bookmarks.vue","webpack://MALSync/./src/_minimal/views/bookmarks.vue?82a0","webpack://MALSync/./src/_minimal/views/bookmarks.vue","webpack://MALSync/./src/_minimal/views/bookmarks.vue?01ca","webpack://MALSync/./src/_minimal/views/bookmarks.vue?6d31"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"progress-text\" }\n\nimport { computed, PropType, ref, watch } from 'vue';\nimport FormDropdown from '../form/form-dropdown.vue';\nimport StateDot from '../state-dot.vue';\nimport FormButton from '../form/form-button.vue';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'media-status-dropdown',\n  props: {\n  modelValue: {\n    type: Number,\n    require: true,\n    default: null,\n  },\n  color: {\n    type: String as PropType<'blue' | 'violet'>,\n    default: 'blue',\n  },\n  rewatching: {\n    type: Boolean,\n    default: true,\n  },\n  type: {\n    type: String as PropType<'anime' | 'manga'>,\n    default: 'anime',\n  },\n},\n  emits: ['update:modelValue'],\n  setup(__props, { emit: __emit }) {\n\nconst props = __props;\n\nconst options = computed(() => {\n  const states = [7, 1, 2, 3, 4, 6];\n  if (props.rewatching) states.push(23);\n  return states.map(st => ({\n    value: st,\n    title: utils.getStatusText(props.type, st),\n  }));\n});\n\nconst emit = __emit;\n\nconst picked = ref(props.modelValue);\nwatch(picked, value => {\n  emit('update:modelValue', value);\n});\nwatch(\n  () => props.modelValue,\n  value => {\n    picked.value = value;\n  },\n);\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(FormDropdown, {\n    modelValue: picked.value,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((picked).value = $event)),\n    options: options.value,\n    \"align-items\": \"left\"\n  }, {\n    select: _withCtx((slotProps) => [\n      _createVNode(FormButton, {\n        tabindex: -1,\n        animation: false,\n        padding: \"pill\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(StateDot, {\n            status: slotProps.value as number,\n            \"relative-height\": true\n          }, null, 8 /* PROPS */, [\"status\"]),\n          _createElementVNode(\"span\", _hoisted_1, _toDisplayString(slotProps.currentTitle), 1 /* TEXT */)\n        ]),\n        _: 2 /* DYNAMIC */\n      }, 1024 /* DYNAMIC_SLOTS */)\n    ]),\n    option: _withCtx((slotProps) => [\n      _createVNode(StateDot, {\n        status: slotProps.option.value as number\n      }, null, 8 /* PROPS */, [\"status\"]),\n      _createTextVNode(\" \" + _toDisplayString(slotProps.option.title), 1 /* TEXT */)\n    ]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\", \"options\"]))\n}\n}\n\n})","<template>\n  <FormDropdown v-model=\"picked\" :options=\"options\" align-items=\"left\">\n    <template #select=\"slotProps\">\n      <FormButton :tabindex=\"-1\" :animation=\"false\" padding=\"pill\">\n        <StateDot :status=\"slotProps.value as number\" :relative-height=\"true\" />\n        <span class=\"progress-text\">{{ slotProps.currentTitle }}</span>\n      </FormButton>\n    </template>\n    <template #option=\"slotProps\">\n      <StateDot :status=\"slotProps.option.value as number\" />\n      {{ slotProps.option.title }}\n    </template>\n  </FormDropdown>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, PropType, ref, watch } from 'vue';\nimport FormDropdown from '../form/form-dropdown.vue';\nimport StateDot from '../state-dot.vue';\nimport FormButton from '../form/form-button.vue';\n\nconst props = defineProps({\n  modelValue: {\n    type: Number,\n    require: true,\n    default: null,\n  },\n  color: {\n    type: String as PropType<'blue' | 'violet'>,\n    default: 'blue',\n  },\n  rewatching: {\n    type: Boolean,\n    default: true,\n  },\n  type: {\n    type: String as PropType<'anime' | 'manga'>,\n    default: 'anime',\n  },\n});\n\nconst options = computed(() => {\n  const states = [7, 1, 2, 3, 4, 6];\n  if (props.rewatching) states.push(23);\n  return states.map(st => ({\n    value: st,\n    title: utils.getStatusText(props.type, st),\n  }));\n});\n\nconst emit = defineEmits(['update:modelValue']);\n\nconst picked = ref(props.modelValue);\nwatch(picked, value => {\n  emit('update:modelValue', value);\n});\nwatch(\n  () => props.modelValue,\n  value => {\n    picked.value = value;\n  },\n);\n</script>\n\n<style lang=\"less\" scoped>\n@import '../../less/_globals.less';\n\nbutton {\n  border-radius: 15px;\n}\n\n.__breakpoint-small__( {\n  .progress-text {\n    display: none;\n  }\n});\n</style>\n","import script from \"./media-status-dropdown.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./media-status-dropdown.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./media-status-dropdown.vue?vue&type=style&index=0&id=147ff95a&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-147ff95a\"],['__file',\"media-status-dropdown.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-147ff95a {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\nbutton[data-v-147ff95a] {\\n  border-radius: 15px;\\n}\\n@media screen and (max-width: 499px) {\\n.progress-text[data-v-147ff95a] {\\n    display: none;\\n}\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveDirective as _resolveDirective, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, Fragment as _Fragment, withCtx as _withCtx, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { key: 0 }\n\nimport ErrorGeneral from './error-general.vue';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'error-bookmarks',\n  props: {\n  listRequest: {\n    type: Object,\n    default: () => ({}),\n  },\n},\n  setup(__props) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_dompurify_html = _resolveDirective(\"dompurify-html\")!\n\n  return (!__props.listRequest.loading && __props.listRequest.error)\n    ? (_openBlock(), _createBlock(ErrorGeneral, { key: 0 }, {\n        default: _withCtx(() => [\n          (__props.listRequest.error.html)\n            ? _withDirectives((_openBlock(), _createElementBlock(\"span\", _hoisted_1, null, 512 /* NEED_PATCH */)), [\n                [_directive_dompurify_html, __props.listRequest.error.html]\n              ])\n            : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                _createTextVNode(_toDisplayString(__props.listRequest.error.message || __props.listRequest.error), 1 /* TEXT */)\n              ], 64 /* STABLE_FRAGMENT */))\n        ]),\n        _: 1 /* STABLE */\n      }))\n    : _createCommentVNode(\"v-if\", true)\n}\n}\n\n})","import script from \"./error-bookmarks.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./error-bookmarks.vue?vue&type=script&lang=ts&setup=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__file',\"error-bookmarks.vue\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, unref as _unref, createElementVNode as _createElementVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, withModifiers as _withModifiers, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, resolveDynamicComponent as _resolveDynamicComponent, normalizeClass as _normalizeClass, Transition as _Transition } from \"vue\"\n\nconst _hoisted_1 = { class: \"bookmarks\" }\nconst _hoisted_2 = [\"title\"]\nconst _hoisted_3 = { class: \"select-icon\" }\nconst _hoisted_4 = { class: \"material-icons\" }\nconst _hoisted_5 = {\n  key: 2,\n  class: \"material-icons sortPlaceholder\"\n}\nconst _hoisted_6 = { class: \"material-icons select-icon\" }\nconst _hoisted_7 = { class: \"material-icons select-icon\" }\n\nimport {\n  computed,\n  inject,\n  onActivated,\n  onDeactivated,\n  onMounted,\n  onUnmounted,\n  PropType,\n  ref,\n  watch,\n} from 'vue';\nimport { useRouter } from 'vue-router';\nimport Spinner from '../components/spinner.vue';\nimport FormSwitch from '../components/form/form-switch.vue';\nimport { setStateContext, setTypeContext } from '../utils/state';\nimport Section from '../components/section.vue';\nimport { createRequest } from '../utils/reactive';\nimport { getList } from '../../_provider/listFactory';\nimport Grid from '../components/grid.vue';\nimport TransitionStaggered from '../components/transition-staggered.vue';\nimport { bookmarkItem } from '../minimalClass';\nimport { listElement } from '../../_provider/listAbstract';\nimport MediaStatusDropdown from '../components/media/media-status-dropdown.vue';\nimport FormDropdown from '../components/form/form-dropdown.vue';\nimport { bookmarkFormats } from '../utils/bookmarks';\nimport ErrorBookmarks from '../components/error/error-bookmarks.vue';\nimport Empty from '../components/empty.vue';\nimport TextIcon from '../components/text-icon.vue';\nimport FormButton from '../components/form/form-button.vue';\nimport { urlToSlug } from '../../utils/slugs';\nimport { localStore } from '../../utils/localStore';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'bookmarks',\n  props: {\n  type: {\n    type: String as PropType<'anime' | 'manga'>,\n    default: 'anime',\n  },\n  state: {\n    type: String,\n    default: '2',\n  },\n},\n  setup(__props) {\n\nconst rootWindow = inject('rootWindow') as Window;\nconst rootDocument = inject('rootDocument') as Document;\n\nconst router = useRouter();\n\nconst props = __props;\n\nconst parameters = ref({\n  state: Number(props.state),\n  type: props.type as 'anime' | 'manga',\n});\nconst cacheList = ref([] as listElement[]);\n\nwatch(\n  () => props.type,\n  value => {\n    parameters.value.type = value as 'anime' | 'manga';\n  },\n);\nwatch(\n  () => parameters.value.type,\n  value => {\n    router.push({ name: 'Bookmarks', params: { type: value } });\n    if (value) setTypeContext(value);\n  },\n);\n\nwatch(\n  () => props.state,\n  value => {\n    parameters.value.state = Number(value);\n    if (value) setStateContext(Number(value));\n  },\n);\nwatch(\n  () => parameters.value.state,\n  value => {\n    router.push({ name: 'Bookmarks', params: { state: Number(value) } });\n  },\n);\n\nconst getSort = sortingOptions => {\n  const curSort = localStore.getItem(`sort/${parameters.value.type}/${parameters.value.state}`);\n  if (curSort && sortingOptions.find(el => el.value === curSort.replace('_asc', '')))\n    return curSort;\n  return 'default';\n};\n\nconst listRequest = createRequest(parameters, async param => {\n  cacheList.value = [];\n  const listProvider = await getList(param.value.state, param.value.type);\n\n  listProvider.setSort(getSort(listProvider.getSortingOptions()));\n\n  listProvider.modes.cached = true;\n  listProvider.getCached().then(list => {\n    cacheList.value = list;\n  });\n\n  listProvider.modes.initProgress = true;\n  listProvider.initFrontendMode();\n\n  await listProvider.getNextPage().catch(e => {\n    throw { e, html: listProvider.errorMessage(e) };\n  });\n\n  return listProvider;\n});\n\nconst list = computed(() => {\n  if (cacheList.value.length && listRequest.loading) return cacheList.value;\n  return listRequest.data && !listRequest.loading ? listRequest.data.getTemplist() : null;\n});\n\nconst formatItem = (item: listElement): bookmarkItem => {\n  const resItem = item as bookmarkItem;\n  if (item.options) {\n    const overview = item.options.u;\n    const resumeUrlObj = item.options.r;\n    const continueUrlObj = item.options.c;\n\n    if (continueUrlObj && continueUrlObj.ep === item.watchedEp + 1) {\n      resItem.streamUrl = continueUrlObj.url;\n    } else if (resumeUrlObj && resumeUrlObj.ep === item.watchedEp) {\n      resItem.streamUrl = resumeUrlObj.url;\n    } else if (overview) {\n      resItem.streamUrl = overview;\n    }\n\n    if (resItem.streamUrl) {\n      resItem.streamIcon = utils.favicon(resItem.streamUrl.split('/')[2]);\n    }\n  }\n  if (item.fn.progress && item.fn.progress.isAiring()) {\n    resItem.progressText = item.fn.progress.getAuto();\n    resItem.progressEp = item.fn.progress.getCurrentEpisode();\n    resItem.progress = item.fn.progress;\n  }\n  return resItem;\n};\n\nconst options = bookmarkFormats.map(format => ({\n  value: format.icon,\n  title: format.name,\n}));\n\nconst theme = computed({\n  get() {\n    return api.settings.get(`bookMarksList${props.type === 'manga' ? 'Manga' : ''}`);\n  },\n  set(value) {\n    api.settings.set(`bookMarksList${props.type === 'manga' ? 'Manga' : ''}`, value);\n  },\n});\n\nconst listTheme = computed(() => {\n  const f = bookmarkFormats.find(format => format.icon === theme.value);\n\n  if (!f) {\n    return bookmarkFormats[0];\n  }\n\n  return f;\n});\n\nasync function loadNext() {\n  if (!listRequest.data || listRequest.data.isLoading()) return;\n  await listRequest.data.getNextPage();\n}\n\nconst handleScroll = () => {\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  if (\n    rootWindow.pageYOffset + rootWindow.innerHeight >\n    rootDocument.documentElement.scrollHeight - 600\n  ) {\n    loadNext();\n  }\n};\n\nwatch(\n  () => listRequest.data,\n  () => handleScroll(),\n);\n\nonActivated(() => {\n  rootWindow.addEventListener('scroll', handleScroll);\n});\n\nonDeactivated(() => {\n  rootWindow.removeEventListener('scroll', handleScroll);\n});\n\nonMounted(() => {\n  rootWindow.addEventListener('scroll', handleScroll);\n});\n\nonUnmounted(() => {\n  rootWindow.removeEventListener('scroll', handleScroll);\n});\n\nconst sortingOptions = computed(() => {\n  const temp = listRequest.data ? listRequest.data.getSortingOptions(true) : [];\n\n  return temp.map(option => ({\n    value: option.value,\n    title: option.title,\n    meta: {\n      icon: option.icon,\n      asc: option.asc,\n    },\n  }));\n});\n\nconst sort = computed({\n  get() {\n    return getSort(sortingOptions.value);\n  },\n  set(value) {\n    localStore.setItem(`sort/${parameters.value.type}/${parameters.value.state}`, value);\n    listRequest.execute();\n  },\n});\n\nconst randomListCache = { anime: [], manga: [] };\nasync function openRandom(status, type) {\n  if (!randomListCache[type].length) {\n    utils.flashm('Loading');\n    const listProvider = await getList(status, type);\n    await listProvider\n      .getCompleteList()\n      .then(async res => {\n        randomListCache[type] = res;\n      })\n      .catch(e => {\n        con.error(e);\n      });\n  }\n  if (randomListCache[type].length > 1) {\n    const currentUrl =\n      randomListCache[type][Math.floor(Math.random() * randomListCache[type].length)].url;\n    const slugObj = urlToSlug(currentUrl);\n    router.push({ name: 'Overview', params: slugObj.path });\n  } else {\n    utils.flashm('List is too small!');\n  }\n}\n\nfunction refresh() {\n  listRequest.execute();\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(Section, { class: \"controls\" }, {\n      default: _withCtx(() => [\n        _createVNode(FormSwitch, {\n          modelValue: parameters.value.type,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((parameters.value.type) = $event)),\n          options: [\n          {\n            value: 'anime',\n            title: _ctx.lang('Anime'),\n          },\n          {\n            value: 'manga',\n            title: _ctx.lang('Manga'),\n          },\n        ]\n        }, null, 8 /* PROPS */, [\"modelValue\", \"options\"]),\n        _createVNode(MediaStatusDropdown, {\n          modelValue: parameters.value.state,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((parameters.value.state) = $event)),\n          type: parameters.value.type,\n          rewatching: \n          _unref(listRequest).data ? _unref(listRequest).data?.seperateRewatching : parameters.value.state === 23\n        \n        }, null, 8 /* PROPS */, [\"modelValue\", \"type\", \"rewatching\"]),\n        _createVNode(FormButton, {\n          padding: \"pill\",\n          onClick: _cache[2] || (_cache[2] = ($event: any) => (refresh()))\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", {\n              class: \"material-icons m-pill\",\n              title: _ctx.lang('updateCheck_Refresh')\n            }, \"refresh\", 8 /* PROPS */, _hoisted_2)\n          ]),\n          _: 1 /* STABLE */\n        }),\n        (parameters.value.state === 6)\n          ? (_openBlock(), _createBlock(FormButton, {\n              key: 0,\n              padding: \"pill\",\n              onClick: _cache[3] || (_cache[3] = ($event: any) => (openRandom(6, parameters.value.type)))\n            }, {\n              default: _withCtx(() => _cache[7] || (_cache[7] = [\n                _createElementVNode(\"div\", {\n                  class: \"material-icons m-pill\",\n                  title: \"random\"\n                }, \"shuffle\", -1 /* HOISTED */)\n              ])),\n              _: 1 /* STABLE */\n            }))\n          : _createCommentVNode(\"v-if\", true),\n        _cache[8] || (_cache[8] = _createElementVNode(\"div\", { style: {\"flex-grow\":\"1\"} }, null, -1 /* HOISTED */)),\n        (sortingOptions.value && sortingOptions.value.length)\n          ? (_openBlock(), _createBlock(FormDropdown, {\n              key: 1,\n              modelValue: sort.value,\n              \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((sort).value = $event)),\n              options: sortingOptions.value,\n              \"align-items\": \"left\",\n              \"compare-func\": (el, picked) => el.toString() === picked.toString().replace('_asc', '')\n            }, {\n              select: _withCtx((slotProps) => [\n                _createElementVNode(\"div\", _hoisted_3, [\n                  (slotProps.meta.asc)\n                    ? (_openBlock(), _createElementBlock(\"span\", {\n                        key: 0,\n                        class: \"material-icons\",\n                        onClick: _cache[4] || (_cache[4] = _withModifiers(($event: any) => (\n                sort.value.endsWith('_asc') ? (sort.value = sort.value.replace('_asc', '')) : (sort.value = sort.value + '_asc')\n              ), [\"stop\"]))\n                      }, _toDisplayString(!sort.value.endsWith('_asc') ? 'arrow_downward' : 'arrow_upward'), 1 /* TEXT */))\n                    : _createCommentVNode(\"v-if\", true),\n                  _createElementVNode(\"span\", _hoisted_4, _toDisplayString(slotProps.meta.icon || 'filter_list'), 1 /* TEXT */)\n                ])\n              ]),\n              option: _withCtx((slotProps) => [\n                _createVNode(TextIcon, {\n                  icon: slotProps.option.meta.icon\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(slotProps.option.title), 1 /* TEXT */)\n                  ]),\n                  _: 2 /* DYNAMIC */\n                }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"icon\"])\n              ]),\n              _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"modelValue\", \"options\", \"compare-func\"]))\n          : (_openBlock(), _createElementBlock(\"span\", _hoisted_5, \"filter_list\")),\n        _createVNode(FormDropdown, {\n          modelValue: theme.value,\n          \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((theme).value = $event)),\n          options: _unref(options),\n          \"align-items\": \"left\",\n          direction: \"row\",\n          size: \"small\"\n        }, {\n          select: _withCtx(() => [\n            _createElementVNode(\"span\", _hoisted_6, _toDisplayString(listTheme.value.icon), 1 /* TEXT */)\n          ]),\n          option: _withCtx((slotProps) => [\n            _createElementVNode(\"span\", _hoisted_7, _toDisplayString(slotProps.option.value), 1 /* TEXT */)\n          ]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"modelValue\", \"options\"])\n      ]),\n      _: 1 /* STABLE */\n    }),\n    (!_unref(listRequest).error)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          (list.value)\n            ? (_openBlock(), _createBlock(Section, {\n                key: 0,\n                spacer: \"double\",\n                class: _normalizeClass([\"grid\", { cached: cacheList.value.length && _unref(listRequest).loading }])\n              }, {\n                default: _withCtx(() => [\n                  (_openBlock(), _createBlock(Grid, {\n                    key: listTheme.value.name,\n                    \"min-width\": listTheme.value.width,\n                    \"min-width-popup\": listTheme.value.popupWidth,\n                    class: _normalizeClass([\"grid-el\", `type-${listTheme.value.name.replace(' ', '-').toLowerCase()}`])\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(TransitionStaggered, {\n                        \"delay-duration\": listTheme.value.transition\n                      }, {\n                        default: _withCtx(() => [\n                          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(list.value!, (item) => {\n                            return (_openBlock(), _createBlock(_resolveDynamicComponent(listTheme.value.component), {\n                              key: item.uid,\n                              item: formatItem(item as listElement)\n                            }, null, 8 /* PROPS */, [\"item\"]))\n                          }), 128 /* KEYED_FRAGMENT */))\n                        ]),\n                        _: 1 /* STABLE */\n                      }, 8 /* PROPS */, [\"delay-duration\"])\n                    ]),\n                    _: 1 /* STABLE */\n                  }, 8 /* PROPS */, [\"min-width\", \"min-width-popup\", \"class\"]))\n                ]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"class\"]))\n            : _createCommentVNode(\"v-if\", true),\n          (!_unref(listRequest).loading && list.value && !list.value.length)\n            ? (_openBlock(), _createBlock(Section, {\n                key: 1,\n                class: \"spinner-wrap\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(Empty)\n                ]),\n                _: 1 /* STABLE */\n              }))\n            : _createCommentVNode(\"v-if\", true),\n          (_unref(listRequest).loading)\n            ? (_openBlock(), _createBlock(Section, {\n                key: 2,\n                class: \"spinner-wrap\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(Spinner)\n                ]),\n                _: 1 /* STABLE */\n              }))\n            : _createCommentVNode(\"v-if\", true),\n          _createVNode(_Transition, { duration: 100 }, {\n            default: _withCtx(() => [\n              (!_unref(listRequest).loading && _unref(listRequest).data && !_unref(listRequest).data!.isDone())\n                ? (_openBlock(), _createBlock(Section, {\n                    key: 0,\n                    class: \"spinner-wrap\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(Spinner)\n                    ]),\n                    _: 1 /* STABLE */\n                  }))\n                : _createCommentVNode(\"v-if\", true)\n            ]),\n            _: 1 /* STABLE */\n          })\n        ], 64 /* STABLE_FRAGMENT */))\n      : _createCommentVNode(\"v-if\", true),\n    _createVNode(ErrorBookmarks, { \"list-request\": _unref(listRequest) }, null, 8 /* PROPS */, [\"list-request\"])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"bookmarks\">\n    <Section class=\"controls\">\n      <FormSwitch\n        v-model=\"parameters.type\"\n        :options=\"[\n          {\n            value: 'anime',\n            title: lang('Anime'),\n          },\n          {\n            value: 'manga',\n            title: lang('Manga'),\n          },\n        ]\"\n      />\n      <MediaStatusDropdown\n        v-model=\"parameters.state\"\n        :type=\"parameters.type\"\n        :rewatching=\"\n          listRequest.data ? listRequest.data?.seperateRewatching : parameters.state === 23\n        \"\n      />\n      <FormButton padding=\"pill\" @click=\"refresh()\">\n        <div class=\"material-icons m-pill\" :title=\"lang('updateCheck_Refresh')\">refresh</div>\n      </FormButton>\n      <FormButton\n        v-if=\"parameters.state === 6\"\n        padding=\"pill\"\n        @click=\"openRandom(6, parameters.type)\"\n      >\n        <div class=\"material-icons m-pill\" title=\"random\">shuffle</div>\n      </FormButton>\n      <div style=\"flex-grow: 1\"></div>\n      <FormDropdown\n        v-if=\"sortingOptions && sortingOptions.length\"\n        v-model=\"sort\"\n        :options=\"sortingOptions\"\n        align-items=\"left\"\n        :compare-func=\"(el, picked) => el.toString() === picked.toString().replace('_asc', '')\"\n      >\n        <template #select=\"slotProps\">\n          <div class=\"select-icon\">\n            <span\n              v-if=\"slotProps.meta.asc\"\n              class=\"material-icons\"\n              @click.stop=\"\n                sort.endsWith('_asc') ? (sort = sort.replace('_asc', '')) : (sort = sort + '_asc')\n              \"\n            >\n              {{ !sort.endsWith('_asc') ? 'arrow_downward' : 'arrow_upward' }}\n            </span>\n            <span class=\"material-icons\">{{ slotProps.meta.icon || 'filter_list' }}</span>\n          </div>\n        </template>\n        <template #option=\"slotProps\">\n          <TextIcon :icon=\"slotProps.option.meta.icon\"> {{ slotProps.option.title }}</TextIcon>\n        </template>\n      </FormDropdown>\n      <span v-else class=\"material-icons sortPlaceholder\">filter_list</span>\n      <FormDropdown\n        v-model=\"theme\"\n        :options=\"options\"\n        align-items=\"left\"\n        direction=\"row\"\n        size=\"small\"\n      >\n        <template #select>\n          <span class=\"material-icons select-icon\">{{ listTheme.icon }}</span>\n        </template>\n        <template #option=\"slotProps\">\n          <span class=\"material-icons select-icon\">{{ slotProps.option.value }}</span>\n        </template>\n      </FormDropdown>\n    </Section>\n\n    <template v-if=\"!listRequest.error\">\n      <Section\n        v-if=\"list\"\n        spacer=\"double\"\n        class=\"grid\"\n        :class=\"{ cached: cacheList.length && listRequest.loading }\"\n      >\n        <Grid\n          :key=\"listTheme.name\"\n          :min-width=\"listTheme.width\"\n          :min-width-popup=\"listTheme.popupWidth\"\n          class=\"grid-el\"\n          :class=\"`type-${listTheme.name.replace(' ', '-').toLowerCase()}`\"\n        >\n          <TransitionStaggered :delay-duration=\"listTheme.transition\">\n            <component\n              :is=\"listTheme.component\"\n              v-for=\"item in list!\"\n              :key=\"item.uid\"\n              :item=\"formatItem(item as listElement)\"\n            />\n          </TransitionStaggered>\n        </Grid>\n      </Section>\n      <Section v-if=\"!listRequest.loading && list && !list.length\" class=\"spinner-wrap\">\n        <Empty />\n      </Section>\n      <Section v-if=\"listRequest.loading\" class=\"spinner-wrap\"><Spinner /></Section>\n      <transition :duration=\"100\">\n        <Section\n          v-if=\"!listRequest.loading && listRequest.data && !listRequest.data!.isDone()\"\n          class=\"spinner-wrap\"\n        >\n          <Spinner />\n        </Section>\n      </transition>\n    </template>\n\n    <ErrorBookmarks :list-request=\"listRequest\" />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport {\n  computed,\n  inject,\n  onActivated,\n  onDeactivated,\n  onMounted,\n  onUnmounted,\n  PropType,\n  ref,\n  watch,\n} from 'vue';\nimport { useRouter } from 'vue-router';\nimport Spinner from '../components/spinner.vue';\nimport FormSwitch from '../components/form/form-switch.vue';\nimport { setStateContext, setTypeContext } from '../utils/state';\nimport Section from '../components/section.vue';\nimport { createRequest } from '../utils/reactive';\nimport { getList } from '../../_provider/listFactory';\nimport Grid from '../components/grid.vue';\nimport TransitionStaggered from '../components/transition-staggered.vue';\nimport { bookmarkItem } from '../minimalClass';\nimport { listElement } from '../../_provider/listAbstract';\nimport MediaStatusDropdown from '../components/media/media-status-dropdown.vue';\nimport FormDropdown from '../components/form/form-dropdown.vue';\nimport { bookmarkFormats } from '../utils/bookmarks';\nimport ErrorBookmarks from '../components/error/error-bookmarks.vue';\nimport Empty from '../components/empty.vue';\nimport TextIcon from '../components/text-icon.vue';\nimport FormButton from '../components/form/form-button.vue';\nimport { urlToSlug } from '../../utils/slugs';\nimport { localStore } from '../../utils/localStore';\n\nconst rootWindow = inject('rootWindow') as Window;\nconst rootDocument = inject('rootDocument') as Document;\n\nconst router = useRouter();\n\nconst props = defineProps({\n  type: {\n    type: String as PropType<'anime' | 'manga'>,\n    default: 'anime',\n  },\n  state: {\n    type: String,\n    default: '2',\n  },\n});\n\nconst parameters = ref({\n  state: Number(props.state),\n  type: props.type as 'anime' | 'manga',\n});\nconst cacheList = ref([] as listElement[]);\n\nwatch(\n  () => props.type,\n  value => {\n    parameters.value.type = value as 'anime' | 'manga';\n  },\n);\nwatch(\n  () => parameters.value.type,\n  value => {\n    router.push({ name: 'Bookmarks', params: { type: value } });\n    if (value) setTypeContext(value);\n  },\n);\n\nwatch(\n  () => props.state,\n  value => {\n    parameters.value.state = Number(value);\n    if (value) setStateContext(Number(value));\n  },\n);\nwatch(\n  () => parameters.value.state,\n  value => {\n    router.push({ name: 'Bookmarks', params: { state: Number(value) } });\n  },\n);\n\nconst getSort = sortingOptions => {\n  const curSort = localStore.getItem(`sort/${parameters.value.type}/${parameters.value.state}`);\n  if (curSort && sortingOptions.find(el => el.value === curSort.replace('_asc', '')))\n    return curSort;\n  return 'default';\n};\n\nconst listRequest = createRequest(parameters, async param => {\n  cacheList.value = [];\n  const listProvider = await getList(param.value.state, param.value.type);\n\n  listProvider.setSort(getSort(listProvider.getSortingOptions()));\n\n  listProvider.modes.cached = true;\n  listProvider.getCached().then(list => {\n    cacheList.value = list;\n  });\n\n  listProvider.modes.initProgress = true;\n  listProvider.initFrontendMode();\n\n  await listProvider.getNextPage().catch(e => {\n    throw { e, html: listProvider.errorMessage(e) };\n  });\n\n  return listProvider;\n});\n\nconst list = computed(() => {\n  if (cacheList.value.length && listRequest.loading) return cacheList.value;\n  return listRequest.data && !listRequest.loading ? listRequest.data.getTemplist() : null;\n});\n\nconst formatItem = (item: listElement): bookmarkItem => {\n  const resItem = item as bookmarkItem;\n  if (item.options) {\n    const overview = item.options.u;\n    const resumeUrlObj = item.options.r;\n    const continueUrlObj = item.options.c;\n\n    if (continueUrlObj && continueUrlObj.ep === item.watchedEp + 1) {\n      resItem.streamUrl = continueUrlObj.url;\n    } else if (resumeUrlObj && resumeUrlObj.ep === item.watchedEp) {\n      resItem.streamUrl = resumeUrlObj.url;\n    } else if (overview) {\n      resItem.streamUrl = overview;\n    }\n\n    if (resItem.streamUrl) {\n      resItem.streamIcon = utils.favicon(resItem.streamUrl.split('/')[2]);\n    }\n  }\n  if (item.fn.progress && item.fn.progress.isAiring()) {\n    resItem.progressText = item.fn.progress.getAuto();\n    resItem.progressEp = item.fn.progress.getCurrentEpisode();\n    resItem.progress = item.fn.progress;\n  }\n  return resItem;\n};\n\nconst options = bookmarkFormats.map(format => ({\n  value: format.icon,\n  title: format.name,\n}));\n\nconst theme = computed({\n  get() {\n    return api.settings.get(`bookMarksList${props.type === 'manga' ? 'Manga' : ''}`);\n  },\n  set(value) {\n    api.settings.set(`bookMarksList${props.type === 'manga' ? 'Manga' : ''}`, value);\n  },\n});\n\nconst listTheme = computed(() => {\n  const f = bookmarkFormats.find(format => format.icon === theme.value);\n\n  if (!f) {\n    return bookmarkFormats[0];\n  }\n\n  return f;\n});\n\nasync function loadNext() {\n  if (!listRequest.data || listRequest.data.isLoading()) return;\n  await listRequest.data.getNextPage();\n}\n\nconst handleScroll = () => {\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  if (\n    rootWindow.pageYOffset + rootWindow.innerHeight >\n    rootDocument.documentElement.scrollHeight - 600\n  ) {\n    loadNext();\n  }\n};\n\nwatch(\n  () => listRequest.data,\n  () => handleScroll(),\n);\n\nonActivated(() => {\n  rootWindow.addEventListener('scroll', handleScroll);\n});\n\nonDeactivated(() => {\n  rootWindow.removeEventListener('scroll', handleScroll);\n});\n\nonMounted(() => {\n  rootWindow.addEventListener('scroll', handleScroll);\n});\n\nonUnmounted(() => {\n  rootWindow.removeEventListener('scroll', handleScroll);\n});\n\nconst sortingOptions = computed(() => {\n  const temp = listRequest.data ? listRequest.data.getSortingOptions(true) : [];\n\n  return temp.map(option => ({\n    value: option.value,\n    title: option.title,\n    meta: {\n      icon: option.icon,\n      asc: option.asc,\n    },\n  }));\n});\n\nconst sort = computed({\n  get() {\n    return getSort(sortingOptions.value);\n  },\n  set(value) {\n    localStore.setItem(`sort/${parameters.value.type}/${parameters.value.state}`, value);\n    listRequest.execute();\n  },\n});\n\nconst randomListCache = { anime: [], manga: [] };\nasync function openRandom(status, type) {\n  if (!randomListCache[type].length) {\n    utils.flashm('Loading');\n    const listProvider = await getList(status, type);\n    await listProvider\n      .getCompleteList()\n      .then(async res => {\n        randomListCache[type] = res;\n      })\n      .catch(e => {\n        con.error(e);\n      });\n  }\n  if (randomListCache[type].length > 1) {\n    const currentUrl =\n      randomListCache[type][Math.floor(Math.random() * randomListCache[type].length)].url;\n    const slugObj = urlToSlug(currentUrl);\n    router.push({ name: 'Overview', params: slugObj.path });\n  } else {\n    utils.flashm('List is too small!');\n  }\n}\n\nfunction refresh() {\n  listRequest.execute();\n}\n</script>\n\n<style lang=\"less\" scoped>\n@import '../less/_globals.less';\n.bookmarks {\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n}\n.spinner-wrap {\n  flex-grow: 1;\n  display: flex;\n  align-items: center;\n}\n.controls {\n  display: flex;\n  gap: @spacer-half;\n  flex-wrap: wrap;\n  min-height: 30px;\n}\n\n.grid {\n  transition:\n    filter @normal-transition,\n    opacity @normal-transition;\n  &.cached {\n    opacity: 0.4;\n    filter: grayscale(1);\n    transition: none;\n  }\n\n  .grid-el {\n    &.type-tiles {\n      gap: 20px;\n      .__breakpoint-popup__({\n        gap: @spacer;\n      });\n    }\n  }\n}\n\n.sortPlaceholder {\n  padding-top: 3px;\n  pointer-events: not-allowed;\n}\n\n.select-icon {\n  display: flex;\n}\n\n.__breakpoint-popup__({\n  .m-pill {\n    font-size: 20px;\n  }\n});\n</style>\n","import script from \"./bookmarks.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./bookmarks.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./bookmarks.vue?vue&type=style&index=0&id=1aa53746&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-1aa53746\"],['__file',\"bookmarks.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-1aa53746 {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.bookmarks[data-v-1aa53746] {\\n  flex-grow: 1;\\n  display: flex;\\n  flex-direction: column;\\n}\\n.spinner-wrap[data-v-1aa53746] {\\n  flex-grow: 1;\\n  display: flex;\\n  align-items: center;\\n}\\n.controls[data-v-1aa53746] {\\n  display: flex;\\n  gap: var(--size-spacer-half);\\n  flex-wrap: wrap;\\n  min-height: 30px;\\n}\\n.grid[data-v-1aa53746] {\\n  transition: filter 0.4s, opacity 0.4s;\\n}\\n.grid.cached[data-v-1aa53746] {\\n  opacity: 0.4;\\n  filter: grayscale(1);\\n  transition: none;\\n}\\n.grid .grid-el.type-tiles[data-v-1aa53746] {\\n  gap: 20px;\\n}\\n@media screen and (max-width: 600px) {\\n.grid .grid-el.type-tiles[data-v-1aa53746] {\\n    gap: var(--size-spacer);\\n}\\n}\\n.sortPlaceholder[data-v-1aa53746] {\\n  padding-top: 3px;\\n  pointer-events: not-allowed;\\n}\\n.select-icon[data-v-1aa53746] {\\n  display: flex;\\n}\\n@media screen and (max-width: 600px) {\\n.m-pill[data-v-1aa53746] {\\n    font-size: 20px;\\n}\\n}\\n\""],"names":["_hoisted_1","class","__name","props","modelValue","type","Number","require","default","color","String","rewatching","Boolean","emits","setup","__props","emit","__emit","options","states","push","map","st","value","title","utils","getStatusText","picked","_ctx","_cache","$event","select","slotProps","tabindex","animation","padding","status","currentTitle","_","option","key","listRequest","Object","_directive_dompurify_html","loading","error","html","message","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","state","rootWindow","rootDocument","router","parameters","cacheList","name","params","getSort","sortingOptions","curSort","localStore","getItem","find","el","replace","async","param","listProvider","setSort","getSortingOptions","modes","cached","getCached","then","list","initProgress","initFrontendMode","getNextPage","catch","e","errorMessage","length","data","getTemplist","formatItem","item","resItem","overview","u","resumeUrlObj","r","continueUrlObj","c","ep","watchedEp","streamUrl","url","streamIcon","favicon","split","fn","progress","isAiring","progressText","getAuto","progressEp","getCurrentEpisode","format","icon","theme","get","api","settings","set","listTheme","handleScroll","pageYOffset","innerHeight","documentElement","scrollHeight","isLoading","loadNext","addEventListener","removeEventListener","meta","asc","sort","setItem","execute","randomListCache","anime","manga","lang","seperateRewatching","onClick","flashm","getCompleteList","res","con","currentUrl","Math","floor","random","slugObj","path","style","toString","endsWith","direction","size","spacer","width","popupWidth","toLowerCase","transition","component","uid","duration","isDone"],"sourceRoot":""}