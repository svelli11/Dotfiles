/*! For license information please see page_Mangadex.js.LICENSE.txt */
(()=>{var t={50953:(t,e,n)=>{"use strict";n.d(e,{KR:()=>tt,Kh:()=>W});var r=n(90033);let o,i,a=0;function s(){a++}function l(){if(--a>0)return;if(i){let t=i;for(i=void 0;t;){const e=t.next;t.next=void 0,t.flags&=-9,t=e}}let t;for(;o;){let e=o;for(o=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,1&e.flags)try{e.trigger()}catch(e){t||(t=e)}e=n}}if(t)throw t}let c=!0;const p=[];class u{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){}trigger(t){this.version++,this.notify(t)}notify(t){s();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{l()}}}const d=new WeakMap,m=Symbol(""),h=Symbol(""),f=Symbol("");function g(t,e,n){0}function A(t,e,n,o,i,a){const c=d.get(t);if(!c)return;const p=t=>{t&&t.trigger()};if(s(),"clear"===e)c.forEach(p);else{const i=(0,r.cy)(t),a=i&&(0,r.yI)(n);if(i&&"length"===n){const t=Number(o);c.forEach(((e,n)=>{("length"===n||n===f||!(0,r.Bm)(n)&&n>=t)&&p(e)}))}else switch((void 0!==n||c.has(void 0))&&p(c.get(n)),a&&p(c.get(f)),e){case"add":i?a&&p(c.get("length")):(p(c.get(m)),(0,r.CE)(t)&&p(c.get(h)));break;case"delete":i||(p(c.get(m)),(0,r.CE)(t)&&p(c.get(h)));break;case"set":(0,r.CE)(t)&&p(c.get(m))}}l()}function E(t){const e=q(t);return e===t?e:(g(),J(t)?e:e.map(K))}function y(t){return g(t=q(t)),t}const b={__proto__:null,[Symbol.iterator](){return v(this,Symbol.iterator,K)},concat(...t){return E(this).concat(...t.map((t=>(0,r.cy)(t)?E(t):t)))},entries(){return v(this,"entries",(t=>(t[1]=K(t[1]),t)))},every(t,e){return x(this,"every",t,e,void 0,arguments)},filter(t,e){return x(this,"filter",t,e,(t=>t.map(K)),arguments)},find(t,e){return x(this,"find",t,e,K,arguments)},findIndex(t,e){return x(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return x(this,"findLast",t,e,K,arguments)},findLastIndex(t,e){return x(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return x(this,"forEach",t,e,void 0,arguments)},includes(...t){return I(this,"includes",t)},indexOf(...t){return I(this,"indexOf",t)},join(t){return E(this).join(t)},lastIndexOf(...t){return I(this,"lastIndexOf",t)},map(t,e){return x(this,"map",t,e,void 0,arguments)},pop(){return S(this,"pop")},push(...t){return S(this,"push",t)},reduce(t,...e){return T(this,"reduce",t,e)},reduceRight(t,...e){return T(this,"reduceRight",t,e)},shift(){return S(this,"shift")},some(t,e){return x(this,"some",t,e,void 0,arguments)},splice(...t){return S(this,"splice",t)},toReversed(){return E(this).toReversed()},toSorted(t){return E(this).toSorted(t)},toSpliced(...t){return E(this).toSpliced(...t)},unshift(...t){return S(this,"unshift",t)},values(){return v(this,"values",K)}};function v(t,e,n){const r=y(t),o=r[e]();return r===t||J(t)||(o._next=o.next,o.next=()=>{const t=o._next();return t.value&&(t.value=n(t.value)),t}),o}const w=Array.prototype;function x(t,e,n,r,o,i){const a=y(t),s=a!==t&&!J(t),l=a[e];if(l!==w[e]){const e=l.apply(t,i);return s?K(e):e}let c=n;a!==t&&(s?c=function(e,r){return n.call(this,K(e),r,t)}:n.length>2&&(c=function(e,r){return n.call(this,e,r,t)}));const p=l.call(a,c,r);return s&&o?o(p):p}function T(t,e,n,r){const o=y(t);let i=n;return o!==t&&(J(t)?n.length>3&&(i=function(e,r,o){return n.call(this,e,r,o,t)}):i=function(e,r,o){return n.call(this,e,K(r),o,t)}),o[e](i,...r)}function I(t,e,n){const r=q(t);g();const o=r[e](...n);return(-1===o||!1===o)&&(i=n[0])&&i.__v_raw?(n[0]=q(n[0]),r[e](...n)):o;var i}function S(t,e,n=[]){p.push(c),c=!1,s();const r=q(t)[e].apply(t,n);return l(),function(){const t=p.pop();c=void 0===t||t}(),r}const _=(0,r.pD)("__proto__,__v_isRef,__isVue"),R=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(r.Bm));function N(t){(0,r.Bm)(t)||(t=String(t));const e=q(this);return g(),e.hasOwnProperty(t)}class C{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,n){if("__v_skip"===e)return t.__v_skip;const o=this._isReadonly,i=this._isShallow;if("__v_isReactive"===e)return!o;if("__v_isReadonly"===e)return o;if("__v_isShallow"===e)return i;if("__v_raw"===e)return n===(o?i?j:H:i?G:z).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const a=(0,r.cy)(t);if(!o){let t;if(a&&(t=b[e]))return t;if("hasOwnProperty"===e)return N}const s=Reflect.get(t,e,Q(t)?t:n);return((0,r.Bm)(e)?R.has(e):_(e))?s:(o||g(),i?s:Q(s)?a&&(0,r.yI)(e)?s:s.value:(0,r.Gv)(s)?o?X(s):W(s):s)}}class $ extends C{constructor(t=!1){super(!1,t)}set(t,e,n,o){let i=t[e];if(!this._isShallow){const e=Y(i);if(J(n)||Y(n)||(i=q(i),n=q(n)),!(0,r.cy)(t)&&Q(i)&&!Q(n))return!e&&(i.value=n,!0)}const a=(0,r.cy)(t)&&(0,r.yI)(e)?Number(e)<t.length:(0,r.$3)(t,e),s=Reflect.set(t,e,n,Q(t)?t:o);return t===q(o)&&(a?(0,r.$H)(n,i)&&A(t,"set",e,n):A(t,"add",e,n)),s}deleteProperty(t,e){const n=(0,r.$3)(t,e),o=(t[e],Reflect.deleteProperty(t,e));return o&&n&&A(t,"delete",e,void 0),o}has(t,e){const n=Reflect.has(t,e);return(0,r.Bm)(e)&&R.has(e)||g(),n}ownKeys(t){return g(0,0,(0,r.cy)(t)),Reflect.ownKeys(t)}}class L extends C{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const k=new $,O=new L,M=t=>t,D=t=>Reflect.getPrototypeOf(t);function P(t){return function(...e){return"delete"!==t&&("clear"===t?void 0:this)}}function U(t,e){const n=function(t,e){const n={get(n){const o=this.__v_raw,i=q(o),a=q(n);t||((0,r.$H)(n,a)&&g(),g());const{has:s}=D(i),l=e?M:t?Z:K;return s.call(i,n)?l(o.get(n)):s.call(i,a)?l(o.get(a)):void(o!==i&&o.get(n))},get size(){const e=this.__v_raw;return!t&&g(q(e)),Reflect.get(e,"size",e)},has(e){const n=this.__v_raw,o=(q(n),q(e));return t||((0,r.$H)(e,o)&&g(),g()),e===o?n.has(e):n.has(e)||n.has(o)},forEach(n,r){const o=this,i=o.__v_raw,a=(q(i),e?M:t?Z:K);return!t&&g(),i.forEach(((t,e)=>n.call(r,a(t),a(e),o)))}};return(0,r.X$)(n,t?{add:P("add"),set:P("set"),delete:P("delete"),clear:P("clear")}:{add(t){e||J(t)||Y(t)||(t=q(t));const n=q(this);return D(n).has.call(n,t)||(n.add(t),A(n,"add",t,t)),this},set(t,n){e||J(n)||Y(n)||(n=q(n));const o=q(this),{has:i,get:a}=D(o);let s=i.call(o,t);s||(t=q(t),s=i.call(o,t));const l=a.call(o,t);return o.set(t,n),s?(0,r.$H)(n,l)&&A(o,"set",t,n):A(o,"add",t,n),this},delete(t){const e=q(this),{has:n,get:r}=D(e);let o=n.call(e,t);o||(t=q(t),o=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return o&&A(e,"delete",t,void 0),i},clear(){const t=q(this),e=0!==t.size,n=t.clear();return e&&A(t,"clear",void 0,void 0),n}}),["keys","values","entries",Symbol.iterator].forEach((o=>{n[o]=function(t,e,n){return function(...o){const i=this.__v_raw,a=q(i),s=(0,r.CE)(a),l="entries"===t||t===Symbol.iterator&&s,c=i[t](...o),p=n?M:e?Z:K;return!e&&g(),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:l?[p(t[0]),p(t[1])]:p(t),done:e}},[Symbol.iterator](){return this}}}}(o,t,e)})),n}(t,e);return(e,o,i)=>"__v_isReactive"===o?!t:"__v_isReadonly"===o?t:"__v_raw"===o?e:Reflect.get((0,r.$3)(n,o)&&o in e?n:e,o,i)}const F={get:U(!1,!1)},B={get:U(!0,!1)},z=new WeakMap,G=new WeakMap,H=new WeakMap,j=new WeakMap;function W(t){return Y(t)?t:V(t,!1,k,F,z)}function X(t){return V(t,!0,O,B,H)}function V(t,e,n,o,i){if(!(0,r.Gv)(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const a=i.get(t);if(a)return a;const s=(l=t).__v_skip||!Object.isExtensible(l)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((0,r.Zf)(l));var l;if(0===s)return t;const c=new Proxy(t,2===s?o:n);return i.set(t,c),c}function Y(t){return!(!t||!t.__v_isReadonly)}function J(t){return!(!t||!t.__v_isShallow)}function q(t){const e=t&&t.__v_raw;return e?q(e):t}const K=t=>(0,r.Gv)(t)?W(t):t,Z=t=>(0,r.Gv)(t)?X(t):t;function Q(t){return!!t&&!0===t.__v_isRef}function tt(t){return n=!1,Q(e=t)?e:new et(e,n);var e,n}class et{constructor(t,e){this.dep=new u,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=e?t:q(t),this._value=e?t:K(t),this.__v_isShallow=e}get value(){return this.dep.track(),this._value}set value(t){const e=this._rawValue,n=this.__v_isShallow||J(t)||Y(t);t=n?t:q(t),(0,r.$H)(t,e)&&(this._rawValue=t,this._value=n?t:K(t),this.dep.trigger())}}},90033:(t,e,n)=>{"use strict";function r(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return t=>t in e}n.d(e,{$3:()=>a,$H:()=>y,Bm:()=>c,CE:()=>l,Gv:()=>p,X$:()=>o,Zf:()=>m,cy:()=>s,pD:()=>r,yI:()=>h});const o=Object.assign,i=Object.prototype.hasOwnProperty,a=(t,e)=>i.call(t,e),s=Array.isArray,l=t=>"[object Map]"===d(t),c=t=>"symbol"==typeof t,p=t=>null!==t&&"object"==typeof t,u=Object.prototype.toString,d=t=>u.call(t),m=t=>d(t).slice(8,-1),h=t=>"string"==typeof t&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,f=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},g=/-(\w)/g,A=(f((t=>t.replace(g,((t,e)=>e?e.toUpperCase():"")))),/\B([A-Z])/g),E=(f((t=>t.replace(A,"-$1").toLowerCase())),f((t=>t.charAt(0).toUpperCase()+t.slice(1)))),y=(f((t=>t?`on${E(t)}`:"")),(t,e)=>!Object.is(t,e))},70228:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var r=n(71354),o=n.n(r),i=n(76314),a=n.n(i)()(o());a.push([t.id,"#malp {\n  all: initial;\n  font-size: inherit;\n  font-family: inherit;\n  margin-bottom: 1rem;\n  min-height: 50px;\n  display: block;\n}\n#malp .info {\n  all: initial !important;\n  font-size: inherit !important;\n  font-family: inherit !important;\n}\n#malp select {\n  appearance: auto;\n}\n#malStatus,\n#malTotal,\n#malEpisodes,\n#malUserRating,\n#malRating,\n#malVolumes,\n#malTotalVol,\n#malTotalCha,\n#AddMal {\n  color: black;\n}\n.mal-sync-active {\n  background-color: #002966;\n}\n#malp select option {\n  background-color: white;\n}\n#malp #malStatus,\n#malp #malUserRating,\n#malp #malEpisodes,\n#malp #malVolumes,\n#malp #malEpisodes {\n  font-size: inherit;\n  font-family: inherit;\n  background: transparent;\n  border-color: grey;\n  text-decoration: none;\n  outline: medium none;\n  border-width: 0;\n  height: auto;\n  padding: 0;\n  margin: 0;\n  line-height: 1;\n}\n#malp #malEpisodes,\n#malp #malVolumes,\n#malp #malEpisodes {\n  text-align: center;\n  border-bottom-width: 1px;\n}\n#malp #malEpisodes:focus,\n#malp #malVolumes:focus,\n#malp #malEpisodes:focus {\n  border-color: black;\n}\n#malSyncProgress.ms-loading {\n  height: 4px;\n  width: 100%;\n  position: relative;\n  overflow: hidden;\n  background-color: #ddd;\n}\n#malSyncProgress.ms-loading::before {\n  display: block;\n  position: absolute;\n  content: '';\n  left: -200px;\n  width: 200px;\n  height: 4px;\n  background-color: #2980b9;\n  animation: loading-mal 2s linear infinite;\n}\n@keyframes loading-mal {\n  0% {\n    left: -200px;\n    width: 30%;\n  }\n  50% {\n    width: 30%;\n  }\n  70% {\n    width: 70%;\n  }\n  80% {\n    left: 50%;\n  }\n  95% {\n    left: 120%;\n  }\n  100% {\n    left: 100%;\n  }\n}\n#malSyncProgress.ms-done .ms-progress {\n  width: 100% !important;\n  background-color: #ff4081 !important;\n  transition: background-color 1s !important;\n}\n#malp * {\n  color: black !important;\n}\n#malp #MalData {\n  justify-content: flex-start !important;\n  align-items: center !important;\n  gap: 10px;\n}\n#malp #MalData select,\n#malp #MalData > * > *:last-child,\n#malp #MalData > * > a {\n  background-color: rgb(var(--md-accent)) !important;\n  border-radius: 4px;\n  padding: 4px 8px !important;\n}\n#malp #MalData option {\n  background-color: rgb(var(--md-accent)) !important;\n}\n#malp #MalData > * > span {\n  display: block !important;\n}\n#malp #MalData .info {\n  display: block !important;\n  font-size: 12px !important;\n}\n#malp #MalData #AddMalDiv {\n  margin-left: 10px;\n  display: inline-block !important;\n  font-size: 0;\n}\n#malp #MalData #AddMalDiv #AddMal {\n  font-size: 16px;\n}\n.dark #malp * {\n  color: white !important;\n}\n.dark #malp #MalData {\n  justify-content: flex-start !important;\n  align-items: center !important;\n  gap: 10px;\n}\n.dark #malp #MalData select,\n.dark #malp #MalData > * > *:last-child,\n.dark #malp #MalData > * > a {\n  background-color: rgb(var(--md-accent)) !important;\n  border-radius: 4px;\n  padding: 4px 8px !important;\n}\n.dark #malp #MalData option {\n  background-color: rgb(var(--md-accent)) !important;\n}\n.dark #malp #MalData > * > span {\n  display: block !important;\n}\n.dark #malp #MalData .info {\n  display: block !important;\n  font-size: 12px !important;\n}\n.dark #malp #MalData #AddMalDiv {\n  margin-left: 10px;\n  display: inline-block !important;\n  font-size: 0;\n}\n.dark #malp #MalData #AddMalDiv #AddMal {\n  font-size: 16px;\n}\n.mal-sync-active {\n  background-color: #002966 !important;\n}\nhtml.light .mal-sync-active {\n  background-color: #d3f7ff !important;\n}\n@media (prefers-color-scheme: light) {\n  html.system .mal-sync-active {\n    background-color: #d3f7ff !important;\n  }\n}\n","",{version:3,sources:["webpack://./src/pages/Mangadex/style.less","webpack://./src/pages/pages.less"],names:[],mappings:"AAAA;EACE,YAAA;EACA,kBAAA;EACA,oBAAA;EACA,mBAAA;EACA,gBAAA;EACA,cAAA;AACF;AAPA;EAQI,uBAAA;EACA,6BAAA;EACA,+BAAA;AAEJ;AAZA;EAaI,gBAAA;AAEJ;ACXA;;;;;;;;;EASE,YAAA;ADaF;ACVA;EACE,yBAAA;ADYF;ACTA;EAGM,uBAAA;ADSN;ACJA;;;;;EAMI,kBAAA;EACA,oBAAA;EACA,uBAAA;EACA,kBAAA;EACA,qBAAA;EACA,oBAAA;EACA,eAAA;EACA,YAAA;EACA,UAAA;EACA,SAAA;EACA,cAAA;ADKJ;ACrBA;;;EAsBI,kBAAA;EACA,wBAAA;ADIJ;ACFI;;;EACE,mBAAA;ADMN;ACAE;EACE,WAAA;EACA,WAAA;EACA,kBAAA;EACA,gBAAA;EACA,sBAAA;ADEJ;ACAI;EACE,cAAA;EACA,kBAAA;EACA,WAAA;EACA,YAAA;EACA,YAAA;EACA,WAAA;EACA,yBAAA;EACA,yCAAA;ADEN;ACCI;EACE;IACE,YAAA;IACA,UAAA;EDCN;ECEI;IACE,UAAA;EDAN;ECGI;IACE,UAAA;EDDN;ECII;IACE,SAAA;EDFN;ECKI;IACE,UAAA;EDHN;ECMI;IACE,UAAA;EDJN;AACF;ACQE;EAEI,sBAAA;EACA,oCAAA;EACA,0CAAA;ADPN;AAzCA;EAvCI,uBAAA;AAmFJ;AA5CA;EAnCI,sCAAA;EACA,8BAAA;EACA,SAAA;AAkFJ;AAjDA;;;EA5BM,kDAAA;EACA,kBAAA;EACA,2BAAA;AAkFN;AAxDA;EAtBM,kDAAA;AAiFN;AA9EI;EACE,yBAAA;AAgFN;AA9DA;EAfM,yBAAA;EACA,0BAAA;AAgFN;AAlEA;EAVM,iBAAA;EACA,gCAAA;EACA,YAAA;AA+EN;AAvEA;EANQ,eAAA;AAgFR;AAtEA;EA3CI,uBAAA;AAoHJ;AAzEA;EAvCI,sCAAA;EACA,8BAAA;EACA,SAAA;AAmHJ;AA9EA;;;EAhCM,kDAAA;EACA,kBAAA;EACA,2BAAA;AAmHN;AArFA;EA1BM,kDAAA;AAkHN;AA/GI;EACE,yBAAA;AAiHN;AA3FA;EAnBM,yBAAA;EACA,0BAAA;AAiHN;AA/FA;EAdM,iBAAA;EACA,gCAAA;EACA,YAAA;AAgHN;AApGA;EAVQ,eAAA;AAiHR;AAjGA;EACE,oCAAA;AAmGF;AAhGA;EACE,oCAAA;AAkGF;AA/FA;EACE;IACE,oCAAA;EAiGF;AACF",sourcesContent:["#malp {\n  all: initial;\n  font-size: inherit;\n  font-family: inherit;\n  margin-bottom: 1rem;\n  min-height: 50px;\n  display: block;\n  .info {\n    all: initial !important;\n    font-size: inherit !important;\n    font-family: inherit !important;\n  }\n  select {\n    appearance: auto;\n  }\n}\n\n@import './../pages';\n\n@inputBackground: white;\n\n.style(@bg, @text) {\n  * {\n    color: @text !important;\n  }\n\n  #MalData {\n    justify-content: flex-start !important;\n    align-items: center !important;\n    gap: 10px;\n\n    select,\n    & > * > *:last-child,\n    & > * > a {\n      background-color: @bg !important;\n      border-radius: 4px;\n      padding: 4px 8px !important;\n    }\n\n    option {\n      background-color: @bg !important;\n    }\n\n    & > * > span {\n      display: block !important;\n    }\n    .info {\n      display: block !important;\n      font-size: 12px !important;\n    }\n\n    #AddMalDiv {\n      margin-left: 10px;\n      display: inline-block !important;\n      font-size: 0;\n      #AddMal {\n        font-size: 16px;\n      }\n    }\n  }\n}\n\n#malp {\n  .style(rgb(var(--md-accent)), black);\n}\n\n.dark {\n  #malp {\n    .style(rgb(var(--md-accent)), white);\n  }\n}\n\n.mal-sync-active {\n  background-color: #002966 !important;\n}\n\nhtml.light .mal-sync-active {\n  background-color: #d3f7ff !important;\n}\n\n@media (prefers-color-scheme: light) {\n  html.system .mal-sync-active {\n    background-color: #d3f7ff !important;\n  }\n}\n","@textColor: black;\n@activeEp: #002966;\n@inputBackground: #111111;\n\n#malStatus,\n#malTotal,\n#malEpisodes,\n#malUserRating,\n#malRating,\n#malVolumes,\n#malTotalVol,\n#malTotalCha,\n#AddMal {\n  color: @textColor;\n}\n\n.mal-sync-active {\n  background-color: @activeEp;\n}\n\n#malp {\n  select {\n    option {\n      background-color: @inputBackground;\n    }\n  }\n}\n\n#malp {\n  #malStatus,\n  #malUserRating,\n  #malEpisodes,\n  #malVolumes,\n  #malEpisodes {\n    font-size: inherit;\n    font-family: inherit;\n    background: transparent;\n    border-color: grey;\n    text-decoration: none;\n    outline: medium none;\n    border-width: 0;\n    height: auto;\n    padding: 0;\n    margin: 0;\n    line-height: 1;\n  }\n\n  #malEpisodes,\n  #malVolumes,\n  #malEpisodes {\n    text-align: center;\n    border-bottom-width: 1px;\n\n    &:focus {\n      border-color: @textColor;\n    }\n  }\n}\n\n#malSyncProgress {\n  &.ms-loading {\n    height: 4px;\n    width: 100%;\n    position: relative;\n    overflow: hidden;\n    background-color: #ddd;\n\n    &::before {\n      display: block;\n      position: absolute;\n      content: '';\n      left: -200px;\n      width: 200px;\n      height: 4px;\n      background-color: #2980b9;\n      animation: loading-mal 2s linear infinite;\n    }\n\n    @keyframes loading-mal {\n      0% {\n        left: -200px;\n        width: 30%;\n      }\n\n      50% {\n        width: 30%;\n      }\n\n      70% {\n        width: 70%;\n      }\n\n      80% {\n        left: 50%;\n      }\n\n      95% {\n        left: 120%;\n      }\n\n      100% {\n        left: 100%;\n      }\n    }\n  }\n\n  &.ms-done {\n    .ms-progress {\n      width: 100% !important;\n      background-color: #ff4081 !important;\n      transition: background-color 1s !important;\n    }\n  }\n}\n\n.boxStyle(@bg) {\n  @gap: 10px;\n\n  #MalData {\n    justify-content: flex-start !important;\n    align-items: stretch !important;\n    gap: @gap;\n\n    .malp-group {\n      display: flex;\n      flex-direction: column !important;\n\n      & > .malp-group-field,\n      & > .malp-group-value-section {\n        flex-grow: 1;\n        background-color: @bg !important;\n        border-radius: 4px;\n        padding: 4px 8px !important;\n      }\n    }\n\n    option {\n      background-color: @bg !important;\n    }\n\n    .malp-group-label {\n      display: block !important;\n    }\n\n    .malp-group-label {\n      display: block !important;\n      font-size: 12px !important;\n    }\n\n    #AddMalDiv {\n      margin-left: @gap;\n      display: inline-block !important;\n      font-size: 0;\n      background-color: @bg !important;\n      border-radius: 4px;\n      padding: 4px 8px !important;\n\n      #AddMal {\n        font-size: 16px;\n      }\n    }\n  }\n}\n"],sourceRoot:""}]);const s=a},76314:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<t.length;c++){var p=[].concat(t[c]);r&&a[p[0]]||(void 0!==i&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=i),n&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=n):p[2]=n),o&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=o):p[4]="".concat(o)),e.push(p))}},e}},71354:t=>{"use strict";t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */");return[e].concat([i]).join("\n")}return[e].join("\n")}},80789:(t,e,n)=>{var r=n(97147),o=n(34160),i=r.Mangadex;void 0===o._Page&&(o._Page=i),t.exports=r},34160:(t,e,n)=>{"use strict";t.exports=function(){if("object"==typeof globalThis)return globalThis;var t;try{t=this||new Function("return this")()}catch(t){if("object"==typeof window)return window;if("object"==typeof self)return self;if(void 0!==n.g)return n.g}return t}()},53908:(t,e,n)=>{const r=n(57272),{MAX_LENGTH:o,MAX_SAFE_INTEGER:i}=n(16874),{safeRe:a,safeSrc:s,t:l}=n(99718),c=n(98587),{compareIdentifiers:p}=n(61123);class u{constructor(t,e){if(e=c(e),t instanceof u){if(t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease)return t;t=t.version}else if("string"!=typeof t)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>o)throw new TypeError(`version is longer than ${o} characters`);r("SemVer",t,e),this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease;const n=t.trim().match(e.loose?a[l.LOOSE]:a[l.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((t=>{if(/^[0-9]+$/.test(t)){const e=+t;if(e>=0&&e<i)return e}return t})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(r("SemVer.compare",this.version,this.options,t),!(t instanceof u)){if("string"==typeof t&&t===this.version)return 0;t=new u(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof u||(t=new u(t,this.options)),p(this.major,t.major)||p(this.minor,t.minor)||p(this.patch,t.patch)}comparePre(t){if(t instanceof u||(t=new u(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let e=0;do{const n=this.prerelease[e],o=t.prerelease[e];if(r("prerelease compare",e,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return p(n,o)}while(++e)}compareBuild(t){t instanceof u||(t=new u(t,this.options));let e=0;do{const n=this.build[e],o=t.build[e];if(r("build compare",e,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return p(n,o)}while(++e)}inc(t,e,n){if(t.startsWith("pre")){if(!e&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(e){const t=new RegExp(`^${this.options.loose?s[l.PRERELEASELOOSE]:s[l.PRERELEASE]}$`),n=`-${e}`.match(t);if(!n||n[1]!==e)throw new Error(`invalid identifier: ${e}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e,n),this.inc("pre",e,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e,n),this.inc("pre",e,n);break;case"release":if(0===this.prerelease.length)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const t=Number(n)?1:0;if(0===this.prerelease.length)this.prerelease=[t];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(e===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(t)}}if(e){let r=[e,t];!1===n&&(r=[e]),0===p(this.prerelease[0],e)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}t.exports=u},50560:(t,e,n)=>{const r=n(53908);t.exports=(t,e,n)=>new r(t,n).compare(new r(e,n))},35580:(t,e,n)=>{const r=n(50560);t.exports=(t,e,n)=>r(t,e,n)>0},54089:(t,e,n)=>{const r=n(50560);t.exports=(t,e,n)=>r(t,e,n)>=0},16874:t=>{const e=Number.MAX_SAFE_INTEGER||9007199254740991;t.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:e,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},57272:t=>{const e="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};t.exports=e},61123:t=>{const e=/^[0-9]+$/,n=(t,n)=>{const r=e.test(t),o=e.test(n);return r&&o&&(t=+t,n=+n),t===n?0:r&&!o?-1:o&&!r?1:t<n?-1:1};t.exports={compareIdentifiers:n,rcompareIdentifiers:(t,e)=>n(e,t)}},98587:t=>{const e=Object.freeze({loose:!0}),n=Object.freeze({});t.exports=t=>t?"object"!=typeof t?e:t:n},99718:(t,e,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:i}=n(16874),a=n(57272),s=(e=t.exports={}).re=[],l=e.safeRe=[],c=e.src=[],p=e.safeSrc=[],u=e.t={};let d=0;const m="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[m,o]],f=(t,e,n)=>{const r=(t=>{for(const[e,n]of h)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t})(e),o=d++;a(t,o,e),u[t]=o,c[o]=e,p[o]=r,s[o]=new RegExp(e,n?"g":void 0),l[o]=new RegExp(r,n?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${m}*`),f("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${m}+`),f("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),f("FULL",`^${c[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),f("LOOSE",`^${c[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),f("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),f("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?`+`(?:${c[u.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",c[u.COERCE],!0),f("COERCERTLFULL",c[u.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",f("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",f("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},46448:(t,e,n)=>{var r=n(70228);r&&r.__esModule&&(r=r.default),t.exports="string"==typeof r?r:r.toString()},13647:(t,e,n)=>{"use strict";n.r(e),n.d(e,{request:()=>g,settings:()=>A,storage:()=>f,type:()=>E});var r=n(13647),o=n(78584),i=n(26017);const a={async set(t,e){const n={};return n[t]=e,new Promise(((e,r)=>{s(t).set(n,(function(){chrome.runtime.lastError?r(chrome.runtime.lastError):e()}))}))},get:async t=>new Promise(((e,n)=>{s(t).get(t,(function(r){chrome.runtime.lastError?n(chrome.runtime.lastError):e(r[t])}))})),remove:async t=>new Promise(((e,n)=>{s(t).remove(t,(function(){chrome.runtime.lastError?n(chrome.runtime.lastError):e()}))})),list:async(t="local")=>new Promise(((e,n)=>{"local"===t?chrome.storage.local.get(null,(function(t){e(t)})):chrome.storage.sync.get(null,(function(t){e(t)}))})),async addStyle(t){try{const e=document.createElement("style");e.textContent=t,(document.head||document.body||document.documentElement||document).appendChild(e)}catch(t){console.log(`Could not add css:${t}`)}},version:()=>chrome.runtime.getManifest().version,lang(t,e){if(r.settings.get("forceEn")&&"undefined"!=typeof i18n){let n=i18n[t];if(void 0!==e)for(let t=0;t<e.length;t++)n=n.replace(`$${t+1}`,e[t]);return n}return chrome.i18n.getMessage(t,e)},langDirection(){try{const t=chrome.i18n.getUILanguage();if(/^(ar)(-|$)/i.test(t)&&!r.settings.get("forceEn"))return"rtl"}catch(t){o.error(t)}return"ltr"},assetUrl:t=>chrome.runtime.getURL(`assets/${t}`),injectCssResource(t,e){alert("injectCssResource not supported in webextension")},injectjsResource(t,e){const n=document.createElement("script");n.src=chrome.runtime.getURL(`vendor/${t}`),n.onload=function(){this.remove()},e.get(0).appendChild(n)},addProxyScriptToTag:(t,e)=>(t.src=chrome.runtime.getURL(`/content/proxy/proxy_${e}.js`),t),updateDom(t){const e=document.createElement("script");e.text="\n        document.getElementsByTagName('head')[0].onclick = function(e){\n          try{\n            componentHandler.upgradeDom();\n          }catch(e){\n            console.log(e);\n            setTimeout(function(){\n              componentHandler.upgradeDom();\n            },500);\n          }\n        }",e.onload=function(){this.remove()},t.get(0).appendChild(e)},storageOnChanged(t){chrome.storage.onChanged.addListener(t)}};function s(t){return i.syncRegex.test(t)?chrome.storage.sync:chrome.storage.local}const l={async xhr(t,e){if(void 0!==l.sendMessage)return l.sendMessage({name:"xhr",method:t,url:e}).then((t=>{if(429===t.status)throw"Rate limit Timeout";if(0===t.status)throw t.responseText;return t}));throw"Could not send xhr"},sendMessage:async t=>new Promise(((e,n)=>{chrome.runtime.sendMessage(t,(function(t){e(t)}))})),notification(t){this.sendMessage({name:"notification",options:t})},database(t,e){return this.sendMessage({name:"database",options:{call:t,param:e}})}};var c=n(50953),p=n(40111),u=n(13647),d=n(78584),m=n(26017);const h={options:(0,c.Kh)({autoTrackingModeanime:"video",readerTracking:!0,askBefore:!0,autoTrackingModemanga:"instant",enablePages:{},forceEn:!1,forceEnglishTitles:!1,rpc:!0,presenceLargeImage:"cover",presenceShowButtons:!0,presenceShowMalsync:!1,userscriptModeButton:!1,syncMode:"MAL",syncModeSimkl:"MAL",localSync:!0,delay:0,videoDuration:85,malTags:!1,malContinue:!0,malResume:!0,usedPage:!0,epPredictions:!0,mangaCompletionPercentage:90,theme:"auto",themeSidebars:!0,themeColor:"#000000",themeOpacity:100,themeImage:"",minimalWindow:!1,posLeft:"left",miniMALonMal:!1,floatButtonStealth:!1,minimizeBigPopup:!1,floatButtonCorrection:!0,floatButtonHide:!1,autoCloseMinimal:!1,outWay:!0,miniMalWidth:"550px",miniMalHeight:"90%",malThumbnail:100,friendScore:!0,loadPTWForProgress:!1,quicklinks:["Crunchyroll","Gogoanime","Mangadex","MangaNato","MangaFox","MangaSee","MangaFire","HiAnime","Hulu","Netflix","Hidive","VIZ","MangaPlus","MangaReader","ComicK","WeebCentral","KickAssAnime","animepahe"],quicklinksPosition:"default",autofull:!1,autoresume:!1,autoNextEp:!1,highlightAllEp:!1,checkForFiller:!0,crashReport:!0,introSkip:85,introSkipFwd:[17,39],introSkipBwd:[17,37],nextEpShort:[],correctionShort:[67],syncShort:[],progressInterval:120,progressIntervalDefaultAnime:"en/sub",progressIntervalDefaultManga:"en/sub",progressNotificationsAnime:!0,progressNotificationsManga:!0,notificationsSticky:!0,bookMarksList:!1,bookMarksListManga:!1,customDomains:[],anilistUpdateUi:!0,anilistToken:"",anilistOptions:{displayAdultContent:!0,scoreFormat:"POINT_10"},kitsuToken:"",kitsuOptions:{titleLanguagePreference:"canonical",sfwFilter:!1,ratingSystem:"regular"},simklToken:"",malToken:"",malRefresh:"",shikiToken:"",shikiOptions:{locale:"ru"}}),debounceArray:{},chibiList:{},isInit:(0,c.KR)(!1),async init(){const t=[];for(const e in this.options){const n=await u.storage.get(`settings/${e}`);void 0!==n&&(this.options[e]=n,t[e]=/(token|refresh)/i.test(e)&&n?"********":n)}try{const t=await p.I.getInstance(!0).init();this.chibiList=t.getList()}catch(t){d.error("Error loading chibi repo",t)}let e;return d.log("Settings",t),u.storage.storageOnChanged(((t,n)=>{if("sync"===n)for(const e in t){const n=t[e];/^settings\//i.test(e)&&(this.options[e.replace("settings/","")]=n.newValue,d.info(`Update ${e} option to ${JSON.stringify(n.newValue,null,2)}`))}if("local"===n&&t.rateLimit)try{clearTimeout(e),t.rateLimit.newValue?(d.log("Rate limited"),$(".type-rate").length||m.flashm("Rate limited. Retrying in a moment",{error:!0,type:"rate",permanent:!0})):e=setTimeout((()=>{d.log("No Rate limited"),$(".type-rate").remove()}),5e3)}catch(t){d.error(t)}})),this.isInit.value=!0,this},get(t){if(!this.isInit.value)throw"Settings not initialized";return this.options[t]},set(t,e){if(!Object.prototype.hasOwnProperty.call(this.options,t)){const e=Error(`${t} is not a defined option`);throw d.error(e),e}return this.options[t]=e,u.storage.set(`settings/${t}`,e)},setDebounce(t,e){this.options[t]=e,clearTimeout(this.debounceArray[t]),this.debounceArray[t]=setTimeout((()=>{this.set(t,e),delete this.debounceArray[t]}),1e3)},async getAsync(t){const e=await u.storage.get(`settings/${t}`);return void 0===e&&void 0!==this.options[t]?this.options[t]:e},getStaticChibi(){if(!this.isInit.value)throw"Settings not initialized";return this.chibiList}},f=a,g=l,A=h,E="webextension"},40111:(t,e,n)=>{"use strict";n.d(e,{I:()=>i});var r=n(96789),o=n(13647);class i{static getInstance(t=!1){let e;return e="userscript"===o.type?["https://chibi.malsync.moe/config"]:[chrome.runtime.getURL("chibi"),"https://chibi.malsync.moe/config"],new i(e,t)}constructor(t,e=!1){this.pages=null,this.collections=t,this.useCache=e}async init(){const t=`chibiPages-${o.storage.version()}`,e=await o.storage.get(t)||{chibiPages:{},errors:{}};if(this.useCache&&e.chibiPages&&Object.keys(e.chibiPages).length>0)return this.pages=e.chibiPages,this;const n={},i=(await Promise.all(this.collections.map((t=>this.retrieveCollection(t).catch((e=>(n[t]=e,null))))))).filter((t=>t));return e.errors=n,i.forEach((t=>{Object.keys(t.pages).forEach((n=>{if(t.pages[n].minimumVersion&&(0,r.GT)(t.pages[n].minimumVersion))return;const o=e.chibiPages[n]&&e.chibiPages[n].version.hash!==t.pages[n].version.hash&&Number(e.chibiPages[n].version.timestamp)<Number(t.pages[n].version.timestamp);e.chibiPages[n]&&!o||(e.chibiPages[n]=t.pages[n])}))})),await o.storage.set(t,e),this.pages=e.chibiPages,this}async retrieveCollection(t){const e=await o.request.xhr("GET",`${t}/list.json`),n=JSON.parse(e.responseText);return Object.keys(n.pages).forEach((e=>{n.pages[e].root=t})),n}getList(){if(!this.pages)throw new Error("Pages not loaded");return this.pages}async getPage(t){if(!this.pages)throw new Error("Pages not loaded");const e=this.pages[t];if(!e)throw new Error(`Page ${t} not found`);const n=await o.request.xhr("GET",`${e.root}/pages/${t}.json?version=${e.version.hash}`);return JSON.parse(n.responseText)}getPermissions(){const t=this.getList();return Object.values(t).map((t=>t.urls.match.map((e=>({page:`${t.name} (chibi)`,domain:e,auto:!0,chibi:!0}))))).flat()}getPermissionsElements(){const t=this.getList();return Object.values(t).map((t=>({name:`${t.name} (chibi)`,match:t.urls.match})))}}},97147:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Mangadex:()=>h});var r=n(26017),o=n(7263),i=n(13647);const a='[style*="synopsis"]',{asyncWaitUntilTrue:s,reset:l}=r.getAsyncWaitUntilTrue((()=>o.$(a).length)),{asyncWaitUntilTrue:c,reset:p}=r.getAsyncWaitUntilTrue((()=>o.$(".md--reader-pages img").length));let u;const d={id:"",title:"",coverFilename:"",links:{mal:"",kt:"",al:""}},m={id:"",chapter:"",volume:"",translatedLanguage:""},h={name:"Mangadex",domain:"https://www.mangadex.org",database:"Mangadex",languages:["Many"],type:"manga",isSyncPage:t=>void 0!==t.split("/")[3]&&"chapter"===t.split("/")[3]&&void 0!==t.split("/")[4]&&t.split("/")[4].length>0,isOverviewPage:t=>void 0!==t.split("/")[3]&&"title"===t.split("/")[3]&&void 0!==t.split("/")[4]&&t.split("/")[4].length>0,async getImage(){if(d.coverFilename)return`https://uploads.mangadex.org/covers/${d.id}/${d.coverFilename}`},sync:{getTitle:t=>d.title,getIdentifier:t=>d.id,getOverviewUrl:t=>r.absoluteLink(`/title/${d.id}`,h.domain),getEpisode:t=>parseInt(m.chapter)||1,getVolume:t=>parseInt(m.volume),nextEpUrl(t){const e=$(".rtl").length?"left":"right",n=o.$(`a[href*="/chapter/"] .feather-chevron-${e}`).first();if(!n.length)return"";const i=n.closest('a[href*="/chapter/"]').first().attr("href");return i?r.absoluteLink(i,h.domain):""},getMalUrl:t=>d.links?.mal?`https://myanimelist.net/manga/${d.links.mal}`:"ANILIST"===t&&d.links?.al?`https://anilist.co/manga/${d.links.al}`:!("KITSU"!==t||!d.links?.kt)&&`https://kitsu.app/manga/${d.links.kt}`,readerConfig:[{condition:".md--progress-page .current",current:{selector:".md--progress-page .current:last-child",mode:"text",regex:"\\d+$"},total:{selector:".md--progress-page:last-child > *:last-child",mode:"text",regex:"\\d+$"}},{condition:".md--reader-progress .page-number",current:{selector:".md--reader-progress .page-number:first-child",mode:"text",regex:"\\d+$"},total:{selector:".md--reader-progress .page-number:last-child",mode:"text",regex:"\\d+$"}},{current:{selector:".md--reader-pages img",mode:"countAbove"},total:{selector:".md--reader-pages img",mode:"count"}}]},overview:{getTitle:t=>d.title,getIdentifier:t=>d.id,uiSelector(t){o.$(a).first().prepend(o.html(t))},getMalUrl:t=>h.sync.getMalUrl(t),list:{offsetHandler:!1,elementsSelector:()=>o.$(".chapter").closest(".bg-accent"),elementUrl:t=>r.absoluteLink(t.find("a").first().attr("href"),h.domain),elementEp(t){let e=t.find(".font-bold:not(.ml-1):not(a)").first().text();e||(e=t.find("a").first().attr("title"));const n=e.match(/ch(apter)?\.? *(\d+)/i);return n?Number(n[2]):0}}},init(t){async function e(){if(l(),p(),clearInterval(u),!h.isSyncPage(window.location.href)&&!h.isOverviewPage(window.location.href))return;let e={};if(h.isSyncPage(window.location.href)){const t=await f(`chapter/${r.urlPart(window.location.href,4)}?includes[]=manga`),n=JSON.parse(t.responseText);m.chapter=n.data.attributes.chapter,m.volume=n.data.attributes.volume,m.translatedLanguage=n.data.attributes.translatedLanguage,e.data=n.data.relationships.find((t=>"manga"===t.type)),await c()}if(h.isOverviewPage(window.location.href)){const n=r.urlPart(window.location.href,4);if("random"===n.toLowerCase())throw"The random page is not supported";const o=await f(`manga/${n}?includes[]=cover_art`);e=JSON.parse(o.responseText),await s(),u=r.changeDetect((()=>t.handleList()),(()=>$(".chapter").first().text()+$(".chapter").last().text()))}d.id=e.data.id;const n=e.data.attributes.title;d.title=n[`${e.data.attributes.originalLanguage}-ro`]??n.en??n[e.data.attributes.originalLanguage]??n[Object.keys(n)[0]],d.links=e.data.attributes.links,d.coverFilename=e.data.relationships?.find((t=>"cover_art"===t.type))?.attributes?.fileName,t.handlePage()}i.storage.addStyle(n(46448).toString()),r.changeDetect((()=>{t.reset(),e()}),(()=>"chapter"===r.urlPart(window.location.href,3).toLowerCase()?`${r.urlPart(window.location.href,3)}/${r.urlPart(window.location.href,4)}`:r.urlStrip(window.location.href))),e()}};function f(t){return i.request.xhr("GET",`https://api.mangadex.org/${t}`)}},78584:(t,e,n)=>{"use strict";n.r(e),n.d(e,{debug:()=>a,error:()=>o,info:()=>i,log:()=>r,m:()=>s});const r=Function.prototype.bind.call(console.log,console,"%cMAL-Sync","background-color: #2e51a2; color: white; padding: 2px 10px; border-radius: 3px;"),o=Function.prototype.bind.call(console.error,console,"%cMAL-Sync","background-color: #8f0000; color: white; padding: 2px 10px; border-radius: 3px;"),i=Function.prototype.bind.call(console.info,console,"%cMAL-Sync","background-color: wheat; color: black; padding: 2px 10px; border-radius: 3px;"),a=Function.prototype.bind.call(console.debug,console,"%cMAL-Sync","background-color: steelblue; color: black; padding: 2px 10px; border-radius: 3px;"),s=(t,e="",n=[])=>{let r="white";e||(e=function(t){if(!t)return"#ffffff";t=String(t);let e=0;for(let n=0;n<t.length;n++)e=t.charCodeAt(n)+((e<<5)-e);let n="#";for(let t=0;t<3;t++)n+=`00${(e>>8*t&255).toString(16)}`.substr(-2);return n}(t)),"#"===e[0]&&(r=parseInt(e.replace("#",""),16)>8388607.5?"#000":"#fff");const o=`background-color: ${e}; color: ${r}; padding: 2px 10px; border-radius: 3px; margin-left: -5px; border-left: 1px solid white;`;n.push({name:t,style:o});const i={m:(t,e="")=>s(t,e,[...n])},a=n.reduce(((t,e)=>`${t}%c${e.name}`),""),l=n.map((t=>t.style));return i.log=Function.prototype.bind.call(console.log,console,`%cM ${a}`,"background-color: #2e51a2; color: white; padding: 2px 10px; border-radius: 3px;",...l),i.error=Function.prototype.bind.call(console.error,console,`%cM ${a}`,"background-color: #8f0000; color: white; padding: 2px 10px; border-radius: 3px;",...l),i.info=Function.prototype.bind.call(console.info,console,`%cM ${a}`,"background-color: wheat; color: black; padding: 2px 10px; border-radius: 3px;",...l),i.debug=Function.prototype.bind.call(console.debug,console,`%cM ${a}`,"background-color: steelblue; color: black; padding: 2px 10px; border-radius: 3px;",...l),i}},26017:(t,e,n)=>{"use strict";n.r(e),n.d(e,{absoluteLink:()=>y,canHideTabs:()=>B,changeDetect:()=>x,checkDoubleExecution:()=>_,clearCache:()=>rt,elementInViewport:()=>q,episode:()=>h,favicon:()=>u,flashConfirm:()=>X,flashm:()=>W,fullUrlChangeDetect:()=>w,getAsyncWaitUntilTrue:()=>I,getBaseText:()=>p,getContinueWaching:()=>O,getEntrySettings:()=>D,getResumeWaching:()=>L,getStatusText:()=>G,getTooltip:()=>U,getUrlFromTags:()=>R,getselect:()=>E,handleMalImages:()=>P,htmlDecode:()=>tt,isDomainMatching:()=>it,isFirefox:()=>et,lazyload:()=>J,notifications:()=>H,pageUrl:()=>Z,parseHtml:()=>b,planTo:()=>m,rateLimitExclude:()=>g,returnYYYYMMDD:()=>Q,setContinueWaching:()=>k,setEntrySettings:()=>M,setResumeWaching:()=>C,setUrlInTags:()=>N,sortAlphabetically:()=>ot,status:()=>A,statusTag:()=>z,syncRegex:()=>f,timeCache:()=>j,timeDiffToText:()=>F,upperCaseFirstLetter:()=>at,urlChangeDetect:()=>v,urlParam:()=>c,urlPart:()=>s,urlStrip:()=>l,wait:()=>K,waitForPageToBeVisible:()=>nt,waitUntilTrue:()=>T,watching:()=>d});var r=n(7263),o=n(13647),i=n(78584),a=n(26017);function s(t,e){if(!t)return"";const n=t.split("/");return n[e]?n[e].replace(/[#?].*/,""):""}function l(t){return t.replace(/[#?].*/,"")}function c(t,e){const n=new RegExp(`[?&]${e}=([^&#]*)`).exec(t);return null===n?null:decodeURI(n[1])||0}function p(t){let e=t.text();return t.children().each((function(){e=e.replace(r.$(this).text(),"")})),e}function u(t){if(!t)return"";const e=t.match(/^(https?:\/\/)?[^/]+/);return e&&(t=e[0]),`https://favicon.malsync.moe/?domain=${t}`}function d(t){return"manga"===t?"Reading":"Watching"}function m(t){return"manga"===t?"Plan to Read":"Plan to Watch"}function h(t){return"manga"===t?o.storage.lang("UI_Chapter"):o.storage.lang("UI_Episode")}const f=/(^settings\/.*|^updateCheckTime$|^tempVersion$|^local:\/\/|^list-tagSettings$)/,g=/^https:\/\/api.malsync.moe\/(shark|mal\/|nc\/mal\/.*\/progress$)/i;var A;function E(t,e){let n=t.split(`name="${e}"`)[1].split("</select>")[0];if(n.indexOf('selected="selected"')>-1){n=n.split("<option");for(let t=0;t<n.length;++t)if(n[t].indexOf('selected="selected"')>-1)return n[t].split('value="')[1].split('"')[0]}return""}function y(t,e){return void 0===t||t.startsWith("http")||("/"!==t.charAt(0)&&(t=`/${t}`),t=e+t),t}function b(t){return(new DOMParser).parseFromString(`<!doctype html><body>${t}`,"text/html").body.textContent}function v(t){let e=window.location.href;return setInterval((function(){e!==window.location.href&&(e=window.location.href,t())}),100)}function w(t,e=!1){let n="";const r=setInterval((function(){const r=e?l(window.location.href):window.location.href;n!==r&&(n=r,t())}),100);return Number(r)}function x(t,e,n=!1){let r=e();const o=setInterval((function(){const n=e();void 0!==n&&r!==n&&(r=e(),t())}),500);return n&&t(),Number(o)}function T(t,e,n=100){let r=0;const o=setInterval((function(){r++;let a=!1;try{a=t()}catch(t){i.info("Error in waitUntilTrue",t)}if(a&&(clearInterval(o),e()),r>10){clearInterval(o);const r=Math.max(Math.min(2*n,15e3),500);T(t,e,r)}}),n);return o}function I(t,e=100){let n,r;const o=()=>{clearTimeout(n),r&&r("AsyncWait stopped")};return{asyncWaitUntilTrue:()=>(o(),new Promise(((o,i)=>{r=i,n=T(t,(()=>o()),e)}))),reset:o}}!function(t){t[t.watching=1]="watching",t[t.completed=2]="completed",t[t.onhold=3]="onhold",t[t.dropped=4]="dropped",t[t.planToWatch=6]="planToWatch"}(A||(A={}));const S=Math.random();function _(){$(".mal-sync-double-detect").length&&$(".mal-sync-double-detect").each((function(t){$(this).text()!==S.toString()&&alert("Double execution detected! Please run MAL-Sync once only.")})),$("body").after(r.html(`<div class="mal-sync-double-detect" style="display: none;">${S.toString()}</div>`))}function R(t){return/malSync::[\d\D]+::/.test(t)?e(t.split("malSync::")[1].split("::")[0]):/last::[\d\D]+::/.test(t)?e(t.split("last::")[1].split("::")[0]):void 0;function e(t){try{return atob(t)}catch(e){return t}}}function N(t,e){if(""===t)return e.replace(/,?(malSync|last)::[^ \n]+?::/,"");if(!o.settings.get("malTags"))return e;const n=`malSync::${btoa(t)}::`;return/(last|malSync)::[\d\D]+::/.test(e)?e.replace(/(last|malSync)::[^^]*?::/,n):`${e},${n}`}async function C(t,e,n,r){return o.storage.set(`resume/${n}/${r}`,{url:t,ep:e})}async function L(t,e){if(o.settings.get("malResume"))return o.storage.get(`resume/${t}/${e}`)}async function k(t,e,n,r){return o.storage.set(`continue/${n}/${r}`,{url:t,ep:e})}async function O(t,e){if(o.settings.get("malContinue"))return o.storage.get(`continue/${t}/${e}`)}async function M(t,e,n,r=""){const i={};if(n){for(const t in n)switch(t){case"u":case"p":i[t]=n[t]}o.settings.get("malTags")?r=N(JSON.stringify(i),r):await o.storage.set(`tagSettings/${t}/${e}`,JSON.stringify(i))}return Object.values(i).find((t=>Boolean(t)))||(r=N("",r),o.settings.get("malTags")||await o.storage.remove(`tagSettings/${t}/${e}`)),r}async function D(t,e,n=""){const r={u:null,c:null,r:null,p:""};if(o.settings.get("malTags")){const t=R(n);if(t)if("{"===t[0])try{const e=JSON.parse(t);for(const t in r)e[t]&&(r[t]=e[t])}catch(t){i.error(t)}else r.u=t}else{let n=await o.storage.get(`tagSettings/${t}/${e}`);if(n){n=JSON.parse(n);for(const t in r)n[t]&&(r[t]=n[t])}}const a=await O(t,e);a&&(r.c=a);const s=await L(t,e);return s&&(r.r=s),o.settings.get("usedPage")||(r.u=null),r}function P(t){return-1!==t.indexOf("questionmark")?o.storage.assetUrl("questionmark.gif"):t}function U(t,e="",n="top"){const r=Math.floor(1e3*Math.random()+1);return`<div id="tt${r}" class="icon material-icons" style="font-size:16px; line-height: 0; color: #7f7f7f; padding-bottom: 20px; padding-left: 3px; ${e}">contact_support</div>  <div class="mdl-tooltip mdl-tooltip--${n} mdl-tooltip--large" for="tt${r}">${t}</div>`}function F(t){let e="";t/=1e3;const n=Math.floor(t/31536e3);t-=31536e3*n,n&&(e+=`${n}y `);const r=Math.floor(t/86400);t-=86400*r,r&&(e+=`${r}d `);const o=Math.floor(t/3600)%24;t-=3600*o,o&&r<2&&(e+=`${o}h `);const i=Math.floor(t/60)%60;return t-=60*i,i&&!r&&o<3&&(e+=`${i}min `),e}function B(){return"undefined"!=typeof browser&&void 0!==browser.tabs.hide}function z(t,e,n){const r={anime:{1:{class:"watching",text:"CW",title:o.storage.lang(`UI_Status_watching_${e}`)},2:{class:"completed",text:"CMPL",title:o.storage.lang("UI_Status_Completed")},3:{class:"on-hold",text:"HOLD",title:o.storage.lang("UI_Status_OnHold")},4:{class:"dropped",text:"DROP",title:o.storage.lang("UI_Status_Dropped")},6:{class:"plantowatch",text:"PTW",title:o.storage.lang(`UI_Status_planTo_${e}`)},23:{class:"rewatching",text:"RE",title:o.storage.lang(`UI_Status_Rewatching_${e}`)}},manga:{1:{class:"reading",text:"CR",title:o.storage.lang(`UI_Status_watching_${e}`)},2:{class:"completed",text:"CMPL",title:o.storage.lang("UI_Status_Completed")},3:{class:"on-hold",text:"HOLD",title:o.storage.lang("UI_Status_OnHold")},4:{class:"dropped",text:"DROP",title:o.storage.lang("UI_Status_Dropped")},6:{class:"plantoread",text:"PTR",title:o.storage.lang(`UI_Status_planTo_${e}`)},23:{class:"rewatching",text:"RE",title:o.storage.lang(`UI_Status_Rewatching_${e}`)}}};if($.each([1,2,3,4,6,23],(function(t,e){r.anime[r.anime[e].title]=r.anime[e],r.manga[r.manga[e].title]=r.manga[e]})),t&&r[e][t]){const o=r[e][t];return` <a href="https://myanimelist.net/ownlist/${e}/${n}/edit?hideLayout=1" title="${o.title}" class="Lightbox_AddEdit button_edit ${o.class}">${o.text}</a>`}return!1}function G(t,e){switch(e){case 1:return o.storage.lang(`UI_Status_watching_${t}`);case 2:return o.storage.lang("UI_Status_Completed");case 3:return o.storage.lang("UI_Status_OnHold");case 4:return o.storage.lang("UI_Status_Dropped");case 6:return o.storage.lang(`UI_Status_planTo_${t}`);case 7:return o.storage.lang("UI_Status_All");case 23:return o.storage.lang(`UI_Status_Rewatching_${t}`);default:return""}}function H(t,e,n,r=""){const a={type:"basic",title:e,message:n,iconUrl:r};i.log("Notification",t,a),o.storage.get("notificationHistory").then((e=>{void 0===e&&(e=[]),"object"==typeof e&&(e.length>=10&&e.shift(),e.push({url:t,title:a.title,message:a.message,iconUrl:a.iconUrl,timestamp:Date.now()}),o.storage.set("notificationHistory",e))}));try{return chrome.notifications.create(t,a)}catch(t){i.error(t)}}async function j(t,e,n){const r=await o.storage.get(t);if("object"==typeof r&&(new Date).getTime()<r.timestamp)return r.data;const i=await e();return o.storage.set(t,{data:i,timestamp:(new Date).getTime()+n}).then((()=>i))}function W(t,e){r.$("#flash-div-top").length||function(){o.storage.addStyle('.flashinfo{\n                    transition: max-height 2s, opacity 2s 2s;\n                 }\n                 .mini-stealth .flashinfo{\n                    opacity: 0;\n                 }\n                  #flashinfo-div.hover.mini-stealth .flashinfo.type-update{\n                    opacity: 0.7;\n                 }\n                 #flashinfo-div.hover .flashinfo{\n                    opacity: 1;\n                 }\n                 .flashinfo:hover{\n                    max-height:5000px !important;\n                    z-index: 2147483647;\n                    opacity: 1;\n                    transition: max-height 2s;\n                 }\n                 .flashinfo .synopsis{\n                    transition: max-height 2s, max-width 2s ease 2s;\n                 }\n                 .flashinfo:hover .synopsis{\n                    max-height:9999px !important;\n                    max-width: 500px !important;\n                    transition: max-height 2s;\n                 }\n                 #flashinfo-div{\n                  z-index: 2;\n                  transition: 2s;\n                 }\n                 #flashinfo-div:hover, #flashinfo-div.hover{\n                  z-index: 2147483647;\n                 }\n                 #flashinfo-div.player-error {\n                   z-index: 2147483647;\n                 }\n                 #flashinfo-div.player-error .type-update{\n                  overflow: visible !important;\n                  opacity: 1 !important;\n                 }\n                 #flashinfo-div.player-error .player-error{\n                  display: block !important\n                 }\n                 #flashinfo-div.player-error-missing-permissions .player-error-missing-permissions{\n                  display: block !important\n                 }\n                 #flashinfo-div.player-error-missing-permissions .player-error-default{\n                  display: none !important\n                 }\n\n                 #flash-div-top, #flash-div-bottom, #flashinfo-div{\n                    font-family: "Helvetica","Arial",sans-serif;\n                    color: white;\n                    font-size: 14px;\n                    font-weight: 400;\n                    line-height: 17px;\n                 }\n                 #flash-div-top h2, #flash-div-bottom h2, #flashinfo-div h2{\n                    font-family: "Helvetica","Arial",sans-serif;\n                    color: white;\n                    font-size: 14px;\n                    font-weight: 700;\n                    line-height: 17px;\n                    padding: 0;\n                    margin: 0;\n                 }\n                 #flash-div-top a, #flash-div-bottom a, #flashinfo-div a{\n                    color: #DF6300;\n                 }');let t="";o.settings.get("floatButtonStealth")&&(t="mini-stealth"),r.$("body").after(r.html(`<div id="flash-div-top" dir="${o.storage.langDirection()}" style="text-align: center;pointer-events: none;position: fixed;top:-5px;width:100%;z-index: 2147483647;left: 0;"></div>        <div id="flash-div-bottom" dir="${o.storage.langDirection()}" style="text-align: center;pointer-events: none;position: fixed;bottom:0px;width:100%;z-index: 2147483647;left: 0;"><div id="flash" style="display:none;  background-color: red;padding: 20px; margin: 0 auto;max-width: 60%;          -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 20px;background:rgba(227,0,0,0.6);"></div></div>        <div id="flashinfo-div" dir="${o.storage.langDirection()}" class="${t}" style="text-align: center;pointer-events: none;position: fixed;bottom:0px;width:100%;left: 0;">`))}(),i.log("[Flash] Message:",t);let n="#323232";void 0!==e&&void 0!==e.error&&e.error&&(n="#3e0808");let a="#flash-div-bottom";void 0!==e&&void 0!==e.position&&e.position&&(a=`#flash-div-${e.position}`);let s="flash";if(void 0!==e&&void 0!==e.type&&e.type){const t=`type-${e.type}`;r.$(`${a} .${t}, #flashinfo-div .${t}`).removeClass(t).fadeOut({duration:1e3,queue:!1,complete(){r.$(this).remove()}}),s+=` ${t}`}let l,c=`<div class="${s}" style="display:none;">        <div style="display:table; pointer-events: all; padding: 14px 24px 14px 24px; margin: 0 auto; margin-top: 5px; max-width: 60%; -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 2px;color: white;background:${n}; ">          ${t}        </div>      </div>`;return void 0!==e&&void 0!==e.hoverInfo&&e.hoverInfo?(s+=" flashinfo",c=`<div class="${s}" style="display:none; max-height: 5000px; overflow: hidden;"><div style="display:table; pointer-events: all; margin: 0 auto; margin-top: -2px; max-width: 60%; -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 2px;color: white;background:${n}; position: relative;"><div style="max-height: 60vh; overflow-y: auto; padding: 14px 24px 14px 24px;">${t}</div></div></div>`,r.$("#flashinfo-div").addClass("hover"),l=r.$(r.html(c)).appendTo("#flashinfo-div"),void 0!==e&&void 0!==e.minimized&&e.minimized&&l.css("max-height","8px")):l=r.$(r.html(c)).appendTo(a),void 0!==e&&void 0!==e.permanent&&e.permanent?l.slideDown(800):void 0!==e&&void 0!==e.hoverInfo&&e.hoverInfo?l.slideDown(800).delay(4e3).queue((function(){r.$("#flashinfo-div").removeClass("hover"),l.css("max-height","8px")})):l.slideDown(800).delay(4e3).slideUp(800,(()=>{r.$(this).remove()})),l}async function X(t,e,n=()=>{},i=()=>{},a=!1){return new Promise((function(s,l){let c=o.storage.lang("Ok"),p=o.storage.lang("Cancel");a&&(c=o.storage.lang("Yes"),p=o.storage.lang("No"));const u=W(t=`<div style="text-align: center;">${t}</div><div style="display: flex; justify-content: space-around;"><button class="Yes" style="background-color: transparent; border: none; color: rgb(255,64,129);margin-top: 10px; cursor:pointer;">${c}</button><button class="Cancel" style="background-color: transparent; border: none; color: rgb(255,64,129);margin-top: 10px; cursor:pointer;">${p}</button></div>`,{permanent:!0,position:"top",type:e});u.find(".Yes").click((function(t){s(!0),r.$(t.target).parentsUntil(".flash").fadeOut(300,(function(){r.$(this).remove()})),n()})),u.find(".Cancel").click((function(t){s(!1),r.$(t.target).parentsUntil(".flash").fadeOut(300,(function(){r.$(this).remove()})),i()}))}))}let V=!1,Y=[];function J(t,e=".mdl-layout__content"){function n(t,e){if(!r.$(t).is(":visible"))return!1;if(r.$(t).hasClass("lazyBack"))r.$(t).css("background-image",`url(${t.getAttribute("data-src")})`).removeClass("lazyBack");else{const n=new Image,r=t.getAttribute("data-src");n.onload=function(){t.parent?t.parent.replaceChild(n,t):t.src=r,e&&e()},n.src=r}}for(let t=0;t<Y.length;t++)$(Y[t]).addClass("init");Y=[];const o=t.find("img.lazy.init, .lazyBack.init"),i=function(){for(let t=0;t<Y.length;t++)a.elementInViewport(Y[t],600)&&n(Y[t],(function(){Y.splice(t,t)})),$(Y[t]).length||Y.splice(t,t)};for(let t=0;t<o.length;t++)Y.push(o[t]),$(o[t]).removeClass("init");i(),V||(V=!0,t.find(e).scroll((function(){i()})))}function q(t,e=0){const n=t.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.top-e<=(window.innerHeight||document.documentElement.clientHeight)}function K(t){return new Promise((e=>{setTimeout(e,t)}))}function Z(t,e,n){switch(t){case"mal":return`https://myanimelist.net/${e}/${n}`;case"anilist":return`https://anilist.co/${e}/${n}`;case"kitsu":return`https://kitsu.app/${e}/${n}`;case"simkl":return`https://simkl.com/${e}/${n}`;default:throw`${t} not a valid page`}}function Q(t=0){const e=new Date;e.setDate(e.getDate()+t);const n=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getDate().toString().padStart(2,"0");return`${e.getFullYear()}-${n}-${r}`}function tt(t){return $("<textarea/>").html(r.html(t)).text()}function et(){return Boolean("undefined"!=typeof browser&&"undefined"!=typeof chrome)}function nt(){const t=()=>Boolean(!document.visibilityState||"visible"===document.visibilityState);if(t())return Promise.resolve();i.log("Page in background");const{asyncWaitUntilTrue:e}=I((()=>t()));return e().then((()=>{i.log("Page is visible")}))}async function rt(){const t=await o.storage.list();let e=0;for(const n in t)a.syncRegex.test(n)||/(^tagSettings\/.*)/.test(n)||(o.storage.remove(n),e++);a.flashm(`Cache Cleared [${e}]`)}function ot(t,e){return t.toLowerCase()<e.toLowerCase()?-1:t.toLowerCase()>e.toLowerCase()?1:0}function it(t,e){const n=new URL(t),{host:r}=n;return r===e||r.endsWith(`.${e}`)}function at(t){return!t||t.length<2?t:t.charAt(0).toUpperCase()+t.slice(1)}},7263:(t,e,n)=>{"use strict";n.r(e),n.d(e,{$:()=>o,html:()=>i});var r=n(99418);const o=jQuery;function i(t){return r.A.sanitize(t,{ALLOW_UNKNOWN_PROTOCOLS:!0,ADD_ATTR:["target"]})}},96789:(t,e,n)=>{"use strict";n.d(e,{GT:()=>s}),n(54089);var r=n(35580),o=n.n(r),i=n(13647);function a(){return i.storage.version()}function s(t){return o()(t,a())&&t!==a()}},99418:(t,e,n)=>{"use strict";n.d(e,{A:()=>nt});const{entries:r,setPrototypeOf:o,isFrozen:i,getPrototypeOf:a,getOwnPropertyDescriptor:s}=Object;let{freeze:l,seal:c,create:p}=Object,{apply:u,construct:d}="undefined"!=typeof Reflect&&Reflect;l||(l=function(t){return t}),c||(c=function(t){return t}),u||(u=function(t,e,n){return t.apply(e,n)}),d||(d=function(t,e){return new t(...e)});const m=R(Array.prototype.forEach),h=R(Array.prototype.lastIndexOf),f=R(Array.prototype.pop),g=R(Array.prototype.push),A=R(Array.prototype.splice),E=R(String.prototype.toLowerCase),y=R(String.prototype.toString),b=R(String.prototype.match),v=R(String.prototype.replace),w=R(String.prototype.indexOf),x=R(String.prototype.trim),T=R(Object.prototype.hasOwnProperty),I=R(RegExp.prototype.test),S=(_=TypeError,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return d(_,e)});var _;function R(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return u(t,e,r)}}function N(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;o&&o(t,null);let r=e.length;for(;r--;){let o=e[r];if("string"==typeof o){const t=n(o);t!==o&&(i(e)||(e[r]=t),o=t)}t[o]=!0}return t}function C(t){for(let e=0;e<t.length;e++)T(t,e)||(t[e]=null);return t}function $(t){const e=p(null);for(const[n,o]of r(t))T(t,n)&&(Array.isArray(o)?e[n]=C(o):o&&"object"==typeof o&&o.constructor===Object?e[n]=$(o):e[n]=o);return e}function L(t,e){for(;null!==t;){const n=s(t,e);if(n){if(n.get)return R(n.get);if("function"==typeof n.value)return R(n.value)}t=a(t)}return function(){return null}}const k=l(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),O=l(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),M=l(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),D=l(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),P=l(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),U=l(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),F=l(["#text"]),B=l(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),z=l(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),G=l(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),H=l(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),j=c(/\{\{[\w\W]*|[\w\W]*\}\}/gm),W=c(/<%[\w\W]*|[\w\W]*%>/gm),X=c(/\$\{[\w\W]*/gm),V=c(/^data-[\-\w.\u00B7-\uFFFF]+$/),Y=c(/^aria-[\-\w]+$/),J=c(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),q=c(/^(?:\w+script|data):/i),K=c(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Z=c(/^html$/i),Q=c(/^[a-z][.\w]*(-[.\w]+)+$/i);var tt=Object.freeze({__proto__:null,ARIA_ATTR:Y,ATTR_WHITESPACE:K,CUSTOM_ELEMENT:Q,DATA_ATTR:V,DOCTYPE_NAME:Z,ERB_EXPR:W,IS_ALLOWED_URI:J,IS_SCRIPT_OR_DATA:q,MUSTACHE_EXPR:j,TMPLIT_EXPR:X});const et=function(){return"undefined"==typeof window?null:window};var nt=function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et();const n=e=>t(e);if(n.version="3.2.5",n.removed=[],!e||!e.document||9!==e.document.nodeType||!e.Element)return n.isSupported=!1,n;let{document:o}=e;const i=o,a=i.currentScript,{DocumentFragment:s,HTMLTemplateElement:c,Node:u,Element:d,NodeFilter:_,NamedNodeMap:R=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:C,DOMParser:j,trustedTypes:W}=e,X=d.prototype,V=L(X,"cloneNode"),Y=L(X,"remove"),q=L(X,"nextSibling"),K=L(X,"childNodes"),Q=L(X,"parentNode");if("function"==typeof c){const t=o.createElement("template");t.content&&t.content.ownerDocument&&(o=t.content.ownerDocument)}let nt,rt="";const{implementation:ot,createNodeIterator:it,createDocumentFragment:at,getElementsByTagName:st}=o,{importNode:lt}=i;let ct={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof r&&"function"==typeof Q&&ot&&void 0!==ot.createHTMLDocument;const{MUSTACHE_EXPR:pt,ERB_EXPR:ut,TMPLIT_EXPR:dt,DATA_ATTR:mt,ARIA_ATTR:ht,IS_SCRIPT_OR_DATA:ft,ATTR_WHITESPACE:gt,CUSTOM_ELEMENT:At}=tt;let{IS_ALLOWED_URI:Et}=tt,yt=null;const bt=N({},[...k,...O,...M,...P,...F]);let vt=null;const wt=N({},[...B,...z,...G,...H]);let xt=Object.seal(p(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Tt=null,It=null,St=!0,_t=!0,Rt=!1,Nt=!0,Ct=!1,$t=!0,Lt=!1,kt=!1,Ot=!1,Mt=!1,Dt=!1,Pt=!1,Ut=!0,Ft=!1,Bt=!0,zt=!1,Gt={},Ht=null;const jt=N({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Wt=null;const Xt=N({},["audio","video","img","source","image","track"]);let Vt=null;const Yt=N({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Jt="http://www.w3.org/1998/Math/MathML",qt="http://www.w3.org/2000/svg",Kt="http://www.w3.org/1999/xhtml";let Zt=Kt,Qt=!1,te=null;const ee=N({},[Jt,qt,Kt],y);let ne=N({},["mi","mo","mn","ms","mtext"]),re=N({},["annotation-xml"]);const oe=N({},["title","style","font","a","script"]);let ie=null;const ae=["application/xhtml+xml","text/html"];let se=null,le=null;const ce=o.createElement("form"),pe=function(t){return t instanceof RegExp||t instanceof Function},ue=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!le||le!==t){if(t&&"object"==typeof t||(t={}),t=$(t),ie=-1===ae.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE,se="application/xhtml+xml"===ie?y:E,yt=T(t,"ALLOWED_TAGS")?N({},t.ALLOWED_TAGS,se):bt,vt=T(t,"ALLOWED_ATTR")?N({},t.ALLOWED_ATTR,se):wt,te=T(t,"ALLOWED_NAMESPACES")?N({},t.ALLOWED_NAMESPACES,y):ee,Vt=T(t,"ADD_URI_SAFE_ATTR")?N($(Yt),t.ADD_URI_SAFE_ATTR,se):Yt,Wt=T(t,"ADD_DATA_URI_TAGS")?N($(Xt),t.ADD_DATA_URI_TAGS,se):Xt,Ht=T(t,"FORBID_CONTENTS")?N({},t.FORBID_CONTENTS,se):jt,Tt=T(t,"FORBID_TAGS")?N({},t.FORBID_TAGS,se):{},It=T(t,"FORBID_ATTR")?N({},t.FORBID_ATTR,se):{},Gt=!!T(t,"USE_PROFILES")&&t.USE_PROFILES,St=!1!==t.ALLOW_ARIA_ATTR,_t=!1!==t.ALLOW_DATA_ATTR,Rt=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Nt=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,Ct=t.SAFE_FOR_TEMPLATES||!1,$t=!1!==t.SAFE_FOR_XML,Lt=t.WHOLE_DOCUMENT||!1,Mt=t.RETURN_DOM||!1,Dt=t.RETURN_DOM_FRAGMENT||!1,Pt=t.RETURN_TRUSTED_TYPE||!1,Ot=t.FORCE_BODY||!1,Ut=!1!==t.SANITIZE_DOM,Ft=t.SANITIZE_NAMED_PROPS||!1,Bt=!1!==t.KEEP_CONTENT,zt=t.IN_PLACE||!1,Et=t.ALLOWED_URI_REGEXP||J,Zt=t.NAMESPACE||Kt,ne=t.MATHML_TEXT_INTEGRATION_POINTS||ne,re=t.HTML_INTEGRATION_POINTS||re,xt=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&pe(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(xt.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&pe(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(xt.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(xt.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ct&&(_t=!1),Dt&&(Mt=!0),Gt&&(yt=N({},F),vt=[],!0===Gt.html&&(N(yt,k),N(vt,B)),!0===Gt.svg&&(N(yt,O),N(vt,z),N(vt,H)),!0===Gt.svgFilters&&(N(yt,M),N(vt,z),N(vt,H)),!0===Gt.mathMl&&(N(yt,P),N(vt,G),N(vt,H))),t.ADD_TAGS&&(yt===bt&&(yt=$(yt)),N(yt,t.ADD_TAGS,se)),t.ADD_ATTR&&(vt===wt&&(vt=$(vt)),N(vt,t.ADD_ATTR,se)),t.ADD_URI_SAFE_ATTR&&N(Vt,t.ADD_URI_SAFE_ATTR,se),t.FORBID_CONTENTS&&(Ht===jt&&(Ht=$(Ht)),N(Ht,t.FORBID_CONTENTS,se)),Bt&&(yt["#text"]=!0),Lt&&N(yt,["html","head","body"]),yt.table&&(N(yt,["tbody"]),delete Tt.tbody),t.TRUSTED_TYPES_POLICY){if("function"!=typeof t.TRUSTED_TYPES_POLICY.createHTML)throw S('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof t.TRUSTED_TYPES_POLICY.createScriptURL)throw S('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');nt=t.TRUSTED_TYPES_POLICY,rt=nt.createHTML("")}else void 0===nt&&(nt=function(t,e){if("object"!=typeof t||"function"!=typeof t.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";e&&e.hasAttribute(r)&&(n=e.getAttribute(r));const o="dompurify"+(n?"#"+n:"");try{return t.createPolicy(o,{createHTML:t=>t,createScriptURL:t=>t})}catch(t){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}(W,a)),null!==nt&&"string"==typeof rt&&(rt=nt.createHTML(""));l&&l(t),le=t}},de=N({},[...O,...M,...D]),me=N({},[...P,...U]),he=function(t){g(n.removed,{element:t});try{Q(t).removeChild(t)}catch(e){Y(t)}},fe=function(t,e){try{g(n.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){g(n.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t)if(Mt||Dt)try{he(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},ge=function(t){let e=null,n=null;if(Ot)t="<remove></remove>"+t;else{const e=b(t,/^[\r\n\t ]+/);n=e&&e[0]}"application/xhtml+xml"===ie&&Zt===Kt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");const r=nt?nt.createHTML(t):t;if(Zt===Kt)try{e=(new j).parseFromString(r,ie)}catch(t){}if(!e||!e.documentElement){e=ot.createDocument(Zt,"template",null);try{e.documentElement.innerHTML=Qt?rt:r}catch(t){}}const i=e.body||e.documentElement;return t&&n&&i.insertBefore(o.createTextNode(n),i.childNodes[0]||null),Zt===Kt?st.call(e,Lt?"html":"body")[0]:Lt?e.documentElement:i},Ae=function(t){return it.call(t.ownerDocument||t,t,_.SHOW_ELEMENT|_.SHOW_COMMENT|_.SHOW_TEXT|_.SHOW_PROCESSING_INSTRUCTION|_.SHOW_CDATA_SECTION,null)},Ee=function(t){return t instanceof C&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof R)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore||"function"!=typeof t.hasChildNodes)},ye=function(t){return"function"==typeof u&&t instanceof u};function be(t,e,r){m(t,(t=>{t.call(n,e,r,le)}))}const ve=function(t){let e=null;if(be(ct.beforeSanitizeElements,t,null),Ee(t))return he(t),!0;const r=se(t.nodeName);if(be(ct.uponSanitizeElement,t,{tagName:r,allowedTags:yt}),t.hasChildNodes()&&!ye(t.firstElementChild)&&I(/<[/\w!]/g,t.innerHTML)&&I(/<[/\w!]/g,t.textContent))return he(t),!0;if(7===t.nodeType)return he(t),!0;if($t&&8===t.nodeType&&I(/<[/\w]/g,t.data))return he(t),!0;if(!yt[r]||Tt[r]){if(!Tt[r]&&xe(r)){if(xt.tagNameCheck instanceof RegExp&&I(xt.tagNameCheck,r))return!1;if(xt.tagNameCheck instanceof Function&&xt.tagNameCheck(r))return!1}if(Bt&&!Ht[r]){const e=Q(t)||t.parentNode,n=K(t)||t.childNodes;if(n&&e)for(let r=n.length-1;r>=0;--r){const o=V(n[r],!0);o.__removalCount=(t.__removalCount||0)+1,e.insertBefore(o,q(t))}}return he(t),!0}return t instanceof d&&!function(t){let e=Q(t);e&&e.tagName||(e={namespaceURI:Zt,tagName:"template"});const n=E(t.tagName),r=E(e.tagName);return!!te[t.namespaceURI]&&(t.namespaceURI===qt?e.namespaceURI===Kt?"svg"===n:e.namespaceURI===Jt?"svg"===n&&("annotation-xml"===r||ne[r]):Boolean(de[n]):t.namespaceURI===Jt?e.namespaceURI===Kt?"math"===n:e.namespaceURI===qt?"math"===n&&re[r]:Boolean(me[n]):t.namespaceURI===Kt?!(e.namespaceURI===qt&&!re[r])&&!(e.namespaceURI===Jt&&!ne[r])&&!me[n]&&(oe[n]||!de[n]):!("application/xhtml+xml"!==ie||!te[t.namespaceURI]))}(t)?(he(t),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!I(/<\/no(script|embed|frames)/i,t.innerHTML)?(Ct&&3===t.nodeType&&(e=t.textContent,m([pt,ut,dt],(t=>{e=v(e,t," ")})),t.textContent!==e&&(g(n.removed,{element:t.cloneNode()}),t.textContent=e)),be(ct.afterSanitizeElements,t,null),!1):(he(t),!0)},we=function(t,e,n){if(Ut&&("id"===e||"name"===e)&&(n in o||n in ce))return!1;if(_t&&!It[e]&&I(mt,e));else if(St&&I(ht,e));else if(!vt[e]||It[e]){if(!(xe(t)&&(xt.tagNameCheck instanceof RegExp&&I(xt.tagNameCheck,t)||xt.tagNameCheck instanceof Function&&xt.tagNameCheck(t))&&(xt.attributeNameCheck instanceof RegExp&&I(xt.attributeNameCheck,e)||xt.attributeNameCheck instanceof Function&&xt.attributeNameCheck(e))||"is"===e&&xt.allowCustomizedBuiltInElements&&(xt.tagNameCheck instanceof RegExp&&I(xt.tagNameCheck,n)||xt.tagNameCheck instanceof Function&&xt.tagNameCheck(n))))return!1}else if(Vt[e]);else if(I(Et,v(n,gt,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==w(n,"data:")||!Wt[t])if(Rt&&!I(ft,v(n,gt,"")));else if(n)return!1;return!0},xe=function(t){return"annotation-xml"!==t&&b(t,At)},Te=function(t){be(ct.beforeSanitizeAttributes,t,null);const{attributes:e}=t;if(!e||Ee(t))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:vt,forceKeepAttr:void 0};let o=e.length;for(;o--;){const i=e[o],{name:a,namespaceURI:s,value:l}=i,c=se(a);let p="value"===a?l:x(l);if(r.attrName=c,r.attrValue=p,r.keepAttr=!0,r.forceKeepAttr=void 0,be(ct.uponSanitizeAttribute,t,r),p=r.attrValue,!Ft||"id"!==c&&"name"!==c||(fe(a,t),p="user-content-"+p),$t&&I(/((--!?|])>)|<\/(style|title)/i,p)){fe(a,t);continue}if(r.forceKeepAttr)continue;if(fe(a,t),!r.keepAttr)continue;if(!Nt&&I(/\/>/i,p)){fe(a,t);continue}Ct&&m([pt,ut,dt],(t=>{p=v(p,t," ")}));const u=se(t.nodeName);if(we(u,c,p)){if(nt&&"object"==typeof W&&"function"==typeof W.getAttributeType)if(s);else switch(W.getAttributeType(u,c)){case"TrustedHTML":p=nt.createHTML(p);break;case"TrustedScriptURL":p=nt.createScriptURL(p)}try{s?t.setAttributeNS(s,a,p):t.setAttribute(a,p),Ee(t)?he(t):f(n.removed)}catch(t){}}}be(ct.afterSanitizeAttributes,t,null)},Ie=function t(e){let n=null;const r=Ae(e);for(be(ct.beforeSanitizeShadowDOM,e,null);n=r.nextNode();)be(ct.uponSanitizeShadowNode,n,null),ve(n),Te(n),n.content instanceof s&&t(n.content);be(ct.afterSanitizeShadowDOM,e,null)};return n.sanitize=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,o=null,a=null,l=null;if(Qt=!t,Qt&&(t="\x3c!--\x3e"),"string"!=typeof t&&!ye(t)){if("function"!=typeof t.toString)throw S("toString is not a function");if("string"!=typeof(t=t.toString()))throw S("dirty is not a string, aborting")}if(!n.isSupported)return t;if(kt||ue(e),n.removed=[],"string"==typeof t&&(zt=!1),zt){if(t.nodeName){const e=se(t.nodeName);if(!yt[e]||Tt[e])throw S("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof u)r=ge("\x3c!----\x3e"),o=r.ownerDocument.importNode(t,!0),1===o.nodeType&&"BODY"===o.nodeName||"HTML"===o.nodeName?r=o:r.appendChild(o);else{if(!Mt&&!Ct&&!Lt&&-1===t.indexOf("<"))return nt&&Pt?nt.createHTML(t):t;if(r=ge(t),!r)return Mt?null:Pt?rt:""}r&&Ot&&he(r.firstChild);const c=Ae(zt?t:r);for(;a=c.nextNode();)ve(a),Te(a),a.content instanceof s&&Ie(a.content);if(zt)return t;if(Mt){if(Dt)for(l=at.call(r.ownerDocument);r.firstChild;)l.appendChild(r.firstChild);else l=r;return(vt.shadowroot||vt.shadowrootmode)&&(l=lt.call(i,l,!0)),l}let p=Lt?r.outerHTML:r.innerHTML;return Lt&&yt["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&I(Z,r.ownerDocument.doctype.name)&&(p="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+p),Ct&&m([pt,ut,dt],(t=>{p=v(p,t," ")})),nt&&Pt?nt.createHTML(p):p},n.setConfig=function(){ue(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),kt=!0},n.clearConfig=function(){le=null,kt=!1},n.isValidAttribute=function(t,e,n){le||ue({});const r=se(t),o=se(e);return we(r,o,n)},n.addHook=function(t,e){"function"==typeof e&&g(ct[t],e)},n.removeHook=function(t,e){if(void 0!==e){const n=h(ct[t],e);return-1===n?void 0:A(ct[t],n,1)[0]}return f(ct[t])},n.removeHooks=function(t){ct[t]=[]},n.removeAllHooks=function(){ct={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}()}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(80789)})();
//# sourceMappingURL=page_Mangadex.js.map