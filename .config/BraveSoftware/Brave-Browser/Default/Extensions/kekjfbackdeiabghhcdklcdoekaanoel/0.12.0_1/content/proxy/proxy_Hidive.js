(()=>{"use strict";var e={78584:(e,o,t)=>{t.r(o),t.d(o,{debug:()=>a,error:()=>r,info:()=>c,log:()=>n,m:()=>d});const n=Function.prototype.bind.call(console.log,console,"%cMAL-Sync","background-color: #2e51a2; color: white; padding: 2px 10px; border-radius: 3px;"),r=Function.prototype.bind.call(console.error,console,"%cMAL-Sync","background-color: #8f0000; color: white; padding: 2px 10px; border-radius: 3px;"),c=Function.prototype.bind.call(console.info,console,"%cMAL-Sync","background-color: wheat; color: black; padding: 2px 10px; border-radius: 3px;"),a=Function.prototype.bind.call(console.debug,console,"%cMAL-Sync","background-color: steelblue; color: black; padding: 2px 10px; border-radius: 3px;"),d=(e,o="",t=[])=>{let n="white";o||(o=function(e){if(!e)return"#ffffff";e=String(e);let o=0;for(let t=0;t<e.length;t++)o=e.charCodeAt(t)+((o<<5)-o);let t="#";for(let e=0;e<3;e++)t+=`00${(o>>8*e&255).toString(16)}`.substr(-2);return t}(e)),"#"===o[0]&&(n=parseInt(o.replace("#",""),16)>8388607.5?"#000":"#fff");const r=`background-color: ${o}; color: ${n}; padding: 2px 10px; border-radius: 3px; margin-left: -5px; border-left: 1px solid white;`;t.push({name:e,style:r});const c={m:(e,o="")=>d(e,o,[...t])},a=t.reduce(((e,o)=>`${e}%c${o.name}`),""),i=t.map((e=>e.style));return c.log=Function.prototype.bind.call(console.log,console,`%cM ${a}`,"background-color: #2e51a2; color: white; padding: 2px 10px; border-radius: 3px;",...i),c.error=Function.prototype.bind.call(console.error,console,`%cM ${a}`,"background-color: #8f0000; color: white; padding: 2px 10px; border-radius: 3px;",...i),c.info=Function.prototype.bind.call(console.info,console,`%cM ${a}`,"background-color: wheat; color: black; padding: 2px 10px; border-radius: 3px;",...i),c.debug=Function.prototype.bind.call(console.debug,console,`%cM ${a}`,"background-color: steelblue; color: black; padding: 2px 10px; border-radius: 3px;",...i),c}}},o={};function t(n){var r=o[n];if(void 0!==r)return r.exports;var c=o[n]={exports:{}};return e[n](c,c.exports,t),c.exports}t.d=(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n=t(78584);!function(){const e=document.currentScript,o=e.getAttribute("id"),t=n.m("ScriptProxyWrapper");window.addEventListener("message",(e=>{if(!(e instanceof MessageEvent))return;const t=e;if(!t.data.eventId||t.data.resultId)return;const n=function(e=10){const o=new Uint32Array(e);return window.crypto.getRandomValues(o),Array.from(o,(e=>e.toString(16))).join("")}(),r=function(){if(!window.fetchOverride){window.malsyncData={};var e=fetch;fetch=(o,t)=>e(o,t).then((n=>{try{const r=o.url||o;r.includes("/api/")&&n.clone().json().then((o=>{o&&o.type&&"VOD"===o.type&&o.id&&(window.malsyncData[o.id]=o,async function(o,t,n){if(!o)return;if(!t.episodeInformation||!t.episodeInformation.season)return;const r=String(t.episodeInformation.season);if(!r)return;return window.sessionStorage.getItem(`malsyncData_${r}`)||((o=new URL(o)).pathname="api/v1/view",o.search=`?type=season&id=${r}`,e(o.toString(),n).then((e=>e.json().then((e=>{const o=e.elements.find((e=>"header"===e.$zone));if(!o)return;const t=o.attributes.header.attributes.text;return t?(window.sessionStorage.setItem(`malsyncData_${r}`,t),t):void 0})))))}(r,o,t).then((e=>{e&&(window.malsyncData[o.id].malsync_title=e)})).finally((()=>{window.malsyncData[o.id].done=!0})))}))}catch(e){console.error("MALSYNC",e)}return n})),console.log("MALSYNC","Fetch override added."),window.fetchOverride=!0}return Object.prototype.hasOwnProperty.call(window,"malsyncData")?window.malsyncData:void 0}(),c=document.createElement("script");c.id=n,c.setAttribute(`data-${t.data.eventId}`,JSON.stringify({[o]:r})),document.documentElement.appendChild(c),window.postMessage({eventId:t.data.eventId,resultId:n},"*")}),!1),window.postMessage({uniqueId:e.getAttribute(`data-${o}`)},"*"),t.log("Listener Added"),e.remove()}()})();
//# sourceMappingURL=proxy_Hidive.js.map