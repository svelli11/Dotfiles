{"version":3,"file":"content/4480.js","mappings":"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","sources":["webpack://MALSync/./src/_provider/AniList/list.ts","webpack://MALSync/./src/_provider/Kitsu/list.ts","webpack://MALSync/./src/_provider/Local/helper.ts","webpack://MALSync/./src/_provider/Local/list.ts","webpack://MALSync/./src/_provider/MyAnimeList_api/list.ts","webpack://MALSync/./src/_provider/MyAnimeList_hybrid/list.ts","webpack://MALSync/./src/_provider/Shikimori/list.ts","webpack://MALSync/./src/_provider/Simkl/list.ts","webpack://MALSync/./src/_provider/listAbstract.ts","webpack://MALSync/./src/_provider/listFactory.ts","webpack://MALSync/./src/_minimal/components/form/form-switch.vue?f13b","webpack://MALSync/./src/_minimal/components/form/form-switch.vue","webpack://MALSync/./src/_minimal/components/form/form-switch.vue?e0d4","webpack://MALSync/./src/_minimal/components/form/form-switch.vue?5bef","webpack://MALSync/./src/_minimal/components/spinner.vue","webpack://MALSync/./src/_minimal/components/spinner.vue?159e","webpack://MALSync/./src/_minimal/components/spinner.vue?7ee5"],"sourcesContent":["import { ListAbstract, listElement } from '../listAbstract';\nimport * as helper from './helper';\nimport * as definitions from '../definitions';\n\nexport class UserList extends ListAbstract {\n  name = 'AniList';\n\n  public compact = false;\n\n  public seperateRewatching = true;\n\n  authenticationUrl =\n    'https://anilist.co/api/v2/oauth/authorize?client_id=1487&response_type=token';\n\n  getUserObject() {\n    const query = `\n    query {\n      Viewer {\n        name\n        id\n        avatar {\n          large\n        }\n        options {\n          displayAdultContent\n        }\n        mediaListOptions {\n          scoreFormat\n        }\n      }\n    }\n    `;\n\n    return helper.apiCall(query, [], true).then(res => {\n      if (res.data.Viewer.options && res.data.Viewer.mediaListOptions) {\n        const opt = api.settings.get('anilistOptions');\n        opt.displayAdultContent = res.data.Viewer.options.displayAdultContent;\n        opt.scoreFormat = res.data.Viewer.mediaListOptions.scoreFormat;\n        api.settings.set('anilistOptions', opt);\n      }\n      return {\n        username: res.data.Viewer.name,\n        picture: res.data.Viewer.avatar.large || '',\n        href: `https://anilist.co/user/${res.data.Viewer.id}`,\n      };\n    });\n  }\n\n  deauth() {\n    return api.settings.set('anilistToken', '');\n  }\n\n  accessToken() {\n    return this.api.settings.get('anilistToken');\n  }\n\n  _getSortingOptions() {\n    return [\n      {\n        icon: 'sort_by_alpha',\n        title: api.storage.lang('list_sorting_alpha'),\n        value: 'alpha',\n      },\n      {\n        icon: 'history',\n        title: api.storage.lang('list_sorting_history'),\n        value: 'updated',\n        asc: true,\n      },\n      {\n        icon: 'score',\n        title: api.storage.lang('list_sorting_score'),\n        value: 'score',\n        asc: true,\n      },\n    ];\n  }\n\n  getOrder(sort) {\n    switch (sort) {\n      case 'alpha':\n        return 'MEDIA_TITLE_ENGLISH';\n      case 'updated':\n        return 'UPDATED_TIME_DESC';\n      case 'updated_asc':\n        return 'UPDATED_TIME';\n      case 'score':\n        return 'SCORE_DESC';\n      case 'score_asc':\n        return 'SCORE';\n      default:\n        if (this.status === definitions.status.Watching) return this.getOrder('updated');\n        if (this.status === definitions.status.PlanToWatch) return this.getOrder('updated');\n        // TODO: remove when fixed in anilist\n        return this.getOrder('updated');\n        return this.getOrder('alpha');\n    }\n  }\n\n  async getPart(): Promise<any> {\n    if (this.offset < 1) this.offset = 1;\n    con.log(\n      '[UserList][AniList]',\n      `username: ${this.username}`,\n      `status: ${this.status}`,\n      `offset: ${this.offset}`,\n    );\n\n    if (!this.username) {\n      this.username = await this.getUsername();\n    }\n\n    let query = `\n    query ($page: Int, $userName: String, $type: MediaType, $status: MediaListStatus, $sort: [MediaListSort] ) {\n      Page (page: $page, perPage: 100) {\n        pageInfo {\n          hasNextPage\n        }\n        mediaList (status: $status, type: $type, userName: $userName, sort: $sort) {\n          status\n          startedAt {\n            year\n            month\n            day\n          }\n          completedAt {\n            year\n            month\n            day\n          }\n          repeat\n          score(format: POINT_100)\n          progress\n          progressVolumes\n          notes\n          media {\n            siteUrl\n            id\n            idMal\n            episodes\n            chapters\n            volumes\n            status\n            averageScore\n            coverImage{\n              large\n              extraLarge\n            }\n            bannerImage\n            title {\n              userPreferred\n            }\n          }\n        }\n      }\n    }\n    `;\n\n    if (this.compact) {\n      query = `\n      query ($page: Int, $userName: String, $type: MediaType, $status: MediaListStatus, $sort: [MediaListSort]) {\n        Page (page: $page, perPage: 100) {\n          pageInfo {\n            hasNextPage\n          }\n          mediaList (status: $status, type: $type, userName: $userName, sort: $sort) {\n            progress\n            media {\n              id\n              idMal\n            }\n          }\n        }\n      }\n      `;\n    }\n    const variables = {\n      page: this.offset,\n      userName: this.username,\n      type: this.listType.toUpperCase(),\n      status: helper.statusTranslate[parseInt(this.status.toString())],\n      sort: null,\n    };\n\n    const order = this.getOrder(this.sort);\n\n    if (order) {\n      // @ts-ignore\n      variables.sort = order;\n    }\n\n    return helper.apiCall(query, variables, true).then(res => {\n      con.log('res', res);\n      const data = res.data.Page.mediaList;\n      this.offset += 1;\n      if (!res.data.Page.pageInfo.hasNextPage) {\n        this.done = true;\n      }\n\n      return this.prepareData(data, this.listType);\n    });\n  }\n\n  private async prepareData(data, listType): Promise<listElement[]> {\n    const newData = [] as listElement[];\n    for (let i = 0; i < data.length; i++) {\n      const el = data[i];\n      let tempData;\n      if (listType === 'anime') {\n        tempData = await this.fn({\n          uid: el.media.id,\n          malId: el.media.idMal,\n          apiCacheKey: el.media.idMal ?? `anilist:${el.media.id}`,\n          cacheKey: helper.getCacheKey(el.media.idMal, el.media.id),\n          type: listType,\n          title: el.media.title.userPreferred,\n          url: el.media.siteUrl,\n          score: Math.round(el.score / 10),\n          watchedEp: el.progress,\n          totalEp: el.media.episodes,\n          status: helper.translateList(el.status),\n          startDate: helper.parseFuzzyDate(el.startedAt),\n          finishDate: helper.parseFuzzyDate(el.completedAt),\n          rewatchCount: el.repeat,\n          image: helper.imgCheck(el.media.coverImage.large),\n          imageLarge: helper.imgCheck(el.media.coverImage.extraLarge),\n          imageBanner: helper.imgCheck(el.media.bannerImage),\n          tags: el.notes,\n          airingState: el.anime_airing_status,\n        });\n      } else {\n        tempData = await this.fn({\n          uid: el.media.id,\n          malId: el.media.idMal,\n          apiCacheKey: el.media.idMal ?? `anilist:${el.media.id}`,\n          cacheKey: helper.getCacheKey(el.media.idMal, el.media.id),\n          type: listType,\n          title: el.media.title.userPreferred,\n          url: el.media.siteUrl,\n          score: Math.round(el.score / 10),\n          watchedEp: el.progress,\n          readVol: el.progressVolumes,\n          totalEp: el.media.chapters,\n          totalVol: el.media.volumes,\n          status: helper.translateList(el.status),\n          startDate: helper.parseFuzzyDate(el.startedAt),\n          finishDate: helper.parseFuzzyDate(el.completedAt),\n          rewatchCount: el.repeat,\n          image: helper.imgCheck(el.media.coverImage.large),\n          imageLarge: helper.imgCheck(el.media.coverImage.extraLarge),\n          imageBanner: helper.imgCheck(el.media.bannerImage),\n          tags: el.notes,\n          airingState: el.anime_airing_status,\n        });\n      }\n\n      if (tempData.totalEp === null) {\n        tempData.totalEp = 0;\n      }\n\n      newData.push(tempData);\n    }\n    return newData;\n  }\n\n  private prepareCompact(data, listType) {\n    const newData = [] as {\n      malid: number;\n      id: number;\n      watchedEp: number;\n      cacheKey: string | number;\n    }[];\n    for (let i = 0; i < data.length; i++) {\n      const el = data[i];\n      newData.push({\n        malid: el.media.idMal,\n        id: el.media.id,\n        watchedEp: el.progress,\n        cacheKey: helper.getCacheKey(el.media.idMal, el.media.id),\n      });\n    }\n    return newData;\n  }\n}\n","import { NotAutenticatedError } from '../Errors';\nimport { ListAbstract, listElement } from '../listAbstract';\nimport * as helper from './helper';\nimport * as definitions from '../definitions';\n\nexport class UserList extends ListAbstract {\n  name = 'Kitsu';\n\n  authenticationUrl = 'https://kitsu.app/404?mal-sync=authentication';\n\n  async getUserObject() {\n    const user = await this.userRequest();\n\n    const opt = api.settings.get('kitsuOptions');\n    opt.titleLanguagePreference = user.attributes.titleLanguagePreference;\n    opt.sfwFilter = user.attributes.sfwFilter;\n    opt.ratingSystem = user.attributes.ratingSystem;\n    api.settings.set('kitsuOptions', opt);\n\n    return {\n      username: user.attributes.name,\n      picture: user.attributes.avatar?.large || '',\n      href: `https://kitsu.app/users/${user.attributes.slug || user.id}`,\n    };\n  }\n\n  async getUserId() {\n    const userId = await api.storage.get('kitsuUserId');\n    if (typeof userId !== 'undefined' && userId) {\n      return userId;\n    }\n    const user = await this.userRequest();\n    api.storage.set('kitsuUserId', user.id);\n    return user.id;\n  }\n\n  private userRequest() {\n    return helper.apiCall('GET', 'https://kitsu.app/api/edge/users?filter[self]=true').then(res => {\n      con.log(res);\n      if (typeof res.data[0] === 'undefined') {\n        throw new NotAutenticatedError('Not Authenticated');\n      }\n      return res.data[0];\n    });\n  }\n\n  deauth() {\n    return api.settings.set('kitsuToken', '').then(() => api.storage.set('kitsuUserId', ''));\n  }\n\n  accessToken() {\n    return api.settings.get('kitsuToken');\n  }\n\n  _getSortingOptions() {\n    return [\n      {\n        icon: 'sort_by_alpha',\n        title: api.storage.lang('list_sorting_alpha'),\n        value: 'alpha',\n        asc: true,\n      },\n      {\n        icon: 'history',\n        title: api.storage.lang('list_sorting_history'),\n        value: 'updated',\n        asc: true,\n      },\n      {\n        icon: 'score',\n        title: api.storage.lang('list_sorting_score'),\n        value: 'score',\n        asc: true,\n      },\n    ];\n  }\n\n  getOrder(sort) {\n    let pre = '';\n\n    if (!sort.endsWith('_asc')) pre = '-';\n\n    const sortString = sort.replace('_asc', '');\n    switch (sortString) {\n      case 'alpha':\n        pre = pre ? '' : '-';\n        return `${pre}${this.listType}.titles.en`;\n      case 'updated':\n        return `${pre}progressed_at`;\n      case 'score':\n        return `${pre}rating`;\n      default:\n        if (this.status === definitions.status.Watching) return this.getOrder('updated');\n        if (this.status === definitions.status.PlanToWatch) return this.getOrder('updated');\n        return this.getOrder('alpha');\n    }\n  }\n\n  async getPart() {\n    const userid = await this.getUserId();\n\n    let statusPart = '';\n    let sorting = '';\n\n    const order = this.getOrder(this.sort);\n    if (order) {\n      sorting = `&sort=${order}`;\n    }\n\n    if (this.status !== definitions.status.All) {\n      const statusTemp = helper.translateList(this.status, this.status);\n      statusPart = `&filter[status]=${statusTemp}`;\n    }\n\n    con.log(\n      '[UserList][Kitsu]',\n      `user: ${userid}`,\n      `status: ${this.status}`,\n      `offset: ${this.offset}`,\n    );\n\n    return helper\n      .apiCall(\n        'GET',\n        `https://kitsu.app/api/edge/library-entries?filter[user_id]=${userid}${statusPart}&filter[kind]=${\n          this.listType\n        }&page[offset]=${this.offset}&page[limit]=50${sorting}&include=${this.listType},${\n          this.listType\n        }.mappings,${this.listType}.mappings.item&fields[${\n          this.listType\n        }]=slug,titles,canonicalTitle,averageRating,posterImage,coverImage,${\n          this.listType === 'anime' ? 'episodeCount' : 'chapterCount,volumeCount'\n        }`,\n      )\n      .then(res => {\n        con.log(res);\n\n        this.offset += 50;\n\n        if (!(res.meta.count > this.offset)) {\n          this.done = true;\n        }\n\n        return this.prepareData(res, this.listType);\n      });\n  }\n\n  private async prepareData(data, listType): Promise<listElement[]> {\n    const newData = [] as listElement[];\n    for (let i = 0; i < data.data.length; i++) {\n      const list = data.data[i];\n      const el = data.included[i];\n\n      const name = helper.getTitle(el.attributes.titles, el.attributes.canonicalTitle);\n\n      let malId = NaN;\n      for (let k = 0; k < data.included.length; k++) {\n        const mapping = data.included[k];\n        if (mapping.type === 'mappings') {\n          if (mapping.attributes.externalSite === `myanimelist/${listType}`) {\n            if (mapping.relationships.item.data.id === el.id) {\n              malId = Number(mapping.attributes.externalId);\n              data.included.splice(k, 1);\n              break;\n            }\n          }\n        }\n      }\n      let tempData;\n      if (listType === 'anime') {\n        tempData = await this.fn({\n          malId,\n          apiCacheKey: malId,\n          uid: Number(el.id),\n          cacheKey: helper.getCacheKey(malId, el.id),\n          kitsuSlug: el.attributes.slug,\n          type: listType,\n          title: name,\n          url: `https://kitsu.app/${listType}/${el.attributes.slug}`,\n          score: Math.round(list.attributes.ratingTwenty / 2),\n          watchedEp: list.attributes.progress,\n          totalEp: el.attributes.episodeCount,\n          status: helper.translateList(list.attributes.status),\n          startDate: helper.timestampToDate(list.attributes.startedAt),\n          finishDate: helper.timestampToDate(list.attributes.finishedAt),\n          rewatchCount: list.attributes.reconsumeCount,\n          image:\n            el.attributes.posterImage && el.attributes.posterImage.small\n              ? el.attributes.posterImage.small\n              : '',\n          imageLarge:\n            el.attributes.posterImage && el.attributes.posterImage.original\n              ? el.attributes.posterImage.original\n              : '',\n          imageBanner:\n            el.attributes.coverImage && el.attributes.coverImage.large\n              ? el.attributes.coverImage.large\n              : '',\n          tags: list.attributes.notes,\n          airingState: el.anime_airing_status,\n        });\n      } else {\n        tempData = await this.fn({\n          malId,\n          apiCacheKey: malId,\n          uid: Number(el.id),\n          cacheKey: helper.getCacheKey(malId, el.id),\n          kitsuSlug: el.attributes.slug,\n          type: listType,\n          title: name,\n          url: `https://kitsu.app/${listType}/${el.attributes.slug}`,\n          score: Math.round(list.attributes.ratingTwenty / 2),\n          watchedEp: list.attributes.progress,\n          readVol: list.attributes.volumesOwned,\n          totalEp: el.attributes.chapterCount,\n          totalVol: el.attributes.volumeCount,\n          status: helper.translateList(list.attributes.status),\n          startDate: helper.timestampToDate(list.attributes.startedAt),\n          finishDate: helper.timestampToDate(list.attributes.finishedAt),\n          rewatchCount: el.attributes.reconsumeCount,\n          image:\n            el.attributes.posterImage && el.attributes.posterImage.small\n              ? el.attributes.posterImage.small\n              : '',\n          imageLarge:\n            el.attributes.posterImage && el.attributes.posterImage.original\n              ? el.attributes.posterImage.original\n              : '',\n          imageBanner:\n            el.attributes.coverImage && el.attributes.coverImage.large\n              ? el.attributes.coverImage.large\n              : '',\n          tags: list.attributes.notes,\n          airingState: el.anime_airing_status,\n        });\n      }\n\n      if (tempData.totalEp === null) {\n        tempData.totalEp = 0;\n      }\n\n      newData.push(tempData);\n    }\n    return newData;\n  }\n}\n","export function getCacheKey(id, page) {\n  return `local:${id}:${page}`;\n}\n\nexport async function getSyncList() {\n  let data;\n\n  // @ts-ignore\n  if (api.type === 'userscript') {\n    const list = await api.storage.list('sync');\n    for (const key in list) {\n      list[key] = await api.storage.get(key);\n    }\n    data = list;\n  } else {\n    data = api.storage.list('sync');\n  }\n  return data;\n}\n\nexport function getRegex(listType) {\n  return new RegExp(`^local://[^/]*/${listType}`, 'i');\n}\n","import { ListAbstract, listElement } from '../listAbstract';\nimport * as helper from './helper';\nimport * as definitions from '../definitions';\n\nexport class UserList extends ListAbstract {\n  name = 'local';\n\n  authenticationUrl = '';\n\n  async getUserObject() {\n    return Promise.resolve({ username: 'local', picture: '', href: '' });\n  }\n\n  _getSortingOptions() {\n    return [];\n  }\n\n  async getPart() {\n    con.log('[UserList][Local]', `status: ${this.status}`);\n    this.done = true;\n    const data = await this.prepareData(await this.getSyncList(), this.listType, this.status);\n    return data;\n  }\n\n  private async prepareData(data, listType, status): Promise<listElement[]> {\n    const newData = [] as listElement[];\n    for (const key in data) {\n      if (this.getRegex(listType).test(key)) {\n        const el = data[key];\n        con.log(key, el);\n        if (status !== definitions.status.All && parseInt(el.status) !== status) {\n          continue;\n        }\n        if (listType === 'anime') {\n          newData.push(\n            await this.fn(\n              {\n                uid: key,\n                cacheKey: this.getCacheKey(utils.urlPart(key, 4), utils.urlPart(key, 2)),\n                type: 'anime',\n                airingState: 2,\n                image: el.image ?? '',\n                imageLarge: el.image ?? '',\n                malId: 0,\n                apiCacheKey: 0,\n                tags: el.tags,\n                title: `[L] ${el.name}`,\n                url: key,\n                score: el.score,\n                watchedEp: el.progress,\n                totalEp: 0,\n                status: el.status,\n              },\n              el.sUrl,\n            ),\n          );\n        } else {\n          newData.push(\n            await this.fn(\n              {\n                uid: key,\n                cacheKey: this.getCacheKey(utils.urlPart(key, 4), utils.urlPart(key, 2)),\n                type: 'manga',\n                airingState: 2,\n                image: el.image ?? '',\n                imageLarge: el.image ?? '',\n                malId: 0,\n                apiCacheKey: 0,\n                tags: el.tags,\n                title: `[L] ${el.name}`,\n                url: key,\n                score: el.score,\n                watchedEp: el.progress,\n                readVol: el.volumeprogress,\n                totalEp: 0,\n                totalVol: 0,\n                status: el.status,\n              },\n              el.sUrl,\n            ),\n          );\n        }\n      }\n    }\n\n    con.log('data', newData);\n    return newData;\n  }\n\n  private getRegex = helper.getRegex;\n\n  protected getSyncList = helper.getSyncList;\n\n  protected getCacheKey = helper.getCacheKey;\n}\n","import { ListAbstract, listElement } from '../listAbstract';\nimport * as helper from './helper';\nimport * as definitions from '../definitions';\n\nexport class UserList extends ListAbstract {\n  name = 'MyAnimeList';\n\n  authenticationUrl = helper.authenticationUrl;\n\n  async getUserObject() {\n    return this.apiCall({\n      type: 'GET',\n      path: 'users/@me',\n    }).then(json => {\n      return {\n        username: json.name,\n        picture: json.picture,\n        href: `https://myanimelist.net/profile/${json.name}`,\n      };\n    });\n  }\n\n  deauth() {\n    return api.settings.set('malToken', '').then(() => api.settings.set('malRefresh', ''));\n  }\n\n  _getSortingOptions() {\n    return [\n      {\n        icon: 'sort_by_alpha',\n        title: api.storage.lang('list_sorting_alpha'),\n        value: 'alpha',\n      },\n      {\n        icon: 'history',\n        title: api.storage.lang('list_sorting_history'),\n        value: 'updated',\n      },\n      {\n        icon: 'score',\n        title: api.storage.lang('list_sorting_score'),\n        value: 'score',\n      },\n      {\n        icon: 'calendar_month',\n        title: api.storage.lang('list_sorting_airing_date'),\n        value: 'airing_date',\n      },\n    ];\n  }\n\n  getOrder(sort) {\n    switch (sort) {\n      case 'alpha':\n        return `${this.listType}_title`;\n      case 'updated':\n        return 'list_updated_at';\n      case 'score':\n        return 'list_score';\n      case 'airing_date':\n        return `${this.listType}_start_date`;\n      default:\n        if (this.status === definitions.status.Watching) return this.getOrder('updated');\n        if (this.status === definitions.status.PlanToWatch) return this.getOrder('updated');\n        return this.getOrder('alpha');\n    }\n  }\n\n  private limit = 100;\n\n  async getPart() {\n    this.limit = 100;\n    if (this.modes.frontend) {\n      this.limit = 24;\n    }\n\n    const order = this.getOrder(this.sort);\n    let sorting = '';\n    if (order) {\n      sorting = `&sort=${order}`;\n    }\n\n    con.log(\n      '[UserList][MAL]',\n      `username: ${this.username}`,\n      `status: ${this.status}`,\n      `offset: ${this.offset}`,\n      `sorting: ${sorting}`,\n    );\n\n    let curSt = '';\n    if (this.status !== definitions.status.All) {\n      if (this.listType === 'manga') {\n        curSt = `&status=${helper.mangaStatus[this.status]}`;\n      } else {\n        curSt = `&status=${helper.animeStatus[this.status]}`;\n      }\n    }\n\n    const useAltTitle = api.settings.get('forceEnglishTitles');\n\n    return this.apiCall({\n      type: 'GET',\n      path: `users/@me/${this.listType}list?nsfw=true&limit=${this.limit}&offset=${this.offset}${curSt}${sorting}`,\n      fields: [\n        'list_status{tags,is_rewatching,is_rereading,start_date,finish_date,num_times_rewatched,num_times_reread}',\n        'num_episodes',\n        'num_chapters',\n        'num_volumes',\n        useAltTitle ? 'alternative_titles' : '',\n      ],\n    }).then(json => {\n      if (json.paging && json.paging.next) {\n        this.offset += this.limit;\n      } else {\n        this.done = true;\n      }\n\n      return this.prepareData(json.data);\n    });\n  }\n\n  public async prepareData(data): Promise<listElement[]> {\n    const newData = [] as listElement[];\n    const useAltTitle = api.settings.get('forceEnglishTitles');\n    for (let i = 0; i < data.length; i++) {\n      const el = data[i];\n      if (this.listType === 'anime') {\n        newData.push(\n          await this.fn({\n            uid: el.node.id,\n            malId: el.node.id,\n            apiCacheKey: el.node.id,\n            cacheKey: el.node.id,\n            type: this.listType,\n            title: useAltTitle ? el.node.alternative_titles.en || el.node.title : el.node.title,\n            url: `https://myanimelist.net/${this.listType}/${el.node.id}`,\n            score: el.list_status.score,\n            watchedEp: el.list_status.num_episodes_watched,\n            totalEp: el.node.num_episodes,\n            status: parseInt(helper.animeStatus[el.list_status.status]),\n            startDate: helper.getRoundedDate(el.list_status.start_date),\n            finishDate: helper.getRoundedDate(el.list_status.finish_date),\n            rewatchCount: el.list_status.num_times_rewatched,\n            image: el.node.main_picture?.medium ?? '',\n            imageLarge: el.node.main_picture?.large || el.node.main_picture?.medium || '',\n            tags: el.list_status.tags.length ? el.list_status.tags.join(',') : '',\n            airingState: el.anime_airing_status,\n          }),\n        );\n      } else {\n        newData.push(\n          await this.fn({\n            uid: el.node.id,\n            malId: el.node.id,\n            apiCacheKey: el.node.id,\n            cacheKey: el.node.id,\n            type: this.listType,\n            title: useAltTitle ? el.node.alternative_titles.en || el.node.title : el.node.title,\n            url: `https://myanimelist.net/${this.listType}/${el.node.id}`,\n            score: el.list_status.score,\n            watchedEp: el.list_status.num_chapters_read,\n            readVol: el.list_status.num_volumes_read,\n            totalEp: el.node.num_chapters,\n            totalVol: el.node.num_volumes,\n            status: parseInt(helper.mangaStatus[el.list_status.status]),\n            startDate: helper.getRoundedDate(el.list_status.start_date),\n            finishDate: helper.getRoundedDate(el.list_status.finish_date),\n            rewatchCount: el.list_status.num_times_reread,\n            image: el.node.main_picture?.medium ?? '',\n            imageLarge: el.node.main_picture?.large || el.node.main_picture?.medium || '',\n            tags: el.list_status.tags.length ? el.list_status.tags.join(',') : '',\n            airingState: el.anime_airing_status,\n          }),\n        );\n      }\n    }\n    return newData;\n  }\n\n  apiCall = helper.apiCall;\n}\n","import { UserList as temp } from '../MyAnimeList_api/list';\n\nexport const UserList = temp;\n","import { ListAbstract, listElement } from '../listAbstract';\nimport * as helper from './helper';\nimport * as definitions from '../definitions';\n\nconst pageSize = 25;\n\nexport class UserList extends ListAbstract {\n  name = 'Shiki';\n\n  public seperateRewatching = true;\n\n  authenticationUrl = helper.authUrl;\n\n  tempList: helper.StatusRequest[] = [];\n\n  getUserObject() {\n    return helper.userRequest().then(res => ({\n      username: res.nickname,\n      picture: res.image.x80,\n      href: res.url,\n    }));\n  }\n\n  deauth() {\n    return api.settings.set('shikiToken', '');\n  }\n\n  _getSortingOptions() {\n    return [];\n  }\n\n  getSortingOptions() {\n    return [];\n  }\n\n  async getPart(): Promise<any> {\n    if (this.offset < 2) this.offset = 0;\n    con.log(\n      '[UserList][Shiki]',\n      `username: ${this.username}`,\n      `status: ${this.status}`,\n      `offset: ${this.offset}`,\n    );\n\n    if (!this.tempList.length) {\n      let curSt = '';\n      if (this.status !== definitions.status.All) {\n        curSt = helper.statusTranslate[this.status];\n      }\n\n      const userId = await helper.userId();\n\n      this.tempList = await helper.apiCall({\n        path: 'v2/user_rates',\n        type: 'GET',\n        parameter: {\n          user_id: userId,\n          target_type: this.listType === 'anime' ? 'Anime' : 'Manga',\n          status: curSt,\n        },\n      });\n    }\n\n    const list = this.tempList.slice(this.offset, this.offset + pageSize);\n\n    this.offset += pageSize;\n\n    if (this.offset >= this.tempList.length) {\n      this.done = true;\n    }\n\n    const ids = list.map(el => el.target_id);\n\n    const metadata: helper.MetaRequest[] = await helper.apiCall({\n      path: `${this.listType}s`,\n      parameter: { ids: ids.join(','), limit: pageSize },\n      type: 'GET',\n    });\n\n    const keyedMetadata: { [key: string]: helper.MetaRequest } = {};\n    for (const key in metadata) {\n      const entry = metadata[key];\n      keyedMetadata[entry.id] = entry;\n    }\n\n    if (this.listType === 'manga') {\n      const keyedIds = Object.keys(keyedMetadata);\n      const diffArr = ids.filter((o: any) => !keyedIds.includes(o));\n      if (diffArr.length) {\n        const diffMetadata: helper.MetaRequest[] = await helper.apiCall({\n          path: 'ranobe',\n          parameter: { ids: diffArr.join(','), limit: pageSize },\n          type: 'GET',\n        });\n        for (const key in diffMetadata) {\n          const entry = diffMetadata[key];\n          keyedMetadata[entry.id] = entry;\n        }\n      }\n    }\n\n    return this.prepareData(list, keyedMetadata);\n  }\n\n  private async prepareData(\n    data: helper.StatusRequest[],\n    metadata: { [key: string]: helper.MetaRequest },\n  ): Promise<listElement[]> {\n    const newData = [] as listElement[];\n    for (const key in data) {\n      const entry = data[key];\n      const meta = metadata[entry.target_id];\n\n      // eslint-disable-next-line no-await-in-loop\n      const tempData = await this.fn({\n        malId: entry.target_id,\n        apiCacheKey: entry.target_id,\n        uid: entry.target_id,\n        cacheKey: entry.target_id,\n        type: entry.target_type === 'Anime' ? 'anime' : 'manga',\n        title: helper.title(meta.russian, meta.name),\n        url: `${helper.domain}${meta.url}`,\n        score: entry.score ? entry.score : 0,\n        watchedEp: entry.target_type === 'Anime' ? entry.episodes : entry.chapters,\n        readVol: entry.target_type === 'Anime' ? undefined : entry.volumes,\n        totalEp: entry.target_type === 'Anime' ? meta.episodes : meta.chapters,\n        totalVol: entry.target_type === 'Anime' ? undefined : meta.volumes,\n        status: helper.statusTranslate[entry.status],\n        rewatchCount: entry.rewatches,\n        image: meta.image.original ? `${helper.domain}${meta.image.original}` : '',\n        imageLarge: meta.image.original ? `${helper.domain}${meta.image.original}` : '',\n        tags: entry.text,\n      });\n      newData.push(tempData);\n    }\n\n    return newData;\n  }\n}\n","import { NotAutenticatedError } from '../Errors';\nimport { ListAbstract, listElement } from '../listAbstract';\nimport * as helper from './helper';\nimport * as definitions from '../definitions';\n\nexport class UserList extends ListAbstract {\n  name = 'Simkl';\n\n  authenticationUrl = helper.getAuthUrl();\n\n  async getUserObject() {\n    return this.call('https://api.simkl.com/users/settings').then(res => {\n      if (res && res.user && typeof res.user.name !== 'undefined') {\n        return {\n          username: res.user.name,\n          picture: res.user.avatar || '',\n          href: `https://simkl.com/${res.account.id}`,\n        };\n      }\n\n      throw new NotAutenticatedError('Not Authenticated');\n    });\n  }\n\n  deauth() {\n    return api.settings.set('simklToken', '');\n  }\n\n  errorHandling = helper.errorHandling;\n\n  _getSortingOptions() {\n    return [];\n  }\n\n  async getPart() {\n    con.log('[UserList][Simkl]', `status: ${this.status}`);\n    if (this.listType === 'manga') throw new Error('Does not support manga');\n    return this.syncList().then(async list => {\n      this.done = true;\n      const data = await this.prepareData(Object.values(list), this.listType, this.status);\n      con.log(data);\n      return data;\n    });\n  }\n\n  private async prepareData(data, listType, status): Promise<listElement[]> {\n    const newData = [] as listElement[];\n    for (let i = 0; i < data.length; i++) {\n      const el = data[i];\n      const st = this.translateList(el.status);\n      if (status !== definitions.status.All && parseInt(st) !== status) {\n        continue;\n      }\n\n      let curep = this.getEpisode(el.last_watched);\n      if (st === definitions.status.Completed) {\n        curep = el.total_episodes_count;\n      }\n\n      if (listType === 'anime') {\n        const tempData = await this.fn({\n          malId: el.show.ids.mal,\n          apiCacheKey: el.show.ids.mal,\n          uid: el.show.ids.simkl,\n          cacheKey: this.getCacheKey(el.show.ids.mal, el.show.ids.simkl),\n          type: listType,\n          title: el.show.title,\n          url: `https://simkl.com/${listType}/${el.show.ids.simkl}`,\n          score: el.user_rating ? el.user_rating : 0,\n          watchedEp: curep,\n          totalEp: el.total_episodes_count,\n          status: st,\n          image: `https://simkl.in/posters/${el.show.poster}_ca.jpg`,\n          imageLarge: `https://simkl.in/posters/${el.show.poster}_m.jpg`,\n          imageBanner: `https://simkl.in/posters/${el.show.poster}_w.jpg`,\n          tags: el.private_memo,\n          airingState: el.anime_airing_status,\n        });\n        newData.push(tempData);\n      } else {\n        // placeholder\n      }\n    }\n    return newData;\n  }\n\n  protected syncList = helper.syncList;\n\n  protected translateList = helper.translateList;\n\n  protected getCacheKey = helper.getCacheKey;\n\n  protected getEpisode = helper.getEpisode;\n\n  protected call = helper.call;\n}\n","import { Cache } from '../utils/Cache';\nimport { Progress } from '../utils/progress';\nimport { emitter } from '../utils/emitter';\nimport { errorMessage as _errorMessage } from './Errors';\n\nObject.seal(emitter);\n\nexport interface listElement {\n  uid: number;\n  malId: number;\n  apiCacheKey: number | string;\n  cacheKey: any;\n  type: 'anime' | 'manga';\n  title: string;\n  url: string;\n  score: number;\n  watchedEp: number;\n  readVol?: number;\n  totalEp: number;\n  totalVol?: number;\n  status: number;\n  startDate: string | null;\n  finishDate: string | null;\n  rewatchCount: number;\n  image: string;\n  imageLarge: string;\n  imageBanner?: string;\n  tags: string;\n  airingState: number;\n  fn: {\n    continueUrl: () => string;\n    initProgress: () => void;\n    progress: false | Progress;\n  };\n  options?: {\n    u: string;\n    r: any;\n    c: any;\n    p: any;\n  };\n}\n\nexport abstract class ListAbstract {\n  protected done = false;\n\n  protected loading = false;\n\n  protected firstLoaded = false;\n\n  protected abstract authenticationUrl: string;\n\n  abstract readonly name;\n\n  protected logger;\n\n  public seperateRewatching = false;\n\n  // Modes\n  modes = {\n    frontend: false,\n    sortAiring: false,\n    initProgress: false,\n    cached: false,\n  };\n\n  protected username = '';\n\n  protected offset = 0;\n\n  protected templist: listElement[] = [];\n\n  constructor(\n    protected status: number = 1,\n    protected listType: 'anime' | 'manga' = 'anime',\n    protected sort: string = 'default',\n  ) {\n    this.status = Number(this.status);\n    this.logger = con.m('[S]', '#348fff');\n    return this;\n  }\n\n  public api = api;\n\n  public setTemplist(list) {\n    this.templist = list;\n    return this;\n  }\n\n  public getTemplist() {\n    return this.templist;\n  }\n\n  public setSort(sort) {\n    if (this.firstLoaded || this.loading) throw 'To late to change sort';\n    this.sort = sort;\n  }\n\n  isDone() {\n    return this.done;\n  }\n\n  isLoading() {\n    return this.loading;\n  }\n\n  isFirstLoaded() {\n    return this.firstLoaded;\n  }\n\n  async getCompleteList(): Promise<listElement[]> {\n    do {\n      // eslint-disable-next-line no-await-in-loop\n      await this.getNext();\n    } while (!this.done);\n\n    if (this.modes.sortAiring) await this.sortAiringList();\n\n    if (this.modes.cached) this.getCache().setValue(this.templist.slice(0, 18));\n\n    this.firstLoaded = true;\n\n    return this.templist;\n  }\n\n  async getNextPage(): Promise<listElement[]> {\n    if (this.done) return this.templist;\n\n    if (\n      this.modes.frontend &&\n      this.status === 1 &&\n      (this.sort === 'default' || this.sort === 'unread')\n    ) {\n      this.modes.sortAiring = true;\n      return this.getCompleteList();\n    }\n\n    await this.getNext();\n\n    if (this.modes.cached) this.getCache().setValue(this.templist.slice(0, 24));\n\n    this.firstLoaded = true;\n\n    return this.templist;\n  }\n\n  private async getNext() {\n    this.loading = true;\n    const retList = await this.getPart();\n    this.templist = this.templist.concat(retList);\n    this.loading = false;\n  }\n\n  async getCached(): Promise<listElement[]> {\n    if (await this.getCache().hasValue()) {\n      const cachelist = await this.getCache().getValue();\n      cachelist.forEach(item => {\n        item = this.fn(item);\n        item.watchedEp = '';\n        item.score = '';\n      });\n      return cachelist;\n    }\n    return [];\n  }\n\n  protected updateListener;\n\n  public initFrontendMode() {\n    this.modes.frontend = true;\n    this.updateListener = emitter.on(\n      'update.*',\n      data => {\n        con.log('update', data);\n        if (data.cacheKey) {\n          const item = this.templist.find(el => el.cacheKey === data.cacheKey);\n          con.log(item);\n          if (item && data.state) {\n            item.watchedEp = data.state.episode;\n            item.score = data.state.score;\n            item.status = data.state.status;\n          }\n        }\n      },\n      { objectify: true },\n    );\n  }\n\n  public destroy() {\n    if (this.updateListener) {\n      this.updateListener.off();\n    }\n  }\n\n  public getUsername() {\n    return this.getUserObject().then(user => user.username);\n  }\n\n  abstract getUserObject(): Promise<{ username: string; picture: string; href: string }>;\n\n  abstract _getSortingOptions(): { icon: string; title: string; value: string; asc?: boolean }[];\n\n  getSortingOptions(\n    simple = false,\n  ): { icon: string; title: string; value: string; asc?: boolean }[] {\n    const res = [\n      {\n        icon: 'filter_list',\n        title: api.storage.lang('settings_progress_default'),\n        value: 'default',\n      },\n    ];\n\n    if (this.status === 1 && this.listType === 'manga') {\n      res.push({\n        icon: 'adjust',\n        title: api.storage.lang('list_sorting_unread'),\n        value: 'unread',\n      });\n    }\n\n    const options = this._getSortingOptions();\n    options.forEach(el => {\n      if (!simple) {\n        if (el.asc) {\n          const asc = { ...el };\n          delete asc.asc;\n          asc.value += '_asc';\n          asc.title += ' Ascending';\n          res.push(asc);\n        }\n        delete el.asc;\n      }\n      res.push(el);\n    });\n    return res;\n  }\n\n  abstract getPart(): Promise<listElement[]>;\n\n  flashmError(error) {\n    utils.flashm(this.errorMessage(error), { error: true, type: 'error' });\n  }\n\n  errorMessage(error) {\n    return _errorMessage(error, this.authenticationUrl);\n  }\n\n  // itemFunctions;\n  async fn(item, streamurl = '') {\n    let continueUrlTemp: any = null;\n    item.fn = {\n      continueUrl: () => {\n        if (continueUrlTemp !== null) return continueUrlTemp;\n        return utils.getContinueWaching(item.type, item.cacheKey).then(obj => {\n          const curEp = parseInt(item.watchedEp.toString());\n\n          if (obj === undefined || obj.ep !== curEp + 1) return '';\n\n          continueUrlTemp = obj.url;\n\n          return continueUrlTemp;\n        });\n      },\n      initProgress: () => {\n        return new Progress(item.cacheKey, item.type).init().then(progress => {\n          item.fn.progress = progress;\n        });\n      },\n      progress: false,\n    };\n    item.options = await utils.getEntrySettings(item.type, item.cacheKey, item.tags);\n    if (streamurl) item.options.u = streamurl;\n    if (this.modes.sortAiring || this.modes.initProgress) await item.fn.initProgress();\n\n    return item;\n  }\n\n  // Modes\n  async initProgress() {\n    const listP: any = [];\n    this.templist.forEach(item => {\n      listP.push(item.fn.initProgress());\n    });\n\n    await Promise.all(listP);\n  }\n\n  async sortAiringList() {\n    if (this.sort === 'unread') {\n      this.sortUnread();\n      return;\n    }\n\n    const normalItems: listElement[] = [];\n    let preItems: listElement[] = [];\n    let watchedItems: listElement[] = [];\n    this.templist.forEach(item => {\n      const prediction = item.fn.progress;\n      if (this.listType === 'anime') {\n        if (prediction && prediction.isAiring() && prediction.getPredictionTimestamp()) {\n          if (item.watchedEp < prediction.getCurrentEpisode()) {\n            preItems.push(item);\n          } else {\n            watchedItems.push(item);\n          }\n        } else {\n          normalItems.push(item);\n        }\n      } else if (\n        // Manga only if less than 5 chapters to read\n        prediction &&\n        prediction.isAiring() &&\n        prediction.getCurrentEpisode() &&\n        item.watchedEp &&\n        item.watchedEp < prediction.getCurrentEpisode() &&\n        item.watchedEp + 6 > prediction.getCurrentEpisode()\n      ) {\n        preItems.push(item);\n      } else {\n        normalItems.push(item);\n      }\n    });\n\n    preItems = preItems.sort(sortItems).reverse();\n    watchedItems = watchedItems.sort(sortItems);\n\n    this.templist = preItems.concat(watchedItems, normalItems);\n\n    function sortItems(a, b) {\n      let valA = a.fn.progress.getPredictionTimestamp();\n      let valB = b.fn.progress.getPredictionTimestamp();\n\n      if (!valA) valA = 999999999999;\n      if (!valB) valB = valA;\n\n      return valA - valB;\n    }\n  }\n\n  sortUnread() {\n    this.templist = this.templist.sort(function (a, b) {\n      let valA = 10000;\n      let valB = 10000;\n\n      if (a.fn.progress && a.fn.progress.getCurrentEpisode()) {\n        const tempA = a.fn.progress.getCurrentEpisode() - a.watchedEp;\n        if (tempA > 0) valA = tempA;\n      }\n      if (b.fn.progress && b.fn.progress.getCurrentEpisode()) {\n        const tempB = b.fn.progress.getCurrentEpisode() - b.watchedEp;\n        if (tempB > 0) valB = tempB;\n      }\n\n      return valA - valB;\n    });\n  }\n\n  cacheObj: any = undefined;\n\n  getCache() {\n    if (this.cacheObj) return this.cacheObj;\n    this.cacheObj = new Cache(\n      `list/${this.name}/${this.listType}/${this.status}/${this.sort}`,\n      48 * 60 * 60 * 1000,\n    );\n    return this.cacheObj;\n  }\n}\n","import * as helper from './helper';\nimport { listElement } from './listAbstract';\nimport { UserList as MalList } from './MyAnimeList_hybrid/list';\nimport { UserList as MalApiList } from './MyAnimeList_api/list';\nimport { UserList as AnilistList } from './AniList/list';\nimport { UserList as KitsuList } from './Kitsu/list';\nimport { UserList as SimklList } from './Simkl/list';\nimport { UserList as ShikiList } from './Shikimori/list';\nimport { UserList as LocalList } from './Local/list';\n\nexport async function getList(...args) {\n  let tempList: listElement[] = [];\n  if (api.settings.get('localSync')) {\n    const [status, listType] = args;\n    const localListEl = new LocalList(status, listType);\n    localListEl.modes.initProgress = true;\n    tempList = await localListEl.getCompleteList();\n  }\n\n  const list = getListObj(args);\n  list.setTemplist(tempList);\n  return list;\n}\n\nexport function getOnlyList(...args) {\n  return getListObj(args);\n}\n\nexport function getListbyType(syncMode: string, args = []) {\n  return getListObj(args, syncMode);\n}\n\nfunction getListObj(args, syncMode = '') {\n  if (!syncMode) {\n    syncMode = helper.getSyncMode(args[1] ? args[1] : 'anime');\n  }\n\n  const [status, listType, sorting] = args;\n\n  if (syncMode === 'MAL') {\n    return new MalList(status, listType, sorting);\n  }\n  if (syncMode === 'MALAPI') {\n    return new MalApiList(status, listType, sorting);\n  }\n  if (syncMode === 'ANILIST') {\n    return new AnilistList(status, listType, sorting);\n  }\n  if (syncMode === 'KITSU') {\n    return new KitsuList(status, listType, sorting);\n  }\n  if (syncMode === 'SIMKL') {\n    return new SimklList(status, listType, sorting);\n  }\n  if (syncMode === 'SHIKI') {\n    return new ShikiList(status, listType, sorting);\n  }\n  throw 'Unknown sync mode';\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, unref as _unref, vModelRadio as _vModelRadio, createElementVNode as _createElementVNode, withDirectives as _withDirectives, toDisplayString as _toDisplayString, withKeys as _withKeys } from \"vue\"\n\nconst _hoisted_1 = { class: \"radio-slider\" }\nconst _hoisted_2 = [\"id\", \"name\", \"value\", \"checked\"]\nconst _hoisted_3 = [\"for\", \"onKeyup\"]\n\nimport { PropType, computed } from 'vue';\n\ninterface Option {\n  value: string;\n  title: string;\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'form-switch',\n  props: {\n  options: {\n    type: Array as PropType<Option[]>,\n    required: true,\n  },\n  modelValue: {\n    type: String,\n    required: true,\n    default: '',\n  },\n},\n  emits: ['update:modelValue'],\n  setup(__props, { emit: __emit }) {\n\nconst props = __props;\n\nconst emit = __emit;\n\nconst picked = computed({\n  get() {\n    return props.modelValue;\n  },\n  set(value) {\n    emit('update:modelValue', value);\n  },\n});\n\nconst id = Math.floor(Math.random() * 10000);\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.options, (option, index) => {\n      return (_openBlock(), _createElementBlock(_Fragment, {\n        key: option.value\n      }, [\n        _withDirectives(_createElementVNode(\"input\", {\n          id: `radio-${_unref(id)}-${index}`,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((picked).value = $event)),\n          class: \"input\",\n          type: \"radio\",\n          name: `radio-slide-${_unref(id)}`,\n          value: option.value,\n          checked: __props.modelValue === option.value\n        }, null, 8 /* PROPS */, _hoisted_2), [\n          [_vModelRadio, picked.value]\n        ]),\n        _createElementVNode(\"label\", {\n          class: \"label\",\n          for: `radio-${_unref(id)}-${index}`,\n          tabindex: \"0\",\n          onKeyup: _withKeys(($event: any) => (picked.value = option.value), [\"enter\"])\n        }, _toDisplayString(option.title), 41 /* TEXT, PROPS, NEED_HYDRATION */, _hoisted_3)\n      ], 64 /* STABLE_FRAGMENT */))\n    }), 128 /* KEYED_FRAGMENT */)),\n    _cache[1] || (_cache[1] = _createElementVNode(\"div\", { class: \"select-pill\" }, null, -1 /* HOISTED */))\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"radio-slider\">\n    <template v-for=\"(option, index) in options\" :key=\"option.value\">\n      <input\n        :id=\"`radio-${id}-${index}`\"\n        v-model=\"picked\"\n        class=\"input\"\n        type=\"radio\"\n        :name=\"`radio-slide-${id}`\"\n        :value=\"option.value\"\n        :checked=\"modelValue === option.value\"\n      />\n      <label\n        class=\"label\"\n        :for=\"`radio-${id}-${index}`\"\n        tabindex=\"0\"\n        @keyup.enter=\"picked = option.value\"\n      >\n        {{ option.title }}\n      </label>\n    </template>\n    <div class=\"select-pill\" />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { PropType, computed } from 'vue';\n\ninterface Option {\n  value: string;\n  title: string;\n}\n\nconst props = defineProps({\n  options: {\n    type: Array as PropType<Option[]>,\n    required: true,\n  },\n  modelValue: {\n    type: String,\n    required: true,\n    default: '',\n  },\n});\n\nconst emit = defineEmits(['update:modelValue']);\n\nconst picked = computed({\n  get() {\n    return props.modelValue;\n  },\n  set(value) {\n    emit('update:modelValue', value);\n  },\n});\n\nconst id = Math.floor(Math.random() * 10000);\n</script>\n\n<style lang=\"less\" scoped>\n@import '../../less/_globals.less';\n\n.radio-slider {\n  .block-select();\n  .border-pill();\n\n  border: 2px solid var(--cl-backdrop);\n  background-color: var(--cl-foreground);\n  display: inline-flex;\n  align-items: stretch;\n  padding: 0;\n\n  .label {\n    .border-pill();\n    .link();\n\n    display: inline-flex;\n    align-items: center;\n    padding: 5px 10px;\n    margin: -2px;\n    transition:\n      background-color @fast-transition,\n      color @fast-transition;\n  }\n\n  :checked + label {\n    .border-pill();\n\n    background-color: var(--cl-primary);\n    color: white;\n  }\n\n  &:focus-visible {\n    .focus-outline();\n  }\n\n  .input {\n    display: none;\n  }\n}\n</style>\n","import script from \"./form-switch.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./form-switch.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./form-switch.vue?vue&type=style&index=0&id=0436ca5d&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-0436ca5d\"],['__file',\"form-switch.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-0436ca5d {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.radio-slider[data-v-0436ca5d] {\\n  user-select: none;\\n  border-radius: 30px;\\n  border: 2px solid var(--cl-backdrop);\\n  background-color: var(--cl-foreground);\\n  display: inline-flex;\\n  align-items: stretch;\\n  padding: 0;\\n}\\n.radio-slider .label[data-v-0436ca5d] {\\n  border-radius: 30px;\\n  cursor: pointer;\\n  display: inline-flex;\\n  align-items: center;\\n  padding: 5px 10px;\\n  margin: -2px;\\n  transition: background-color 0.25s, color 0.25s;\\n}\\n.radio-slider :checked + label[data-v-0436ca5d] {\\n  border-radius: 30px;\\n  background-color: var(--cl-primary);\\n  color: white;\\n}\\n.radio-slider[data-v-0436ca5d]:focus-visible {\\n  outline: 2px solid var(--cl-secondary);\\n}\\n.radio-slider .input[data-v-0436ca5d] {\\n  display: none;\\n}\\n\"","<template>\n  <div class=\"square-spinner\">\n    <div class=\"e1\"></div>\n  </div>\n</template>\n\n<style lang=\"less\" scoped>\n.square-spinner {\n  position: relative;\n  height: 50px;\n  width: 50px;\n  margin: 50px auto;\n\n  .e1 {\n    position: absolute;\n    top: 0;\n    right: 0;\n    left: 0;\n    bottom: 0;\n    border-radius: 50%;\n    border-top: 5px solid var(--cl-text);\n    border-bottom: 5px solid var(--cl-text);\n    border-left: 5px solid transparent;\n    border-right: 5px solid transparent;\n    animation: spinner 0.75s infinite;\n  }\n}\n\n@keyframes spinner {\n  0% {\n    transform: rotateZ(45deg);\n  }\n\n  70% {\n    transform: rotateZ(225deg);\n  }\n\n  100% {\n    transform: rotateZ(225deg);\n  }\n}\n</style>\n","import { render } from \"./spinner.vue?vue&type=template&id=68101cfe&scoped=true\"\nconst script = {}\n\nimport _style_0 from \"./spinner.vue?vue&type=style&index=0&id=68101cfe&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['styles',[_style_0]],['__scopeId',\"data-v-68101cfe\"],['__file',\"spinner.vue\"]])\n\nexport default __exports__","export default \".square-spinner[data-v-68101cfe] {\\n  position: relative;\\n  height: 50px;\\n  width: 50px;\\n  margin: 50px auto;\\n}\\n.square-spinner .e1[data-v-68101cfe] {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  left: 0;\\n  bottom: 0;\\n  border-radius: 50%;\\n  border-top: 5px solid var(--cl-text);\\n  border-bottom: 5px solid var(--cl-text);\\n  border-left: 5px solid transparent;\\n  border-right: 5px solid transparent;\\n  animation: spinner-68101cfe 0.75s infinite;\\n}\\n@keyframes spinner-68101cfe {\\n0% {\\n    transform: rotateZ(45deg);\\n}\\n70% {\\n    transform: rotateZ(225deg);\\n}\\n100% {\\n    transform: rotateZ(225deg);\\n}\\n}\\n\""],"names":["UserList","name","compact","seperateRewatching","authenticationUrl","getUserObject","then","res","data","Viewer","options","mediaListOptions","opt","api","settings","get","displayAdultContent","scoreFormat","set","username","picture","avatar","large","href","id","deauth","accessToken","this","_getSortingOptions","icon","title","storage","lang","value","asc","getOrder","sort","status","Watching","PlanToWatch","getPart","offset","con","log","getUsername","query","variables","page","userName","type","listType","toUpperCase","parseInt","toString","order","Page","mediaList","pageInfo","hasNextPage","done","prepareData","newData","i","length","el","tempData","fn","uid","media","malId","idMal","apiCacheKey","cacheKey","userPreferred","url","siteUrl","score","Math","round","watchedEp","progress","totalEp","episodes","startDate","startedAt","finishDate","completedAt","rewatchCount","repeat","image","coverImage","imageLarge","extraLarge","imageBanner","bannerImage","tags","notes","airingState","anime_airing_status","readVol","progressVolumes","chapters","totalVol","volumes","push","prepareCompact","malid","user","userRequest","titleLanguagePreference","attributes","sfwFilter","ratingSystem","slug","getUserId","userId","pre","endsWith","replace","userid","statusPart","sorting","All","meta","count","list","included","titles","canonicalTitle","NaN","k","mapping","externalSite","relationships","item","Number","externalId","splice","kitsuSlug","ratingTwenty","episodeCount","finishedAt","reconsumeCount","posterImage","small","original","volumesOwned","chapterCount","volumeCount","getCacheKey","async","getSyncList","key","getRegex","RegExp","Promise","resolve","test","utils","urlPart","sUrl","volumeprogress","limit","apiCall","path","json","modes","frontend","curSt","useAltTitle","fields","paging","next","node","alternative_titles","en","list_status","num_episodes_watched","num_episodes","start_date","finish_date","num_times_rewatched","main_picture","medium","join","num_chapters_read","num_volumes_read","num_chapters","num_volumes","num_times_reread","tempList","nickname","x80","getSortingOptions","parameter","user_id","target_type","slice","ids","map","target_id","metadata","keyedMetadata","entry","keyedIds","Object","keys","diffArr","filter","o","includes","diffMetadata","russian","undefined","rewatches","text","errorHandling","syncList","translateList","getEpisode","call","account","Error","values","st","curep","last_watched","Completed","total_episodes_count","show","mal","simkl","user_rating","poster","private_memo","seal","ListAbstract","constructor","loading","firstLoaded","sortAiring","initProgress","cached","templist","cacheObj","logger","m","setTemplist","getTemplist","setSort","isDone","isLoading","isFirstLoaded","getCompleteList","getNext","sortAiringList","getCache","setValue","getNextPage","retList","concat","getCached","hasValue","cachelist","getValue","forEach","initFrontendMode","updateListener","on","find","state","episode","objectify","destroy","off","simple","flashmError","error","flashm","errorMessage","streamurl","continueUrlTemp","continueUrl","getContinueWaching","obj","curEp","ep","init","getEntrySettings","u","listP","all","sortUnread","normalItems","preItems","watchedItems","sortItems","a","b","valA","getPredictionTimestamp","valB","prediction","isAiring","getCurrentEpisode","reverse","tempA","tempB","getList","args","localListEl","getListObj","getOnlyList","getListbyType","syncMode","_hoisted_1","class","_hoisted_2","_hoisted_3","__name","props","Array","required","modelValue","String","default","emits","setup","__props","emit","__emit","picked","floor","random","_ctx","_cache","option","index","$event","checked","for","tabindex","onKeyup","script"],"sourceRoot":""}