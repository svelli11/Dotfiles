{"version":3,"file":"content/pwa-script.js","mappings":"mBAAA,IAAIA,GAAU,EACVC,EAAc,SAclB,SAASC,IACP,OAAOC,OAAOC,QAAQC,OAAO,eAAiBC,OAAOC,SAASC,IAChE,CAdAC,SAASC,iBAAiB,oBAAoB,WAC5C,GAAIV,EAAS,OACbA,GAAU,EACV,MAAMW,EAAOL,OAAOG,SAASG,cAAc,UAC3CD,EAAKE,aAAa,MAAOX,KACzBO,SAASK,KAAKC,YAAYJ,GAC1BL,OAAOI,iBAAiB,cAAc,KAChCT,EAAYe,QAAQ,IAAK,MAAQV,OAAOC,SAASC,KAAKQ,QAAQ,IAAK,KACvEL,EAAKE,aAAa,MAAOX,IAAY,GAEzC,IAMAC,OAAOC,QAAQa,UAAUC,aAAYC,IAChB,YAAfA,EAAIC,QAA4C,YAApBD,EAAIE,KAAKD,SACvCnB,EAAckB,EAAIE,KAAKC,KAAKC,KAC5BjB,OAAOC,SAASC,KAAOW,EAAIE,KAAKC,KAAKC,KACvC,G","sources":["webpack://MALSync/./src/index-webextension/pwa.ts"],"sourcesContent":["let running = false;\nlet messageHash = 'notSet';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  if (running) return;\n  running = true;\n  const ifrm = window.document.createElement('iframe');\n  ifrm.setAttribute('src', iframeUrl());\n  document.body.appendChild(ifrm);\n  window.addEventListener('hashchange', () => {\n    if (messageHash.replace('#', '') === window.location.hash.replace('#', '')) return;\n    ifrm.setAttribute('src', iframeUrl());\n  });\n});\n\nfunction iframeUrl() {\n  return chrome.runtime.getURL('window.html') + window.location.hash;\n}\n\nchrome.runtime.onMessage.addListener(msg => {\n  if (msg.action === 'content' && msg.item.action === 'pwaPath') {\n    messageHash = msg.item.data.path;\n    window.location.hash = msg.item.data.path;\n  }\n});\n"],"names":["running","messageHash","iframeUrl","chrome","runtime","getURL","window","location","hash","document","addEventListener","ifrm","createElement","setAttribute","body","appendChild","replace","onMessage","addListener","msg","action","item","data","path"],"sourceRoot":""}