!function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new t.Error).stack;n&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[n]="a3287544-f018-4d63-992c-912033fa503f",t._sentryDebugIdIdentifier="sentry-dbid-a3287544-f018-4d63-992c-912033fa503f")}catch(t){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.4.5"},(globalThis.webpackChunkfloccus=globalThis.webpackChunkfloccus||[]).push([[337],{72337:(t,n,e)=>{"use strict";e.r(n),e.d(n,{default:()=>T});var i=e(23037),o=e(30089),a=e(21253),s=e(1231),l=e(5031),d=e(47261),r=e(50877),c=e(62029),v=e(74469),p=e(87450),m=e(5426),u=e(45475),f=e(72769),h=e(22369),y=function(){var t=this,n=t._self._c;return n("div",[t.$vuetify.breakpoint.mobile?n(f.A,{staticClass:"pa-5",attrs:{app:"",fixed:""}},[n("div",{staticClass:"overline"},[t._v("\n      "+t._s(t.data.type)+"\n    ")]),t._v(" "),n("div",{staticClass:"headline"},[t._v("\n      "+t._s(t.folderName||t.t("LabelUntitledfolder"))+"\n    ")]),t._v(" "),n(v.A,{attrs:{dense:"",nav:""}},[n(p.A,{attrs:{link:""},on:{click:function(n){return t.$vuetify.goTo("#server",{duration:.5})}}},[n(u.A,[n(c.A,[t._v("mdi-account-box")])],1),t._v(" "),n(m.pr,[n(m.UZ,[t._v(t._s(t.t("LabelOptionsServerDetails")))])],1)],1),t._v(" "),n(p.A,{attrs:{link:""},on:{click:function(n){return t.$vuetify.goTo("#folder",{duration:.5})}}},[n(u.A,[n(c.A,[t._v("mdi-folder-outline")])],1),t._v(" "),n(m.pr,[n(m.UZ,[t._v(t._s(t.t("LabelOptionsFolderMapping")))])],1)],1),t._v(" "),n(p.A,{attrs:{link:""},on:{click:function(n){return t.$vuetify.goTo("#sync",{duration:.5})}}},[n(u.A,[n(c.A,[t._v("mdi-sync-circle")])],1),t._v(" "),n(m.pr,[n(m.UZ,[t._v(t._s(t.t("LabelOptionsSyncBehavior")))])],1)],1),t._v(" "),n(p.A,{attrs:{link:""},on:{click:function(n){return t.$vuetify.goTo("#danger",{duration:.5})}}},[n(u.A,[n(c.A,[t._v("mdi-alert-circle")])],1),t._v(" "),n(m.pr,[n(m.UZ,[t._v(t._s(t.t("LabelOptionsDangerous")))])],1)],1)],1)],1):t._e(),t._v(" "),t.deleted?t._e():n(o.A,{staticClass:"width mt-3",attrs:{loading:t.loading}},[n(l.A,{class:[!t.$vuetify.breakpoint.mobile&&"pa-5"]},[n(h.A,[n(s.A,{style:t.$vuetify.breakpoint.mobile?{display:"none"}:{width:"250px","flex-grow":0}},[n("div",{style:{position:"sticky",top:"20px"}},[n("div",{staticClass:"overline"},[t._v("\n              "+t._s(t.data.type)+"\n            ")]),t._v(" "),n("div",{staticClass:"headline"},[t._v("\n              "+t._s(t.folderName||t.t("LabelUntitledfolder"))+"\n            ")]),t._v(" "),n(v.A,{attrs:{dense:"",nav:""}},[n(p.A,{attrs:{link:""},on:{click:function(n){return t.$vuetify.goTo("#server",{duration:.5})}}},[n(u.A,[n(c.A,[t._v("mdi-account-box")])],1),t._v(" "),n(m.pr,[n(m.UZ,[t._v(t._s(t.t("LabelOptionsServerDetails")))])],1)],1),t._v(" "),n(p.A,{attrs:{link:""},on:{click:function(n){return t.$vuetify.goTo("#folder",{duration:.5})}}},[n(u.A,[n(c.A,[t._v("mdi-folder-outline")])],1),t._v(" "),n(m.pr,[n(m.UZ,[t._v(t._s(t.t("LabelOptionsFolderMapping")))])],1)],1),t._v(" "),n(p.A,{attrs:{link:""},on:{click:function(n){return t.$vuetify.goTo("#sync",{duration:.5})}}},[n(u.A,[n(c.A,[t._v("mdi-sync-circle")])],1),t._v(" "),n(m.pr,[n(m.UZ,[t._v(t._s(t.t("LabelOptionsSyncBehavior")))])],1)],1),t._v(" "),n(p.A,{attrs:{link:""},on:{click:function(n){return t.$vuetify.goTo("#danger",{duration:.5})}}},[n(u.A,[n(c.A,[t._v("mdi-alert-circle")])],1),t._v(" "),n(m.pr,[n(m.UZ,[t._v(t._s(t.t("LabelOptionsDangerous")))])],1)],1)],1)],1)]),t._v(" "),n(s.A,[n("div",{staticClass:"d-flex flex-row-reverse"},[n(i.A,{staticClass:"primary",on:{click:t.onSave}},[t._v("\n              "+t._s(t.t("LabelSave"))+"\n            ")]),t._v(" "),t.saved?n(c.A,{attrs:{color:"green"}},[t._v("\n              mdi-check\n            ")]):t._e()],1),t._v(" "),t.loading?t._e():n(r.A,{staticClass:"mt-3 mb-3"},["nextcloud-folders"===t.data.type||"nextcloud-bookmarks"===t.data.type?n("OptionsNextcloudFolders",t._b({on:{reset:t.onReset,delete:t.onDelete}},"OptionsNextcloudFolders",t.data,!1,!0)):t._e(),t._v(" "),"linkwarden"===t.data.type?n("OptionsLinkwarden",t._b({on:{reset:t.onReset,delete:t.onDelete}},"OptionsLinkwarden",t.data,!1,!0)):t._e(),t._v(" "),"webdav"===t.data.type?n("OptionsWebdav",t._b({on:{reset:t.onReset,delete:t.onDelete}},"OptionsWebdav",t.data,!1,!0)):t._e(),t._v(" "),"git"===t.data.type?n("OptionsGit",t._b({on:{reset:t.onReset,delete:t.onDelete}},"OptionsGit",t.data,!1,!0)):t._e(),t._v(" "),"fake"===t.data.type?n("OptionsFake",t._b({on:{reset:t.onReset,delete:t.onDelete}},"OptionsFake",t.data,!1,!0)):t._e(),t._v(" "),"google-drive"===t.data.type?n("OptionsGoogleDrive",t._b({on:{reset:t.onReset,delete:t.onDelete}},"OptionsGoogleDrive",t.data,!1,!0)):t._e()],1),t._v(" "),n("div",{staticClass:"d-flex flex-row-reverse"},[n(i.A,{staticClass:"primary",on:{click:t.onSave}},[t._v("\n              "+t._s(t.t("LabelSave"))+"\n            ")]),t._v(" "),t.saved?n(c.A,{attrs:{color:"green"}},[t._v("\n              mdi-check\n            ")]):t._e()],1)],1)],1)],1)],1),t._v(" "),n(d.A,{attrs:{"max-width":600,persistent:""},model:{value:t.deleted,callback:function(n){t.deleted=n},expression:"deleted"}},[n(o.A,[n(a.ri,[t._v(t._s(t.t("LabelAccountDeleted")))]),t._v(" "),n(a.OQ,[t._v(t._s(t.t("DescriptionAccountDeleted")))])],1)],1),t._v(" "),n(f.A,{style:{display:"none"}})],1)};y._withStripped=!0,e(33110),e(3362);var _=e(67049),g=e(67083),A=e.n(g),b=e(95099),k=e(48764),O=e(85739),w=e(54375),x=e(69396),D=e(89779);const $={name:"AccountOptions",components:{OptionsGit:e(63232).A,OptionsGoogleDrive:D.A,OptionsFake:x.A,OptionsWebdav:w.A,OptionsNextcloudFolders:k.A,OptionsLinkwarden:O.A},data:()=>({folderName:"",data:{},savedData:!1,deleted:!1}),computed:{id(){return this.$route.params.accountId},loading(){return!this.$store.state.accounts[this.id]||!this.$store.state.accounts[this.id].data||!Object.keys(this.$store.state.accounts[this.id].data).length},localRoot(){return this.data?this.data.localRoot:null},saved(){return this.savedData===JSON.stringify(this.data)},menuComponent(){return this.$vuetify.breakpoint.mobile?"v-navigation-drawer":"div"}},watch:{localRoot(){this.updateFolderName()},loading(){this.loading||(this.data=this.$store.state.accounts[this.id].data)}},created(){this.updateFolderName(),this.loading||(this.data=this.$store.state.accounts[this.id].data)},methods:{async onSave(){await this.$store.dispatch(b.o.STORE_ACCOUNT,{id:this.id,data:this.data}),this.savedData=JSON.stringify(this.data)},async updateFolderName(){const t=_.A.pathToArray(decodeURIComponent(await A().getPathFromLocalId(this.localRoot)));this.folderName=t[t.length-1]},async onDelete(){await this.$store.dispatch(b.o.DELETE_ACCOUNT,this.id),this.deleted=!0},async onReset(){await this.$store.dispatch(b.o.RESET_ACCOUNT,this.id)}}};e(95441);const T=(0,e(14486).A)($,y,[],!1,null,null,null).exports},95441:(t,n,e)=>{var i=e(99740);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,e(70534).A)("04b7b85c",i,!1,{})},99740:(t,n,e)=>{"use strict";e.r(n),e.d(n,{default:()=>l});var i=e(71354),o=e.n(i),a=e(76314),s=e.n(a)()(o());s.push([t.id,"\n.width {\n    max-width: 850px;\n    margin: 0 auto;\n}\n.v-form .v-icon {\n  margin-right: 10px;\n}\n.text-h6 {\n  margin-top: 20px;\n}\n","",{version:3,sources:["webpack://./src/ui/views/AccountOptions.vue"],names:[],mappings:";AA6RA;IACA,gBAAA;IACA,cAAA;AACA;AACA;EACA,kBAAA;AACA;AAEA;EACA,gBAAA;AACA",sourcesContent:['<template>\n  <div>\n    <v-navigation-drawer\n      v-if="$vuetify.breakpoint.mobile"\n      class="pa-5"\n      app\n      fixed>\n      <div class="overline">\n        {{ data.type }}\n      </div>\n      <div class="headline">\n        {{ folderName || t(\'LabelUntitledfolder\') }}\n      </div>\n      <v-list\n        dense\n        nav>\n        <v-list-item\n          link\n          @click="$vuetify.goTo(\'#server\', {duration: 0.5})">\n          <v-list-item-icon>\n            <v-icon>mdi-account-box</v-icon>\n          </v-list-item-icon>\n          <v-list-item-content>\n            <v-list-item-title>{{ t(\'LabelOptionsServerDetails\') }}</v-list-item-title>\n          </v-list-item-content>\n        </v-list-item>\n        <v-list-item\n          link\n          @click="$vuetify.goTo(\'#folder\', {duration: 0.5})">\n          <v-list-item-icon>\n            <v-icon>mdi-folder-outline</v-icon>\n          </v-list-item-icon>\n          <v-list-item-content>\n            <v-list-item-title>{{ t(\'LabelOptionsFolderMapping\') }}</v-list-item-title>\n          </v-list-item-content>\n        </v-list-item>\n        <v-list-item\n          link\n          @click="$vuetify.goTo(\'#sync\', {duration: 0.5})">\n          <v-list-item-icon>\n            <v-icon>mdi-sync-circle</v-icon>\n          </v-list-item-icon>\n          <v-list-item-content>\n            <v-list-item-title>{{ t(\'LabelOptionsSyncBehavior\') }}</v-list-item-title>\n          </v-list-item-content>\n        </v-list-item>\n        <v-list-item\n          link\n          @click="$vuetify.goTo(\'#danger\', {duration: 0.5})">\n          <v-list-item-icon>\n            <v-icon>mdi-alert-circle</v-icon>\n          </v-list-item-icon>\n          <v-list-item-content>\n            <v-list-item-title>{{ t(\'LabelOptionsDangerous\') }}</v-list-item-title>\n          </v-list-item-content>\n        </v-list-item>\n      </v-list>\n    </v-navigation-drawer>\n    <v-card\n      v-if="!deleted"\n      class="width mt-3"\n      :loading="loading">\n      <v-container :class="[!$vuetify.breakpoint.mobile && \'pa-5\']">\n        <v-row>\n          <v-col :style="$vuetify.breakpoint.mobile? {display: \'none\'} : {width: \'250px\', \'flex-grow\': 0}">\n            <div\n              :style="{position: \'sticky\', top: \'20px\'}">\n              <div class="overline">\n                {{ data.type }}\n              </div>\n              <div class="headline">\n                {{ folderName || t(\'LabelUntitledfolder\') }}\n              </div>\n              <v-list\n                dense\n                nav>\n                <v-list-item\n                  link\n                  @click="$vuetify.goTo(\'#server\', {duration: 0.5})">\n                  <v-list-item-icon>\n                    <v-icon>mdi-account-box</v-icon>\n                  </v-list-item-icon>\n                  <v-list-item-content>\n                    <v-list-item-title>{{ t(\'LabelOptionsServerDetails\') }}</v-list-item-title>\n                  </v-list-item-content>\n                </v-list-item>\n                <v-list-item\n                  link\n                  @click="$vuetify.goTo(\'#folder\', {duration: 0.5})">\n                  <v-list-item-icon>\n                    <v-icon>mdi-folder-outline</v-icon>\n                  </v-list-item-icon>\n                  <v-list-item-content>\n                    <v-list-item-title>{{ t(\'LabelOptionsFolderMapping\') }}</v-list-item-title>\n                  </v-list-item-content>\n                </v-list-item>\n                <v-list-item\n                  link\n                  @click="$vuetify.goTo(\'#sync\', {duration: 0.5})">\n                  <v-list-item-icon>\n                    <v-icon>mdi-sync-circle</v-icon>\n                  </v-list-item-icon>\n                  <v-list-item-content>\n                    <v-list-item-title>{{ t(\'LabelOptionsSyncBehavior\') }}</v-list-item-title>\n                  </v-list-item-content>\n                </v-list-item>\n                <v-list-item\n                  link\n                  @click="$vuetify.goTo(\'#danger\', {duration: 0.5})">\n                  <v-list-item-icon>\n                    <v-icon>mdi-alert-circle</v-icon>\n                  </v-list-item-icon>\n                  <v-list-item-content>\n                    <v-list-item-title>{{ t(\'LabelOptionsDangerous\') }}</v-list-item-title>\n                  </v-list-item-content>\n                </v-list-item>\n              </v-list>\n            </div>\n          </v-col>\n          <v-col>\n            <div class="d-flex flex-row-reverse">\n              <v-btn\n                class="primary"\n                @click="onSave">\n                {{ t(\'LabelSave\') }}\n              </v-btn>\n              <v-icon\n                v-if="saved"\n                color="green">\n                mdi-check\n              </v-icon>\n            </div>\n            <v-form\n              v-if="!loading"\n              class="mt-3 mb-3">\n              <OptionsNextcloudFolders\n                v-if="data.type === \'nextcloud-folders\' || data.type === \'nextcloud-bookmarks\'"\n                v-bind.sync="data"\n                @reset="onReset"\n                @delete="onDelete" />\n              <OptionsLinkwarden\n                v-if="data.type === \'linkwarden\'"\n                v-bind.sync="data"\n                @reset="onReset"\n                @delete="onDelete" />\n              <OptionsWebdav\n                v-if="data.type === \'webdav\'"\n                v-bind.sync="data"\n                @reset="onReset"\n                @delete="onDelete" />\n              <OptionsGit\n                v-if="data.type === \'git\'"\n                v-bind.sync="data"\n                @reset="onReset"\n                @delete="onDelete" />\n              <OptionsFake\n                v-if="data.type === \'fake\'"\n                v-bind.sync="data"\n                @reset="onReset"\n                @delete="onDelete" />\n              <OptionsGoogleDrive\n                v-if="data.type === \'google-drive\'"\n                v-bind.sync="data"\n                @reset="onReset"\n                @delete="onDelete" />\n            </v-form>\n            <div class="d-flex flex-row-reverse">\n              <v-btn\n                class="primary"\n                @click="onSave">\n                {{ t(\'LabelSave\') }}\n              </v-btn>\n              <v-icon\n                v-if="saved"\n                color="green">\n                mdi-check\n              </v-icon>\n            </div>\n          </v-col>\n        </v-row>\n      </v-container>\n    </v-card>\n    <v-dialog\n      v-model="deleted"\n      :max-width="600"\n      persistent>\n      <v-card>\n        <v-card-title>{{ t(\'LabelAccountDeleted\') }}</v-card-title>\n        <v-card-text>{{ t(\'DescriptionAccountDeleted\') }}</v-card-text>\n      </v-card>\n    </v-dialog>\n    <v-navigation-drawer :style="{display: \'none\'}" />\n  </div>\n</template>\n\n<script>\nimport PathHelper from \'../../lib/PathHelper\'\nimport BrowserTree from \'../../lib/browser/BrowserTree\'\nimport { actions } from \'../store/definitions\'\nimport OptionsNextcloudFolders from \'../components/OptionsNextcloudBookmarks\'\nimport OptionsLinkwarden from \'../components/OptionsLinkwarden\'\nimport OptionsWebdav from \'../components/OptionsWebdav\'\nimport OptionsFake from \'../components/OptionsFake\'\nimport OptionsGoogleDrive from \'../components/OptionsGoogleDrive\'\nimport OptionsGit from \'../components/OptionsGit.vue\'\n\nexport default {\n  name: \'AccountOptions\',\n  components: { OptionsGit, OptionsGoogleDrive, OptionsFake, OptionsWebdav, OptionsNextcloudFolders, OptionsLinkwarden },\n  data() {\n    return {\n      folderName: \'\',\n      data: {},\n      savedData: false,\n      deleted: false,\n    }\n  },\n  computed: {\n    id() {\n      return this.$route.params.accountId\n    },\n    loading() {\n      return !this.$store.state.accounts[this.id] || !this.$store.state.accounts[this.id].data || !Object.keys(this.$store.state.accounts[this.id].data).length\n    },\n    localRoot() {\n      return this.data ? this.data.localRoot : null\n    },\n    saved() {\n      return this.savedData === JSON.stringify(this.data)\n    },\n    menuComponent() {\n      return this.$vuetify.breakpoint.mobile ? \'v-navigation-drawer\' : \'div\'\n    }\n  },\n  watch: {\n    localRoot() {\n      this.updateFolderName()\n    },\n    loading() {\n      if (this.loading) return\n      this.data = this.$store.state.accounts[this.id].data\n    }\n  },\n  created() {\n    this.updateFolderName()\n    if (!this.loading) {\n      this.data = this.$store.state.accounts[this.id].data\n    }\n  },\n  methods: {\n    async onSave() {\n      await this.$store.dispatch(actions.STORE_ACCOUNT, {id: this.id, data: this.data})\n      this.savedData = JSON.stringify(this.data)\n    },\n    async updateFolderName() {\n      const pathArray = PathHelper.pathToArray(decodeURIComponent(\n        await BrowserTree.getPathFromLocalId(this.localRoot)\n      ))\n      this.folderName = pathArray[pathArray.length - 1]\n    },\n    async onDelete() {\n      await this.$store.dispatch(actions.DELETE_ACCOUNT, this.id)\n      this.deleted = true\n    },\n    async onReset() {\n      await this.$store.dispatch(actions.RESET_ACCOUNT, this.id)\n    }\n  }\n}\n<\/script>\n\n<style>\n    .width {\n        max-width: 850px;\n        margin: 0 auto;\n    }\n    .v-form .v-icon {\n      margin-right: 10px;\n    }\n\n    .text-h6 {\n      margin-top: 20px;\n    }\n</style>\n'],sourceRoot:""}]);const l=s}}]);
//# sourceMappingURL=337.js.map