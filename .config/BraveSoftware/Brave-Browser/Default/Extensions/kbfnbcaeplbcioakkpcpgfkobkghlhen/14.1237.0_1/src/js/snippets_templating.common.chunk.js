(self.webpackChunk=self.webpackChunk||[]).push([[5221],{68188:(e,t,s)=>{s.r(t),s.d(t,{SnippetsTemplatingFeature:()=>S,SnippetsTemplatingUIController:()=>z,createDropdownAlert:()=>u,createTextInboxAlert:()=>d,doesSnippetHaveTemplateOperation:()=>f.Gu,findNthOccurrence:()=>h,getCountTotalTemplatingQuillOps:()=>f.bH,getDateStringFromQuillDateOp:()=>f.DU,getDefaultDropdownForInsertion:()=>f.O3,isDeltaOpsQuillCurrentDate:()=>f._9,isDeltaOpsQuillCurrentUser:()=>f.w6,isDeltaOpsQuillDropdown:()=>f.aC,isDeltaOpsQuillMutatedCurrentUser:()=>f.Cb,isDeltaOpsQuillTextEntry:()=>f.ZD,renderSnippetsTemplatingOperation:()=>f.wc,shouldRenderWithSnippetsTemplating:()=>f.W1});var n=s(74822),i=s(954),r=s(44045),a=s(40469),p=s(198),o=s(84714),l=s(72125),c=s(20128);const d=(e,t,s,n)=>({_tag:c.b.snippetsTemplate,kind:l.p.TextInput,id:`snippet_templating_text_input_${n}`,revision:"",highlightRanges:[t],highlightTexts:[e],transformRange:s,transformText:e,transforms:[],extraProperties:{},title:`Snippets Templating Text Input ${n}`}),u=(e,t,s,n,i=[],r=o.of([]),a=p.Z)=>({_tag:c.b.snippetsTemplate,kind:l.p.Dropdown,id:`snippet_templating_dropdown_${n}`,revision:"",highlightRanges:[t],highlightTexts:[e],transformRange:s,transformText:e,transforms:[],extraProperties:{},title:`Snippets Templating Dropdown ${n}`,dropdownOptions:i,snippets:r,applySnippet:a}),h=(e,t,s)=>{let n=-1,i=0;for(;i<s&&(n=e.indexOf(t,n+1),-1!==n);)i++;return n};var m=s(73642),_=s(36807),g=s(42722);const C="\n";class v{constructor(e,t,s,a,p){this._alert=e,this._replacementService=t,this.alertProcessor=s,this._textObserver=a,this._rect=p,this.kind=l.p.Dropdown,this.resolveTemplateVariable=async e=>{await this._replacementService.performReplacement({pos:this._alert.transformRange,value:new _.i([{insert:e.value},{insert:C},...e.snippetId?[{insert:C}]:[]])}),await this.handleExpandableDropdown(e),this._alert.highlightTexts.includes(e.value)&&this.alertProcessor.removeAlert(this._alert.id,{_tag:g.i.alertAccepted})},this.handleExpandableDropdown=async e=>{if(!e.snippetId)return;const t=(await(0,m.z)(this._snippets)).find((t=>t.id===e.snippetId));if(!t)return;const s={start:this._alert.transformRange.start+e.value.length+C.length,end:this._alert.transformRange.start+e.value.length+C.length},a=new n.x;this._textObserver.contentChanges.async.pipe((0,i.O)(this._textObserver.getTextSource().getPlainText()),(0,r.R)(a)).subscribe((n=>{("string"==typeof n?n:n.newText).slice(this._alert.transformRange.start,this._alert.transformRange.start+e.value.length+C.length).includes(e.value+C)&&(this._applySnippet(t,s,""),a.next(),a.complete())}))},p&&(this.rect=p),this.options=e.dropdownOptions,this._snippets=e.snippets,this._applySnippet=e.applySnippet}}class b{constructor(e,t,s,n){this._alert=e,this._replacementService=t,this.alertProcessor=s,this._rect=n,this.kind=l.p.TextInput,this.resolveTemplateVariable=e=>{this._replacementService.performReplacement({pos:this._alert.transformRange,value:new _.i([{insert:e}])}),this._alert.highlightTexts.includes(e)&&this.alertProcessor.removeAlert(this._alert.id,{_tag:g.i.alertAccepted})},n&&(this.rect=n)}}var f=s(96964);class S{constructor(e,t,s){this._alertProcessor=e,this._replacementService=t,this._textObserver=s,this.insertTemplateAlertsWithText=(e,t,s,n,i,r,p)=>{const o=new Map,l=[];e.ops.forEach(((e,c)=>{var d;if(!(0,f.aC)(e)&&!(0,f.ZD)(e))return l.push(e);const u=(0,f.wc)(e),m=l.reduce(((e,t)=>e+(JSON.stringify(t).match(new RegExp(u,"g"))||[]).length),0),_=null!==(d=o.get(u))&&void 0!==d?d:0,g=h(s,u,_+m+1),C=t.start+g,v=t.start+C+c+p,b=(0,a.pj)(C,u);if(!(C<t.start||this.textRangeAlreadyHasSnippetAlert(b))){if((0,f.aC)(e)&&(this.addDropdownAlert(b,e,v,n,i),r()),(0,f.ZD)(e)){const t=(0,a.Yx)(e.insert.textbox.placeHolderName);this.addTextInputAlert(b,t,v),r()}return o.set(u,_+1)}}))}}getSnippetsTemplatingCardModel(e,t,s){return e.kind===l.p.Dropdown?new v(e,this._replacementService,t,this._textObserver,s):new b(e,this._replacementService,t,s)}insertTemplateAlerts(e,t,s,a){const p=new n.x,o=(0,f.bH)(e);let l=0;const c=()=>{l++,l>=o&&(p.next(),p.complete())};this._textObserver.contentChanges.async.pipe((0,i.O)(this._textObserver.getTextSource().getPlainText()),(0,r.R)(p)).subscribe((n=>{const i="string"==typeof n?n:n.newText,r=i.slice(t.start);this.insertTemplateAlertsWithText(e,t,r,s,a,c,i.length)}))}addDropdownAlert(e,t,s,n,i){const r=(0,a.Yx)((0,f.O3)(t)),p={start:e.start,end:e.start+r.length};this._alertProcessor.addAlert(u(r,p,p,s,t.insert.snippetOption.options,n,i))}addTextInputAlert(e,t,s){const n={start:e.start,end:e.start+t.length};this._alertProcessor.addAlert(d(t,n,n,s))}textRangeAlreadyHasSnippetAlert(e){return this._alertProcessor.processPendingTextRevisions(),Array.from(this._alertProcessor.alerts.getAll()).filter(c.S.isSnippetsTemplatingAlert).reduce(((t,s)=>t||s.transformRange.start>=e.start&&s.transformRange.end<=e.end),!1)}}var E=s(49231),x=s(84308),w=s(59179),y=s(13391),T=s(29343),L=s(88743),M=s(37213),D=s(92975),N=s(45438),P=s(33096),I=s(61860);const A=({children:e,selectShortcut:t="Enter"})=>E.createElement("div",{className:P.snippetsCard},e,E.createElement("div",{className:P.snippetsCard__footer},E.createElement("div",{className:P["snippetsCard__footer-logo"]},E.createElement(D.T,{backgroundColor:N.bd.black,type:"mini",size:16})),E.createElement("div",{className:P["snippetsCard__footer-hints"]},E.createElement("span",{className:P.buttonTip__group},"navigate"," ",E.createElement("span",{className:P.buttonTip},E.createElement(I.uH,null))," ",E.createElement("span",{className:P.buttonTip},E.createElement(I.Df,null))),E.createElement("span",{className:P.buttonTip__group},"select ",E.createElement("span",{className:P.buttonTip},t)),E.createElement("span",{className:P.buttonTip__group},"cancel ",E.createElement("span",{className:P.buttonTip},"Esc")))));var k=s(82596);const O=({options:e,applyDropdownOption:t,hide:s})=>{var n;const i=E.useRef(null),[r,a]=E.useState(null!==(n=e[0].value)&&void 0!==n?n:""),p=e.findIndex((e=>e.value===r)),o=E.useRef(null);(0,E.useEffect)((()=>{var e;null===(e=null==o?void 0:o.current)||void 0===e||e.focus()}),[]);const l=e=>{t(e),s()},c=t=>{"ArrowDown"===t.key&&(t.preventDefault(),(()=>{var t;p+1<e.length&&a(null!==(t=e[p+1].value)&&void 0!==t?t:"")})()),"ArrowUp"===t.key&&(t.preventDefault(),(()=>{var t;p-1>=0&&a(null!==(t=e[p-1].value)&&void 0!==t?t:"")})()),"Enter"===t.key&&(t.preventDefault(),l(e[p]))};return E.createElement(A,null,e.length&&E.createElement("dl",{ref:i,className:k.templateCardDropdown__options},e.map(((e,t)=>E.createElement("div",{ref:0===t?o:null,...(0,M.Sh)(k.templateCardDropdown__option,e.value===r&&k.templateCardDropdown__option_active),tabIndex:t,role:"option","aria-selected":e.value===r,key:e.value,onClick:()=>l(e),onKeyDown:c,onMouseEnter:()=>{var t,s;return s=null!==(t=e.value)&&void 0!==t?t:"",a(s)}},e.label)))))};var R=s(23560),B=s(38367),U=s(69455),F=s(5219),W=s(58952);const q=E.forwardRef((function(e,t){const{label:s,className:n,helperMessage:i,errorMessage:r,isRequired:a,isOptional:p,placeholder:o,labelDisplay:l="visible",labelIndicatorForOptional:c,labelIndicatorForRequired:d,rows:u=3,resizable:h="on",minLength:m,maxLength:_,spellCheck:g}=e,C=E.useRef(null);E.useImperativeHandle(t,(()=>C.current));const{labelProps:v,inputProps:b}=(0,U.h)({...e,validationState:null!=r?"invalid":"valid",inputElementType:"textarea"},C),f={minLength:m,maxLength:_,spellCheck:g};return E.createElement("div",{className:"gds-text-area"},E.createElement(F.A,{label:s,labelDisplay:l,helperMessage:i,isRequired:a,isOptional:p,labelIndicatorForRequired:d,labelIndicatorForOptional:c,errorMessage:r,...v}),E.createElement("div",{className:"gds-text-area-container"},E.createElement("textarea",{className:(0,B.W)("gds-text-area-input",!0===b.disabled?"":`gds-text-area-resize-${h}`,n),...f,...b,placeholder:o,ref:C,rows:u,style:e.style})),E.createElement(W.f,{errorMessage:r}))})),Z=({hide:e,resolveTemplateVariable:t})=>{const s=(0,E.useRef)(null),[n,i]=E.useState(""),r=E.useCallback((()=>{t(n),e()}),[n]);return(0,E.useEffect)((()=>{var e;null===(e=null==s?void 0:s.current)||void 0===e||e.focus()}),[]),E.createElement(A,{selectShortcut:"Shift + Enter"},E.createElement(R.k,{padding:2},E.createElement(q,{ref:s,onKeyDown:t=>{"Enter"===t.key&&t.shiftKey&&(t.preventDefault(),r()),"Escape"===t.key&&(t.preventDefault(),e())},label:"",value:n,onChange:i})))};class z{constructor(){this._activeCardModel=y.h.create(null),this.view=(0,x.a)([this._activeCardModel]).pipe((0,w.U)((([e])=>{const t=this.getCardFromModel(e);return e?E.createElement(L.q,null,E.createElement(T.W,{anchorRect:e.rect,anchorMargin:{top:0,left:-15,bottom:5,right:0},onClickAway:this.hide,partName:"snippets_templating"},t)):null}))),this.getCardFromModel=e=>function(e){return"dropdown"===(null==e?void 0:e.kind)}(e)?E.createElement(O,{options:e.options,applyDropdownOption:e.resolveTemplateVariable,hide:this.hide}):function(e){return"textInput"===(null==e?void 0:e.kind)}(e)?E.createElement(Z,{resolveTemplateVariable:e.resolveTemplateVariable,hide:this.hide}):null,this.show=e=>this._activeCardModel.set(e),this.hide=()=>this._activeCardModel.set(null)}isVisible(){return!!this._activeCardModel.get()}dispose(){this.hide()}}},40469:(e,t,s)=>{s.d(t,{Yx:()=>p,pj:()=>a,sz:()=>r});var n=s(36807),i=s(96964);const r=(e,t)=>{const s=e.ops.map((e=>{if((0,i.w6)(e))return t?((e,t)=>({insert:{currentUser:{userEmail:e.email,userFirst:e.firstName,userLast:e.lastName,...t.insert.currentUser}}}))(t,e):e;if((0,i.aC)(e)||(0,i.ZD)(e)){const t={insert:"]"};return[{insert:"["},{...e},t]}return e})).flat();return new n.i(s)},a=(e,t)=>({start:e-1,end:e+t.length+1}),p=e=>`[${e}]`},65572:(e,t,s)=>{s.d(t,{TV:()=>n});var n=s(4896).v.isRichText},7323:(e,t,s)=>{s.d(t,{C2:()=>K,EH:()=>J,pi:()=>$});var n=s(39953),i=s(62552),r=s(79256),a=s(84308),p=s(64271),o=s(59179),l=s(90572),c=s(10883),d=s(954),u=s(32734),h=s(33632),m=s(44755),_=s(92516),g=s(13107),C=s(66337),v=s(13391),b=s(84178),f=s(24666),S=s(29416),E=s(63532),x=s(36344),w=s(5588),y=s(9273),T=s(20161),L=s(8867),M=s(32073),D=s(58303),N=s(84358),P=s(6655),I=s(93415),A=s(96964),k=s(40469),O=s(20128),R=s(66016),B=s(5968),U=s(65572),F=s(39363),W=s(45345),q=s(88305),Z=s(48691);function z(){return{items:[],children:new Map}}function V(e,t){return t&&0!==e.length?V(e.slice(1),t.children.get(e[0])||null):t}class Q{constructor(e,t){this._root=z(),e.forEach((e=>{const s=e[t];if(!(0,Z.HD)(s))throw new Error("Can't search for non-string attributes");s.toLowerCase().split("").reduce(((t,s)=>(t.items.push(e),t.children.has(s)||t.children.set(s,z()),t.children.get(s))),this._root).items.push(e)}))}search(e){const t=[];let s=null,n={node:this._root,depth:0};const i=[];for(;n;){s=V(e.toLowerCase(),n.node),s&&i.push({node:s,depth:n.depth});const r=n.node.children.values();let a=r.next(void 0);for(;!a.done;)t.push({node:a.value,depth:n.depth+1}),a=r.next(void 0);n=t.shift()||null}return Array.from(i.reduce(((t,s)=>(s.node.items.forEach((n=>{t.has(n)||t.set(n,{start:s.depth,end:s.depth+e.length})})),t)),new Map).entries()).map((([e,t])=>({item:e,range:t})))}}var K,G=s(45246),H=s(32082),j=s(51572);!function(e){e.name="name",e.content="content"}(K||(K={}));const Y=/\s+$/;function $(e,t,s){if(!t){if(e.deltaChange.isEmpty)return null;{const t=e.deltaChange.delta.ops.slice(0);let n=t.pop();for(;t.length&&n&&!h.s.isInsertString(n);)n=t.pop();if(n&&h.s.isInsertString(n)&&!Y.test(n.insert)){const t=e.deltaChange.delta.ops.reduce(((e,t)=>h.s.isInsertString(t)?e+t.insert.length:h.s.isRetain(t)?e+t.retain:e),0);return new RegExp(`^(.*\\s)?${(0,q.hr)(s)}(\\s.*)?$`).test((0,W.l)(e.deltaChange.delta,e.prevText).slice(Math.max(t-s.length-1,0),t+1))?{start:t-s.length,end:t}:null}return null}}{const{effectStartIndex:n,sizeDelta:i}=e.deltaChange.delta.ops.reduce(((e,t)=>(h.s.isRetain(t)?e.index+=t.retain:h.s.isDelete(t)?(e.effectStartIndex=Math.min(e.effectStartIndex,e.index),e.sizeDelta-=t.delete):h.s.isInsertString(t)?(e.effectStartIndex=Math.min(e.effectStartIndex,e.index),e.index+=t.insert.length,e.sizeDelta+=t.insert.length):h.s.isInsertEmbed(t)&&(e.effectStartIndex=Math.min(e.effectStartIndex,e.index),e.index+=1,e.sizeDelta+=1),e)),{index:0,effectStartIndex:1/0,sizeDelta:0});switch(!0){case n<t.start+s.length:case n>t.end:return null;default:return{...t,end:t.end+i}}}}class J{constructor(e,t,s,n,h,m,_,g,C,L,M,D,N,R,B,W,q,Z,z,V,K,Y,J=H.Y.create("Snippets")){var X,ee;this._snippetsProvider=e,this._textObserver=t,this._replacementService=s,this._geometryProvider=n,this._geometryLayout=h,this._textFieldLayout=m,this._getCurrentTextMap=_,this._controller=g,this._keyDown=C,this._gnar=L,this._checkingService=M,this._selectionSource=D,this._state=N,this._updateSnippetsShortcutPopupCounter=R,this._setAppActionsSnippetsOnboardingSeen=B,this._isCurrentFieldFocused=W,this._events=q,this._alertStateService=Z,this._openAssistant=z,this._pageState=V,this._alertProcessor=K,this._snippetsTemplatingFeature=Y,this._log=J,this._subs=[],this._insertionRange=new i.X(null),this._activeSnippet=new i.X(null),this._selectionObservable=(0,r.P)((()=>this._selectionSource.data.changes.pipe((0,o.U)(F.Ey),(0,l.h)((e=>null!==e))))),this._snippetsSearchTrees=new i.X({byName:new Q([],"name"),byContent:new Q([],"content")}),this._triggerSequence=j.QQ,this._shortcutPopupSessionCounter=0,this._initialShortcutPopupCounter=0,this._currentModel={mode:"none"},this._applySnippet=(e,t,s)=>{var n;const i=(0,U.TV)(e.contentDelta),r=i?e.contentDelta:e.content;if(this._dismiss("apply"),this._gnar.snippetsSnippetApplied(i,t.end-t.start-s.length),(0,A.Gu)(r)&&this._snippetsTemplatingFeature){const e=(0,k.sz)(r,null===(n=this._state.get())||void 0===n?void 0:n.user);this._replacementService.performReplacement({pos:t,value:e}).then((()=>{var s;return null===(s=this._snippetsTemplatingFeature)||void 0===s?void 0:s.insertTemplateAlerts(e,t,this._snippets,this._applySnippet)}))}else this._replacementService.performReplacement({pos:t,value:r});this._checkingService&&this._checkingService.onSnippetFeedback({kind:P.JE.SNIPPET_ACCEPTED,snippetUuid:e.id})},this.addSnippetsTriggerToAlert=e=>({...e,extra_properties:{...e.extra_properties,snippet_trigger:this._triggerSequence}}),this.showSnippetsEditor=e=>{this._snippetsProvider.snippetsAndSettings.pipe((0,c.M)(this._selectionObservable.pipe((0,d.O)(null)),this._snippetsSearchTrees),b.q(1)).subscribe((([t,s,n])=>{const i=this._getModel("editor",t,s,n,null,e);i&&this._controller.show(i)}))},this._snippetsTriggered=v.h.create(!1),this._snippets=(0,a.a)([this._snippetsProvider.snippetsAndSettings,this._snippetsTriggered]).pipe((0,o.U)((([{snippets:e},t])=>t?e:[])),f.x(((e,t)=>e.length===t.length&&e.every(((e,s)=>e.id===t[s].id)))));const te=(new Date).getTime();let se=!0;this._subs.push((0,a.a)([this._snippets,this._snippetsProvider.snippetsAndSettings]).subscribe((([e,t])=>{this._snippetsSearchTrees.next({byName:new Q(e,"name"),byContent:new Q(e,"content")}),this._gnar.snippetsListLoaded(t.snippets.length,se?(new Date).getTime()-te:void 0),se=!1}))),this._initialShortcutPopupCounter=null!==(ee=null===(X=this._state.get())||void 0===X?void 0:X.page.snippetsShortcutPopupCounter)&&void 0!==ee?ee:0,this._snippetsModel=(0,a.a)([this._insertionRange,this._activeSnippet,this._textFieldLayout.rect.behavior,this._snippetsProvider.snippetsAndSettings,this._snippetsSearchTrees]).pipe(S.b(20),(0,o.U)((([e,t,s,n,i])=>e?this._getModel("list",n,e,i,t):null)),E.b((e=>{e&&this._snippetsTriggered.set(!0)})),(0,u.B)(),(0,d.O)(null)),this._shortcutPopupModel=x.E,this._subs.push(this._snippetsProvider.snippetsAndSettings.subscribe((({triggerSequence:e})=>{this._triggerSequence=e}))),this._subs.push((0,p.T)(this._snippetsModel,this._shortcutPopupModel.pipe((0,l.h)((e=>"shortcutPopup"===this._currentModel.mode||Boolean(e)))),this._events.pipe((0,c.M)(this._snippetsProvider.snippetsAndSettings,this._snippetsSearchTrees),o.U((([{text:e,textRange:t,onCreate:s},n,i])=>this._getModel("editor",n,t,i,void 0,e,s))),E.b((e=>this._log.trace("Model changed",e))))).pipe(w.D((e=>y.timer(0===(null==e?void 0:e.matchLength)?20:0)))).subscribe((e=>{e?this._show(e):this._hide("Model is empty.")}))),this._subs.push(this._isCurrentFieldFocused.pipe((0,l.h)((e=>!e))).subscribe((()=>this._hide("Current field lost its focus")))),this._subs.push(this._snippetsProvider.snippetsEnabled.pipe((0,l.h)((e=>!e))).subscribe((()=>this._hide("Snippets feature got disabled."))));const ne=this._snippetsProvider.snippetsAndSettings.pipe(y.shareReplay({bufferSize:1,refCount:!0}));this._subs.push(this._textObserver.contentChanges.async.pipe((0,l.h)((e=>{const t=0===e.changes.length;return t&&this._log.trace("Skipping an empty content change"),!t})),(0,c.M)(this._insertionRange.pipe((0,d.O)(null))),T.w((([e,t])=>ne.pipe(o.U((s=>[e,t,s])))))).subscribe((([e,t,s])=>{if(!s||!s.enabled)return;const n=s.triggerSequence,i=$(e,t,n);this._insertionRange.next(i),t&&null===i&&this._dismiss("edit"),null===t&&i&&(this._gnar.snippetsTriggerSequenceEntered(!0,n),this._log.trace("Snippets trigger sequence entered."),this._gnar.snippetsListPresented(n))}))),this._subs.push(this._keyDown.pipe((0,c.M)(this._insertionRange.pipe((0,d.O)(null)),this._snippetsModel,this._selectionObservable.pipe((0,d.O)(null)),this._isCurrentFieldFocused,this._snippetsProvider.snippetsAndSettings,this._snippetsSearchTrees)).subscribe((([e,t,s,n,i,r,a])=>{if(!r.enabled)return;const p=(0,I.O)(),o=e=>e.key.toLowerCase()===r.creationShortcut&&(p.config.systemInfo.os.isMac?e.ctrlKey&&!e.altKey&&!e.metaKey&&!e.shiftKey:e.altKey&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey);if(o(e)&&this._log.trace("Creation shortcut was entered"),i&&o(e)&&(!this._controller.isVisible()||this._controller.isShortcutPopupShown()&&n||this._controller.isEmptySnippetsListShown())){this._gnar.snippetsShortcutUsed();const t=this._getModel("editor",r,n,a);if(t)return this._updateSnippetsShortcutPopupCounter(-1),this._hide("Refresh snippets view on shortcut usage."),this._show(t),void e.preventDefault()}if(e.keyCode===G.VD.Escape&&null!==s)return this._dismiss("esc"),void e.stopPropagation();t&&(e.keyCode!==G.VD.Tab&&e.keyCode!==G.VD.RightArrow&&e.keyCode!==G.VD.Return||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey?e.keyCode!==G.VD.UpArrow&&e.keyCode!==G.VD.DownArrow||(e.preventDefault(),e.stopPropagation(),this._shiftActiveSnippet(e.keyCode===G.VD.UpArrow,s)):t&&(null==s?void 0:s.activeSnippet)&&(e.preventDefault(),e.stopPropagation(),this._applySnippet(s.activeSnippet.snippet,t,r.triggerSequence)))}))),this._subs.push(this._textFieldLayout.scroll.behavior.pipe((0,c.M)(this._snippetsModel),(0,l.h)((([e,t])=>!!t))).subscribe((()=>{this._dismiss("scroll")}))),this._subs.push(this._alertStateService.newlyHighlightedAlerts.pipe(c.M(this._snippetsProvider.snippetsEnabled),l.h((([e,t])=>t&&O.S.isSuggestedSnippetAlert(e)))).subscribe((()=>{this._gnar.suggestedSnippetHighlightShow()}))),this._gnar.snippetsFeatureInit()}_selectSnippet(e){this._activeSnippet.next(e)}_getSnippetsForText(e,t,s){return[...t.search(e).map((e=>({snippet:e.item,range:e.range,location:K.name}))),...s.search(e).map((e=>({snippet:e.item,range:e.range,location:K.content})))].reduce(((e,t)=>(e.set.has(t.snippet.id)||e.result.push(t),e.set.add(t.snippet.id),e)),{set:new Set,result:new Array}).result}_shiftActiveSnippet(e,t){var s;if(t&&t.matches.length&&t.activeSnippet){const n=t.activeSnippet.index;n>-1?this._activeSnippet.next((null===(s=t.matches[Math.min(t.matches.length-1,Math.max(n+(e?-1:1),0))])||void 0===s?void 0:s.snippet)||null):this._activeSnippet.next(null)}else this._activeSnippet.next(null)}_dismiss(e){this._log.debug("Snippets card dismissed",{reason:e}),this._insertionRange.next(null),this._activeSnippet.next(null),"apply"!==e&&this._gnar.snippetsListDismissed(e)}_getModel(e,t,s,n,i,r,a){var p;const o=this._getCurrentTextMap(),l=s&&this._geometryProvider.create(s,o),c=l?this._geometryProvider.getClientRects(l):null,d=null!==(p=c&&c.length&&("list"===e?c[0]:c[c.length-1]))&&void 0!==p?p:null,u=d&&(0,B.Z)(R.UL.setPosition(this._geometryLayout.getApproximateConversionContext().clientToRelative(d),d),this._textFieldLayout.rect.getApproximate().client,this._textFieldLayout.scroll.getApproximate())||"editor"===e&&(h=this._textFieldLayout.rect.getApproximate().client,R.UL.setPosition(h,{height:1,width:1}));var h;if(!u)return null;if("shortcutPopup"===e)return null;const m=s?this._getSnippetsForText(o.getPlainText().substring(s.start+t.triggerSequence.length,s.end),n.byName,n.byContent):[],_=s?s.end-s.start-t.triggerSequence.length:0,g=i?m.findIndex((e=>e.snippet.id===i.id)):-1;return{rect:u,matches:m,mode:e,applySnippet:e=>{const n=m.find((t=>t.snippet.id===e));s&&n&&this._applySnippet(n.snippet,s,t.triggerSequence)},selectSnippet:e=>{const t=m.find((t=>t.snippet.id===e));t&&this._selectSnippet(t.snippet)},addSnippet:async(e,t)=>{await this._snippetsProvider.addSnippet(e,t)&&(a&&a(),this._gnar.snippetsInlineSnippetCreated()),this._hide("Close on snippet add.")},activeSnippet:m.length?i&&g>-1?{snippet:i,index:g}:{snippet:m[0].snippet,index:0}:null,matchLength:_,triggerSequence:t.triggerSequence,creationShortcut:t.creationShortcut,content:r||("list"!==e&&s?o.getPlainText().substring(s.start,s.end):"")}}_show(e){this._log.debug("Show snippets card",{mode:e.mode}),this._currentModel=e,this._controller.show(e)}_hide(e){this._currentModel&&this._log.debug("Hide snippets card",{reason:e}),this._currentModel={mode:"none"},this._controller.hide()}static _subscribeToMuteOrUndoMuteButtonClick(e,t,s,i,r){e.add(t.pipe(l.h(i),c.M(s),o.U((([e,t])=>C.nL.hasItems(t)?(0,n.zG)(t.currentLens.items.get(e.id),D.g_((()=>null),(e=>e.value))):null)),l.h(q.fQ),l.h(g.i.isSuggestedSnippetItem)).subscribe(r))}dispose(){this._subs.forEach((e=>e.unsubscribe()))}initCardActionsProcessing(e,t,s,i){return new L.y((()=>{const r=new M.w0;return r.add(e.pipe(l.h(_.lY.isCreateSnippetAction),E.b((()=>{this._gnar.suggestedSnippetCardAccept("assistant")}))).subscribe((({snippetName:e,snippetText:t})=>{this._snippetsProvider.addSnippet(e,t)}))),r.add(e.pipe(l.h(_.lY.isSuggestedSnippetSuccessDismissed)).subscribe((e=>{(0,n.zG)(t.getById(e.alertId),D.tS(m.bZ.getRawId),D.g_((()=>this._log.error("Tried to acknowledge nonexistent snippet alert from the sidebar",{alertId:e.alertId})),(e=>{var t;return null===(t=this._checkingService)||void 0===t?void 0:t.onAlertAcknowledged(e,P.e3.Sidebar)})))}))),r.add(s.pipe(l.h(g.i.isSuggestedSnippetItem)).subscribe((()=>{this._gnar.suggestedSnippetMiniCardShow()}))),r.add(e.pipe(l.h(_.lY.isAlertCardShow),o.U((e=>e.alertId)),S.b(300)).subscribe((e=>(0,n.zG)(t.getById(e),D.hX(m.bZ.isSuggestedSnippet),N.bw((()=>{this._gnar.suggestedSnippetCardLook("assistant")})))))),r.add(e.pipe(l.h(_.lY.isAlertIgnoreAction)).subscribe((e=>(0,n.zG)(t.getById(e.alertId),D.hX(m.bZ.isSuggestedSnippet),N.bw((()=>{this._gnar.suggestedSnippetCardDismiss("assistant")})))))),J._subscribeToMuteOrUndoMuteButtonClick(r,e,i,_.lY.isMuteCategoryAction,(()=>{this._gnar.suggestedSnippetCardDeactivate("assistant")})),J._subscribeToMuteOrUndoMuteButtonClick(r,e,i,_.lY.isUndoMuteCategoryAction,(()=>{this._gnar.suggestedSnippetCardUndoDeactivate("assistant")})),()=>r.unsubscribe()}))}}},51572:(e,t,s)=>{s.d(t,{Gx:()=>m,QQ:()=>h,Zm:()=>v});var n=s(62552),i=s(36344),r=s(50750),a=s(84714),p=s(20161),o=s(66878),l=s(59179),c=s(89408),d=s(36807),u=s(60390);const h="\\",m="s",_=e=>new d.i(e.ops),g=({id:e,name:t,hierarchy:s,contentDelta:n})=>{return{id:e,name:t,hierarchy:s,content:(i=n,u.$.renderToPlainText(_(i))),contentDelta:_(n)};var i},C=({isEnabled:e,userShortcuts:t,snippets:s})=>({enabled:e,creationShortcut:e?(null==t?void 0:t.createSnippetTrigger.toLowerCase())||m:"",triggerSequence:e?(null==t?void 0:t.snippetsTrigger)||h:"",snippets:e&&(null==s?void 0:s.map(g))||[]});class v{constructor(e,t,s){this._checkingService=e,this._rpcClient=t,this._state=s,this._reloadSubject=new n.X(null),this.snippetsAndSettings=this._reloadSubject.pipe((0,p.w)((()=>this._requestSnippets().pipe((0,o.K)((()=>i.E))))),(0,l.U)(C),(0,c.d)()),this.snippetsEnabled=this.snippetsAndSettings.pipe((0,l.U)((e=>e.enabled)))}async addSnippet(e,t){const s=await this._rpcClient.addSnippet({name:e,contentDelta:{ops:[{insert:t+"\n"}]},hierarchy:"PERSONAL"});return this._reloadSubject.next(null),s?g(s):null}_requestSnippets(){return(0,r.D)(this._rpcClient.getSnippets()).pipe((0,p.w)((e=>e?(0,a.of)(e):i.E)))}}},61860:(e,t,s)=>{s.d(t,{Df:()=>g,LB:()=>S,Og:()=>y,uH:()=>_});var n=s(49231),i=s(37213),r=s(93415),a=s(90944),p=s(7323),o=s(80335),l=s(92975),c=s(45438),d=s(33096);const u=e=>{const t=(50-(e.range.end-e.range.start))/2-3;return e.location===p.C2.content?{prefix:h(e.snippet.content,e.range.start,t),content:e.snippet.content.slice(e.range.start,e.range.end),suffix:e.snippet.content.slice(e.range.end)}:{content:e.snippet.content}},h=(e,t,s=1/0)=>e.slice(0,t).split(" ").reduceRight(((e,t,n)=>{let i=e.text,r=e.wordsLeft;return r?(i.length+t.length<s&&(i=i?`${t} ${i}`:t||" "),t?r--:i=`${i}`,!r&&n&&(i=`...${i}`),{text:i,wordsLeft:r}):e}),{text:"",wordsLeft:2}).text,m=()=>(0,r.O)().config.systemInfo.os.isMac?"CONTROL":"ALT",_=()=>n.createElement("svg",{viewBox:"0 0 10 6",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M9.354,4.603L5,0.249L0.646,4.603C0.451,4.798 0.451,5.115 0.646,5.31C0.842,5.505 1.158,5.505 1.354,5.31L5,1.663C5,1.663 8.646,5.31 8.646,5.31C8.842,5.505 9.158,5.505 9.354,5.31C9.549,5.115 9.549,4.798 9.354,4.603Z"})),g=()=>n.createElement("svg",{viewBox:"0 0 10 6",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M0.646,1.183L5,5.536L9.354,1.183C9.549,0.988 9.549,0.671 9.354,0.476C9.158,0.28 8.842,0.28 8.646,0.476L5,4.122C5,4.122 1.354,0.476 1.354,0.476C1.158,0.28 0.842,0.28 0.646,0.476C0.451,0.671 0.451,0.988 0.646,1.183Z"})),C=()=>n.createElement("svg",{viewBox:"0 0 4 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M2,12C0.895,12 0,12.895 0,14C0,15.105 0.895,16 2,16C3.105,16 4,15.105 4,14C4,12.895 3.105,12 2,12ZM2,13C2.552,13 3,13.448 3,14C3,14.552 2.552,15 2,15C1.448,15 1,14.552 1,14C1,13.448 1.448,13 2,13ZM2,6C0.895,6 0,6.895 0,8C0,9.105 0.895,10 2,10C3.105,10 4,9.105 4,8C4,6.895 3.105,6 2,6ZM2,7C2.552,7 3,7.448 3,8C3,8.552 2.552,9 2,9C1.448,9 1,8.552 1,8C1,7.448 1.448,7 2,7ZM2,0C0.895,0 0,0.895 0,2C0,3.105 0.895,4 2,4C3.105,4 4,3.105 4,2C4,0.895 3.105,0 2,0ZM2,1C2.552,1 3,1.448 3,2C3,2.552 2.552,3 2,3C1.448,3 1,2.552 1,2C1,1.448 1.448,1 2,1Z"})),v=()=>n.createElement("svg",{viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M25.5,16C25.5,10.753 21.247,6.5 16,6.5C10.753,6.5 6.5,10.753 6.5,16C6.5,21.247 10.753,25.5 16,25.5C21.247,25.5 25.5,21.247 25.5,16ZM24.5,16C24.5,20.694 20.694,24.5 16,24.5C11.306,24.5 7.5,20.694 7.5,16C7.5,11.306 11.306,7.5 16,7.5C20.694,7.5 24.5,11.306 24.5,16ZM15.5,15.5L11.5,15.5C11.224,15.5 11,15.724 11,16C11,16.276 11.224,16.5 11.5,16.5L15.5,16.5L15.5,20.5C15.5,20.776 15.724,21 16,21C16.276,21 16.5,20.776 16.5,20.5L16.5,16.5L20.5,16.5C20.776,16.5 21,16.276 21,16C21,15.724 20.776,15.5 20.5,15.5L16.5,15.5L16.5,11.5C16.5,11.224 16.276,11 16,11C15.724,11 15.5,11.224 15.5,11.5L15.5,15.5Z"})),b=()=>n.createElement("svg",{viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M9,22.5C9,23.881 10.119,25 11.5,25L22.5,25C22.776,25 23,24.776 23,24.5C23,24.224 22.776,24 22.5,24L11.5,24C10.672,24 10,23.328 10,22.5C10,21.672 10.672,21 11.5,21L22.5,21C22.776,21 23,20.776 23,20.5L23,13.5C23,13.224 22.776,13 22.5,13C22.224,13 22,13.224 22,13.5L22,20C22,20 11.5,20 11.5,20C10.937,20 10.418,20.186 10,20.5L10,9.5C10,8.672 10.672,8 11.5,8C11.5,8 16.5,8 16.5,8C16.776,8 17,7.776 17,7.5C17,7.224 16.776,7 16.5,7L11.5,7C10.119,7 9,8.119 9,9.5L9,22.5ZM22.5,22L11.5,22C11.224,22 11,22.224 11,22.5C11,22.776 11.224,23 11.5,23L22.5,23C22.776,23 23,22.776 23,22.5C23,22.224 22.776,22 22.5,22ZM22,7L19.5,7C19.224,7 19,7.224 19,7.5C19,7.776 19.224,8 19.5,8L22,8L22,10.5C22,10.776 22.224,11 22.5,11C22.776,11 23,10.776 23,10.5L23,8L25.5,8C25.776,8 26,7.776 26,7.5C26,7.224 25.776,7 25.5,7L23,7L23,4.5C23,4.224 22.776,4 22.5,4C22.224,4 22,4.224 22,4.5L22,7Z"})),f=()=>n.createElement("svg",{viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M24.5,23.5C24.776,23.5 25,23.724 25,24C25,24.276 24.776,24.5 24.5,24.5L7.5,24.5C7.224,24.5 7,24.276 7,24C7,23.724 7.224,23.5 7.5,23.5L24.5,23.5Z"}),n.createElement("path",{d:"M20.894,8.354L22.146,9.606C22.732,10.192 22.732,11.142 22.146,11.727L12.374,21.5L9,21.5L9,18.126L18.773,8.354C19.359,7.768 20.308,7.768 20.894,8.354ZM17.666,10.873L10,18.54L10,20.5L11.96,20.5L19.626,12.833L17.666,10.873ZM19.48,9.061L18.373,10.166L20.333,12.126L21.439,11.02C21.635,10.825 21.635,10.508 21.439,10.313L20.187,9.061C19.992,8.865 19.675,8.865 19.48,9.061Z"})),S=e=>{let t=!1;const s=n.useRef(null),[r,p]=n.useState({menuOpen:!1,visibleSnippetsAmount:30});n.useEffect((()=>o()));const o=()=>{const{activeSnippet:n}=e;if(n&&s.current){const e=58,i=s.current,a=i.scrollTop,p=n.index*e,o=Math.max(0,n.index*e-2*e),l=a+e/2<o?o:a-e/2>p?p:a;l!==a&&(t=!0,i.scrollTop=l,setTimeout((()=>{t=!1}),0));const c=(r.visibleSnippetsAmount-1)*e;a+i.offsetHeight>c&&h()}},h=()=>{p((e=>({...e,visibleSnippetsAmount:r.visibleSnippetsAmount+30})))},S=t=>{p((e=>({...e,menuOpen:!1}))),e.onOpenLink(t)};return n.createElement("div",{className:d.snippetsCard},e.matches.length?n.createElement("dl",{ref:s,className:d.snippetsCard__snippets},e.matches.slice(0,r.visibleSnippetsAmount).map((s=>{var r,a;return n.createElement("div",{...(0,i.Sh)(d.snippetsCard__snippet,s.snippet.id===(null===(a=null===(r=e.activeSnippet)||void 0===r?void 0:r.snippet)||void 0===a?void 0:a.id)?d.snippetsCard__snippet_active:null),key:s.snippet.id,onClick:()=>e.applySnippet(s.snippet.id),onMouseEnter:()=>{return n=s.snippet.id,void(t||e.selectSnippet(n));var n}},n.createElement(E,{match:s,triggerSequence:e.triggerSequence}),n.createElement(x,{match:s,content:u(s)}))}))):n.createElement(w,{creationShortcut:e.creationShortcut}),n.createElement("div",{className:d.snippetsCard__footer},n.createElement("div",{className:d["snippetsCard__footer-logo"]},n.createElement(l.T,{backgroundColor:c.bd.black,type:"mini",size:16})),n.createElement("div",{className:d["snippetsCard__footer-hints"]},n.createElement("span",{className:d.buttonTip__group},"navigate"," ",n.createElement("span",{className:d.buttonTip},n.createElement(_,null))," ",n.createElement("span",{className:d.buttonTip},n.createElement(g,null))),n.createElement("span",{className:d.buttonTip__group},"select ",n.createElement("span",{className:d.buttonTip},"Enter")),n.createElement("span",{className:d.buttonTip__group},"cancel ",n.createElement("span",{className:d.buttonTip},"Esc"))),n.createElement("span",{...(0,i.Sh)(d["snippetsCard__footer-menuButton"],r.menuOpen?d["snippetsCard__footer-menuButton_active"]:null),onClick:()=>{p((e=>({...e,menuOpen:!r.menuOpen})))}},n.createElement(C,null)),r.menuOpen&&n.createElement("ul",{className:d["snippetsCard__footer-menu"]},n.createElement("li",{className:d["snippetsCard__footer-menuItem"]},n.createElement("a",{target:"_blank",rel:"noreferrer",href:(0,a.Um)().snippetsNew,onClick:()=>{S("new")}},n.createElement("span",{className:d["snippetsCard__footer-menuItem-icon"]},n.createElement(v,null)),n.createElement("span",{className:d["snippetsCard__footer-menuItem-textGroup"]},n.createElement("span",{className:d["snippetsCard__footer-menuItem-text"]},"Create snippet"),n.createElement("span",{className:d["snippetsCard__footer-shortcut"]},n.createElement("span",{className:d.buttonTip},m())," +"," ",n.createElement("span",{className:d.buttonTip},e.creationShortcut.toUpperCase()))))),n.createElement("li",{className:d["snippetsCard__footer-menuItem"]},n.createElement("a",{target:"_blank",rel:"noreferrer",href:(0,a.Um)().snippetsAdmin,onClick:()=>{S("library")}},n.createElement("span",{className:d["snippetsCard__footer-menuItem-icon"]},n.createElement(b,null)),n.createElement("span",{className:d["snippetsCard__footer-menuItem-textGroup"]},n.createElement("span",{className:d["snippetsCard__footer-menuItem-text"]},"Open library")))),n.createElement("li",{className:d["snippetsCard__footer-menuItem"]},n.createElement("a",{target:"_blank",rel:"noreferrer",href:(0,a.Um)().snippetsSettings,onClick:()=>{S("customize")}},n.createElement("span",{className:d["snippetsCard__footer-menuItem-icon"]},n.createElement(f,null)),n.createElement("span",{className:d["snippetsCard__footer-menuItem-textGroup"]},n.createElement("span",{className:d["snippetsCard__footer-menuItem-text"]},"Edit shortcut"),n.createElement("span",{className:d["snippetsCard__footer-shortcut"]},n.createElement("span",{...(0,i.Sh)(d.buttonTip,d["snippetsCard__footer-editShortcut"])},e.triggerSequence))))))))},E=e=>n.createElement("dt",{className:d["snippetsCard__snippet-name"]},n.createElement("span",{...(0,i.Sh)(d["snippetsCard__snippet-logo"],"PERSONAL"===e.match.snippet.hierarchy?d["snippetsCard__snippet-logo-personal"]:d["snippetsCard__snippet-logo-global"])}),n.createElement("span",{className:d["snippetsCard__snippet-name-match"]},e.triggerSequence),e.match.location===p.C2.name?n.createElement(n.Fragment,null,e.match.snippet.name.slice(0,e.match.range.start),n.createElement("span",{className:d["snippetsCard__snippet-name-match"]},e.match.snippet.name.slice(e.match.range.start,e.match.range.end)),e.match.snippet.name.slice(e.match.range.end)):n.createElement(n.Fragment,null,e.match.snippet.name)),x=e=>n.createElement("dd",{className:d["snippetsCard__snippet-content"]},e.match.location===p.C2.content?n.createElement(n.Fragment,null,e.content.prefix,n.createElement("span",{className:d["snippetsCard__snippet-content-match"]},e.content.content),e.content.suffix):n.createElement(n.Fragment,null,e.content.content)),w=e=>n.createElement("div",{className:d.snippetsCard__empty},n.createElement("div",{className:d["snippetsCard__empty-pic"]}),n.createElement("span",{className:d["snippetsCard__empty-title"]},"Your search did not match any snippets"),n.createElement("div",{className:d["snippetsCard__empty-shortcut"]},"To create one, press ",n.createElement("span",{...(0,i.Sh)(d.buttonTip)},m()),"+",n.createElement("span",{...(0,i.Sh)(d.buttonTip)},e.creationShortcut.toUpperCase()))),y=e=>(n.useEffect((()=>{e.onShow()}),[]),n.createElement("div",{className:d.snippetsCreateBtn},n.createElement("span",{className:d.snippetsCreateBtn__logo},n.createElement("svg",{viewBox:"0 0 22 22",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M10.97,0C4.912,0 0,4.91 0,10.968C0,17.026 4.912,21.938 10.97,21.938C17.03,21.938 21.94,17.026 21.94,10.968C21.94,4.91 17.03,0 10.97,0ZM17.133,16.713C17.133,17.169 16.748,17.529 16.276,17.443C15.916,17.379 15.696,17.041 15.696,16.677L15.696,15.97L15.821,15.188C14.601,16.595 12.827,17.401 10.965,17.394C7.281,17.394 4.315,14.344 4.528,10.612C4.713,7.402 7.308,4.746 10.514,4.532C12.978,4.366 15.166,5.609 16.384,7.454L16.38,7.454C16.572,7.864 16.484,8.24 16.163,8.464C16.038,8.552 15.889,8.599 15.736,8.599C15.494,8.599 15.267,8.48 15.128,8.282L15.128,8.274C14.246,7.044 12.708,6.007 10.956,6.007C7.593,6.007 5.012,9.377 6.368,12.912C6.965,14.468 8.38,15.582 10.028,15.84C12.051,16.158 13.902,15.462 14.968,13.898L14.302,14.015L13.152,14.015C12.788,14.015 12.45,13.795 12.385,13.435C12.3,12.965 12.66,12.58 13.115,12.58L17.133,12.58L17.133,16.713Z"}))),n.createElement("span",{className:d.snippetsCreateBtn__textGroup},n.createElement("span",{onClick:()=>e.openEditor(),className:d.snippetsCreateBtn__text},"Create a snippet"),n.createElement("span",{onClick:()=>e.openEditor(),className:d.snippetsCreateBtn__shortcut},n.createElement("span",{className:d.buttonTip},m())," +"," ",n.createElement("span",{className:d.buttonTip},e.creationShortcut.toUpperCase()))),n.createElement(o.u,{offset:{vertical:-12},message:"Turn highlighted text into a snippet to use it later.",showDelay:300},n.createElement("span",{className:d.snippetsCreateBtn__tooltip},"?"))))},88743:(e,t,s)=>{s.d(t,{q:()=>i});var n=s(49231);const i=e=>n.createElement("div",{onKeyDown:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation()},e.children)},82596:e=>{e.exports={snippetsEditor:"Fbq7r",snippetsEditor__topWrapper:"cZx0Q",snippetsEditor__topWrapper_name:"_ujol",snippetsEditor__topWrapper_nameError:"YNsBV",snippetsEditor__topWrapper_content:"dC1WY",snippetsEditor__topWrapper_contentError:"HPPU0",snippetsEditor__bottomWrapper:"rrxtA",snippetsEditor__bottomWrapper_logo:"IGPrK",snippetsEditor__bottomWrapper_text:"lK9ni",snippetsEditor__bottomWrapper_buttons:"c8UMf",snippetsEditor__bottomWrapper_cancelBtn:"g8nQK",snippetsEditor__bottomWrapper_saveBtn:"hZDV3",snippetsCreateBtn:"eAc7t",snippetsCreateBtn__logo:"KKilK",snippetsCreateBtn__textGroup:"C5pc8",snippetsCreateBtn__text:"BSKWh",snippetsCreateBtn__shortcut:"QiX8m",snippetsCreateBtn__tooltip:"p7eEw",snippetsCard:"WQ7Qx",snippetsCard__snippets:"V5pQm",snippetsCard__snippet:"hThtq",snippetsCard__snippet_active:"fpbCT","snippetsCard__snippet-logo":"Qa4Rv","snippetsCard__snippet-logo-personal":"FyWLb","snippetsCard__snippet-logo-global":"H_kK4","snippetsCard__snippet-name":"IhDRD","snippetsCard__snippet-name-match":"u54es","snippetsCard__snippet-content":"phWHA","snippetsCard__snippet-content-match":"IWGt4",snippetsCard__footer:"oeUcb","snippetsCard__footer-logo":"SFDW6","snippetsCard__footer-shortcut":"jiGT8","snippetsCard__footer-hints":"RGbSH","snippetsCard__footer-menuButton":"SS7Vl","snippetsCard__footer-menuButton_active":"QrW4N","snippetsCard__footer-editShortcut":"R9yzW","snippetsCard__footer-menu":"J7z48","snippetsCard__footer-menuItem":"fLJZQ","snippetsCard__footer-menuItem-text":"ZVgjv","snippetsCard__footer-menuItem-icon":"f2mTe","snippetsCard__footer-menuItem-textGroup":"wCaFs",snippetsCard__empty:"ZdVrB","snippetsCard__empty-pic":"Ew_Vh","snippetsCard__empty-title":"tb4uE","snippetsCard__empty-shortcut":"zewRz",buttonTip:"HlEFz",buttonTip__group:"TPCU3",templateCardDropdown__options:"g1D2p",templateCardDropdown__option:"YJBa4",templateCardDropdown__option_active:"nNXJQ"}},33096:e=>{e.exports={snippetsEditor:"igUqv",snippetsEditor__topWrapper:"NdPJC",snippetsEditor__topWrapper_name:"AQyZX",snippetsEditor__topWrapper_nameError:"VYFmy",snippetsEditor__topWrapper_content:"lyWj9",snippetsEditor__topWrapper_contentError:"h8EXg",snippetsEditor__bottomWrapper:"gplIn",snippetsEditor__bottomWrapper_logo:"TMR5J",snippetsEditor__bottomWrapper_text:"XTBlB",snippetsEditor__bottomWrapper_buttons:"V71h0",snippetsEditor__bottomWrapper_cancelBtn:"QjlVw",snippetsEditor__bottomWrapper_saveBtn:"m3H6c",snippetsCreateBtn:"hWTDz",snippetsCreateBtn__logo:"gw5Ma",snippetsCreateBtn__textGroup:"dJ_Sb",snippetsCreateBtn__text:"j4i2d",snippetsCreateBtn__shortcut:"zGRMe",snippetsCreateBtn__tooltip:"EOOEz",snippetsCard:"RuyGy",snippetsCard__snippets:"JendO",snippetsCard__snippet:"UNhhl",snippetsCard__snippet_active:"a_Eej","snippetsCard__snippet-logo":"EIQls","snippetsCard__snippet-logo-personal":"PQHUg","snippetsCard__snippet-logo-global":"luE5K","snippetsCard__snippet-name":"JhypS","snippetsCard__snippet-name-match":"h9hHI","snippetsCard__snippet-content":"uDeBL","snippetsCard__snippet-content-match":"veKIf",snippetsCard__footer:"g1Jue","snippetsCard__footer-logo":"Gd_W9","snippetsCard__footer-shortcut":"eFTGO","snippetsCard__footer-hints":"OYNqN","snippetsCard__footer-menuButton":"Wvuh7","snippetsCard__footer-menuButton_active":"jP25n","snippetsCard__footer-editShortcut":"iBiq4","snippetsCard__footer-menu":"THTqk","snippetsCard__footer-menuItem":"azm2J","snippetsCard__footer-menuItem-text":"n1zYx","snippetsCard__footer-menuItem-icon":"V5lh4","snippetsCard__footer-menuItem-textGroup":"M7kb8",snippetsCard__empty:"b9RUX","snippetsCard__empty-pic":"j3NQL","snippetsCard__empty-title":"fJLFQ","snippetsCard__empty-shortcut":"DT7J3",buttonTip:"gLNn3",buttonTip__group:"mvPjS"}},58952:(e,t,s)=>{s.d(t,{f:()=>d});var n=s(49231),i=s(38367),r=s(23560),a=s(95227),p=s(23934),o=s(71564);const l=(e,t)=>{let s;return s="VerificationCode"===t?{small:"medium",medium:"large",large:"large"}:{medium:"small",large:"medium",xlarge:"large"},s[e||"medium"]},c=(e,t)=>{let s;return s="VerificationCode"===t?{small:"text-small",medium:"text-medium",large:"text-medium"}:{medium:"text-xsmall",large:"text-small",xlarge:"text-medium"},s[e||"medium"]},d=({errorMessage:e,className:t,component:s,size:d="medium",color:u,...h})=>null==e||0==e.trim().length?null:n.createElement(r.k,{gap:1,align:"center",className:(0,i.W)("gds-input-error",t),...h},n.createElement(r.k,{flex:"0 1 auto"},n.createElement(p.J,{icon:a.E,accessibilityLabel:"Error",variant:"critical",size:l(d,s)})),n.createElement(o.x,{variant:c(d,s),className:"gds-input-error-message",color:"critical-default",as:"p"},e))},5219:(e,t,s)=>{s.d(t,{A:()=>o});var n=s(49231),i=s(38367),r=s(23560),a=s(2680),p=s(71564);const o=({as:e="label",label:t,labelDisplay:s="visible",helperMessage:o,isRequired:u=!1,isOptional:h=!1,labelIndicatorForRequired:m="(Required)",labelIndicatorForOptional:_="(Optional)",errorMessage:g,children:C,size:v,...b})=>{if("hidden"===s){const s=0===n.Children.count(C)?{position:"absolute"}:void 0;return n.createElement(r.k,{as:e,style:s,...b},C,n.createElement(a.u,null,t,n.createElement(c,{errorMessage:g}),n.createElement(l,{message:o})))}const f="legend"===e?"semibold":"medium",S={small:"text-xsmall",medium:"text-small",large:"text-medium",xlarge:"text-large"};return n.createElement(r.k,{as:e,direction:"column",gap:1,color:"base-default",...b},n.createElement(r.k,{gap:2,align:"center",direction:"row"},C,n.createElement(p.x,{as:"span",variant:S[v||"medium"],weight:f,className:(0,i.W)("gds-input-label")},t),(!0===u||!0===h)&&n.createElement("div",{className:"gds-input-label-optionality",onClick:d},n.createElement("span",{"aria-hidden":!0===u?"true":void 0},n.createElement(a.u,null,": "),n.createElement(p.x,{as:"span",color:"base-subdued",variant:S[v||"medium"]},!0===u?m:_))),n.createElement(c,{errorMessage:g})),n.createElement(l,{message:o,size:v}))},l=e=>{const{message:t,size:s,...i}=e;if(null==t)return null;return n.createElement("div",{className:"gds-input-label-helper",onClick:d},n.createElement(a.u,null,":"),n.createElement(p.x,{as:"p",variant:{medium:"text-xsmall",large:"text-small",xlarge:"text-medium"}[s||"medium"],color:"base-subdued",...i},t))},c=e=>{const{errorMessage:t}=e;return null!=t?n.createElement(a.u,null," - error: ",t):null};function d(e){e.preventDefault()}},2680:(e,t,s)=>{s.d(t,{u:()=>r});var n=s(49231),i=s(38367);const r=n.forwardRef((function(e,t){const{className:s,as:r="span",...a}=e;return n.createElement(r,{ref:t,className:(0,i.W)("gds-sr-only",s),...a})}))},46311:(e,t,s)=>{s.d(t,{U:()=>i});var n=s(84580);function i(e){let{description:t,errorMessage:s,validationState:i}=e,{labelProps:r,fieldProps:a}=function(e){let{id:t,label:s,"aria-labelledby":i,"aria-label":r,labelElementType:a="label"}=e;t=(0,n.Me)(t);let p=(0,n.Me)(),o={};return s?(i=i?`${p} ${i}`:p,o={id:p,htmlFor:"label"===a?t:void 0}):i||r||console.warn("If you do not provide a visible label, you must specify an aria-label or aria-labelledby attribute for accessibility"),{labelProps:o,fieldProps:(0,n.bE)({id:t,"aria-label":r,"aria-labelledby":i})}}(e),p=(0,n.mp)([Boolean(t),Boolean(s),i]),o=(0,n.mp)([Boolean(t),Boolean(s),i]);return a=(0,n.dG)(a,{"aria-describedby":[p,o,e["aria-describedby"]].filter(Boolean).join(" ")||void 0}),{labelProps:r,fieldProps:a,descriptionProps:{id:p},errorMessageProps:{id:o}}}},69455:(e,t,s)=>{s.d(t,{h:()=>a});var n=s(84580),i=s(46311),r=s(42703);s(49231);function a(e,t){let{inputElementType:s="input",isDisabled:a=!1,isRequired:p=!1,isReadOnly:o=!1,validationState:l,type:c="text",value:d,defaultValue:u,onChange:h=(()=>{})}=e,{focusableProps:m}=(0,r.kc)(e,t),{labelProps:_,fieldProps:g,descriptionProps:C,errorMessageProps:v}=(0,i.U)(e),b=(0,n.zL)(e,{labelable:!0});const f={type:c,pattern:e.pattern};var S;return(0,n.y$)(t,null!==(S=null!=d?d:u)&&void 0!==S?S:"",h),{labelProps:_,inputProps:(0,n.dG)(b,"input"===s&&f,Object.assign(Object.assign({disabled:a,readOnly:o,"aria-required":p||void 0,"aria-invalid":"invalid"===l||void 0,"aria-errormessage":e["aria-errormessage"],"aria-activedescendant":e["aria-activedescendant"],"aria-autocomplete":e["aria-autocomplete"],"aria-haspopup":e["aria-haspopup"],value:e.value,defaultValue:e.value?void 0:e.defaultValue,onChange:e=>h(e.target.value),autoComplete:e.autoComplete,maxLength:e.maxLength,minLength:e.minLength,name:e.name,placeholder:e.placeholder,inputMode:e.inputMode,onCopy:e.onCopy,onCut:e.onCut,onPaste:e.onPaste,onCompositionEnd:e.onCompositionEnd,onCompositionStart:e.onCompositionStart,onCompositionUpdate:e.onCompositionUpdate,onSelect:e.onSelect,onBeforeInput:e.onBeforeInput,onInput:e.onInput},m),g)),descriptionProps:C,errorMessageProps:v}}}}]);