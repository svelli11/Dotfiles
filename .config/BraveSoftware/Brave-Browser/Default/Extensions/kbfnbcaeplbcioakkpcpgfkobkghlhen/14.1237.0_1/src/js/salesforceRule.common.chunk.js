(self.webpackChunk=self.webpackChunk||[]).push([[5091],{38146:(e,t,a)=>{a.r(t),a.d(t,{Salesforce:()=>I,getVBarsIntegrationInfo:()=>h});var n=a(84714),i=a(58303),r=a(41169),l=a(65960),o=a(33148),c=a(80908),s=a(38759),d=a(42319),f=a(95804),p=a(45246),u=a(48691),m=a(35961),v=a(36527),x=a(84042),g=a(2816),C=a(81327),R=a(93995),T=a(93342),S=a(14027);const h=(e,t)=>i.G({integrationName:e,kind:"salesforce",domain:t.pageContext.domain,isInsideIFrame:!1});var I;!function(e){function t(e){return e.experimentClient.isGateEnabled(f.K.SalesforceDetailsTextareaRichReplacementServiceDelay)?{overwriteGenericOpts:{createReplacementService:t=>new m.BT(t,e.experimentClient,void 0,void 0,50)}}:{}}e.createQuillIntegrationWithCustomReplacementService=t;const a=x.P.generic(t),i=o.T.textarea("Salesforce.classicChat",(e=>({extraCondition:e=>!!e.field.closest("#chatTextArea"),validationRules:[...s.u,(0,d.Uo)(18)],createLayout:()=>new r.A7(e.field)}))),I=o.T.textarea("Salesforce.serviceConsoleNewCase",(e=>({extraCondition:e=>!!e.field.closest("records-record-layout-text-area"),validationRules:[...s.u],createLayout:()=>new r.A7(e.field),getVBarsIntegrationInfo:t=>h(t,e),createReplacementService:e.experimentClient.isGateEnabled(f.K.SalesforceServiceConsoleReplacementFix)?t=>new v.l(e.field,t,e.experimentClient,50):void 0}))),y=o.T.textarea("Salesforce.serviceConsoleReplyMessage",(e=>({extraCondition:e=>!!e.field.closest(".messaging-textarea"),validationRules:[...s.u,(0,d.Uo)(18)],createLayout:()=>new r.A7(e.field,{createGbuttonShiftBehavior:()=>(0,n.of)({left:0,top:6})})})));e.REPLAY_THREAD_TITLE="- Original Message -",e.stopProcessEmailFieldOnReplyThread=(t,a)=>{var n;return!(!(0,p.BM)(t)||!(null===(n=t.textContent)||void 0===n?void 0:n.includes(e.REPLAY_THREAD_TITLE)))||g.Z.defaultFinishBlockMap(t,a)};const E=(0,c.q)("Salesforce.emailField",(t=>t.experimentClient.isGateEnabled(f.K.SalesforceFilterEmailThread)?{textMap:{createFieldTextMap:t=>new g.Z(t,void 0,void 0,void 0,void 0,void 0,e.stopProcessEmailFieldOnReplyThread)},createReplacementService:e=>m.BT.create(e,t.experimentClient,{focusElement:t.field,transformReplacementBeforeApply:a=>A(a,e,t.experimentClient)})}:{}));function A(e,t,a){if((0,u.HD)(e.value)&&e.value.split("\n\n").length>1){const n=t.getCurrentTextMap(),i=(0,l.Gl)(n,e,a);return{...e,value:(0,l.lG)(n,i,e)}}return e}e.transformReplacementIfNeeded=A,e.textAreaLegacyInput=o.T.textarea("Salesforce.legacy.input",(e=>({createLayout:()=>new r.A7(e.field,(0,C.dQ)()),getVBarsIntegrationInfo:t=>h(t,e)}))),e.page=(0,R.$W)({name:"Salesforce",domain:S.c3},[i,I,y,E,a,e.textAreaLegacyInput,...T.k.defaultFieldRuleSet])}(I||(I={}))}}]);