import{a as T}from"./async-BZW1XXsj.js";import{i as E}from"./timer--E-2U5R1.js";import{ay as S,at as _,aB as x,aD as V,au as D}from"./start-BFd-djfI.js";var F=S(function(e){return function(t){t===void 0&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function O(e,a){var t=E(e)?{first:e}:typeof e=="number"?{each:e}:e,i=t.first,n=t.each,c=t.with,p=c===void 0?B:c,m=t.scheduler,d=m===void 0?a!=null?a:T:m,v=t.meta,b=v===void 0?null:v;if(i==null&&n==null)throw new TypeError("No timeout provided.");return _(function(w,o){var f,r,u=null,s=0,h=function(l){r=x(o,d,function(){try{f.unsubscribe(),V(p({meta:b,lastValue:u,seen:s})).subscribe(o)}catch(y){o.error(y)}},l)};f=w.subscribe(D(o,function(l){r==null||r.unsubscribe(),s++,o.next(u=l),n>0&&h(n)},void 0,void 0,function(){r!=null&&r.closed||r==null||r.unsubscribe(),u=null})),!s&&h(i!=null?typeof i=="number"?i:+i-d.now():n)})}function B(e){throw new F(e)}export{F as T,O as t};
//# sourceMappingURL=timeout-B7YJiIXx.js.map
