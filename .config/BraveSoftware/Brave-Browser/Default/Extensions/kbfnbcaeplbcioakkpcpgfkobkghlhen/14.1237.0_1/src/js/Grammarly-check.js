var inProgress,path,loadStylesheet,installedCssChunks,__webpack_modules__={80885:(e,t,n)=>{var i=n(28506),r="chrome-extension://__MSG_@@extension_id__/",s="moz-extension://__MSG_@@extension_id__/",o="safari-web-extension://__MSG_@@extension_id__/",a=self.GR_RESOURCE_ROOT||r,c=self.GR_RESOURCE_ROOT||s,l=self.GR_RESOURCE_ROOT||o;e.exports={__css:i.toString().replace(new RegExp(r,"g"),a).replace(new RegExp(s,"g"),c).replace(new RegExp(o,"g"),l),...i.locals}},26620:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0;var n={prod:"grammarly.com",preprod:"ppgr.io",qa:"qagr.io"};t.config=function(e){var t=n[e];return{url:{properties:"https://properties."+t,treatment:"https://treatment."+t,gates:"https://gates."+t}}}},22407:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOT_ASSIGNED=t.Experiment=void 0;var n=function(){function e(e,t){void 0===t&&(t=[]),this.name=e,this._experiences=t}return Object.defineProperty(e.prototype,"experiences",{get:function(){return Object.fromEntries(this._experiences.map((function(e){return[e,e]})))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"experiencesArray",{get:function(){return this._experiences},enumerable:!1,configurable:!0}),e}();t.Experiment=n,t.NOT_ASSIGNED="NOT_ASSIGNED"},29427:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentClient=void 0;var s=n(22407),o=n(22388),a=n(94248),c=n(53555),l=function(e,t,n,l,u){var d=this;void 0===u&&(u={}),this._treatmentService=e,this._experiments=t,this._gatesService=n,this._gates=l,this._config=u,this._experimentTreatments=new Map,this._gateTreatments=new Map,this._initialFetched=!1,this.setPrefetchedTreatments=function(e){if(d._startRefreshIfNeeded(),!c.validateTreatmentsWithType(e))throw new Error("Not valid treatments");d._updateTreatmentForExpAndGates(e)},this._updateTreatmentForExpAndGates=function(e){d._treatmentService.refresh&&d._treatmentService.refresh(),d._experimentTreatments=new Map(e.filter((function(e){return e.type===o.ExperimentType.experiment})).map((function(e){return[e.experimentName,e]}))),d._gateTreatments=new Map(e.filter((function(e){return e.type===o.ExperimentType.gate})).map((function(e){return[e.experimentName,e]})))},this.fetchTreatments=function(e){return void 0===e&&(e={}),i(d,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return this._startRefreshIfNeeded(),[4,this._fetchTreatments(e.clearCacheOnError)];case 1:return t.sent(),[2]}}))}))},this._fetchTreatments=function(e){return i(d,void 0,void 0,(function(){var t,n,i,s,o,a,c;return r(this,(function(r){switch(r.label){case 0:t=null,n=null,r.label=1;case 1:return r.trys.push([1,3,,4]),i=this._experiments.concat(this._gates),[4,this._treatmentService.getTreatment(i.map((function(e){return e.name})))];case 2:return t=r.sent(),[3,4];case 3:return s=r.sent(),n=s,e&&this._experimentTreatments.clear(),[3,4];case 4:if(t)return this._updateTreatmentForExpAndGates(t),[2];o=null,a=null,r.label=5;case 5:return r.trys.push([5,7,,8]),[4,this._gatesService.getTreatment(this._gates.map((function(e){return e.name})))];case 6:return o=r.sent(),[3,8];case 7:return c=r.sent(),a=c,e&&this._gateTreatments.clear(),[3,8];case 8:if(o&&(this._gateTreatments=new Map(o.map((function(e){return[e.experimentName,e]})))),a||n)throw a||n;return[2]}}))}))},this._startRefreshIfNeeded=function(){d._initialFetched||(d._config.ttl&&(d._refreshTreatment=setInterval((function(){return i(d,void 0,void 0,(function(){var e,t=this;return r(this,(function(n){switch(n.label){case 0:return e=function(){return i(t,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this._fetchTreatments()];case 1:case 2:return e.sent(),[3,3];case 3:return[2]}}))}))},this._config.ttl&&this._config.useRefreshJitter?(this._delayedRefreshTreatment=setTimeout(e,.1*this._config.ttl*Math.random()),[3,3]):[3,1];case 1:return[4,e()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}),d._config.ttl)),d._initialFetched=!0)},this.dispose=function(){d._refreshTreatment&&clearInterval(d._refreshTreatment),d._delayedRefreshTreatment&&clearTimeout(d._delayedRefreshTreatment)},this.getTreatment=function(e){var t=d.peekTreatment(e);return null!==t&&d.logTreatment(e,t).catch((function(){})),t},this.getTreatmentManakin=function(e){var t=d.getTreatment(e);return t===s.NOT_ASSIGNED?null:t},this.peekTreatment=function(e){var t=d._experimentTreatments.get(e.name)||d._gateTreatments.get(e.name),n=null==t?void 0:t.groupName;if(0===e.experiencesArray.length||a.getExperienceName(null!=n?n:"")===s.NOT_ASSIGNED)return a.getExperienceName(null!=n?n:"");if(n){var i=e.experiencesArray.find((function(e){return a.getGroupNames(e).includes(n)}));if(i)return i}return null},this.peekTreatmentManakin=function(e){var t=d.peekTreatment(e);return t===s.NOT_ASSIGNED?null:t},this.logTreatment=function(e,t){if(d._config.ssrDisableLogging)return Promise.resolve();var n=d._experimentTreatments.get(e.name)||d._gateTreatments.get(e.name);if(!n||a.getExperienceName(n.groupName)!==t)throw new Error("Cannot find associated treatment");return(void 0!==n.needLog?n.needLog:n.type!==o.ExperimentType.gate)?d._treatmentService.logTreatment(n):Promise.resolve()},this.isGateEnabled=function(e){return d._getExperienceOfEnabledGate(e.name)===e.experience},this._getExperienceOfEnabledGate=function(e){var t=d._gateTreatments.get(e);return t?a.getExperienceName(t.groupName):null},this.getDynamicConfiguration=function(e){var t=d._experimentTreatments.get(e.name)||d._gateTreatments.get(e.name);return t&&t.dynamicConfiguration?t.dynamicConfiguration:null}};t.ExperimentClient=l},22388:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentType=void 0,function(e){e.experiment="experiment",e.gate="gate"}(t.ExperimentType||(t.ExperimentType={}))},49892:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Gate=void 0;var n=function(e,t){void 0===t&&(t="enabled"),this.name=e,this.experience=t};t.Gate=n},15392:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.GatesService=void 0;var s=n(26620),o=n(5230),a=n(53555),c=function(){function e(e,t,n){this.type="gate",this._httpClient=new o.HttpClient(e,t),this._gatesUrl=s.config(n).url.gates+"/gates/get"}return e.prototype.getTreatment=function(e){return i(this,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return[4,this._httpClient.post(this._gatesUrl,e)];case 1:if(t=n.sent(),a.validateTreatmentsWithType(t))return[2,t];throw new Error("Did not get valid gate treatments")}}))}))},e}();t.GatesService=c},5230:function(e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=void 0;var s=function(){function e(e,t){var n=this;this._fetch=e,this._config=t,this._fetchWithTimeout=this._config.timeout?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Promise.race([n._fetch.apply(n,e),new Promise((function(e,t){return setTimeout((function(){return t(new Error("Timeout"))}),n._config.timeout)}))])}:this._fetch}return e.prototype.get=function(e){return i(this,void 0,void 0,(function(){var t,n;return r(this,(function(i){switch(i.label){case 0:return[4,this._getHeaders()];case 1:return t=i.sent(),[4,this._fetchWithTimeout(e,{credentials:"include",mode:"cors",headers:t})];case 2:return n=i.sent(),[2,this._parseResponse(n)]}}))}))},e.prototype.post=function(e,t){return i(this,void 0,void 0,(function(){var i,s;return r(this,(function(r){switch(r.label){case 0:return[4,this._getHeaders()];case 1:return i=r.sent(),[4,this._fetchWithTimeout(e,{method:"POST",credentials:"include",mode:"cors",headers:n(n({},i),{"Content-Type":"application/json"}),body:JSON.stringify(t)})];case 2:return s=r.sent(),[2,this._parseResponse(s)]}}))}))},e.prototype._filterHeaders=function(e){var t={};return Object.entries(e).forEach((function(e){var n=e[0],i=e[1];i&&(t[n]=i)})),t},e.prototype._getHeaders=function(){return i(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:return this._config.getApplicationHeaders?(e=this._filterHeaders,[4,this._config.getApplicationHeaders()]):[3,2];case 1:return[2,e.apply(this,[t.sent()])];case 2:throw new Error("Cannot get application headers")}}))}))},e.prototype._parseResponse=function(e){if(!e.ok)throw new Error("Network response was not ok, status "+e.status);return"application/json"===e.headers.get("Content-Type")?e.json():e.text()},e}();t.HttpClient=s},19917:(e,t,n)=>{t.Cc=t.KS=void 0;var i=n(29427);var r=n(93703);var s=n(15392);var o=n(22271);var a=n(22407);Object.defineProperty(t,"KS",{enumerable:!0,get:function(){return a.Experiment}});var c=n(49892);Object.defineProperty(t,"Cc",{enumerable:!0,get:function(){return c.Gate}});var l=n(22388)},22271:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropertiesClient=void 0;var i=n(26620),r=n(5230),s=function(){function e(e,t,n){this._propertiesUrl=i.config(t).url.properties+"/properties",this._httpClient=new r.HttpClient(e,n)}return e.prototype.getAll=function(){return this._httpClient.get(this._propertiesUrl)},e.prototype.getOne=function(e){var t=this._propertiesUrl+"/"+e;return this._httpClient.get(t)},e.prototype.set=function(e){return this._httpClient.post(this._propertiesUrl,e)},e}();t.PropertiesClient=s},94248:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getGroupNames=t.getExperienceName=void 0;t.getExperienceName=function(e){return e.endsWith("_1")||e.endsWith("_2")?e.slice(0,-2):null};t.getGroupNames=function(e){return[e+"_1",e+"_2"]}},53555:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateTreatmentsWithType=void 0;var n=function(e){return"string"==typeof e};t.validateTreatmentsWithType=function(e){return Array.isArray(e)&&e.reduce((function(e,t){return e&&(n((i=t).experimentName)&&n(i.groupName)&&n(i.experimentId)&&n(i.type));var i}),!0)}},93703:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.TreatmentService=void 0;var s=n(26620),o=n(5230),a=n(53555),c=function(e){var t=function(e){return e.holdoutTreatment?":"+e.holdoutTreatment.experimentId+t(e.holdoutTreatment):""};return""+(e.groupName+":"+e.userId+":"+e.experimentId)+t(e)},l=function(){function e(e,t,n,i){this._persistentStorageOpts=i,this.type="experiment",this._throttleLogs=new Map,this._sentLogs={},this._httpClient=new o.HttpClient(e,t),this._treatmentUrl=s.config(n).url.treatment+"/treatment"}return e.prototype.getTreatment=function(e){return i(this,void 0,void 0,(function(){var t,n,i;return r(this,(function(r){switch(r.label){case 0:return t=this._treatmentUrl+"/get",n=e,[4,this._httpClient.post(t,n)];case 1:if(i=r.sent(),a.validateTreatmentsWithType(i))return[2,i];throw new Error("Did not get valid treatments")}}))}))},e.prototype.logTreatment=function(e){return i(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return this._checkShouldThrottle(e)||this._checkSent(e)?[2]:[4,this._sendLogTreatment(e)];case 1:return t.sent(),this._setSentLogs(e),[2]}}))}))},e.prototype.refresh=function(){this._throttleLogs.clear()},e.prototype.initSentLogsStorage=function(){return i(this,void 0,void 0,(function(){var e,t,n=this;return r(this,(function(i){switch(i.label){case 0:if(!this._persistentStorageOpts)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._persistentStorageOpts.get(this._sentLogsStorageKey)];case 2:return e=i.sent()||{},t=new Set(this._persistentStorageOpts.experimentNames),Object.entries(e).forEach((function(e){var i=e[0],r=e[1];t.has(i)&&n._updateSentLogs(i,r)})),[3,4];case 3:return i.sent(),[3,4];case 4:return[2]}}))}))},Object.defineProperty(e.prototype,"_sentLogsStorageKey",{get:function(){var t;return e.STORAGE_KEY_PREFIX+(null===(t=this._persistentStorageOpts)||void 0===t?void 0:t.clientName)},enumerable:!1,configurable:!0}),e.prototype._checkShouldThrottle=function(e){var t=c(e),n=this._throttleLogs.get(e.experimentName)===t;return n||this._throttleLogs.set(e.experimentName,t),n},e.prototype._checkSent=function(e){var t=c(e);return this._sentLogs[e.experimentName]===t},e.prototype._setSentLogs=function(e){var t=c(e);this._updateSentLogs(e.experimentName,t,!0)},e.prototype._updateSentLogs=function(e,t,n){void 0===n&&(n=!1),(n||void 0===this._sentLogs[e])&&(this._sentLogs[e]=t),n&&this._persistSentLogs()},e.prototype._persistSentLogs=function(){return i(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),this._persistentStorageOpts?[4,this._persistentStorageOpts.set(this._sentLogsStorageKey,this._sentLogs)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[3,4];case 3:return e.sent(),[3,4];case 4:return[2]}}))}))},e.prototype._sendLogTreatment=function(e){var t=this._treatmentUrl+"/log";return this._httpClient.post(t,e)},e.STORAGE_KEY_PREFIX="TreatmentServiceStorage_",e}();t.TreatmentService=l},50806:(e,t,n)=>{n.d(t,{cc:()=>d,cn:()=>p});var i=n(2844),r=n(18946),s=n(9662),o=n(62552),a=n(32073),c=n(84308);class l extends o.X{view(...e){return void 0!==e[0]?"function"==typeof e[0]?new g(this,e[0]):"string"==typeof e[0]?new g(this,i.qC(...e.map(r.Jy())).get):new g(this,(t=>e[0].get(t))):this}}class u extends l{set(e){this.modify((()=>e))}lens(e,...t){return new h(this,"function"==typeof e?r.vg(e):"string"==typeof e?i.qC(r.Jy(e),...t.map((e=>r.Jy(e)))):e,s.q)}}class d extends u{constructor(e){super(e)}get(){return this.getValue()}modify(e){const t=this.getValue(),n=e(t);(0,s.q)(t,n)||this.next(n)}set(e){const t=this.getValue();(0,s.q)(t,e)||this.next(e)}}class h extends u{_source;_lens;_eq;constructor(e,t,n=s.q){super(void 0),this._source=e,this._lens=t,this._eq=n}get(){return this._subscription?this.getValue():this._lens.get(this._source.get())}modify(e){this._source.modify((t=>this._lens.modify(e,t)))}set(e){this._source.modify((t=>this._lens.set(e,t)))}_onSourceValue(e){const t=this.getValue(),n=this._lens.get(e);this._eq(t,n)||this.next(n)}_subscription=null;_refCount=0;subscribe(...e){this._subscription||(this._subscription=this._source.subscribe((e=>this._onSourceValue(e)))),this._refCount++;const t=new a.w0((()=>{--this._refCount<=0&&this._subscription&&(this._subscription.unsubscribe(),this._subscription=null)}));return t.add(super.subscribe(...e)),t}unsubscribe(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._refCount=0,super.unsubscribe()}}class g extends l{_source;_getter;_eq;constructor(e,t,n=s.q){super(void 0),this._source=e,this._getter=t,this._eq=n}get(){return this._subscription?this.getValue():this._getter(this._source.get())}_onSourceValue(e){const t=this.getValue(),n=this._getter(e);this._eq(t,n)||this.next(n)}_subscription=null;_refCount=0;subscribe(...e){this._subscription||(this._subscription=this._source.subscribe((e=>this._onSourceValue(e)))),this._refCount++;const t=new a.w0((()=>{--this._refCount<=0&&this._subscription&&(this._subscription.unsubscribe(),this._subscription=null)}));return t.add(super.subscribe(...e)),t}unsubscribe(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._refCount=0,super.unsubscribe()}}class p extends l{_sources;_combineFn;_eq;constructor(e,t,n=s.q){super(void 0),this._sources=e,this._combineFn=t,this._eq=n}get(){return this._subscription?this.getValue():this._combineFn(this._sources.map((e=>e.get())))}_onSourceValues(e){const t=this.getValue(),n=this._combineFn(e);this._eq(t,n)||this.next(n)}_subscription=null;_refCount=0;subscribe(...e){this._subscription||(this._subscription=(0,c.a)(this._sources).subscribe((e=>this._onSourceValues(e)))),this._refCount++;const t=new a.w0((()=>{--this._refCount<=0&&this._subscription&&(this._subscription.unsubscribe(),this._subscription=null)}));return t.add(super.subscribe(...e)),t}unsubscribe(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._refCount=0,super.unsubscribe()}}},13391:(e,t,n)=>{n.d(t,{h:()=>i});var i,r=n(62552),s=n(8867),o=n(32073),a=n(63532),c=n(32734),l=n(90572),u=n(50806);!function(e){e.create=function(e){return new u.cc(e)},e.log=function(e,t){const n=(e,t,n)=>console.log("%c"+e,`color: ${t}; font-weight: bold`,n);let i=e.get();return e.subscribe((e=>{"function"==typeof t?t(i,e):(console.group(`UPDATE ${t?`TYPE: ${t} `:""}@ ${(new Date).toTimeString()}`),n("prev state","#9E9E9E",i),n("next state","#4CAF50",e),console.groupEnd()),i=e})),e},e.combine=function(...e){return new u.cn(e.slice(void 0,-1),(t=>e[e.length-1](...t)))},e.fromObservable=function(t){const n=new r.X(null),i=t.pipe((0,a.b)((t=>{const i=n.value;null===i?n.next(e.create(t)):i.set(t)})),(0,c.B)());return new s.y((e=>{const t=new o.w0;return t.add(n.pipe((0,l.h)((e=>!!e))).subscribe(e)),t.add(i.subscribe(void 0,(t=>e.error(t)),(()=>e.complete()))),t}))}}(i||(i={}))},9662:(e,t,n)=>{function i(e){const t=[];let n;for(;!(n=e.next()).done;)t.push(n.value);return t}function r(e,t){return Object.prototype.hasOwnProperty.call(t,e)}function s(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}n.d(t,{q:()=>l});const o=function(){const e=Object.prototype.toString;return"[object Arguments]"===e.call(arguments)?function(t){return"[object Arguments]"===e.call(t)}:function(e){return r("callee",e)}}(),a=function(){const e=!{toString:null}.propertyIsEnumerable("toString"),t=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],n=function(){return arguments.propertyIsEnumerable("length")}(),i=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1};return"function"!=typeof Object.keys||n?function(s){if(Object(s)!==s)return[];let a,c;const l=[],u=n&&o(s);for(a in s)!r(a,s)||u&&"length"===a||(l[l.length]=a);if(e)for(c=t.length-1;c>=0;)a=t[c],r(a,s)&&!i(l,a)&&(l[l.length]=a),c-=1;return l}:function(e){return Object(e)!==e?[]:Object.keys(e)}}();function c(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}function l(e,t,n=[],o=[]){if(s(e,t))return!0;if(c(e)!==c(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(c(e)){case"Arguments":case"Array":case"Object":if(null!=(u=e)&&"function"==typeof u.then)return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!s(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!s(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1;break;case"Map":case"Set":if(!l(i(e.entries()),i(t.entries()),n,o))return!1;break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var u;const d=a(e);if(d.length!==a(t).length)return!1;let h=n.length-1;for(;h>=0;){if(n[h]===e)return o[h]===t;h-=1}for(n.push(e),o.push(t),h=d.length-1;h>=0;){const i=d[h];if(!r(i,t)||!l(t[i],e[i],n,o))return!1;h-=1}return n.pop(),o.pop(),!0}},79713:(e,t,n)=>{function i(e,t){return function(n,i){return t(n(e(i)),i)}}n.d(t,{K:()=>i})},18946:(e,t,n)=>{n.d(t,{Jy:()=>a,vg:()=>l});var i=n(68437),r=n(2844);const s=new RegExp(["^","function","\\(","[^), ]+","\\)","\\{",'("use strict";)?',"return\\s","[^\\.]+\\.(\\S+?);?","\\}","$"].join("\\s*"));new RegExp(["^","function","\\(","[^), ]+","\\)","\\{",'("use strict";)?',"(\\$_\\$wf\\(\\d+\\);)?","return\\s","(\\$_\\$w\\(\\d+, \\d+\\),\\s)?","[^\\.]+\\.(\\S+?);?","\\}","$"].join("\\s*"));function o(e){return function(e){const t=s,n=e.match(t);if(n&&n[2])return n[2].split(".");throw new TypeError(`Expected a property expression, got "${e}".\n\n      A property expression should be a referentially transparent (no side-effects),\n      single-expression "getter" function.\n\n      Correct example: "function (x) { return x.some }" or "x => x.some".\n      Incorrect example: "function (x) { var y = x.some; return y }" or "({some}) => some"`)}(e.toString())}function a(e){return void 0===e?e=>r.Ue((t=>t[e]),((t,n)=>(0,i.Dt)(e,t,n))):r.Ue((t=>t[e]),((t,n)=>(0,i.Dt)(e,t,n)))}let c=0;function l(e){const t=o(e);return i.z3&&function(e){if(c<10){c++;const t=`x.${e.join(".")}`,n=`'${e.join("', '")}'`;(0,i.Kp)(`The property expression overload of Atom.lens and Lens.prop are deprecated and will be removed in next versions of Focal. Please use the key name overload for Atom.lens and Lens.key instead. You can convert your code by changing the calls:\n  a.lens(x => ${t}) to a.lens(${n}),\n  Lens.prop((x: T) => ${t}) to Lens.key<T>()(${n}).`)}}(t),r.qC(...t.map(a()))}},2844:(e,t,n)=>{n.d(t,{Ue:()=>s,qC:()=>o});var i=n(79713),r=n(99525);function s(e,t){return{get:e,set:t,modify:(0,i.K)(e,t),compose:n=>s((t=>n.get(e(t))),((i,r)=>t(n.set(i,e(r)),r)))}}function o(...e){if(0===e.length)throw new TypeError("Can not compose zero lenses. You probably want `Lens.identity`.");if(1===e.length)return e[0];{let t=e[0];return e.slice(1).forEach((e=>{t=t.compose(e)})),t}}s((e=>e),((e,t)=>e));(0,r.U)((e=>{}),((e,t)=>t))},99525:(e,t,n)=>{n.d(t,{U:()=>r});var i=n(79713);function r(e,t){return{get:e,set:t,modify:(0,i.K)(e,t),compose:n=>r((t=>{const i=e(t);return void 0!==i?n.get(i):void 0}),((i,r)=>{const s=e(r);return void 0!==s?t(n.set(i,s),r):r}))}}},68437:(e,t,n)=>{n.d(t,{Dt:()=>s,Kp:()=>o,z3:()=>r});var i=n(9662);const r=void 0!==n(44675)&&!1;function s(e,t,n){if(e in n&&(0,i.q)(t,n[e]))return n;{const i={};for(const e in n)i[e]=n[e];return i[e]=t,i}}function o(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error("[Focal]: "+e);try{throw new Error(e)}catch(e){}}},99304:(e,t,n)=>{n.d(t,{O:()=>o,dE:()=>r,dl:()=>s});var i=n(45013);function r(e,t){(0,i.OB)().bgRpc.api.openSidePanel(),(0,i.OB)().browserApi.sessionStorage.get("alwaysOnAssistant").then((({alwaysOnAssistant:n})=>{(0,i.OB)().browserApi.sessionStorage.set({alwaysOnAssistant:{notchPosition:null==n?void 0:n.notchPosition,assistantSessionId:e,source:"always_on_notch",selectedText:t}})}))}function s(e){(0,i.OB)().browserApi.sessionStorage.get("alwaysOnAssistant").then((({alwaysOnAssistant:t})=>{(0,i.OB)().browserApi.sessionStorage.set({alwaysOnAssistant:{...t,notchPosition:e}})}))}function o(){return(0,i.OB)().bgRpc.api.isSidePanelSupported()}},95522:(e,t,n)=>{n.d(t,{D:()=>r,K:()=>s});var i=n(19917);const r={HumanWritingReportRolloutTestOff:new i.Cc("extension hwr rollout test off on")},s={HWRSourceTrackingEverywhere:new i.Cc("extension_hwr_clipboard_everywhere"),HWRDisable:new i.Cc("extension_hwr_disable"),HWRInternal:new i.Cc("extension_human_writing_report_internal")}},77409:(e,t,n)=>{n.d(t,{s:()=>i});(0,n(15002).SH)([0,5,10,15,20,25,50,75,100,200,250,500,750,1e3,1250,1500,2e3]);const i=new Set(["primaryLanguage","integrationName","fieldType"])},86927:(e,t,n)=>{n.d(t,{l:()=>s});var i=n(6752),r=n(32082);function s(e,t=r.Y.create("lib.tracking.ProductMetricsClient.transport"),n=1e4){return new Proxy({},{get:(r,s)=>(...r)=>Promise.race([e.api.trackProductMetric(r).then((()=>null)),(0,i.gw)(n,new Error("timeout call through bg page"))]).catch((e=>(t.warn("trackProductMetric call failed, reason:",e),e)))})}},13874:(e,t,n)=>{n.d(t,{D:()=>r});var i=n(49892);const r={...n(95522).D,FilterMessageByType:new i.Gate("extension_filter_message_by_type"),AssistantInSidePanel:new i.Gate("extension_enable_side_panel_assistant"),HideGButtonWhenNotchOn:new i.Gate("extension_hide_gbutton_when_chat_launcher_on")}},45013:(e,t,n)=>{n.d(t,{OB:()=>m,Xb:()=>p});var i=n(86927),r=n(88830),s=n(74448),o=n(36787),a=n(16546),c=n(90944),l=n(72333),u=n(13439),d=n(25428),h=n(67693),g=n(75558);class p extends g.OD{static get isInited(){return void 0!==this._instance}static getInstance(){if(void 0===this._instance)throw new Error("cs Env not inited yet");return this._instance}static init(e){if(void 0!==this._instance)throw new Error("cs Env already inited");const t=new p(e);return this._instance=t,g.OD.initShared(t),t.browserApi.message.start&&t.browserApi.message.start(),t}constructor(e){super({browser:e.browser,extensionType:e.extensionType,deploymentType:e.deploymentType,context:"cs",browserInfo:e.browserApi.getBrowserInfo(),historyLoggerExtraArgs:{enableHistoryLoggerUntil:e=>{var t;null===(t=this.bgRpc)||void 0===t||t.api.enableHistoryLoggerUntil(e)},disableHistoryLogger:()=>{var e;null===(e=this.bgRpc)||void 0===e||e.api.disableHistoryLogger()},backupStorage:new u.f(e.browserApi.sessionStorage,h.v.csHistoryLogs,(async()=>{var t,n;return e.skipWriteLogsToBackupStorage||document.hidden||(0,c.n_)()||!await(null===(t=this.bgRpc)||void 0===t?void 0:t.api.isGateEnabled("SessionStorageLogsBackup"))||!await(null===(n=this.bgRpc)||void 0===n?void 0:n.api.isCurrentTabFocused())})),getExperimentClient:()=>this.experimentClient}}),this.browserApi=e.browserApi,this.message=new l.w(e.browserApi.message),this.bgRpc=new s.c(this.message),this.experimentClient=e.createExperimentClient(this.bgRpc),this.csShareStorage=new r.f,this.capiBgRpc=new o.R(this.message),this.staticCapiBgRpc=new a.s(this.message),this.telemetryCallProvider=(0,d._)(this.bgRpc),this.productMetricsCSClient=(0,i.l)(this.bgRpc)}}function m(){return p.getInstance()}},88830:(e,t,n)=>{n.d(t,{f:()=>s});var i=n(10138);const r="__EXT_CS_SHARE_STORAGE__";class s{constructor(){var e;this._win=(0,i.T)(),this._value=null!==(e=this._value)&&void 0!==e?e:{}}get _value(){return this._win[r]}set _value(e){this._win[r]=e}clean(){this._value={}}set(e,t){this._value[e]=t}get(e){return this._value[e]}getOnce(e){const t=this._value[e];return this.remove(e),t}remove(e){delete this._value[e]}}},10138:(e,t,n)=>{n.d(t,{T:()=>r});var i=n(48691);function r(){var e;try{const t=null!==(e=self.top)&&void 0!==e?e:self;return(0,i.HD)(t.location.href)?t:self}catch(e){return self}}},36787:(e,t,n)=>{n.d(t,{R:()=>o});var i=n(26537),r=n(83850),s=n(29148);class o extends r.H{constructor(e){super(new s.rr(i.I.rpcLegacyMessageName,e),new s.rr(i.I.rpcLegacyObservableName,e))}}},74448:(e,t,n)=>{n.d(t,{c:()=>o});var i=n(15058),r=n(99208),s=n(29148);class o extends r.X{constructor(e){super(new s.rr(i.x,e))}}},16546:(e,t,n)=>{n.d(t,{s:()=>o});var i=n(12204),r=n(83850),s=n(29148);class o extends r.H{constructor(e){super(new s.rr(i.U.rpcLegacyMessageName,e),new s.rr(i.U.rpcLegacyObservableName,e))}}},29148:(e,t,n)=>{n.d(t,{NH:()=>o,rr:()=>s});var i=n(8867),r=n(88305);class s{constructor(e,t,n=r.iy.create(),s=e){this._rpcMessageName=e,this._message=t,this._clientId=n,this._inboundMessageName=s,this.inbound=new i.y((e=>{const t=t=>{t.clientId===this._clientId&&e.next(t.data)};return this._message.on(this._inboundMessageName,t),()=>this._message.off(this._inboundMessageName,t)})),this.outbound=e=>{this._message.sendBackground(this._rpcMessageName,{clientId:this._clientId,data:e})}}}function o(e,t=r.iy.create()){return{inbound:{subscribe:n=>e.inbound.subscribe({next(e){var i;if(n){const r={clientId:t,data:e};null===(i=n.next)||void 0===i||i.call(n,r)}}})},outbound(n){n.clientId===t&&e.outbound(n.data)}}}},29983:(e,t,n)=>{n.d(t,{X:()=>i});var i,r=n(88305),s=n(84706),o=n(33822);!function(e){const t="grammarly.com",n="qagr.io",i="ppgr.io";e.create=function(e,a,c,l){const u=(e,t,n,i,s)=>"prod"===l?e:"qa"===l?t:"dev-qa"===l?n:"dev-preprod"===l?i:"dev"===l?s:void(0,r.vE)(l),d="https://127.0.0.1:8000",h=u("https://f-log-extension.grammarly.io",d,d,d,d),g=u("https://extension.femetrics.grammarly.io/batch/import","https://femetrics.qagr.io/batch/import","https://femetrics.qagr.io/batch/import","https://femetrics.ppgr.io/batch/import","https://femetrics.qagr.io/batch/import"),p=u(t,n,n,i,n),m=u(t,n,n,i,t);return{url:o.F.create(e,m,h,g),gnar:s.UA.create(e,a,c,p),felog:s.Bo.create(e,a,c,l),capi:s.JW.create(e,a,c),iterable:s.Rl.create("https://api.iterable.com"),auth:s.Tg.create(e,a),extensionId:"87677a2c52b84ad3a151a4a72f5bd3c4"}}}(i||(i={}))},23411:(e,t,n)=>{n.d(t,{S:()=>i});var i,r=n(88305),s=n(13299);!function(e){e.create=function(e,t,n,i,r,s,o,a){const c=void 0!==s&&void 0!==o?s:"UNVERSIONED",l=`${e}.${t}.${n}`;return{version:l,fullVersion:`${l}-${[i,["prod"!==r?r:null,c!==i?c:null].filter((e=>!!e)).join(".")].filter((e=>""!==e)).join("/")}`,commitHash:o,gitBranch:s,manifestVersion:a}},e.getManifestVersion=function(e,t,n){switch(e){case"safariAppExtension":switch(t){case"bg":case"popup":return n.safari.extension.displayVersion;default:return}case"chromiumWebExtension":return n.chrome.runtime.getManifest().version;case"firefoxWebExtension":return s.Ud.runtime.getManifest().version;case"safariWebExtension":case"safariIOSWebExtension":return s.a1.runtime.getManifest().version;default:return(0,r.vE)(e)}}}(i||(i={}))},80161:(e,t,n)=>{n.d(t,{_K:()=>r,x2:()=>a});var i,r,s,o,a,c=n(88305);!function(e){e.create=function(e){return(0,c.cq)(["chrome","safari","firefox","edge"],e)},e.isValidTargetBrowser=function(e){return["chrome","safari","firefox","edge"].includes(e)}}(i||(i={})),function(e){e.create=function(e){return(0,c.cq)(["dev","prod","qa","dev-qa","dev-preprod"],e)}}(r||(r={})),function(e){e.create=function(e){return(0,c.cq)(["regular","retail"],e)}}(s||(s={})),function(e){e.create=function(e){return(0,c.cq)(["chromiumWebExtension","firefoxWebExtension","safariAppExtension","safariWebExtension","safariIOSWebExtension"],e)}}(o||(o={})),function(e){e.create=function(e,t,n,i,r){return{browser:e,extensionType:t,deploymentType:n,env:i,context:r}}}(a||(a={}))},77816:(e,t,n)=>{n.d(t,{Rd:()=>a,pM:()=>c});var i=n(88305),r=n(89532);const s=new i.xB((()=>{throw new Error("Global config not initialized")}));let o=()=>s.get();function a(){return o()}function c(e,t,n,i,o,a,c){const l=r.e.create(e,t,n,i,o,a,c);return s.init(l),l}},89532:(e,t,n)=>{n.d(t,{e:()=>r,y:()=>i});var i,r,s=n(88305),o=n(29983),a=n(23411),c=n(80161),l=n(27962);!function(e){function t(e,t,n,i,r,s,o){return{env:e,major_number:t,build_number:n,release_number:i,git_branch:r,git_commit:s,manifest_version:o}}e.create=t,e.fromBrowserify=function(){return t("prod","14","1237","0","UNVERSIONED","UNVERSIONED","3")}}(i||(i={})),function(e){e.getTargetEnv=function(e){if(!e.env)throw new Error("processEnv.env is null or undefined");const t=c._K.create(e.env);if(!t)throw new Error(`Invalid processEnv.env: ${e.env}`);return t},e.create=function(e,t,n,i,r,u,d){const h=[r.major_number,r.build_number,r.release_number].map(s.wU);let g;if(3===h.length&&h.every((e=>void 0!==e)))g=h;else{let e;try{e=a.S.getManifestVersion(t,i,self)}catch(e){}const n=(e||"").split(".").map(s.wU);g=3===n.length&&n.every((e=>void 0!==e))?n:[0,0,0]}const[p,m,f]=g;return{buildInfo:a.S.create(p,m,f,e,u,r.git_branch,r.git_commit,r.manifest_version),bundleInfo:c.x2.create(e,t,n,u,i),appConfig:o.X.create(e,t,n,u),systemInfo:l.mx.create(d)}}}(r||(r={}))},84706:(e,t,n)=>{n.d(t,{Bo:()=>r,JW:()=>s,Rl:()=>o,Tg:()=>a,UA:()=>i});var i,r,s,o,a,c=n(3601);!function(e){const t={chromiumWebExtension:"chromeExt",firefoxWebExtension:"firefoxExt",safariAppExtension:"safariExt",safariWebExtension:"safariExt",safariIOSWebExtension:"safariIOSExt"};function n(e,n,i){return"retail"===i&&"safariIOSWebExtension"===n?"safariIOSExt-retail":"edge"===e?"chromiumEdgeExt":t[n]}e.getAppName=n,e.create=function(e,t,i,r){return{appName:(0,c.Cq)(n(e,t,i),"gnar app name"),url:`https://gnar.${r}`,ingestionUrl:`https://in.${r}/v1/events`,domain:`.${r}`,sendEmailInfoTracking:!0,sendFluidExperimentData:!1}}}(i||(i={})),function(e){const t={chromiumWebExtension:"extensionChrome",firefoxWebExtension:"extensionFirefox",safariAppExtension:"extensionSafari",safariWebExtension:"extensionSafari",safariIOSWebExtension:"extensionSafariIOS"};e.create=function(e,n,i,r){let s;return s="retail"===i&&"safariIOSWebExtension"===n?"extensionSafariIOS-retail":"edge"===e?"extensionEdge":(0,c.Cq)(t[n],"felog app name"),{appName:s,sendUsageMetrics:!0,sendPerfMetricsType:"dev"===r?"local":"off"}}}(r||(r={})),function(e){const t={chromiumWebExtension:"extension_chrome",firefoxWebExtension:"extension_firefox",safariAppExtension:"extension_safari",safariWebExtension:"extension_safari",safariIOSWebExtension:"extension_safari_ios"},n={regular:"inline",retail:"retail_demo"};e.create=(e,i,r)=>({clientType:"edge"===e?"extension_chromium_edge":(0,c.Cq)(t[i],"capi client type"),clientSubType:(0,c.Cq)(n[r],"capi client subType")})}(s||(s={})),function(e){e.create=function(e){return{urls:{getInAppMessages:`${e}/api/inApp/getMessages`,track:`${e}/api/events/track`,trackInAppOpen:`${e}/api/events/trackInAppOpen`,trackInAppClose:`${e}/api/events/trackInAppClose`,trackInAppConsume:`${e}/api/events/inAppConsume`,trackInAppClick:`${e}/api/events/trackInAppClick`,userUpdate:`${e}/api/users/update`}}}}(o||(o={})),function(e){const t={chromiumWebExtension:"chromeExt",firefoxWebExtension:"firefoxExt",safariAppExtension:"safariExt",safariWebExtension:"safariWebExt",safariIOSWebExtension:"safariIOSExt"};e.create=function(e,n){return{xClientType:"edge"===e?"chromiumEdgeExt":t[n]}}}(a||(a={}))},27962:(e,t,n)=>{var i,r,s;n.d(t,{mx:()=>s}),function(e){e.create=function(e){return{name:e.browserName||"other",version:e.browserVersion,userAgent:e.userAgent||""}}}(i||(i={})),function(e){e.create=function(e){const{osName:t,osVersion:n,userAgent:i=self.navigator.userAgent}=e;return{name:t,version:n,isWindows:-1!==(t||i).indexOf("Win"),isMac:-1!==(t||i).indexOf("Mac"),isChromeOS:t?"Chromium OS"===t:-1!==i.indexOf("CrOS")}}}(r||(r={})),function(e){e.create=function(e){return{browser:i.create(e),os:r.create(e)}}}(s||(s={}))},33822:(e,t,n)=>{n.d(t,{F:()=>i});var i,r=n(21137);!function(e){let t;var n;n=t=e.GrStaticUrl||(e.GrStaticUrl={}),n.toGrStaticUrl=e=>"https://assets.extension.grammarly.com/"+e}(i||(i={})),function(e){e.create=function(t,n,i,s){const o="safari"===t?"disableAppsPromotion=true":"";function a(e){const t=`https://${e}.${n}`;return(e="",n="")=>{const i=r.lM([o,n],"&");return r.lM([t+e,i],"?")}}const c=a("www"),l=a("app"),u=a("account"),d=a("redirect"),h=e.GrStaticUrl.toGrStaticUrl,g=`https://data.${n}`,p=`https://auth.${n}/v3`,m=`https://auth.${n}/v4`,f=`https://capi.${n}/api/configuration/cheetah/v1/settings`,b=`https://goldengate.${n}/skills`,_=`https://capi.${n}`,v=`wss://capi.${n}/freews`;return{accountSubscription:u("/subscription"),accountSubscriptionAddBillingInfo:u("/admin/subscription","popup=add_billing_info"),adminAccountSubscription:u("/admin/subscription"),accountAdminSubscriptionAddBillingInfoToUngatedTrial:u("/admin/subscription","popup=ungated_trial"),app:l(),appPersonalDictionary:u("/customize"),featuresSettings:u("/customize/features"),capi:v,capiStatic:v,capiGDocs:`wss://capi.${n}/gdocs`,dapi:g,cheetahSettings:f,skills:b,editorDictionary:l("/profile/dictionary"),desktop:c("/desktop"),dictionary:`https://capi.${n}/api/defs`,docs:l("/docs"),docsApi:`https://dox.${n}/documents`,newDoc:l("/docs/new"),tokens:`${m}/api`,auth:p,userOrAnonymous:`${p}/user/oranonymous`,userOrAnonymousV4:`${m}/api/userinfo`,authorize:`${m}/api/oauth2/authorize`,signin:c("/signin"),signup:c("/signup"),dialect:`${_}/api/configuration/language/v1/settings`,passport:`https://goldengate.${n}/passport/api/v1/passport`,fbSignin:c("/signin","fromExtensionFb=true"),fbSignup:c("/signup","fromExtensionFb=true"),googleSignin:c("/signin","fromExtensionGoogle=true"),googleSignup:c("/signup","fromExtensionGoogle=true"),resetPassword:c("/resetpassword"),newFelog:i,vmetrics:s,welcomeC:c("/extension-success"),afterInstall:c("/after_install_page/"),planComparison:c("/plans"),businessHomepage:c("/business"),businessPricing:c("/business/pricing"),businessStyleGuide:c("/business/styleguide"),businessBrandTones:c("/business/brand-tones"),uninstall:c("/extension-uninstall"),terms:c("/terms"),policy:c("/privacy-policy"),californiaPolicy:c("/privacy-policy#sectionSingleColumn_47y4NWiOf89wt12wcc6a74"),extensionSuccess:c("/extension-success"),firefoxPrivatePolicy:"https://addons.mozilla.org/en-US/firefox/addon/grammarly-1/privacy/",dynamicConfigUrl:"https://config.extension.grammarly.com/dynamicConfig.json",pageConfigUrl:"https://config.extension.grammarly.com/browserplugin/config.json",grammarlyDomain:n,grammarlyProtocol:"https:",redirect:d("/redirect"),snippetsApi:`https://goldengate.${n}/snippets/v1/snippets`,snippetsNew:u("/admin/snippets","action=create"),snippetsAdmin:u("/admin/snippets"),snippetsSettings:u("/customize/snippets"),knowledgeHubApi:`https://goldengate.${n}/knowledge-hub/v1/institution`,settingsRegistryApi:`https://goldengate.${n}/settings-registry/v1`,institutionAdminApi:`https://goldengate.${n}/institution/api/institution/admin`,suggestionsSettings:u("/customize/suggestions"),allSettings:u(),styleGuideSettings:u("/admin/style-guide"),writingStyleSettings:u("/admin/style-guide-writing-style"),brandTones:u("/admin/brand-tones"),grammarlyIdeasSelf:l("/ideas/grow/self"),grammarlyIdeasPeer:l("/ideas/grow/peer"),grammarlyIdeasSales:l("/ideas/sales"),iOSApp:"grammarly://home",iOSUpgrade:"grammarly://premium-instructions?deepLinkSource=safari",standWithUkraine:c("/stand-with-ukraine"),standWithUkraineBlockedUserPing:"https://rwsgfy.grammarly.com/stand-with-ukraine",tourGdocs:c("/tour-gdocs"),dataSharing:`https://goldengate.${n}/privacy/v1/api/data-sharing`,specialOffer:`https://goldengate.${n}/vito`,uphookHub:`https://gateway.${n}/uhub`,assets:{assistantOnboardingTourGif:h("assets/assistant/assistant-onboarding-tour"),ownerActivationIPMHeader:h("assets/ipm/owner-activation-ipm-header"),graduationIpmSvg:h("assets/ipm/graduation-campaign-ipm"),writingProgressIpmGif:h("assets/ipm/writing-progress-ipm-header"),onboardingTour:{inlineSuggestionsPreviewImage:h("assets/onboarding/inline-suggestions-preview-image-v2.jpg"),inlineSuggestionsAnimation:h("assets/onboarding/inline-suggestions-v2.mp4"),clickToAcceptAnimation:h("assets/onboarding/click-to-accept-v2.mp4"),happyWritingAnimation:h("assets/onboarding/happy-writing-v2.mp4")},knowledgeShareOnboardingTour:{step1:h("assets/knowledgeShareOnboarding/ks-onboarding-step1.mp4"),step2:h("assets/knowledgeShareOnboarding/ks-onboarding-step2.mp4"),step3:h("assets/knowledgeShareOnboarding/ks-onboarding-step3.mp4")},touchTypist:{readyToApplySuggestionsAudio:h("assets/touchTypist/tt-ready-to-apply-suggestions-v1.mp3"),suggestionsAppliedAudio:h("assets/touchTypist/tt-suggestions-applied-v1.mp3")}},support:`https://support.${n}/hc/en-us/requests/new#/`,grammarlyEmployeesBugReportsUrl:"https://in-product.report.grammarly.io/v1/report",mise:`https://goldengate.${n}/mise/api/v1`,inviteMembers:u("/admin/members")}}}(i||(i={}))},93415:(e,t,n)=>{n.d(t,{O:()=>h,P:()=>d});var i=n(13391),r=n(99766),s=n(77816),o=n(89532),a=n(63946),c=n(18598),l=n(594),u=n(513);class d{static getInstance(){if(void 0===this._instanceShared)throw new Error("shared Env not inited yet");return this._instanceShared}static initShared(e){if(void 0!==this._instanceShared)throw new Error("shared Env already inited");this._instanceShared=e}constructor(e,t=i.h.create(!1),n=i.h.create(!1)){this._enableHistoryLoggerInProd=t,this._enableAdvancedHistoryLoggerInProd=n,this.enableHistoryLoggerInProd=(e,t)=>{e&&!this._enableHistoryLoggerInProd.get()?(console.debug("Debug reports have been enabled",t),this._enableHistoryLoggerInProd.set(!0)):!e&&this._enableHistoryLoggerInProd.get()&&(console.debug("Debug reports have been disabled",t),this._enableHistoryLoggerInProd.set(!1))},this.enableAdvancedHistoryLoggerInProd=(e,t)=>{e&&!this._enableAdvancedHistoryLoggerInProd.get()?(console.debug("Advanced logging has been enabled",t),this._enableAdvancedHistoryLoggerInProd.set(!0)):!e&&this._enableAdvancedHistoryLoggerInProd.get()&&(console.debug("Advanced logging has been disabled",t),this._enableAdvancedHistoryLoggerInProd.set(!1))};const r=e.testArgs,a=r&&r.processEnv?r.processEnv:o.y.fromBrowserify(),c=o.e.getTargetEnv(a);this._initLogger(e,c);const l=(0,s.pM)(e.browser,e.extensionType,e.deploymentType,e.context,a,c,e.browserInfo);this.context=e.context,this.config=l}_initLogger(e,t){const n={...e.historyLoggerExtraArgs,enableInProd:this._enableHistoryLoggerInProd.view(),enableAdvancedInProd:this._enableAdvancedHistoryLoggerInProd.view()};this.historyLogsService=new r.Hz(n);const i="prod"!==t||"cs"!==e.context,s={create:(e,t)=>new c.x(e,{writer:new u.n,filterFn:i?e=>!0:(0,l.x)(a.in.ERROR)},this.historyLogsService,t)};this.logger=s}}function h(){return d.getInstance()}},13299:(e,t,n)=>{n.d(t,{Ud:()=>r,a1:()=>s});var i=n(88305);const r=(0,i.DV)((()=>browser),(()=>self.browser)),s=(0,i.DV)((()=>browser),(()=>self.browser));self.chrome=self.chrome},69911:(e,t,n)=>{n.d(t,{KK:()=>o,ge:()=>s,j1:()=>r});var i=n(90944);const r=e=>e.replace(/^www\./,"");function s(e){const t=e&&e.ownerDocument||document,n=t.location||t.defaultView.location;return n?r(n.hostname):""}function o(e){return(0,i.pZ)()&&/^about:/.test(e)?e:""===e?"":r(new URL(e).hostname)}},90944:(e,t,n)=>{n.d(t,{FN:()=>c,L6:()=>f,U8:()=>u,Um:()=>g,bo:()=>h,hF:()=>m,i7:()=>o,kD:()=>a,n_:()=>p,oX:()=>d,pB:()=>r,pZ:()=>s,qs:()=>l});var i=n(77816);function r(){return i.Rd().appConfig.extensionId}function s(){return"firefox"===i.Rd().bundleInfo.browser}function o(){return"chrome"===i.Rd().bundleInfo.browser}function a(){return"edge"===i.Rd().bundleInfo.browser}function c(){return"bg"===i.Rd().bundleInfo.context}function l(){return i.Rd().bundleInfo.browser}function u(){return i.Rd().bundleInfo.extensionType}function d(){return i.Rd().bundleInfo.deploymentType}function h(){return i.Rd().buildInfo.version}function g(){return i.Rd().appConfig.url}function p(){try{return self.parent!==self}catch(e){return!0}}function m(){try{return self.top===self.self}catch(e){return!1}}function f(){return"undefined"!=typeof fetch}},85458:(e,t,n)=>{var i;n.d(t,{_x:()=>s,in:()=>o}),function(e){e.lessThan1Week="lessThan1Week",e.weekTo4Weeks="weekTo4Weeks",e.moreThan4weeks="moreThan4weeks",e.moreThan3Months="moreThan3Months"}(i||(i={}));const r={stats:"ex_perfstats",csInit:"ex_csInitPerf",viewInjection:"viewInjectionPerf"};function s(e){const{_tag:t,...n}=e;return{[r[e._tag]]:n}}var o;!function(e){e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR"}(o||(o={}))},26585:(e,t,n)=>{n.d(t,{Tb:()=>c});var i=n(77816),r=n(32082),s=n(93415),o=n(50191);r.Y.create("lib.tracking.logger");let a;function c(){if(!a){const e=(0,s.O)().telemetryCallProvider;a=new o.M0(e.sendFelog,e.sendFelogUsageEvent,e.setUserInfo,e.setContainerId,i.Rd().appConfig.felog.sendUsageMetrics,function(){i.Rd().appConfig.felog.sendPerfMetricsType,0;return}(),e.sendFelogEvent,e.sendFelogCrashLogs,void 0,(()=>{var t;return null===(t=e.enableDataSharing)||void 0===t?void 0:t.call(e)}),void 0,e.sendFelogMetricEvent,e.sendFemetricsRate,e.startFemetricsTimer,e.endFemetricsTimer,e.sendFemetricsTimer)}return a}},85384:(e,t,n)=>{n.d(t,{M:()=>r});var i=n(32082);class r{constructor(e){this._baseApi=e,this._log=i.Y.create("BaseMessageService"),this._initializedListenerEvents=new Set,this._listeners={},this._logError=e=>{this._log.error(`${r.name} handle an error: ${e.message}`)},this.on=(e,t)=>{var n;this._listeners[e]=null!==(n=this._listeners[e])&&void 0!==n?n:[],this._listeners[e].push(t),this._initializedListenerEvents.has(e)||(this._initializedListenerEvents.add(e),this._baseApi.listen(e,((...t)=>{var n;const i=null!==(n=this._listeners[e])&&void 0!==n?n:[];for(const e of i)try{e(...t)}catch(e){this._logError(e)}})))},this.once=(e,t)=>{const n=(...i)=>{this.off(e,n);try{t(...i)}catch(e){this._logError(e)}};this.on(e,n)},this.off=(e,t)=>{if(!this._listeners[e])return;const n=this._listeners[e].indexOf(t);-1!==n&&this._listeners[e].splice(n,1),0===this._listeners[e].length&&delete this._listeners[e]}}}},72333:(e,t,n)=>{n.d(t,{w:()=>r});var i=n(85384);class r extends i.M{constructor(e){super(e),this._api=e,this.sendBackground=(e,t)=>{try{this._api.broadcastBackground(e,t)}catch(e){this._logError(e)}}}}},26537:(e,t,n)=>{var i;n.d(t,{I:()=>i}),function(e){e.rpcLegacyMessageName="cs-to-bg-rpc-1587687052565",e.rpcLegacyObservableName="cs-to-bg-observable-rpc-1587687052565"}(i||(i={}))},15058:(e,t,n)=>{n.d(t,{x:()=>i});const i="cs-to-bg-rpc-1557421403805";var r;!function(e){e.syncDevtoolsInitialStateWithTab="syncDevtoolsInitialStateWithTab"}(r||(r={}))},12204:(e,t,n)=>{var i;n.d(t,{U:()=>i}),function(e){e.rpcLegacyMessageName="cs-to-bg-static-capi-rpc-1668544923207",e.rpcLegacyObservableName="cs-to-bg-static-capi-observable-rpc-1668544923207"}(i||(i={}))},83850:(e,t,n)=>{n.d(t,{H:()=>d});var i=n(8867),r=n(90572),s=n(88305),o=n(68973),a=n(32082),c=n(88601),l=n(50495),u=n(18342);class d{constructor(e,t,n=a.Y.create("GenericObservableRpcClient"),i){this._transport=e,this._observableTransport=t,this._log=n,this._serverId=i,this._calls=new Map,this._subscribeRelatedCalls=new Map,this._observables=new Map,this._subscribers=new Map,this._transportSubscription=(0,u.s8)(this._transport.inbound).pipe((0,r.h)(c.ZQ)).subscribe((e=>{this._processResponse(e)})),this._observableTransportSubscription=(0,u.s8)(this._observableTransport.inbound).pipe((0,r.h)(c.ZQ)).subscribe((e=>{this._processObservableMessage(e)})),this.api=new Proxy({},{get:(e,t)=>"then"===t?void 0:(...e)=>this._handleCall(t,e)})}_processResponse(e){const t=this._calls.get(e.id);if(t)try{if("err"in e)t.reject(e.err);else if(c.JL.isObservableResult(e))try{const n=new i.y((t=>this._createSubscribeHandler(e.subscribableId,t)));this._observables.set(e.subscribableId,n),t.resolve(n)}catch(t){this._observables.delete(e.subscribableId)}else t.resolve(this.transformResult(e.res))}finally{this._calls.delete(e.id)}else this._log.warn(`received rpc call response for unregistered call ${e.id}`)}transformResult(e){return e}_processObservableMessage(e){if("subscribed"in e){const t=this._subscribeRelatedCalls.get(e.id);if(t)try{t.resolve()}finally{this._subscribeRelatedCalls.delete(e.id)}else this._log.warn(`received rpc call subscribed response for unregistered subscribe call ${e.id}`)}else if("unsubscribed"in e){const t=this._subscribeRelatedCalls.get(e.id);if(t)try{t.resolve()}finally{this._subscribeRelatedCalls.delete(e.id),this._subscribers.delete(e.id)}else this._log.warn(`received rpc call unsubscribed response for unregistered unsubscribe call ${e.id}`)}else if("next"in e)try{const t=this._subscribers.get(e.subscriptionId);t?t.subscriber.next(e.next):this._log.warn(`received observable next message for unregistered subscription ${e.subscriptionId}`)}catch(t){this._subscribers.delete(e.subscriptionId)}else if("complete"in e)try{const t=this._subscribers.get(e.subscriptionId);t?(t.subscriber.complete(),this._subscribers.delete(e.subscriptionId)):this._log.warn(`received observable complete for unregistered subscription ${e.subscriptionId}`)}catch(t){this._subscribers.delete(e.subscriptionId)}else if("err"in e)try{const t=this._subscribers.get(e.subscriptionId);t?t.subscriber.error(e.err):this._log.warn(`received observable error for unregistered subscription  ${e.subscriptionId}`)}finally{this._subscribers.delete(e.subscriptionId)}else if("subErr"in e){const t=this._subscribeRelatedCalls.get(e.id);try{const n=this._subscribers.get(e.id);n?n.subscriber.error(e.subErr):this._log.warn(`received subscription error response for unregistered call ${e.id}`)}finally{t&&(t.reject(e.subErr),this._subscribeRelatedCalls.delete(e.id)),this._observables.delete(e.subscribableId),this._subscribers.delete(e.id)}}else if("ping"in e)try{this._observables.get(e.ping)?this._observableTransport.outbound({pong:e.ping}):this._log.warn(`received ping for unregistered observable ${e.ping}`)}finally{(0,s.EI)()}}_handleCall(e,t){let n=s.iy.create();for(;this._calls.has(n);)n=s.iy.create();const i=o.O.createCompletionSource();this._calls.set(n,i);const r=t.map((e=>(0,l.R)(e)?e.toJSON():e));return this._transport.outbound({id:n,method:e,args:r,serverId:this._serverId}),i.promise}_createSubscribeHandler(e,t){let n=s.iy.create();for(;this._subscribeRelatedCalls.has(n);)n=s.iy.create();const i=o.O.createCompletionSource();return this._subscribeRelatedCalls.set(n,i),this._observableTransport.outbound({id:n,subscribableId:e,action:"subscribe"}),this._subscribers.set(n,{subscribableId:e,subscriber:t}),()=>{this._handleUnsubscribe(n,e)}}_handleUnsubscribe(e,t){let n=s.iy.create();for(;this._subscribeRelatedCalls.has(n);)n=s.iy.create();const i=o.O.createCompletionSource();return this._subscribeRelatedCalls.set(n,i),this._observableTransport.outbound({id:n,subscriptionId:e,subscribableId:t,action:"unsubscribe"}),this._subscribers.delete(e),i.promise}dispose(){for(const e of this._observables.keys())this._observableTransport.outbound({id:s.iy.create(),subscribableId:e,action:"dispose"});this._observables.clear(),this._transportSubscription.unsubscribe(),this._observableTransportSubscription.unsubscribe(),this._calls.clear(),this._subscribeRelatedCalls.clear()}}},99208:(e,t,n)=>{n.d(t,{X:()=>s});var i=n(88305),r=n(68973);class s{constructor(e,t){this._transport=e,this._log=t,this._calls=new Map,this._sub=this._transport.inbound.subscribe({next:e=>{var t;const n=this._calls.get(e.id);if(n)try{"err"in e?n.reject(e.err):n.resolve(e.res)}finally{this._calls.delete(e.id)}else null===(t=this._log)||void 0===t||t.warn(`received rpc call response for unregistered call ${e.id}`)}}),this.api=new Proxy({},{get:(e,t)=>"then"===t?void 0:(...e)=>this._handleCall(t,e)})}_handleCall(e,t){let n=i.iy.create();for(;this._calls.has(n);)n=i.iy.create();const s=r.O.createCompletionSource();return this._calls.set(n,s),this._transport.outbound({id:n,method:e,args:t}),s.promise}dispose(){this._sub.unsubscribe()}}},88601:(e,t,n)=>{function i(e){return"tunnel"!==e.tag}var r;n.d(t,{JL:()=>r,ZQ:()=>i}),function(e){e.isSubscribe=e=>"action"in e.data&&"subscribe"===e.data.action,e.isUnsubscribe=e=>"action"in e.data&&"unsubscribe"===e.data.action,e.isDispose=e=>"action"in e.data&&"dispose"===e.data.action,e.isPong=e=>"pong"in e.data,e.isPing=e=>"ping"in e.data,e.isObservableResult=e=>"subscribableId"in e}(r||(r={}))},50495:(e,t,n)=>{n.d(t,{R:()=>r});const i=Symbol();function r(e){return Boolean(e)&&e._tag===i}},21137:(e,t,n)=>{function i(e,t){return e.filter((e=>!!e)).join(t)}n.d(t,{lM:()=>i})},3601:(e,t,n)=>{n.d(t,{Cq:()=>r});class i extends Error{constructor(e){super(`Assertion failed: ${e?"string"==typeof e?e:e():"(unnamed)"}`)}}function r(e,t){if(null==e)throw new i((()=>t?`Expected ${t} to be non-null`:"Expected non-null"));return e}},55148:(e,t,n)=>{function i(e){return new Proxy({},{get(t,n){const i=e[n];return i&&"function"==typeof i?i.bind(e):void 0}})}n.d(t,{a:()=>i})},9056:(e,t,n)=>{n.d(t,{P:()=>i});class i{constructor(e){if(this._capacity=e,this._start=0,this._end=0,this._isFull=!1,e<0)throw new Error(`Invalid capacity ${e}`);this._buffer=new Array(e),0===e&&(this._isFull=!0)}get size(){return this._isFull?this._buffer.length:(this._end-this._start+this._buffer.length)%this._buffer.length}get capacity(){return this._capacity}get isEmpty(){return 0===this.size}get isFull(){return this._isFull}get head(){return this.isEmpty?null:this._buffer[this._start]}get tail(){return this.isEmpty?null:this._buffer[0===this._end?this.capacity-1:this._end-1]}enqueue(e){if(0===this.capacity)return null;let t=null;return this.isFull&&(t=this._buffer[this._start],this._startInc()),this._buffer[this._end]=e,this._endInc(),this._start===this._end&&(this._isFull=!0),t}dequeue(){if(this.isEmpty)return null;const e=this._buffer[this._start];return this._buffer[this._start]=null,this._startInc(),this._isFull=!1,e}delete(e){const t=this._buffer.indexOf(e);if(t>=0){if(t<this._end){for(let e=t;e<this._end-1;e++)this._buffer[e]=this._buffer[e+1];this._buffer[--this._end]=null}else{for(let e=this._start;e<t;e++)this._buffer[e+1]=this._buffer[e];this._buffer[this._start]=null,this._startInc()}return this._isFull=!1,!0}return!1}_startInc(){this._start++,this._start===this.capacity&&(this._start=0)}_endInc(){this._end++,this._end===this.capacity&&(this._end=0)}clear(){this._buffer=new Array(this.capacity),this._start=this._end=0,this.capacity>0&&(this._isFull=!1)}toArray(){let e;return e=this.isEmpty?[]:this._start<this._end?this._buffer.slice(this._start,this._end):this._buffer.slice(this._start,this.capacity).concat(this._buffer.slice(0,this._end)),e}resize(e){if(e===this.capacity)return;if(e<0)throw new Error(`Invalid newCapacity ${e}`);let t=this.toArray();e>=this.size?(t.length=e,this._end=this.size,this._isFull=!1):(t=e?t.slice(-e):[],this._end=e,this._isFull=!0),this._buffer=t,this._start=0,this._capacity=e}}},24576:(e,t,n)=>{function i(e){return"object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message}n.d(t,{H:()=>i})},88305:(e,t,n)=>{n.d(t,{DV:()=>l,EI:()=>u,HO:()=>p,Nf:()=>h,P2:()=>m,Vo:()=>_,XD:()=>f,cq:()=>s,fQ:()=>d,hz:()=>g,iy:()=>v,vE:()=>a,wU:()=>c,xB:()=>r});var i=n(6752);class r{constructor(e){this._getFallbackValue=e}init(e){if(void 0!==this._value)throw new Error("Global value already initialized.");this._value=e}get(){if(void 0===this._value){if(void 0===this._getFallbackValue)throw new Error("Global value not initialized and no fallback value provided.");this._value=this._getFallbackValue()}return this._value}}function s(e,t){return e.some((e=>e===t))?t:void 0}class o extends Error{constructor(e){super(`Matching not exhaustive: unexpected value ${JSON.stringify(e)}`)}}function a(e){throw new o(e)}function c(e){if("string"==typeof e){const t=parseInt(e,10);return isNaN(t)?void 0:t}return"number"==typeof e?e:void 0}function l(e,t){try{return e()}catch(e){return t(e)}}function u(){}function d(e){return!!e}function h(e){return null!=e}function g(e){let t,n=!1;return(...i)=>(n||(n=!0,t=e(...i)),t)}function p(e,t,n){const i=new Set;let r;return(...s)=>{const o=t(...s);return i.has(o)||(i.add(o),r=e(...s)),null==n||n(...s),r}}function m(e,t){let n,r,s=!0;function o(e,n){return s&&(s=!1,r=(0,i.II)(),setTimeout((()=>{try{r.resolve(t(...n))}catch(e){r.reject(e)}finally{s=!0}}),e)),r.promise}return(...t)=>{const i=n;return n=Date.now(),o(void 0===i||n-i>=e?0:e-(n-i),t)}}async function f(e,t,n){const r=n();if(!(e>0))return r;try{return await r}catch(r){return await(0,i.gw)(t),f(e-1,t,n)}}class b{constructor(e){this._factory=e,this._hasValue=!1}get hasValue(){return this._hasValue}get(){return this._hasValue||(this._value=this._factory(),this._hasValue=!0),this._value}map(e){return new b((()=>e(this.get())))}}function _(e){return new b(e)}var v;!function(e){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}e.create=function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(v||(v={}))},35617:(e,t,n)=>{n.d(t,{x:()=>i});var i,r=n(32082),s=n(81617),o=n(48691);!function(e){function t(e){return{message:e.message,stack:e.stack}}e.normalizeException=t,e.isCircularObject=function(e){try{return!(0,o.HD)(JSON.stringify(e))}catch(e){return e.message.includes("Converting circular structure to JSON")}},e.normalizeData=function e(n,i=new WeakSet){try{return self.HTMLElement&&n instanceof self.HTMLElement?{type:(o=n).nodeName,html:o.outerHTML,attributes:Array.from(o.attributes).reduce(((e,t)=>({...e,[t.nodeName]:t.nodeValue})),{})}:n instanceof Error?t(n):Array.isArray(n)?n.map((t=>e(t,i))):"function"==typeof n?`${n.name}()`:(0,s.Kn)(n)?i.has(n)?"circular data!":(i.add(n),Object.keys(n).reduce(((t,r)=>({...t,[r]:e(n[r],i)})),{})):n}catch(e){return r.Y.create("HistoryLogNormalizer").error("cannot normalize data",e,n),t(new Error("Data normalization fail!"))}var o}}(i||(i={}))},13439:(e,t,n)=>{n.d(t,{f:()=>l});var i,r=n(88030),s=n(88305),o=n(32082),a=n(63946),c=n(37970);!function(e){e.UPDATE_BACKUP_STORAGE_TIMEOUT=r.m9(5),e.BACKUP_STORAGE_LOGS_CAPACITY=100}(i||(i={}));class l{constructor(e,t,n,r=s.P2,a=o.Y.create(l.name,{skipPushToHistory:!0})){this._sessionStorage=e,this._key=t,this._skipSetLogs=n,this._throttle=r,this._log=a,this.get=()=>this._get(),this._get=c.r.getLogsFromSessionStorageFallbackGetter(this._key,(()=>this._sessionStorage)),this.set=this._throttle(i.UPDATE_BACKUP_STORAGE_TIMEOUT,this._set.bind(this))}async _set(e){var t,n;if(await(null===(t=this._skipSetLogs)||void 0===t?void 0:t.call(this)))return void this._log.trace("set logs is skipped");const r=null===(n=e(i.BACKUP_STORAGE_LOGS_CAPACITY))||void 0===n?void 0:n.slice(-i.BACKUP_STORAGE_LOGS_CAPACITY).map((e=>{try{return JSON.stringify(e)}catch(t){return this._log.debug("cannot parse properly backup storage data",t,e),JSON.stringify({level:a.in.WARN,loggerName:e.loggerName,message:e.message,timestamp:e.timestamp,exception:`cannot parse properly backup storage data: ${t.message}`})}}));return this._sessionStorage.set({[this._key]:r}).catch((e=>{this._log.warn(`error: on set ${this._key} logs to backup storage`,e),this._sessionStorage.remove(this._key).catch((e=>this._log.warn(`error: on remove ${this._key} logs from backup storage`,e)))}))}}},63946:(e,t,n)=>{var i;n.d(t,{R1:()=>o,iR:()=>s,in:()=>i}),function(e){e.TRACE="TRACE",e.DEBUG="DEBUG",e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR",e.FATAL="FATAL"}(i||(i={}));const r={[i.TRACE]:1,[i.DEBUG]:2,[i.INFO]:3,[i.WARN]:4,[i.ERROR]:5,[i.FATAL]:6};function s(e){return r[e]||0}const o=Object.freeze({"gdocs.injected":{limit:30},"gdocs.textMap.error":{limit:20}})},18598:(e,t,n)=>{n.d(t,{x:()=>r});var i=n(36337);class r extends i.rK{constructor(e,t,n,i){super(e),this._config=t,this._historyLogsService=n,this._loggerSettings=i}handleEvent(e){var t,n,i;this._config.filterFn(e)&&!(null===(t=this._loggerSettings)||void 0===t?void 0:t.skipWriteToConsole)&&this._config.writer.write(e),(null===(n=this._loggerSettings)||void 0===n?void 0:n.skipPushToHistory)||this._historyLogsService.pushLog(e,null===(i=this._loggerSettings)||void 0===i?void 0:i.customLogBufferKey)}}},99766:(e,t,n)=>{n.d(t,{Hz:()=>u});var i=n(9056),r=n(10146),s=n(35617),o=n(63946);const a=["CRITICAL","HIGH","MEDIUM","LOW"],c={[o.in.FATAL]:"CRITICAL",[o.in.ERROR]:"CRITICAL",[o.in.WARN]:"HIGH",[o.in.INFO]:"MEDIUM",[o.in.DEBUG]:"LOW",[o.in.TRACE]:"LOW"},l={CRITICAL:{limit:100,advancedLoggingLimit:500},HIGH:{limit:100,advancedLoggingLimit:500},MEDIUM:{limit:200,advancedLoggingLimit:1e3},LOW:{limit:0,advancedLoggingLimit:1e3}};class u{constructor(e){var t;this.historyArgs=e,this.customBuffers={},this.defaultBuffers=Object.fromEntries(a.map((e=>[e,new i.P(l[e].limit)]))),null===(t=e.enableAdvancedInProd)||void 0===t||t.subscribe((()=>{this.resizeDefaultBuffers()})),e.isBG&&this.restoreDefaultBufferLogsFromStorage(),this.initializeDebugCommands()}isHistoryEnabled(){var e;return!!(null===(e=this.historyArgs.enableInProd)||void 0===e?void 0:e.get())}isAdvancedHistoryEnabled(){var e,t;return!!(null===(e=this.historyArgs.enableInProd)||void 0===e?void 0:e.get())&&!!(null===(t=this.historyArgs.enableAdvancedInProd)||void 0===t?void 0:t.get())}getBufferCapacity(e){var t;return this.isAdvancedHistoryEnabled()&&null!==(t=e.advancedLoggingLimit)&&void 0!==t?t:e.limit}getDefaultBuffer(e){return this.defaultBuffers[c[e]]}getCustomBuffer(e){return this.customBuffers[e]||(this.customBuffers[e]=new i.P(this.getBufferCapacity(o.R1[e]))),this.customBuffers[e]}resizeDefaultBuffers(){for(const[e,t]of Object.entries(this.defaultBuffers)){const n=this.getBufferCapacity(l[e]);t.resize(n)}}backupDefaultBufferLogsToStorage(){var e;null===(e=this.historyArgs.backupStorage)||void 0===e||e.set((e=>{let t=0;const n=[];for(const i of a){const r=this.defaultBuffers[i];if(n.push(r.toArray()),t+=r.size,t>=e)break}return n.reverse().flat()}))}async restoreDefaultBufferLogsFromStorage(){var e;const t=await(null===(e=this.historyArgs.backupStorage)||void 0===e?void 0:e.get());if(!t)return;const n=Object.fromEntries(Object.entries(this.defaultBuffers).map((([e,t])=>[e,t.toArray()])));for(const e of Object.values(this.defaultBuffers))e.clear();for(const e of t)this.getDefaultBuffer(e.level).enqueue(e);for(const[e,t]of Object.entries(n)){const n=this.defaultBuffers[e];for(const e of t)n.enqueue(e)}this.backupDefaultBufferLogsToStorage()}pushLog(e,t){if(!this.isHistoryEnabled())return Promise.resolve();const n=t?this.getCustomBuffer(t):this.getDefaultBuffer(e.level);return(0,r.g)((()=>{n.enqueue(d(e,t)),!t&&this.isAdvancedHistoryEnabled()&&this.backupDefaultBufferLogsToStorage()}))}getLogs(){const e=Object.values(this.defaultBuffers).map((e=>e.toArray())),t=Object.entries(this.customBuffers).map((([e,t])=>t.toArray()));return e.concat(t).flat()}initializeDebugCommands(){}}const d=(e,t)=>({...e,data:s.x.normalizeData(e.data),loggerName:t?e.loggerName:`common.${e.loggerName}`,exception:e.exception&&s.x.normalizeException(e.exception)})},32082:(e,t,n)=>{n.d(t,{Y:()=>i});var i,r=n(93415),s=n(36337);!function(e){e.create=function(e,t){return new s.rl(e,(()=>(0,r.O)().logger.create(e,t)))}}(i||(i={}))},594:(e,t,n)=>{n.d(t,{x:()=>r});var i=n(63946);const r=e=>t=>(0,i.iR)(t.level)>=(0,i.iR)(e)},99513:(e,t,n)=>{n.d(t,{g:()=>i});var i,r=n(63946),s=n(33127);!function(e){e.LEVEL={[r.in.TRACE]:"color: white; background: orange;",[r.in.DEBUG]:"color: black; background: #ffdc00;",[r.in.INFO]:"color: black; background: #abdcfb",[r.in.WARN]:"color: white; background: darkorange;",[r.in.ERROR]:"color: white; background: red;",[r.in.FATAL]:"color: white; background: darkred;"},e.GRAMMARLY="color: black; background: #bada55;";const t=new Map;function n(e,t){return e+Math.floor(Math.random()*(t-e+1))}function i(e){return`color: ${e.isDark?"white":"black"}; background: rgb(${e.red}, ${e.green}, ${e.blue})`}e.getLoggerName=function(e){const r=t.get(e);if(r)return i(r);const s=n(0,255),o=n(0,255),a=n(0,255),c={red:s,green:o,blue:a,isDark:Math.sqrt(s*s*.299+o*o*.587+a*a*.114)<127.5};return t.set(e,c),i(c)},e.RESET_DEFAULT="color: reset;",e.RESET_DEBUG=`color: ${(0,s.Y)()?"white":"black"};`,e.getReset=function(t){return t!==r.in.TRACE&&t!==r.in.DEBUG?e.RESET_DEFAULT:t===r.in.TRACE||t===r.in.DEBUG?e.RESET_DEBUG:e.RESET_DEFAULT},e.outputLog=function(e){return[`grm ${e.level} [${e.loggerName}]  ${e.message}`]}}(i||(i={}))},513:(e,t,n)=>{n.d(t,{n:()=>o});var i=n(55148),r=n(99513),s=n(63946);class o{constructor(){this._writeFunc=o._commonWriteFunc}shouldWriteLog(e){const t=(0,s.iR)(e);return!!(t&&1<=t)}write(e){try{const t=r.g.outputLog(e);e.data&&t.push(e.data),e.exception&&t.push(e.exception),this.shouldWriteLog(e.level)&&this._writeFunc[e.level].apply(null,t)}catch(e){}}}o._commonWriteFunc=function(){const{debug:e,info:t,warn:n,error:r}=(0,i.a)(console);return{[s.in.TRACE]:e,[s.in.DEBUG]:e,[s.in.INFO]:t,[s.in.WARN]:n,[s.in.ERROR]:r,[s.in.FATAL]:r}}()},36337:(e,t,n)=>{n.d(t,{rK:()=>r,rl:()=>s});var i=n(63946);class r{constructor(e){this.name=e,this._isError=e=>{const t=e;return t&&(void 0!==t.message&&void 0!==t.name||void 0!==t.stack)}}trace(e,t,n){this._logMessage(i.in.TRACE,e,t,n)}debug(e,t,n){this._logMessage(i.in.DEBUG,e,t,n)}info(e,t,n){this._logMessage(i.in.INFO,e,t,n)}warn(e,t,n){this._logMessage(i.in.WARN,e,t,n)}error(e,t,n){this._logMessage(i.in.ERROR,e,t,n)}fatal(e,t,n){this._logMessage(i.in.FATAL,e,t,n)}_logMessage(e,t,n,i){const r={level:e,loggerName:this.name,message:t,timestamp:Date.now()};n&&(this._isError(n)?r.exception=n:r.data=n),r.data=r.data||i,this.handleEvent(r)}}class s{constructor(e,t){this.name=e,this._createLogger=t}trace(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.trace(e,t,n)}debug(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.debug(e,t,n)}info(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.info(e,t,n)}warn(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.warn(e,t,n)}error(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.error(e,t,n)}fatal(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.fatal(e,t,n)}}},72280:(e,t,n)=>{n.d(t,{J6:()=>i,m:()=>r});const i=e=>e.reduce(((e,t,n)=>e+(t-e)/(n+1)),0),r=(e,t)=>{const n=void 0===t?i(e):t;return e.length>1?Math.sqrt(e.reduce(((e,t)=>e+(t-n)**2),0)/(e.length-1)):0}},81617:(e,t,n)=>{function i(e,t){const n={};return Object.keys(t).forEach((i=>{e(i,t[i])&&(n[i]=t[i])})),n}function r(e){const t={};for(const[n,i]of e)t[n]=i;return t}n.d(t,{Kn:()=>s,Ue:()=>r,hX:()=>i});const s=e=>e===Object(e)&&!Array.isArray(e)},6752:(e,t,n)=>{function i(e,t){return new Promise(((n,i)=>{setTimeout((()=>{void 0!==t?i(t):n()}),e)}))}function r(){let e,t;return{promise:new Promise(((n,i)=>{e=n,t=i})),resolve:e,reject:t}}function s(e){return new Promise(((t,n)=>{e.then(n,t)}))}function o(e){return s(Promise.all([...e].map(s)))}n.d(t,{Fb:()=>l,II:()=>r,Wp:()=>o,gw:()=>i});class a extends Error{}function c(e){return new Promise(((t,n)=>setTimeout((()=>n(new a("Promise timed out."))),e)))}function l(e,t){return Promise.race([c(e),t])}},10146:(e,t,n)=>{n.d(t,{g:()=>r});const i=void 0!==self.requestIdleCallback?self.requestIdleCallback:function(e){const t=Date.now();return setTimeout((()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-Date.now()+t)})}),1)},r=e=>new Promise(((t,n)=>{i((()=>{try{e(),t()}catch(e){n(e)}}))}))},18342:(e,t,n)=>{n.d(t,{s8:()=>o});var i,r=n(8867),s=n(78837);function o(e){return e instanceof r.y?e:new r.y((t=>e.subscribe(t)))}!function(e){e.measure=e=>t=>new r.y((n=>t.subscribe((t=>e((()=>n.next(t)))),(e=>n.error(e)),(()=>n.complete())))),e.using=(e,t)=>(0,s.g)(e,t),e.doNothing=e=>e}(i||(i={}))},68973:(e,t,n)=>{n.d(t,{O:()=>i});var i,r=n(6752);!function(e){class t extends Error{constructor(e,t=1e3){super(`SafePromiseError: ${String(e)}`),this.stack=(super.stack||"").slice(t)}}function n(e){return e.catch((e=>e instanceof Error&&!e.stack?Promise.reject(new t(e.message)):Promise.reject(e)))}e.fromPromise=n,e.fromAsync=function(e){return(...t)=>n(e(...t))},e.noop=e.fromPromise(Promise.resolve()),e.create=function(e){return n(new Promise(e))},e.sync=function(e){return n(new Promise(((t,n)=>t(e()))))},e.createCompletionSource=r.II,e.delay=r.gw}(i||(i={}))},81986:(e,t,n)=>{function i(e){return e instanceof Error?function(e){if(e instanceof Error){const{name:t,message:n,stack:i,errors:r,suppressed:s,cause:o,...a}=e;return{...a,name:t,message:n,stack:i,errors:r,suppressed:s,cause:o}}return e}(e):e instanceof ErrorEvent?function(e){if(e instanceof ErrorEvent){const{message:t,type:n,lineno:i,colno:r,filename:s,error:o,...a}=e;return{...a,message:t,type:n,lineno:i,colno:r,filename:s,error:o}}return e}(e):e instanceof PromiseRejectionEvent?function(e){if(e instanceof PromiseRejectionEvent){const{type:t,reason:n,...i}=e;return{...i,type:t,reason:n}}return e}(e):e}n.d(t,{pb:()=>i})},88030:(e,t,n)=>{n.d(t,{E0:()=>i,LK:()=>o,Xd:()=>a,Z7:()=>r,m9:()=>s});const i=1e3,r=60*i;function s(e){return e*i}function o(e){return e*r}function a(e){return i/e}},48691:(e,t,n)=>{function i(e){return"string"==typeof e}n.d(t,{HD:()=>i})},50191:(e,t,n)=>{n.d(t,{M0:()=>x});var i=n(77816),r=n(77409),s=n(85458),o=n(88305),a=n(81617),c=n(32082),l=n(24576),u=n(91438),d=n(11657),h=n(90944),g=n(62288),p=n(15002);const m=c.Y.create("lib.tracking.telemetry"),f=.1,b=.05,_=.01;var v;!function(e){e.getMapPageCount=e=>void 0===e.mapPageCount?void 0:e.mapPageCount>10?"10+":e.mapPageCount}(v||(v={}));const y=e=>e.substring(0,5),w=(e,t)=>{let n;try{n=JSON.stringify(t)}catch(t){n=`stringify fail: '${String(t)}', '${(0,l.H)(t)?t.message:"undefined"}'`,m.warn(n,e)}return n};class x{constructor(e=o.EI,t=o.EI,n=o.EI,c=o.EI,x=!1,E=u.Rv.dummyFactoryInitialization,S=o.EI,O=o.EI,A=(e=>.01),C=o.EI,F=E(((e,{hideUserInfo:t,...n})=>{this._sendEvent({logger:e,level:s.in.INFO,hideUserInfo:t,...(0,s._x)(n)})})),P=o.EI,N=o.EI,L=o.EI,M=o.EI,D=o.EI){this._sendFelog=e,this._sendFelogUsage=t,this._setUserInfo=n,this._setContainerId=c,this._sendUsageMetrics=x,this._sendFelogEvent=S,this._sendFelogCrashLogs=O,this._getUsageMetricsRate=A,this._enableDataSharing=C,this._createPerfLogger=F,this._sendFelogMetricEvent=P,this._sendFemetricsRate=N,this._startFemetricsTimer=L,this._endFemetricsTimer=M,this._sendFemetricsTimer=D,this._sendEvent=e=>{try{this._sendFelogEvent(e)}catch(t){m.warn(`Failed to send felog for ${JSON.stringify(e)}`,t)}},this._sendException=e=>(t,n,i,r=!0)=>{let s;s=i||((0,l.H)(t)?t.message:String(t)),this._sendEvent({message:s,...e,sendToFemetrics:r,extra:{...e.extra,...(0,p.nG)(n,t)}})},this._sendUsageMetricsSamplingRatio=this._getUsageMetricsRate(i.Rd().bundleInfo.browser),this.sendFemetricsRate=(e,t,n,i,r)=>{this._sendFemetricsRate(e,t,n,i,r)},this.startFemetricsTimer=(e,t,n)=>{this._startFemetricsTimer(e,t,performance.now(),n)},this.endFemetricsTimer=(e,t,n,i)=>{this._endFemetricsTimer(e,t,performance.now(),n,i)},this.sendFemetricsTimer=(e,t,n,i)=>{this._sendFemetricsTimer(e,t,n,i)},this.restoredBgConnection=e=>{this._send("cs.connection.bg.restored",s.in.INFO,{timeWithoutConnection:e})},this.initWithoutBgConnection=()=>{this._send("cs.connection.bg.disconnected",s.in.INFO)},this.fetchDefinitionsFail=()=>{this._send("cs.connection.api.definition.failed",s.in.WARN)},this.tooLongPageConfigInit=e=>{this._send("cs.pageConfig.init.exceeded",s.in.WARN,{initTime:e})},this.tooLongUserUpdateTime=e=>{this._send("bg.state.user.update.exceeded",s.in.WARN,{updateTime:e})},this.lostBgPageConnection=()=>{this._send("cs.gbutton.bgConnection.lost",s.in.INFO)},this.restoreBgPageConnection=e=>{this._send("cs.gbutton.bgConnection.restored",s.in.INFO,{time:e})},this.dynamicConfigLoadFromPrefsError=e=>{this._sendSampled(_,"bg.dynamicConfig.prefs.load.error",s.in.ERROR,{message:e})},this.dynamicConfigSaveToPrefsError=e=>{this._sendSampled(_,"bg.dynamicConfig.prefs.save.error",s.in.ERROR,{message:e})},this.dynamicConfigLoadFromServerError=e=>{this._sendSampled(_,"bg.dynamicConfig.server.load.error",s.in.ERROR,{message:e})},this.pageConfigCDNError=e=>{this._send("cs.pageConfig.cdn.error",s.in.ERROR,{message:e})},this.pageConfigLocalStorageError=(e,t)=>{this._send("cs.pageConfig.localStorage.error",s.in.INFO,{message:e,name:t})},this.pageConfigUpdated=(e,t)=>{this._send("cs.pageConfig.updated",s.in.INFO,{oldVersion:e,newVersion:t})},this.settingsPopupTimeout=()=>{this._send("settings.popup.init.timeout",s.in.WARN)},this.settingsUnsupportedShow=e=>{this._send("settings.popup.state.unsupported.show",s.in.INFO,{popupType:e})},this.gnarClientInitFail=e=>{this._send("gnar.bg.tracking.gnar.init.fail",s.in.WARN,{message:e})},this.bgTrackingInitFail=()=>{this._send("debug.tracking.init.fail",s.in.INFO)},this.userUpgradeClick=e=>{this._send("cs.ui.action.upgradeClick",s.in.INFO,{placement:e})},this.gGbUpHookClick=()=>{this._send("cs.ui.gb.uphook.click",s.in.INFO)},this.gButtonClick=()=>{this._send("cs.ui.gbutton.click",s.in.INFO)},this.unexpectedAnonymous=e=>{this._send("debug.bg.session.unexpectedAnonymous",s.in.INFO,e)},this.getDapiPropError=(e,t)=>{const n="bg.connection.dapi.getProp.error",i=w(n,{statusCode:e,message:t});this._sendEvent({logger:n,level:s.in.WARN,extra:{json:i},sendToFemetrics:!0})},this.getFetchPassportError=(e,t)=>{const n="bg.connection.passport.fetch.error",i=w(n,{statusCode:e,message:t});this._sendEvent({logger:n,level:s.in.WARN,extra:{json:i},sendToFemetrics:!0})},this.getCheetahStatusError=(e,t)=>{const n="bg.connection.cheetahSettings.getStatus.error",i=w(n,{statusCode:e,message:t});this._sendEvent({logger:n,level:s.in.WARN,extra:{json:i},sendToFemetrics:!0})},this.setDapiPropError=(e,t)=>{const n="bg.connection.dapi.setProp.error",i=w(n,{statusCode:e,message:t});this._sendEvent({logger:n,level:s.in.WARN,extra:{json:i},sendToFemetrics:!0})},this.toggleExtensionDefs=e=>{this._send("bg.settings.definitions.toggle",s.in.INFO,{enabled:e})},this.toggleExtension=(e,t,n)=>{const i={enabled:e,placement:t,domain:n};this._sendEvent({logger:"bg.settings.extension.toggle",level:s.in.INFO,sendToFemetrics:!0,extra:{json:(0,p.jA)(i)},femetricsExtra:i})},this.disableUntilNextVisit=()=>{this._send("cs.gbutton.disableUntilNextVisit",s.in.INFO)},this.disableButtonClick=()=>{this._send("cs.gbutton.disableButtonClick",s.in.INFO)},this.cookieOverflow=(e,t)=>{this._send("debug.bg.state.cookie.overflow",s.in.INFO,{size:e,biggestCookie:t})},this.externalChangePlan=()=>{this._send("bg.api.external.changePlan",s.in.INFO)},this.externalChangeDialect=()=>{this._send("bg.api.external.changeDialect",s.in.INFO)},this.externalChangeUser=()=>{this._send("bg.api.external.changeUsed",s.in.INFO)},this.externalLogout=()=>{this._send("bg.api.external.logout",s.in.INFO)},this.safariLogoutFail=e=>{this._sendEvent({logger:"bg.safari.logout.error",level:s.in.INFO,message:e,sendToFemetrics:!0})},this.csInitialized=e=>{if("message"in e){const t=(0,d.Cg)();this._sendFemetricsRate("csInitialized",{message:e.message,isIframe:e.isIframe,stage:e.stage,domain:t,context:e.context});const n=(0,h.bo)();this._sendEvent({level:s.in.INFO,logger:"csFailInitializedVersion",extra:{json:JSON.stringify({csVersion:n})}}),this._sendFemetricsRate("csFailInitializedVersion",{csVersion:n}),"facebook.com"===t&&this._sendEvent({level:s.in.INFO,logger:"csInitializedFailed",message:e.message,extra:{json:JSON.stringify({isIframe:e.isIframe,stage:e.stage,url:self.location.href,context:e.context})},hideUserInfo:!0})}else this._sendFemetricsRate("csInitialized",e,["firstInstall","registrationDate"])},this.acceptDataControl=()=>{this._send("bg.dataControl.accepted",s.in.INFO)},this.bgPage={bgStarted:e=>{this._sendFemetricsRate("bgStarted",e),"fail"===e.status&&this._sendException({logger:"bg.start.fail",femetricsExtra:{reason:e.reason},level:s.in.ERROR})(e.error,{reason:e.reason,json:e.json})},bgPageStarted:(e,t)=>{this._sendFemetricsRate("bgPageStarted",{context:e,time:t})},bgPageInitFail:e=>{this._send("bg.state.init.fail",s.in.ERROR,{initAttempts:e})},bgPageInitTimeout:e=>{this._send("bg.state.start.timeout",s.in.WARN,{initTime:e})},portIdNotFound:e=>{this._sendFemetricsRate("bgPagePortIdNotFound",e)}},this.sidePanel={openFail:e=>this._sendEvent({logger:"sidePanel.open.fail",level:s.in.ERROR,message:e,femetricsMessage:y(e)}),openPopupFail:e=>this._sendEvent({logger:"sidePanel.openPopup.fail",level:s.in.ERROR,message:e,femetricsMessage:y(e)}),initFail:e=>{this._sendEvent({logger:"sidePanel.init.fail",level:s.in.ERROR,message:e,femetricsMessage:y(e)})},initSuccess:()=>{this._sendEvent({logger:"sidePanel.init.success",level:s.in.INFO,sendToFemetrics:!0})},unhandledException:(e,t)=>{const n="sidePanel.unhandledException";m.error(n,new Error(e),t),this._sendEvent({logger:n,level:s.in.ERROR,message:e,extra:t,femetricsMessage:y(e)})},unhandledRejection:(e,t)=>{const n="sidePanel.unhandledRejection";m.error(n,new Error(e),t),this._sendEvent({logger:n,level:s.in.ERROR,message:e,extra:t,femetricsMessage:y(e)})},fetchTreatmentsFail:e=>{this._sendFemetricsRate("sidePanelFetchTreatmentsFail",{message:y(e)})},fetchTreatmentsTimeout:e=>{this._sendFemetricsRate("sidePanelFetchTreatmentsTimeoutInSecond",{time:e})},fetchTreatmentsSuccess:()=>{this._sendFemetricsRate("sidePanelFetchTreatmentsSuccess")},serviceWorkerNotWorking:()=>{this._sendFemetricsRate("serviceWorkerNotWorking")}},this.popup={popupInitFail:(e,t)=>{this._sendEvent({logger:"popup.init.fail",level:s.in.ERROR,message:e,extra:t,femetricsMessage:y(e)})},fetchTreatmentsFail:e=>{this._sendFemetricsRate("popupFetchTreatmentsFails",{message:y(e)})},popupStateInitFail:e=>{this._sendEvent({logger:"popup.state.init.fail",level:s.in.ERROR,message:e,femetricsMessage:y(e)})},initSuccess:()=>{this._sendEvent({logger:"popup.init.success",level:s.in.INFO,sendToFemetrics:!0})}},this.checkScript={fetchTreatmentsFail:e=>{this._sendFemetricsRate("checkingFetchTreatmentsFail",{message:y(e),domain:(0,d.Cg)()})},fetchTreatmentsSuccess:()=>{this._sendFemetricsRate("checkingFetchTreatmentsSuccess",{domain:(0,d.Cg)()})},fetchTreatmentsTimeout:e=>{this._sendFemetricsRate("checkingFetchTreatmentsTimeoutInSecond",{time:e,domain:(0,d.Cg)()})}},this.extensionUpdated=(e,t)=>{this._send("bg.state.updated",s.in.INFO,{currentVersion:e,previousVersion:t})},this.extensionUpdateFail=e=>{this._send("bg.state.update.fail",s.in.INFO,{previousVersion:e})},this.cannotGetInstallSource=()=>{this._send("bg.getSource.fail",s.in.WARN)},this.extensionInstall=e=>{this._sendEvent({logger:"bg.state.install",level:s.in.INFO,extra:{json:JSON.stringify({source:e})},sendToFemetrics:!0})},this.chromeContentScriptLoadError=(e,t)=>{this._send("bg.chrome.cs.load.error",s.in.WARN,{message:e,type:t})},this.reloadNotificationShow=()=>{this._send("bg.ui.notification.tabsReload.show",s.in.WARN)},this.reloadNotificationClick=()=>{this._send("bg.ui.notification.tabsReload.click",s.in.INFO)},this.fetchUserFail=(e,t,n,i)=>{const r="bg.user.fetch.fail",o=w(r,{body:t,statusCode:n,reason:e,fromAuthRequest:!!i});this._sendEvent({logger:r,level:s.in.WARN,extra:{json:o},sendToFemetrics:!0})},this.getAccessTokenError=e=>this.sendFemetricsRate("oauthGetAccessTokenError",e),this.getAccessTokenSuccess=e=>this.sendFemetricsRate("oauthGetAccessTokenSuccess",e),this.initializeAccessTokenSuccess=()=>this._sendEvent({logger:"bg.api.service.getAccessToken",message:"initialize access token",level:s.in.INFO}),this.oauthLogout=e=>this.sendFemetricsRate("oauthLogout",e),this.compareUserInUserUpdate=e=>this.sendFemetricsRate("compareUserInUserUpdate",e),this.frequentCookieChanges=e=>{this._send("debug.cookie.onChange.error",s.in.INFO,{canceled:e})},this.initializePropFromDapi=e=>{this._send("bg.state.dapi.prop.initialize",s.in.INFO,{name:e})},this.personalizedInsightsConsentPopupShow=e=>{this._sendEvent({logger:"cs.personalizedInsightsConsent.popup.show",level:s.in.INFO,sendToFemetrics:!0,femetricsMessage:`Personalized Insights Consent Popup shown with consent type: ${e}`,hideUserInfo:!0})},this.personalizedInsightsConsentPopupInitializationError=e=>{this._sendEvent({logger:"cs.personalizedInsightsConsent.popup.initialization.error",level:s.in.ERROR,sendToFemetrics:!0,femetricsMessage:"There was an issue initialing Personalized Insights Consent popup. Likely, gButtonPopupController has not been initialized yet at the time when updateState was called.",hideUserInfo:!0,extra:{json:JSON.stringify({err:e})}})},this.dataSharingGetError=e=>{this._sendEvent({logger:"bg.dataSharing.api.failure",level:s.in.ERROR,sendToFemetrics:!0,femetricsMessage:"There was an issue calling Data Sharing API",hideUserInfo:!1,extra:{json:JSON.stringify({err:e})}})},this.authAccountChooserOptionsError=e=>{this._sendEvent({logger:"bg.authOptions.api.error",level:s.in.ERROR,sendToFemetrics:!0,femetricsMessage:"There was an issue calling Auth /options endpoint used to return Account Chooser information.",hideUserInfo:!0,extra:{json:JSON.stringify({err:e})}})},this.onboardingPopupShow=()=>{this._send("cs.onboarding.popup.show",s.in.INFO)},this.onboardingPopupCancel=()=>{this._send("cs.onboarding.popup.cancel",s.in.INFO)},this.onboardingTutorialShow=()=>{this._send("cs.onboarding.tutorial.show",s.in.INFO)},this.loginReminderPopupShow=()=>{this._send("cs.gbutton.popup.loginReminder.show",s.in.INFO)},this.loginReminderBadgeShow=()=>{this._send("bg.state.user.loginReminder.enable",s.in.INFO)},this.loginReminderCanceled=e=>{this._sendFelog("bg.state.user.loginReminder.canceled",e,s.in.ERROR)},this.logApiCallFailure=(e,t)=>{this._sendEvent({logger:"bg.api.service.request.failure",level:s.in.ERROR,message:"[API_CALL_FAILED]",extra:{json:JSON.stringify({filteredUrl:e,method:t})}})},this.logGrauthExchange=()=>{this._sendEvent({logger:"user.auth.grauth.exchange",level:s.in.INFO,message:"[GRAUTH_ROTATED]"})},this.unhandledExceptions={unhandledBgPageException:(e,t)=>{const n="bg.unhandledException";m.error(n,new Error(e),t),this._sendSampledEvent(b,{logger:n,level:s.in.ERROR,message:T(e),extra:t})},unhandledBgPageRejection:(e,t)=>{const n="bg.unhandledRejection";m.error(n,new Error(e),t),this._sendSampledEvent(b,{logger:n,level:s.in.ERROR,message:k(e),extra:t})},unhandledPopupException:(e,t)=>{const n="popup.unhandledException";m.error(n,new Error(e),t),this._sendEvent({logger:n,level:s.in.ERROR,message:e,extra:t,femetricsMessage:y(e)})},unhandledPopupRejection:(e,t)=>{const n="popup.unhandledRejection";m.error(n,new Error(e),t),this._sendEvent({logger:n,level:s.in.ERROR,message:e,extra:t,femetricsMessage:y(e)})}},this.csUnhandled=({message:e,femetricsExtra:t,error:n,printAsWarning:i})=>{const r="cs.unhandled";i?m.warn(r,new Error(e)):m.error(r,new Error(e)),this._sendEvent({logger:r,level:i?s.in.WARN:s.in.ERROR,message:e,femetricsExtra:t,sendToFemetrics:!0,extra:n?(0,p.nG)({},n):void 0})},this.csCrash=(0,o.hz)(((e,t)=>{m.error("cs.crash",new Error(e)),this._sendEvent({logger:"cs.crash",level:s.in.ERROR,message:e,femetricsExtra:t})})),this.storageMigrationSucceeded=()=>{this._send("bg.storageMigration.success",s.in.INFO,{})},this.storageMigrationFailed=this._sendException({logger:"bg.storageMigration.failure",level:s.in.ERROR}),this.storageApplyChangesFailed=this._sendException({logger:"bg.storage.applyChanges.failure",level:s.in.ERROR}),this.cardShowAction=()=>{this._sendSampled(f,"cs.editor.card.show",s.in.INFO)},this.cardHideAction=()=>{this._sendSampled(f,"cs.editor.card.hide",s.in.INFO)},this.cardReplacementAction=()=>{this._sendSampled(f,"cs.editor.card.replacement",s.in.INFO)},this.cardAddToDictAction=()=>{this._sendSampled(f,"cs.editor.card.addToDict",s.in.INFO)},this.cardIgnoreAction=()=>{this._sendSampled(f,"cs.editor.card.ignore",s.in.INFO)},this.synonymCardShowAction=e=>{this._sendSampled(f,"cs.editor.synonym.show",s.in.INFO,{notFoundCard:e})},this.synonymCardHideAction=e=>{this._sendSampled(f,"cs.editor.synonym.hide",s.in.INFO,{notFoundCard:e})},this.synonymReplacementAction=()=>{this._sendSampled(f,"cs.editor.synonym.replacement",s.in.INFO)},this.dictCardShowAction=()=>{this._sendSampled(f,"cs.editor.dict.show",s.in.INFO)},this.dictCardHideAction=()=>{this._sendSampled(f,"cs.editor.dict.hide",s.in.INFO)},this.couldNotParseTransform=(e,t)=>{this._send("cs.cards.transforms.parse.error",s.in.WARN,{transformHTML:e,fallbackParseSuccessful:t})},this.disabledTabLoad=e=>{this._sendUsage("usage.loadOnDisabledTab",s.in.INFO,{accountType:e})},this.disabledTabByUserLoad=e=>{this._sendUsage("usage.loadOnDisabledByUserTab",s.in.INFO,{accountType:e})},this.initSession=(e,t,n,i)=>{this._sendUsage("usage.session.init",s.in.INFO,{isTopSite:(0,d.ZE)(e),accountType:t,fieldType:n,fieldSupported:i}),this._sendMetric("usage.session.init",{domain:e,accountType:t,fieldType:n,fieldSupported:i})},this.cardFirstInteraction=(e,t)=>{this._sendUsage("usage.card.interaction",s.in.INFO,{accountType:e,fieldType:t})},this.gnar={nextPingDateWriteError:e=>this._send("bg.gnarTracker.nextPingDateWriteError",s.in.ERROR,{error:e}),sendError:(e,t)=>this._sendException({logger:"bg.gnarTracker.sendError",level:s.in.ERROR,femetricsExtra:{context:t}})(e,{eventName:t}),failToLoadContainerId:(e,t,n,i)=>this.sendFemetricsRate("failToLoadContainerId",{source:t,placement:e,reason:n,message:String(i).slice(0,20)}),trackBeforeSetUser:e=>this._send("bg.gnarTracker.trackBeforeSetUser",s.in.INFO,{millisSinceInit:e}),errorSetUser:this._sendException({logger:"bg.gnarTracker.errorSetUser",level:s.in.ERROR})},this.productMetricsClient={updateConfigurationFailed:(e,t)=>{this._sendException({logger:"bg.productMetricsClient.setUserInfoFailed",level:s.in.ERROR,femetricsExtra:{context:t}})(e,{error:e,context:t})}},this._sendGdocsPageExecutionException=this._sendException({logger:"cs.gdocs.pageExecution.exception",level:s.in.ERROR}),this.gdocs={nonDocumentPage:e=>{this._sendEvent({logger:"cs.gdocs.canvas.nonDocumentPage",level:s.in.WARN,sendToFemetrics:!0,femetricsMessage:`isViewMode: ${e.isViewMode}`,femetricsExtra:{context:e.pageType},extra:{json:(0,p.jA)({url:e.url})},hideUserInfo:!0})},documentTabInfo:(0,o.hz)((e=>{this.sendFemetricsRate("gdocsDocumentTabInfo",{hasTabQuery:e})})),tabSwitchFrequency:e=>{this.sendFemetricsRate("gdocsTabSwitchFrequency",e)},pageExecutionException:(e,t)=>this._sendGdocsPageExecutionException(e,{isGDocsCanvas:t}),disabledBeforeForceEnable:(0,o.hz)((e=>this._send("cs.gdocs.disabledBeforeForceEnable",s.in.INFO,{disabledDate:e}))),enabledBeforeForceEnable:(0,o.hz)((()=>this._send("cs.gdocs.enabledBeforeForceEnable",s.in.INFO))),replacementSelectionErrorInfo:e=>{this._sendFemetricsRate("gdocsReplacementSelectionErrorInfo",e)},eventTargetFail:(0,o.hz)(this._sendException({logger:"cs.gdocs.eventTargetFail",level:s.in.ERROR})),sidebarFail:(0,o.hz)(((e,t)=>this._sendException({logger:"cs.gdocs.getSidebarFail",level:s.in.ERROR})(e,{type:t}))),trackSidebarType:({detectedSidebarType:e,displayedSidebarType:t})=>this.sendFemetricsRate("gdocsSidebarType",{type:e,displayedSidebarType:t}),layoutTreeAvailability:e=>{this.sendFemetricsRate("gdocsInternalsLayoutTreeAvailability",e)}},this.canvasGdocs={injectedException:(0,o.hz)(this._sendException({logger:"cs.gdocs.canvas.injected.exception",level:s.in.ERROR})),injectedError:(0,o.HO)(((e,t,n,i)=>this._sendEvent({logger:"cs.gdocs.canvas.injected.error",level:s.in.ERROR,message:t,extra:{json:(0,p.jA)({context:e,data:n})},gdocsExtra:i,femetricsExtra:{context:e}})),(e=>e)),injectedInfo:(0,o.HO)(((e,t,n)=>this._sendEvent({logger:"cs.gdocs.canvas.injected.info",eventContext:e,level:s.in.INFO,sendToFemetrics:!0,gdocsExtra:t,extra:{json:(0,p.jA)({context:e,data:n})},femetricsExtra:{context:e}})),(e=>e)),initializationException:(0,o.hz)(((e,t,n)=>this._sendException({logger:"cs.gdocs.canvas.init.exception",level:s.in.ERROR,gdocsExtra:n,femetricsExtra:{type:t}})(e,{type:t}))),initializationTimeout:(0,o.hz)(((e,t,n)=>this._sendEvent({logger:"cs.gdocs.canvas.init.timeout",level:s.in.ERROR,message:`Initialization for ${t} timeout: ${e}ms`,extra:{json:(0,p.jA)({type:t})},gdocsExtra:n,femetricsExtra:{type:t}}))),creatingException:(0,o.hz)(((e,t)=>this._sendEvent({logger:"cs.gdocs.canvas.creating.exception",level:s.in.ERROR,message:e,gdocsExtra:t}))),initInterrupted:(0,o.hz)((e=>this._sendEvent({logger:"cs.gdocs.canvas.interrupted",level:s.in.ERROR,message:"Interrupted",gdocsExtra:e}))),dataSourceException:(0,o.hz)(((e,t)=>this._sendException({logger:"cs.gdocs.canvas.dataSource.exception",level:s.in.ERROR,femetricsExtra:{type:t}})(e,{type:t}))),error:(0,o.HO)(((e,t,n,i,r)=>this._sendEvent({logger:"cs.gdocs.canvas.error",level:s.in.ERROR,message:t,extra:(0,p.nG)({type:e,message:t,data:i},n),femetricsExtra:{type:e,mappingName:null==r?void 0:r.mappingName}})),(e=>e),((e,t,n,i,r)=>{this._sendFemetricsRate("gdocsError",{type:e,message:t&&t.substring(0,20)||"other",mappingName:null==r?void 0:r.mappingName,selectionDiff:"selectionService"===e?null==i?void 0:i.selectionDiff:void 0})})),warning:(0,o.HO)(((e,t,n)=>this._sendEvent({logger:"cs.gdocs.canvas.warning",level:s.in.WARN,message:t,extra:(0,p.nG)({type:e,message:t,data:n})})),(e=>e)),trackSessionFinalResult:(0,o.hz)(((e,t)=>this._sendEvent({logger:"cs.gdocs.canvas.start.result",level:s.in.INFO,gdocsExtra:t,sendToFemetrics:!0,femetricsExtra:{type:e}}))),started:e=>this._sendEvent({logger:"cs.gdocs.canvas.started",level:s.in.INFO,sendToFemetrics:!0,gdocsExtra:e}),creating:()=>this._sendEvent({logger:"cs.gdocs.canvas.creating",level:s.in.INFO,sendToFemetrics:!0}),showLongDocPopup:e=>this._sendEvent({logger:"cs.gdocs.canvas.longDocPopup",level:s.in.INFO,sendToFemetrics:!0,gdocsExtra:e}),showSharedDocPopup:e=>this._sendEvent({logger:"cs.gdocs.canvas.sharedDocPopup",level:s.in.INFO,sendToFemetrics:!0,gdocsExtra:e}),debugPageSearchFail:(0,o.hz)((e=>this._sendEvent({logger:"cs.gdocs.canvas.pageSearch.debug",level:s.in.INFO,extra:{json:(0,p.jA)({data:e})}}))),debugMappingFail:(0,o.hz)((e=>this._sendEvent({logger:"cs.gdocs.canvas.mapping.debug",level:s.in.INFO,extra:{json:(0,p.jA)({data:e})}}))),buildTextMapPerf:this._createPerfLogger("cs.gdocs.canvas.perf.textMap",30),findPage:this._createPerfLogger("cs.gdocs.canvas.perf.findPage",100),mappingPerf:e=>new g.W((t=>{1e-4>Math.random()&&this._sendFemetricsTimer("gdocsMapping",t,"summary",{...e,mapPageCount:v.getMapPageCount(e)})})),fullTextNotFound:(0,o.hz)((()=>this._send("cs.gdocs.canvas.fullTextNotFound",s.in.WARN))),equationsRenderInfo:e=>{this._sendFemetricsRate("gdocsEquationsRenderInfo",e)},mapping:({mapPageCount:e,attempts:t,mappingName:n,mode:i,tableMode:r,partialRenderMode:s,renderRTL:o})=>{this._sendFemetricsRate("gdocsMapping",{mappingMode:i,mappingName:n,tableMode:r,mapPageCount:e>5?"5+":e,mappingAttempts:t.length,partialRenderMode:s,renderRTL:o,...t.reduce(((e,t,n)=>({...e,[`mapping${n}_name`]:t.name,[`mapping${n}_success`]:t.success,[`mapping${n}_mappedPages`]:"number"==typeof t.mappedPageCount&&t.mappedPageCount>5?"5+":t.mappedPageCount})),{})},["os","userOrganizationType"]),this._sendFemetricsRate("gdocsMapping.short",{mappingName:n},["os","userOrganizationType"])},mappingFailedInfo:e=>{this._sendFemetricsRate("gdocsMappingFailedInfo",e)},mappings:{advanced:{byFeatures:({mapPageCount:e,injectedFeatures:t,...n})=>{this._sendFemetricsRate("gdocs.mapping.advanced.byFeatures",{...n,...I(t),mapPageCount:e>5?"5+":e},["os"])},textCoverage:e=>{this._sendFemetricsRate("gdocs.mapping.advanced.coverage",e)},textCoverageShort:e=>{this._sendFemetricsRate("gdocs.mapping.advanced.coverage.short",e)}}},mappingStats:e=>{this._sendFemetricsRate("gdocsMappingStats",e,["os"])},mappingPageStats:e=>{this._sendFemetricsRate("gdocsMappingPageStats",e,["os"])},mappingStatsByTextLength:e=>{this._sendFemetricsRate("gdocsMappingStatsByTextLength",e,["os"])},mappingPageStatsByTextLength:e=>{this._sendFemetricsRate("gdocsMappingPageStatsByTextLength",e,["os"])},mappingStatsByTableMode:e=>{this._sendFemetricsRate("gdocsMappingStatsByTableMode",e,["os"])},mappingPageStatsByTableMode:e=>{this._sendFemetricsRate("gdocsMappingPageStatsByTableMode",e,["os"])},mappingMinPageGapsStats:e=>{this._sendFemetricsRate("gdocsMappingMinPageGapsStats",e,["os"])},mappingMaxPageGapsStats:e=>{this._sendFemetricsRate("gdocsMappingMaxPageGapsStats",e,["os"])},mappingSearchStats:e=>{this._sendFemetricsRate("gdocsMappingSearchStats",e,["os"])},partialMappingByPageExperimentUsage:e=>{this._sendFemetricsRate("gdocsPartialMappingByPageExperimentUsage",e,["os"])},partialMapping:{error:e=>{this._sendFemetricsRate("gdocsPartialMappingErrors",e,["os"])}},atmMappingPerformance:e=>{this._sendFemetricsRate("gdocsATMMappingPerformance",e,["os"])},selectionPatched:e=>{this._sendFemetricsRate("gdocsSelectionPatched",e)},trackFatalPopup:(e,t)=>{this._sendFemetricsRate("gdocsTrackFatalPopup",{reason:(null==e?void 0:e.isBrowserExtFault)?"extension":"google",content:String(null==e?void 0:e.textContent).slice(0,10),context:t?"started":"notStarted"})},lazyLoadSidebarController:e=>{this._sendFemetricsRate("gdocsLazyLoadSidebarController",e)}},this.gmailThreadContext={warning:(0,o.HO)(((e,t,n)=>this._sendEvent({logger:"cs.threadContext.gmail.warning",level:s.in.WARN,message:t,extra:{json:(0,p.jA)({type:e,message:t,data:n})}})),(e=>e))},this.autoFix={featureToggleClick:(e,t)=>{this._sendFemetricsRate("autoFixFeatureToggleClick",{autoFixFeatureState:e,autoFixFeatureTogglePlacement:t})},attemptToApplyInParallel:e=>{this._sendFemetricsRate("autoFixAttemptToApplyInParallel",{autoAlerApplierVersion:e})},attemptToApplyInParallelError:(0,o.hz)(((e,t)=>this._sendEvent({logger:"cs.autoFix.attemptToApplyInParallelError",level:s.in.ERROR,sendToFemetrics:!0,autoFixExtra:{domain:e,autoAlerApplierVersion:t}})))},this.autoApply={inconsistentRevertAlertError:(0,o.hz)(((e,t)=>this._sendEvent({logger:"cs.autoApply.inconsistentRevertAlert",level:s.in.ERROR,sendToFemetrics:!0,autoApplyExtra:{domain:e,pname:t}}))),triggered:()=>{this._sendFemetricsRate("autoApplyTriggered")},cardLooked:()=>{this._sendFemetricsRate("autoApplyCardLooked")},revertClick:()=>{this._sendFemetricsRate("autoApplyRevertClick")},reverted:()=>{this._sendFemetricsRate("autoApplyReverted")},affectedByTextChange:()=>{this._sendFemetricsRate("autoApplyAffectedByTextChange")},acceptClick:()=>{this._sendFemetricsRate("autoApplyAcceptClick")},settingsClick:e=>{this._sendFemetricsRate("autoApplySettingsClick",{autoApplySettingsMenuState:e})},turnOffUntilNextView:()=>{this._sendFemetricsRate("autoApplyTurnOffUntilNextView")},integrationCreated:()=>{this._sendFemetricsRate("autoApplyIntegrationCreated")}},this.knowledgeHub={error:(0,o.HO)(((e,t,n,i)=>this._sendEvent({logger:"cs.knowledgeHub.error",level:s.in.ERROR,message:t,extra:{json:(0,p.jA)({type:e,message:t,domain:n,data:i})}})),(e=>e)),integrationCreated:(e,t)=>{this._sendFemetricsRate("knowledgeHubIntegrationCreated",{site:e,integrationMode:t})},relatedMaterialsClick:e=>{this._sendFemetricsRate("knowledgeHubRelatedMaterialsClick",{site:e})},pointPeopleClick:(e,t)=>{this._sendFemetricsRate("knowledgeHubPointPeopleClick",{site:e,pointPeopleClickType:t})},descriptionCopyClick:e=>{this._sendFemetricsRate("knowledgeHubDescriptionCopyClick",{site:e})},suggestEditButtonClick:e=>{this._sendFemetricsRate("knowledgeHubSuggestEditButtonClick",{site:e})},featureToggleClick:(e,t)=>{this._sendFemetricsRate("knowledgeHubFeatureToggleClick",{site:e,featureState:t})},bgApiError:(e,t)=>{const n="bg.knowledgeHub.error",i=w(n,{statusCode:e,message:t});this._sendEvent({logger:n,level:s.in.ERROR,extra:{json:i},sendToFemetrics:!0})},onboardingPopupShow:(e,t)=>{this._sendFemetricsRate("knowledgeHubOnboardingPopupShow",{onboardingType:e,site:t})},onboardingNextButtonClick:(e,t,n)=>{this._sendFemetricsRate("knowledgeHubOnboardingNextButtonClick",{onboardingType:e,site:t,step:n})},onboardingSkipButtonClick:(e,t,n)=>{this._sendFemetricsRate("knowledgeHubOnboardingSkipButtonClick",{onboardingType:e,site:t,step:n})},onboardingCloseButtonClick:(e,t,n)=>{this._sendFemetricsRate("knowledgeHubOnboardingCloseButtonClick",{onboardingType:e,site:t,step:n})}},this._cbLog=e=>(0,o.HO)(((t,n,i,r)=>this._sendEvent({logger:"cs.citationBuilder",level:e,citationBuilderExtra:i,message:n,extra:(0,p.nG)(void 0,r)})),(e=>e)),this.citationBuilder={error:this._cbLog(s.in.ERROR),warning:this._cbLog(s.in.WARN),info:this._cbLog(s.in.INFO)},this.translateOnboarding={error:this._cbLog(s.in.ERROR),warning:this._cbLog(s.in.WARN),info:this._cbLog(s.in.INFO)},this.humanWritingReport={error:(e,t,n,i)=>this._sendEvent({logger:"cs.humanWritingReport.error",level:s.in.ERROR,message:t,extra:{json:(0,p.jA)({type:e,message:t,domain:n,data:i})}}),warning:(e,t,n,i)=>this._sendEvent({logger:"cs.humanWritingReport.warn",level:s.in.WARN,message:t,extra:{json:(0,p.jA)({type:e,message:t,domain:n,data:i})}}),info:(e,t,n)=>{this._sendEvent({logger:"cs.humanWritingReport.info",level:s.in.INFO,message:e,extra:{json:(0,p.jA)({message:e,domain:t,data:n})}})}},this.alwaysAvailableAssistant={sendFeedback:({message:e,feedback:t,sessionId:n,domain:i})=>this._sendEvent({message:e,logger:"cs.alwaysAvailableAssistant.feedback",level:s.in.INFO,alwaysAvailableAssistantExtra:{feedback:t,sessionId:n,domain:i}}),chatsDeleted:()=>{this._sendFemetricsRate("aaaChatsDeleted")}},this.g2LoggerFactory=({integrationName:e,level:t,loggerNameSuffix:n})=>({message:i,data:r={},error:s,feedbackData:o,hideUserInfo:a=!0})=>{let c;a?c={integrationName:e,feedbackData:o}:o&&(c={feedbackData:o,integrationName:o.domain?e:void 0}),this._sendEvent({logger:"cs.g2"+(n?`.${n}`:""),level:t,message:i,extra:{...s?(0,p.nG)(r,s):{json:(0,p.jA)(r)}},g2Extra:c,hideUserInfo:a})},this.touchTypistLoggerFactory=({level:e})=>({message:t,error:n})=>{this._sendEvent({logger:"cs.touchTypist",level:e,message:t,extra:{...n?(0,p.nG)({},n):{json:(0,p.jA)({error:"Unknown error"})}}})},this.performance={processInput:this._createPerfLogger("cs.fluid.processInput",100),processAlerts:this._createPerfLogger("cs.fluid.processAlerts",10),processFilterChange:this._createPerfLogger("cs.fluid.processFilterChange",10),csInitialized:(e,t,n,i,r)=>{this._createPerfLogger("cs.initialized").custom({_tag:u.mW.Data.Tagged.Types.csInit,domain:self.location.host,hideUserInfo:!0,loadTime:e,initTime:t,pageLoadTime:n,injectTime:i,error:r?{message:r.message,stack:r.stack}:void 0})},viewInjection:e=>{this._createPerfLogger("cs.viewInjection").custom({_tag:u.mW.Data.Tagged.Types.viewInjection,...e})}},this.autocorrect={responseTime:this._createPerfLogger("cs.autocorrect.responseTime",10),predictTime:this._createPerfLogger("cs.autocorrect.predictTime",10),integrationCreated:()=>{this._sendFemetricsRate("autoCorrectIntegrationCreated")},triggered:()=>{this._sendFemetricsRate("autoCorrectTriggered")},cardLooked:()=>{this._sendFemetricsRate("autoCorrectCardLooked")},revertClick:()=>{this._sendFemetricsRate("autoCorrectRevertClick")},reverted:()=>{this._sendFemetricsRate("autoCorrectReverted")},acceptClick:()=>{this._sendFemetricsRate("autoCorrectAcceptClick")},settingsClick:e=>{this._sendFemetricsRate("autoCorrectSettingsClick",{autoCorrectSettingsMenuState:e})},turnOffUntilNextView:()=>{this._sendFemetricsRate("autoCorrectTurnOffUntilNextView")},affectedByTextChange:()=>{this._sendFemetricsRate("autoCorrectAffectedByTextChange")}},this.assistant={initTime:this._createPerfLogger("cs.assistant.initTime",1),renderTime:this._createPerfLogger("cs.assistant.renderTime",1),openTime:this._createPerfLogger("cs.assistant.openTime",1),alertManagerError:this._sendException({logger:"cs.assistant.alertManagerError",level:s.in.ERROR})},this.sharedAssistant={open:(e,t)=>{this._sendFemetricsRate("sharedAssistant.open",{domain:e,isIframe:t})}},this.proofit={availabilityQuotaError:e=>{this._sendEvent({logger:"cs.proofit.availability_quota_error",level:s.in.ERROR,extra:{json:JSON.stringify(e)}})},submitResponseError:e=>{this._sendEvent({logger:"cs.proofit.submit_response_error",level:s.in.ERROR,extra:{json:JSON.stringify(e)}})},progressError:e=>{this._sendEvent({logger:"cs.proofit.progress_error",level:s.in.ERROR,extra:{json:JSON.stringify(e)}})},progressRejected:e=>{this._sendEvent({logger:"cs.proofit.progress_rejected",level:s.in.WARN,extra:{json:JSON.stringify(e)}})}},this.oauthExchangeError=e=>{this._send("bg.oauth.exchange.error",s.in.ERROR,{message:e})},this.iterable={sideEffectGetIterableClientAccessToken:(e,t,n)=>{this._sendFemetricsRate("sideEffectGetIterableClientAccessToken",{status:e,type:t,statusCode:n})},refreshIterableClientAccessToken:(e,t)=>{this._sendFemetricsRate("refreshIterableClientAccessToken",{status:e,statusCode:t})},iterableClientAccessTokenIsNull:()=>{this._sendFemetricsRate("iterableClientAccessTokenIsNull")},iterableGetIPMByTrigger:e=>{this._sendFemetricsRate("iterableGetIPMByTrigger",{trigger:e})},iterableGetIPM:(e,t,n)=>{this._sendFemetricsRate("iterableGetIPM",{status:e,statusCode:t,retryCount:n})},iterableIPMOpen:(e,t,n,i)=>{this._sendFemetricsRate("iterableIPMOpen",{status:e,statusCode:t,retryCount:n,campaignId:i})},iterableIPMDelete:(e,t,n,i,r)=>{this._sendFemetricsRate("iterableIPMDelete",{status:e,action:t,statusCode:n,retryCount:i,campaignId:r})},iterableIPMExpired:e=>{this._sendFemetricsRate("iterableIPMExpired",{campaignId:e})},iterableIPMClick:(e,t,n,i)=>{this._sendFemetricsRate("iterableIPMClick",{status:e,statusCode:t,retryCount:n,campaignId:i})},iterableIPMClose:(e,t,n,i,r)=>{this._sendFemetricsRate("iterableIPMClose",{status:e,action:t,statusCode:n,retryCount:i,campaignId:r})},iterableCustomEvent:(e,t,n,i)=>{this._sendFemetricsRate("iterableCustomEvent",{status:e,statusCode:t,retryCount:n,campaignId:i})},iterableUserUpdate:(e,t,n)=>{this._sendFemetricsRate("iterableUserUpdate",{status:e,statusCode:t,retryCount:n})},iterableIPMFailed:e=>{this._sendFemetricsRate("iterableIPMFailed",{reason:e})},iterableIPMTrigger:(e,t,n)=>{this._sendFemetricsRate("iterableIPMTrigger",{trigger:e,isTriggerEnabled:t,isTriggerAfterRateLimit:n})},iterableIPMCooldown:e=>{this._sendFemetricsRate("iterableIPMCooldown",{campaignId:e})},iterableIPMGlobalCooldown:()=>{this._sendFemetricsRate("iterableIPMGlobalCooldown")},iterableIPMImageLoadingError:e=>{this._sendFemetricsRate("iterableIPMImageLoadingError",{campaignId:e})},iterableIPMNoMatchingMessages:(e,t)=>{this._sendFemetricsRate("iterableIPMNoMatchingMessages",{trigger:e,pendingMessageCount:t})},iterableIPMHide:e=>{this._sendFemetricsRate("iterableIPMHide",{reason:e})},logIterableApi:e=>{this._sendEvent({logger:"bg.iterable.api",level:s.in.WARN,extra:{json:e},sendToFemetrics:!1})}},this.mise={getIterableAccessToken:(e,t)=>{this._sendFemetricsRate("getIterableClientAccessToken",{status:e,statusCode:t})},logMISeApi:e=>{this._sendEvent({logger:"bg.mise.api",level:s.in.WARN,extra:{json:e},sendToFemetrics:!0})}},this.alerts={inconsistentAlertWithText:(e,t)=>{this._sendFemetricsRate("inconsistentAlertWithText",{context:e,source:t})},cannotShowInlineCard:(e,t)=>{this._sendFemetricsRate("cannotShowInlineCard",{context:e,domain:(0,d.Cg)(t)})},showInlineCard:e=>{this._sendFemetricsRate("showInlineCard",{domain:(0,d.Cg)(e)})}},this.authHooks={authHookShown:e=>{this._sendFemetricsRate("authHookShow",e)},authHookClick:e=>{this._sendFemetricsRate("authHookClick",e)}},this.upgradeHooks={showUpgradeHook:(e,t,n)=>{this._sendFemetricsRate("showPremiumButton",{upgradeHookName:e,upgradeHookSlot:t,upgradeHookVariant:n})},clickUpgradeHook:(e,t,n)=>{this._sendFemetricsRate("clickPremiumButton",{upgradeHookName:e,upgradeHookSlot:t,upgradeHookVariant:n})}},this.upgradeHooksExp={upgradeHookExperimentPeek:(e,t,n)=>{this._sendFemetricsRate("upgradeHookExperiment",{experimentName:e,experimentGroup:t,domain:(0,d.Cg)(n)})},upgradeHookFirstHiddenPremiumAlertReceived:(e,t,n)=>{this._sendFemetricsRate("upgradeHookFirstHiddenPremiumAlertReceived",{experimentName:e,experimentGroup:t,domain:(0,d.Cg)(n)})},upgradeHookFirstSDUIReceivedFromCAPI:(e,t,n)=>{this._sendFemetricsRate("upgradeHookFirstSDUIReceivedFromCAPI",{experimentName:e,experimentGroup:t,domain:(0,d.Cg)(n)})},upgradeHookFeedRendered:(e,t,n)=>{this._sendFemetricsRate("upgradeHookFeedRenderedWithUpgradeCard",{experimentName:e,experimentGroup:t,domain:(0,d.Cg)(n)})},upgradeHookCardShown:(e,t,n)=>{this._sendFemetricsRate("upgradeHookCardShown",{experimentName:e,experimentGroup:t,domain:(0,d.Cg)(n)})}},this.sendToTabFailed=(e,t)=>{this._sendSampledEvent(b,{logger:"bg.connection.sendToTabFailed",level:s.in.ERROR,message:"send message to tab emit an error",extra:(0,p.nG)(e,t)})},this.noActiveTabId=e=>{this._sendFemetricsRate("simpleTransportNoActiveTabId",{message:e})},this.debugReports={downloadSuccessfully:(e,t)=>{const n="debugReports.downloadSuccessfully",i=w(n,{envContext:e,downloadEnvContext:t});this._sendEvent({logger:n,level:s.in.INFO,extra:{json:i},sendToFemetrics:!0})},downloadTimeout:(e,t)=>{const n="debugReports.downloadTimeout",i=w(n,{envContext:e,downloadEnvContext:t});this._sendEvent({logger:n,level:s.in.WARN,extra:{json:i},sendToFemetrics:!0})},downloadError:(e,t)=>{const n="debugReports.downloadError",i=w(n,{envContext:e,downloadEnvContext:t});this._sendEvent({logger:n,level:s.in.WARN,extra:{json:i},sendToFemetrics:!0})}},this.dialectSettingsError=e=>{this._sendException({logger:"bg.api.dialectService",level:s.in.ERROR})(e)},this.debugSelectiveLogoutGate=()=>{this._sendEvent({logger:"bg.user.debugSelectiveLogoutGate",level:s.in.INFO})},this.logoutSuccess=e=>{this._sendEvent({logger:"bg.user.logoutSuccess",level:s.in.INFO,extra:{json:JSON.stringify({reason:e})}})},this.logoutError=e=>{this._sendException({logger:"bg.user.logout",level:s.in.ERROR})(e)},this.logoutLastAuthnEventError=e=>{this._sendException({logger:"bg.user.logout.lastAuthnEvent",level:s.in.ERROR})(e)},this.serializeTransportMsgFailed=()=>{this._sendFemetricsRate("error",{logger:"bg.serialize.transport.message.failed",level:s.in.ERROR,message:"Failed to serialize rpc message"})},this.hiddenFieldInjectionFailed=()=>{this._sendFemetricsRate("error",{logger:"cs.hiddenField.injection.failed",level:s.in.ERROR,domain:(0,d.Cg)()})},this.skipIntegrationForNonHtmlPage=()=>{this._sendFemetricsRate("info",{logger:"cs.skip.integration.for.non.html.page",domain:R(self.location.hostname)})},this.backendManagedStorage={error:(e,t)=>{this._sendException({logger:"bg.backendManagedStorage",level:s.in.ERROR})(t,void 0,e)},warn:(e,t)=>{const n=w("backendManagedStorage.warn",t);this._sendEvent({logger:"bg.backendManagedStorage",level:s.in.WARN,message:e,extra:{json:n}})},info:e=>{this._sendEvent({logger:"bg.backendManagedStorage",level:s.in.INFO,message:e})}},this.cookiesAccessibility={enabled:()=>{this.sendFemetricsRate("cookiesAccessibility",{enabled:!0},["os","osVersion","userOrganizationType"])},disabled:(e,t)=>{this.sendFemetricsRate("cookiesAccessibility",{enabled:!1,reason:e},["os","osVersion","userOrganizationType"]),t&&this._sendEvent({logger:"bg.cookiesInaccessibile",level:s.in.ERROR,message:t})}},this.replacement={info:e=>{this.sendFemetricsRate("replacementInfo",e,["os","userOrganizationType"])},infoShort:e=>{this.sendFemetricsRate("replacementInfoShort",e)},infoShortExtended:e=>{this.sendFemetricsRate("replacementInfoShortExtended",e)},approximateMatched:e=>{this.sendFemetricsRate("replacementInfo.approximateMatched",e)},format:{short:e=>{this.sendFemetricsRate("replacementInfo.format.short",e)},alert:e=>{this.sendFemetricsRate("replacementInfo.format.alert",e)},style:e=>{this.sendFemetricsRate("replacementInfo.format.style",e)},hyperlinks:e=>{this.sendFemetricsRate("replacementInfo.format.hyperlinks",e)},smartChips:e=>{this.sendFemetricsRate("replacementInfo.format.smartChips",e)},footnotes:e=>{this.sendFemetricsRate("replacementInfo.format.footnotes",e)}},gOSInfo:e=>{this.sendFemetricsRate("replacementInfo.gOS",e)},gdocs:(e,t)=>{this.sendFemetricsRate("replacementInfo.gdocs",e,["os"]);for(const[n,i]of t)this.sendFemetricsRate(`replacementInfo.gdocs.byGate.${n}`,{...e,enabled:i},["os"])},gdocsByFeatures:({injectedFeatures:e,...t})=>{this.sendFemetricsRate("replacementInfo.gdocs.advanced.byFeatures",{...t,...I(e),hasLayout:void 0},["os"])},contentEditable:e=>{this.sendFemetricsRate("replacementInfo.contentEditable",e)},sessionCount:e=>{this.sendFemetricsRate("replacementSessionCount",e)},sessionStats:e=>{this.sendFemetricsRate("replacementSessionStats",e)},sessionStatsBySource:e=>{this.sendFemetricsRate("replacementSessionStatsBySource",e)},sessionStatsByReplacementType:e=>{this.sendFemetricsRate("replacementSessionStatsByReplacementType",e)},alert:e=>{this.sendFemetricsRate("replacementInfo.alert",e)},alertExtended:e=>{this.sendFemetricsRate("replacementInfo.alertExtended",e)},alertFailedLevenshteinDistance:e=>{this.sendFemetricsRate("replacementLevenshteinDistance",e)}},this.gOS={info:(e,t,n)=>{this._sendEvent({logger:`gOS.${e}`,level:s.in.INFO,message:t,extra:n})},warn:(e,t,n)=>{this._sendEvent({logger:`gOS.${e}`,level:s.in.WARN,message:t,extra:n})},error:(e,t,n)=>{this._sendEvent({logger:`gOS.${e}`,level:s.in.ERROR,message:t,extra:(0,p.nG)(n)})}},this.inkwell={logLaunchInkwellErrorOnce:(0,o.hz)(this._sendException({logger:"inkwell.launchInkwellError",level:s.in.ERROR})),logConnectDocumentErrorOnce:(0,o.hz)(this._sendException({logger:"inkwell.connectDocumentError",level:s.in.ERROR})),logInkwellIntegrationErrorOnce:(0,o.hz)(this._sendException({logger:"inkwell.inkwellIntegrationError",level:s.in.ERROR})),launchInkwellSuccess:()=>{this._sendFemetricsRate("inkwell.launchInkwellSuccess")},launchInkwellError:e=>{this._sendFemetricsRate("inkwell.launchInkwellError",{message:e.message}),this.inkwell.logLaunchInkwellErrorOnce(e)},inkwellIntegrationError:e=>{this._sendFemetricsRate("inkwell.inkwellIntegrationError",{message:e.message}),this.inkwell.logLaunchInkwellErrorOnce(e)},connectDocumentSuccess:()=>{this._sendFemetricsRate("inkwell.connectDocumentSuccess")},connectDocumentError:e=>{this._sendFemetricsRate("inkwell.connectDocumentError",{message:e.message}),this.inkwell.logConnectDocumentErrorOnce(e)},gotGetDocumentTextRequest:(0,o.HO)((e=>this._sendFemetricsRate("inkwell.gotGetDocumentTextRequest")),(e=>e))},this.auth={manageModeTimeoutFail:e=>{this._sendFemetricsRate("auth.manageModeTimeoutFail",{message:e})}},this.connector={connected:()=>{this._sendFemetricsRate("connector.connected")},disconnected:e=>{this._sendFemetricsRate("connector.disconnected",{message:e})},connectionFailed:e=>{this._sendFemetricsRate("connector.connectionFailed",{message:e})},checkConnectionFailed:e=>{this._sendFemetricsRate("connector.checkConnectionFailed",{message:e})},handshakeFailed:e=>{this._sendFemetricsRate("connector.handshakeFailed",{message:e})},textFieldIntegrated:(e,t)=>{this._sendFemetricsRate("connector.textFieldIntegrated",{domain:e,integrationName:t})},permissionViewShow:e=>{this._sendFemetricsRate("connector.permissionViewShow",{placement:e})},permissionViewClicked:e=>{this._sendFemetricsRate("connector.permissionViewClicked",{placement:e})},permissionViewClosed:e=>{this._sendFemetricsRate("connector.permissionViewClosed",{placement:e})},permissionPromptAccepted:e=>{this._sendFemetricsRate("connector.permissionPromptAccepted",{placement:e})},permissionPromptDenied:e=>{this._sendFemetricsRate("connector.permissionPromptDenied",{placement:e})},permissionPromptFailed:(e,t)=>{this._sendFemetricsRate("connector.permissionPromptFailed",{placement:e,message:t})}},this.serviceAvailability={viewDuration:(e,t)=>{this._sendFemetricsRate("serviceAvailabilityV2.viewDuration",e,["os"],t)},totalViewDuration:(e,t)=>{this._sendFemetricsRate("serviceAvailabilityV2.totalViewDuration",e,["os"],t)},typingDuration:(e,t)=>{const n=a.hX((e=>!r.s.has(e)),e);this._sendFemetricsRate("serviceAvailabilityV2.typingDuration",n,["os"],t),this._sendFemetricsRate("serviceAvailabilityV2.typingDuration.extended",e,["os"],t)},totalTypingDuration:(e,t)=>{this._sendFemetricsRate("serviceAvailabilityV2.totalTypingDuration",e,["os"],t)},typingLength:(e,t)=>{const n=a.hX((e=>!r.s.has(e)),e);this._sendFemetricsRate("serviceAvailabilityV2.typingLength",n,["os"],t),this._sendFemetricsRate("serviceAvailabilityV2.typingLength.extended",e,["os"],t)},totalTypingLength:(e,t)=>{this._sendFemetricsRate("serviceAvailabilityV2.totalTypingLength",e,["os"],t)},amountOfViewedDomains:e=>{this._sendFemetricsRate("serviceAvailabilityV2.amountOfViewedDomains",{bucket:e},["os"],void 0)},amountOfTypedDomains:e=>{this._sendFemetricsRate("serviceAvailabilityV2.amountOfTypedDomains",{bucket:e},["os"],void 0)}},this.treatments={getTreatmentsFromCacheFail:(e,t)=>this._sendEvent({logger:"bg.treatmentStorageManager",message:"Failed to get treatments from cache",level:s.in.ERROR,extra:{exception:e,json:JSON.stringify({storageKey:t})}}),getTreatmentsFromServerFail:(e,t)=>this._sendEvent({logger:"bg.treatmentStorageManager",message:"Failed to get treatments from server",level:s.in.ERROR,extra:{exception:e,json:JSON.stringify({storageKey:t})}}),getFallbackTreatmentsSuccess:(e,t)=>this._sendEvent({logger:"bg.treatmentStorageManager",message:"Successfully received fallback treatments",level:s.in.INFO,extra:{json:JSON.stringify({treatments:e,storageKey:t})}}),getFallbackTreatmentsFail:(e,t)=>this._sendEvent({logger:"bg.treatmentStorageManager",message:"Failed to get fallback treatments",level:s.in.ERROR,extra:{exception:e,json:JSON.stringify({storageKey:t})}})},this.pageIntegrationLifecycle=e=>{this._sendFemetricsRate("pageIntegrationLifecycle",e,["os","userOrganizationType"])},this.interactionToNextPaint=(e,t)=>{this._sendFemetricsTimer("interactionToNextPaint",e,"histogram",t)}}_send(e,t,n){const i=w(e,n);try{this._sendFelog(e,String(null==n?void 0:n.message),t,n?{json:i}:void 0)}catch(t){m.warn(`Failed to send felog for ${e}: '${(0,l.H)(t)?t.message:"undefined"}'`,t)}}_sendUsage(e,t,n){if(this._sendUsageMetrics&&this._sendUsageMetricsSamplingRatio>Math.random())try{this._sendFelogUsage(e,"",t,n)}catch(t){m.warn(`Failed to send usage felog for ${e}: '${(0,l.H)(t)?t.message:"undefined"}'`,t)}}_sendSampled(e,t,n,i){e>Math.random()&&this._send(t,n,i)}_sendSampledEvent(e,t){e>Math.random()&&this._sendEvent(t)}_sendMetric(e,t){this._sendFelogMetricEvent({metricName:e,data:t})}sendCrashLogs(e,t){try{this._sendFelogCrashLogs(t)}catch(t){m.warn(`Failed to send crash data data for ${e}: '${(0,l.H)(t)?t.message:"undefined"}'`,t)}}setUserInfo(e){this._setUserInfo(e)}setContainerId(e){this._setContainerId(e)}enableDataSharing(){this._enableDataSharing()}notificationShown(e){this._send("cs.notification.show",s.in.INFO,{type:e})}notificationHide(e){this._send("cs.notification.hide",s.in.INFO,{type:e})}}var E,S;function k(e){return e?"Failed to fetch"===e?E.FAILED_FETCH:"Could not establish connection. Receiving end does not exist."===e||e.includes("No frame with id")||e.includes("No tab with id")||e.startsWith("Frame with ID")&&e.endsWith("was removed.")?E.TAB_NOT_EXISTS:e.startsWith("IO error:")?E.IO_ERROR:"The browser is shutting down."===e?E.BROWSER_SHUTTING_DOWN:"No available storage method found."===e?E.NO_STORAGE_METHOD_FOUND:"this._firefox is undefined"===e?E.FIREFOX_UNDEFINED:"Load failed"===e?E.LOAD_FAILED:"Unexpected user type for login reminder"===e?E.UNEXPECTED_USER_TYPE:E.OTHER:E.EMPTY}function T(e){return e?e.includes("executing a cancelled action")?S.ACTION_CANCELED:"Script error."===e?S.SCRIPT_ERROR:"object unsubscribed"===e?S.OBJECT_UNSUBSCRIBED:e.includes("is not a function")?S.INVALID_FUNCTION:S.OTHER:S.EMPTY}function R(e){const t=t=>e.endsWith(t),n=(0,d.Cg)(e);if("other"===n){const e=["pubmatic.com","quantumdex.io","gumgum.com","aniview.com","amazon-adsystem","nextmillmedia.com","doubleclick.net","adsrvr.org","adnxs.com","msn.com"].find(t);if(e)return e}return n}function I(e){return{strikethrough:e.useStrikethroughFiltering,codeBlocks:e.useCodeBlockFiltering}}!function(e){let t;!function(e){e.fromPartial=e=>e}(t=e.Mock||(e.Mock={}))}(x||(x={})),function(e){e.FAILED_FETCH="FailedToFetch",e.TAB_NOT_EXISTS="TabNotExists",e.IO_ERROR="IOError",e.BROWSER_SHUTTING_DOWN="BrowserShuttingDown",e.FIREFOX_UNDEFINED="FirefoxUndefined",e.LOAD_FAILED="LoadFailed",e.UNEXPECTED_USER_TYPE="UnexpectedUserType",e.NO_STORAGE_METHOD_FOUND="NoStorageMethodFound",e.EMPTY="Empty",e.OTHER="Other"}(E||(E={})),function(e){e.ACTION_CANCELED="ActionCanceled",e.SCRIPT_ERROR="ScriptError",e.OBJECT_UNSUBSCRIBED="ObjectUnsubscribed",e.INVALID_FUNCTION="InValidFunction",e.EMPTY="Empty",e.OTHER="Other"}(S||(S={}))},56661:(e,t,n)=>{n.d(t,{r:()=>i});const i="tracking/RPC"},25428:(e,t,n)=>{n.d(t,{_:()=>o});var i=n(6752),r=n(32082),s=n(56661);function o(e,t=r.Y.create("lib.tracking.call.transport")){return new Proxy({},{get:(n,r)=>{if("enableDataSharing"!==r)return(...n)=>{Promise.race([e.api.trackCall(s.r,[r,...n]).then((()=>null)),(0,i.gw)(1e4).then((()=>new Error("timeout call through bg page")))]).then((e=>e&&t.warn("tracking call timeout",e))).catch((e=>t.warn("tracking call failed, reason:",e)))}}})}},62288:(e,t,n)=>{n.d(t,{W:()=>i});class i{constructor(e){this._onMeasure=e}measure(e){const t=performance.now();let n=!1;try{const i=e();return n=!0,i}finally{this._onMeasure(performance.now()-t,n)}}async measureAsync(e){const t=performance.now();let n=!1;try{const i=await e();return n=!0,i}finally{this._onMeasure(performance.now()-t,n)}}}},91438:(e,t,n)=>{n.d(t,{Rv:()=>i,mW:()=>s});var i,r,s,o=n(88305),a=n(72280);!function(e){function t(){return{dummy:!0,startMeasure:()=>({endMeasure:()=>{},cancelMeasure:o.EI}),measure:e=>e(),measureAsync:e=>e(),custom:o.EI}}e.dummy=t,e.dummyFactoryInitialization=()=>()=>t()}(i||(i={})),function(e){e.dummy={flushMeasures:e=>[],measure:(e,t)=>t(),startMeasure:e=>({endMeasure(){},cancelMeasure(){}})}}(r||(r={})),function(e){let t;!function(e){let t;!function(e){let t;!function(e){e.stats="stats",e.csInit="csInit",e.viewInjection="viewInjection"}(t=e.Types||(e.Types={}))}(t=e.Tagged||(e.Tagged={}))}(t=e.Data||(e.Data={})),e.getStats=function(e){if(0===e.length)return{ct:0};{const t=e.reduce(((e,t)=>Math.min(e,t)),Number.MAX_VALUE),n=e.reduce(((e,t)=>Math.max(e,t)),Number.MIN_VALUE),i=e.length>=6?(0,a.J6)(e):void 0;return{ct:e.length,min:t,max:n,range:n-t,avg:i,stddev:void 0!==i&&e.length>1?(0,a.m)(e,i):void 0}}}}(s||(s={}))},11657:(e,t,n)=>{n.d(t,{Cg:()=>o,ZE:()=>s});var i=n(69911),r=n(90944);function s(e){return a.includes(e)}function o(e=(0,i.ge)(),t="other"){var n;return(0,r.pZ)()?"null":s(e)?null!==(n=function(e){return a.getTopSiteId(e)}(e))&&void 0!==n?n:"null":t}const a=new class{constructor(e){function t(e){return`Invalid pattern "${e}": "*" is allowed only at start and/or end position`}this._equal=new Set,this._prefix=[],this._suffix=[],this._infix=[],this._domain=[];for(const n of e)if(n.startsWith("**."))this._domain.push(n.substring(3));else{const e=n.indexOf("*");if(-1===e)this._equal.add(n);else if(e===n.length-1)this._prefix.push(n.substring(0,e));else{if(0!==e)throw new Error(t(n));{const e=n.indexOf("*",1);if(-1===e)this._suffix.push(n.substring(1));else{if(e!==n.length-1)throw new Error(t(n));this._infix.push(n.substring(1,e))}}}}}getTopSiteId(e){var t,n,i,r,s,o,a;return null!==(o=null!==(s=null!==(r=null!==(i=null!==(n=null!==(t=this._equal.has(e)?e:void 0)&&void 0!==t?t:this._domain.find((t=>t===e)))&&void 0!==n?n:(a=this._domain.find((t=>e.endsWith("."+t))))?"**."+a:void 0)&&void 0!==i?i:this._prefix.find((t=>e.startsWith(t))))&&void 0!==r?r:this._suffix.find((t=>e.endsWith(t))))&&void 0!==s?s:this._infix.find((t=>e.includes(t))))&&void 0!==o?o:null}includes(e){return null!==this.getTopSiteId(e)}}(["mail.google.com","translate.google.*","docs.google.com","web.whatsapp.com","facebook.com","outlook.*","linkedin.com","zendesk.*","youtube.com","twitter.com","x.com","messenger.com","*.slack.*","*canvas*","*instructure*","trello.com","editor.wix.com","quizlet.com","mail.yahoo.com","*.force.*","keep.google.com","vk.com","fanyi.baidu.com","app.bullhornstaffing.com","app.qa-world.com","calendar.google.com","papago.naver.com","wordcounter.net","blogger.*","wattpad.com","**.wordpress.com","amazon.*","smallseotools.com","create.kahoot.it","apps.rackspace.com","basecamp.com","varsitytutors.com","canva.com","fanyi.youdao.com","reverso.net","message.alibaba.com","*schoology*","*.blackboard.*","classroom.google.com","*upwork*","business.facebook.com","medium.com","mail.aol.com","workhub.transcribeme.com","github.com","overleaf.com","chat.openai.com","chatgpt.com","**.substack.com","**.atlassian.net","**.greenhouse.io","**.lattice.com","**.latticehq.com","**.salesforce.com","**.force.com","**.zendesk.com","**.microsoftonline.com","**.outlook.com","**.facebook.com","**.messenger.com","**.genesys.com","**.cisco.com","**.avaya.com","**.oraclecloud.com","**.five9.com","**.tawk.to","**.helpscout.com","**.livechat.com","**.intercom.com","**.freshdesk.com","**.liveagent.com","**.hubspot.com","google.com","chat.google.com","classroom.google.com","quillbot.com","notion.so","**.peardeck.com","discord.com","**.officeapps.live.com","student.desmos.com","web.kamihq.com","deepl.com","upwork.com","app.nearpod.com","bard.google.com","instagram.com","teams.microsoft.com","studio.youtube.com","learning.amplify.com","commonlit.org","**.asana.com","reddit.com","forms.office.com","sites.google.com","*amazon.co*","apps.studysync.com","fiverr.com","newsnow.io","coda.io"])},15002:(e,t,n)=>{n.d(t,{SH:()=>b,jA:()=>a,nG:()=>c});var i=n(93415),r=n(88305),s=n(81617),o=n(81986);function a(e){try{return JSON.stringify(e,((e,t)=>(0,o.pb)(t)))}catch(e){return JSON.stringify({json_error:"Cannot json stringify"})}}function c(e,t){return{json:a(e),exception:t?{name:t.name,message:t.message,stack:t.stack?d(t.stack):void 0,...(0,s.Kn)(t.extra)?t.extra:{}}:void 0}}function l(){return(0,i.O)().browserApi.baseUri}const u={chromium:["<anonymous>","native","unknown location"],firefox:[],safari:["[native code]"]};function d(e,{browser:t=(0,i.O)().config.bundleInfo.browser,extensionBaseUri:n=l()}={}){if(!e)return e;const s=u["chrome"===t||"edge"===t?"chromium":t],o=e=>s.some((t=>e.startsWith(t)))||n&&e.startsWith(n),a=e.split("\n");if("chrome"===t||"edge"===t){const e=[];let t=0;for(;t<a.length&&!a[t].startsWith("    at ");)e.push(a[t]),t++;for(;t<a.length;){const n=(c=a[t],d=void 0,b=void 0,_=void 0,null===(_=null!==(b=null!==(d=h.exec(c))&&void 0!==d?d:g.exec(c))&&void 0!==b?b:p.exec(c))||void 0===_?void 0:_[1]);n?o(n)?e.push(a[t]):e.push("    at <hidden>"):e.push("    <unparsed>"),t++}return e.join("\n")}if("firefox"===t||"safari"===t)return a.map((e=>[e,"firefox"===t?m(e):f(e)])).map((([e,t])=>void 0===t?"<unparsed>":o(t)?e:"<hidden>")).join("\n");var c,d,b,_;(0,r.vE)(t)}const h=/^ {4}at ([^(]*)$/,g=/^ {4}at [^(]* \(([^()]*)\)$/,p=/^ {4}at eval \([^(]* \(([^()]*)\)\)$/;function m(e){return e.split("@",2)[1]}function f(e){var t;return null!==(t=e.split("@",2)[1])&&void 0!==t?t:e}function b(e,t){if(0===e.length)return[[-1/0,1/0,""]];const n=e=>void 0===t?e.toString():e.toExponential(t),i=new Array(e.length+1);let r=-1/0,s=e[0];i[0]=[r,s,`<${n(s)}`];for(let t=1;t<e.length;t++)r=s,s=e[t],i[t]=[r,s,`>=${n(r)}, <${n(s)}`];return i[e.length]=[s,1/0,`>=${n(s)}`],i}},33127:(e,t,n)=>{function i(){return self.matchMedia&&self.matchMedia("(prefers-color-scheme: dark)").matches}n.d(t,{Y:()=>i})},37970:(e,t,n)=>{n.d(t,{r:()=>u});var i=n(93415),r=n(26585),s=n(6752),o=n(32082),a=n(63946),c=n(8286),l=n(67693);class u{constructor(e,t,n,i=o.Y.create("DebugReportsGetterImpl")){this._envName=e,this._getLogsDefault=t,this._getLogsFallback=n,this._log=i}_getLogMessage(e,t){return t===l.l.fallback?`${e} from ${t}`:e}async _getLogs(e,t,n){const o=(0,i.O)().context;this._log.debug(this._getLogMessage(`start get ${this._envName} logs`,t));try{const i=await Promise.race([e(),(0,s.gw)(n).then((()=>{(0,r.Tb)().debugReports.downloadTimeout(o,this._envName),this._log.warn(this._getLogMessage(`get ${this._envName} logs timeout`,t))}))]);return i?((0,r.Tb)().debugReports.downloadSuccessfully(o,this._envName),this._log.debug(this._getLogMessage(`successfully get ${this._envName}`,t)),i.map((e=>({...e,loggerName:`${this._envName}.${e.loggerName}`})))):void this._log.warn(this._getLogMessage(`${this._envName} logs is not defined`,t))}catch(e){return(0,r.Tb)().debugReports.downloadError(o,this._envName),void this._log.warn(this._getLogMessage(`fail to get ${this._envName} logs`,t),e)}}get envName(){return this._envName}async getLogs(){return await this._getLogs(this._getLogsDefault,l.l.default,c.EU)||(this._getLogsFallback?await this._getLogs(this._getLogsFallback,l.l.fallback,c.q7):void 0)}static getLogsFromSessionStorageFallbackGetter(e,t=(()=>(0,i.O)().browserApi.sessionStorage)){return()=>t().get(e).then((t=>{const n=t[e];return Array.isArray(n)?n.map((e=>{try{return JSON.parse(e)}catch(t){return{level:a.in.WARN,loggerName:u.name,message:"Cannot parsed backup data!",timestamp:e.timestamp,data:{json:e},exeption:t}}})):void 0}))}}},8286:(e,t,n)=>{n.d(t,{EU:()=>r,o1:()=>o,q7:()=>s});var i=n(88030);const r=i.m9(3),s=i.E0,o='Click on "OK," will attempt to download a file with the information needed to investigate the issue you are experiencing. This archive may include domains you have recently visited and the text from the document you are typing in. To minimize the amount of sensitive information you share with us, we recommend that you (1) open a new browser window, (2) visit only the website where you can reproduce this issue, and (3) type in a document that includes only text you are comfortable sharing. For more details, see our Privacy Policy (https://www.grammarly.com/privacy-policy).'},67693:(e,t,n)=>{var i,r;n.d(t,{l:()=>i,v:()=>r}),function(e){e.default="default",e.fallback="fallback"}(i||(i={})),function(e){e.bgHistoryLogs="bgHistoryLogs",e.popupHistoryLogs="popupHistoryLogs",e.sidePanelHistoryLogs="sidePanelHistoryLogs",e.csHistoryLogs="csHistoryLogs"}(r||(r={}))},75558:(e,t,n)=>{n.d(t,{OB:()=>s,OD:()=>r});var i=n(93415);class r extends i.P{static getInstance(){if(void 0===this._instanceCSShared)throw new Error("nonBG Env not inited yet");return this._instanceCSShared}static get isInited(){return void 0!==this._instanceCSShared}static initShared(e){if(void 0!==this._instanceCSShared)throw new Error("nonBG Env already inited");this._instanceCSShared=e,i.P.initShared(e)}}function s(){return r.getInstance()}},28506:(e,t,n)=>{var i=n(42663),r=n(2963)(i);r.push([e.id,"._cWTM9-animatedUnderline{visibility:hidden;position:fixed;}._cWTM9-animatedUnderline:after{content:'';position:absolute;visibility:visible;height:3px;bottom:0;border-radius:10px;background:#488cc8;animation:_Axb1F-showUnderline 1.3s ease forwards}._cWTM9-animatedUnderline._qSuCO-completeAnimation:after{animation:_Axb1F-showUnderline .2s ease forwards}@keyframes _Axb1F-showUnderline{0%{width:0%}100%{width:100%}}._hoLGP-checkAnimatedUnderline{animation:_Axb1F-showUnderline 2s ease forwards;}._hoLGP-checkAnimatedUnderline._qSuCO-completeAnimation{animation:_Axb1F-showUnderline .2s ease forwards}",""]),r.locals={animatedUnderline:"_cWTM9-animatedUnderline",showUnderline:"_Axb1F-showUnderline",completeAnimation:"_qSuCO-completeAnimation",checkAnimatedUnderline:"_hoLGP-checkAnimatedUnderline"},e.exports=r},2963:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,r,s){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(i)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(o[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);i&&o[u[0]]||(void 0!==s&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=s),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),t.push(u))}},t}},42663:e=>{e.exports=function(e){return e[1]}},90023:(e,t,n)=>{n.d(t,{SK:()=>o,ls:()=>r,yR:()=>i,zG:()=>s});function i(e){return e}function r(e,t,n,i,r,s,o,a,c){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return i(n(t(e.apply(this,arguments))))};case 5:return function(){return r(i(n(t(e.apply(this,arguments)))))};case 6:return function(){return s(r(i(n(t(e.apply(this,arguments))))))};case 7:return function(){return o(s(r(i(n(t(e.apply(this,arguments)))))))};case 8:return function(){return a(o(s(r(i(n(t(e.apply(this,arguments))))))))};case 9:return function(){return c(a(o(s(r(i(n(t(e.apply(this,arguments)))))))))}}}function s(e,t,n,i,r,s,o,a,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return i(n(t(e)));case 5:return r(i(n(t(e))));case 6:return s(r(i(n(t(e)))));case 7:return o(s(r(i(n(t(e))))));case 8:return a(o(s(r(i(n(t(e)))))));case 9:return c(a(o(s(r(i(n(t(e))))))));default:for(var l=arguments[0],u=1;u<arguments.length;u++)l=arguments[u](l);return l}}var o=function(e,t){return t}},13175:e=>{e.exports={animatedUnderline:"ymqHP",showUnderline:"JQguZ",completeAnimation:"ExcM8"}},44675:e=>{var t,n,i=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(e){t=r}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var a,c=[],l=!1,u=-1;function d(){l&&a&&(l=!1,a.length?c=a.concat(c):u=-1,c.length&&h())}function h(){if(!l){var e=o(d);l=!0;for(var t=c.length;t;){for(a=c,c=[];++u<t;)a&&a[u].run();u=-1,t=c.length}a=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new g(e,t)),1!==c.length||l||o(h)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},62552:(e,t,n)=>{n.d(t,{X:()=>r});var i=n(5972),r=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return(0,i.ZT)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,i=e._value;if(t)throw n;return this._throwIfClosed(),i},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(n(74822).x)},70937:(e,t,n)=>{n.d(t,{A:()=>r,JM:()=>s,TQ:()=>i});var i=o("C",void 0,void 0);function r(e){return o("E",void 0,e)}function s(e){return o("N",e,void 0)}function o(e,t,n){return{kind:e,value:t,error:n}}},8867:(e,t,n)=>{n.d(t,{y:()=>u});var i=n(69088),r=n(32073),s=n(61443),o=n(67982),a=n(86899),c=n(32540),l=n(60798),u=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var s,o=this,a=(s=e)&&s instanceof i.Lv||function(e){return e&&(0,c.m)(e.next)&&(0,c.m)(e.error)&&(0,c.m)(e.complete)}(s)&&(0,r.Nn)(s)?e:new i.Hp(e,t,n);return(0,l.x)((function(){var e=o,t=e.operator,n=e.source;a.add(t?t.call(a,n):n?o._subscribe(a):o._trySubscribe(a))})),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=d(t))((function(t,r){var s=new i.Hp({next:function(t){try{e(t)}catch(e){r(e),s.unsubscribe()}},error:r,complete:t});n.subscribe(s)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[s.L]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,o.U)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=d(e))((function(e,n){var i;t.subscribe((function(e){return i=e}),(function(e){return n(e)}),(function(){return e(i)}))}))},e.create=function(t){return new e(t)},e}();function d(e){var t;return null!==(t=null!=e?e:a.v.Promise)&&void 0!==t?t:Promise}},36912:(e,t,n)=>{n.d(t,{b:()=>r});var i=n(80210),r=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=i.l.now,e}()},74822:(e,t,n)=>{n.d(t,{x:()=>l});var i=n(5972),r=n(8867),s=n(32073),o=n(17617),a=n(10135),c=n(60798),l=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,i.ZT)(t,e),t.prototype.lift=function(e){var t=new u(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new o.N},t.prototype.next=function(e){var t=this;(0,c.x)((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var s=(0,i.XA)(t.currentObservers),o=s.next();!o.done;o=s.next()){o.value.next(e)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;(0,c.x)((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;(0,c.x)((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,i=n.hasError,r=n.isStopped,o=n.observers;return i||r?s.Lc:(this.currentObservers=null,o.push(e),new s.w0((function(){t.currentObservers=null,(0,a.P)(o,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,i=t.thrownError,r=t.isStopped;n?e.error(i):r&&e.complete()},t.prototype.asObservable=function(){var e=new r.y;return e.source=this,e},t.create=function(e,t){return new u(e,t)},t}(r.y),u=function(e){function t(t,n){var i=e.call(this)||this;return i.destination=t,i.source=n,i}return(0,i.ZT)(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:s.Lc},t}(l)},69088:(e,t,n)=>{n.d(t,{Hp:()=>f,Lv:()=>h});var i=n(5972),r=n(32540),s=n(32073),o=n(86899),a=n(84679),c=n(198),l=n(70937),u=n(80067),d=n(60798),h=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,(0,s.Nn)(t)&&t.add(n)):n.destination=v,n}return(0,i.ZT)(t,e),t.create=function(e,t,n){return new f(e,t,n)},t.prototype.next=function(e){this.isStopped?_((0,l.JM)(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?_((0,l.A)(e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?_(l.TQ,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(s.w0),g=Function.prototype.bind;function p(e,t){return g.call(e,t)}var m=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){b(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){b(e)}else b(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){b(e)}},e}(),f=function(e){function t(t,n,i){var s,a,c=e.call(this)||this;(0,r.m)(t)||!t?s={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=i?i:void 0}:c&&o.v.useDeprecatedNextContext?((a=Object.create(t)).unsubscribe=function(){return c.unsubscribe()},s={next:t.next&&p(t.next,a),error:t.error&&p(t.error,a),complete:t.complete&&p(t.complete,a)}):s=t;return c.destination=new m(s),c}return(0,i.ZT)(t,e),t}(h);function b(e){o.v.useDeprecatedSynchronousErrorHandling?(0,d.O)(e):(0,a.h)(e)}function _(e,t){var n=o.v.onStoppedNotification;n&&u.z.setTimeout((function(){return n(e,t)}))}var v={closed:!0,next:c.Z,error:function(e){throw e},complete:c.Z}},32073:(e,t,n)=>{n.d(t,{Lc:()=>c,Nn:()=>l,w0:()=>a});var i=n(5972),r=n(32540),s=n(62178),o=n(10135),a=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,o,a;if(!this.closed){this.closed=!0;var c=this._parentage;if(c)if(this._parentage=null,Array.isArray(c))try{for(var l=(0,i.XA)(c),d=l.next();!d.done;d=l.next()){d.value.remove(this)}}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}else c.remove(this);var h=this.initialTeardown;if((0,r.m)(h))try{h()}catch(e){a=e instanceof s.B?e.errors:[e]}var g=this._finalizers;if(g){this._finalizers=null;try{for(var p=(0,i.XA)(g),m=p.next();!m.done;m=p.next()){var f=m.value;try{u(f)}catch(e){a=null!=a?a:[],e instanceof s.B?a=(0,i.ev)((0,i.ev)([],(0,i.CR)(a)),(0,i.CR)(e.errors)):a.push(e)}}}catch(e){n={error:e}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(n)throw n.error}}}if(a)throw new s.B(a)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)u(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&(0,o.P)(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&(0,o.P)(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),c=a.EMPTY;function l(e){return e instanceof a||e&&"closed"in e&&(0,r.m)(e.remove)&&(0,r.m)(e.add)&&(0,r.m)(e.unsubscribe)}function u(e){(0,r.m)(e)?e():e.unsubscribe()}},86899:(e,t,n)=>{n.d(t,{v:()=>i});var i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},84308:(e,t,n)=>{n.d(t,{a:()=>h});var i=n(8867),r=n(38601),s=n(50750),o=n(94173),a=n(4447),c=n(2673),l=n(56612),u=n(96643),d=n(20610);function h(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,c.yG)(e),u=(0,c.jO)(e),d=(0,r.D)(e),h=d.args,p=d.keys;if(0===h.length)return(0,s.D)([],n);var m=new i.y(g(h,n,p?function(e){return(0,l.n)(p,e)}:o.y));return u?m.pipe((0,a.Z)(u)):m}function g(e,t,n){return void 0===n&&(n=o.y),function(i){p(t,(function(){for(var r=e.length,o=new Array(r),a=r,c=r,l=function(r){p(t,(function(){var l=(0,s.D)(e[r],t),d=!1;l.subscribe((0,u.x)(i,(function(e){o[r]=e,d||(d=!0,c--),c||i.next(n(o.slice()))}),(function(){--a||i.complete()})))}),i)},d=0;d<r;d++)l(d)}),i)}}function p(e,t,n){e?(0,d.f)(n,e,t):t()}},20680:(e,t,n)=>{n.d(t,{z:()=>o});var i=n(18767),r=n(2673),s=n(50750);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,i.u)()((0,s.D)(e,(0,r.yG)(e)))}},36344:(e,t,n)=>{n.d(t,{E:()=>i});var i=new(n(8867).y)((function(e){return e.complete()}))},50750:(e,t,n)=>{n.d(t,{D:()=>s});var i=n(91603),r=n(16537);function s(e,t){return t?(0,i.x)(e,t):(0,r.Xf)(e)}},44071:(e,t,n)=>{n.d(t,{R:()=>g});var i=n(5972),r=n(16537),s=n(8867),o=n(17869),a=n(87991),c=n(32540),l=n(4447),u=["addListener","removeListener"],d=["addEventListener","removeEventListener"],h=["on","off"];function g(e,t,n,m){if((0,c.m)(n)&&(m=n,n=void 0),m)return g(e,t,n).pipe((0,l.Z)(m));var f=(0,i.CR)(function(e){return(0,c.m)(e.addEventListener)&&(0,c.m)(e.removeEventListener)}(e)?d.map((function(i){return function(r){return e[i](t,r,n)}})):function(e){return(0,c.m)(e.addListener)&&(0,c.m)(e.removeListener)}(e)?u.map(p(e,t)):function(e){return(0,c.m)(e.on)&&(0,c.m)(e.off)}(e)?h.map(p(e,t)):[],2),b=f[0],_=f[1];if(!b&&(0,a.z)(e))return(0,o.z)((function(e){return g(e,t,n)}))((0,r.Xf)(e));if(!b)throw new TypeError("Invalid event target");return new s.y((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return b(t),function(){return _(t)}}))}function p(e,t){return function(n){return function(i){return e[n](t,i)}}}},16537:(e,t,n)=>{n.d(t,{Xf:()=>m});var i=n(5972),r=n(87991),s=n(2662),o=n(8867),a=n(78816),c=n(13532),l=n(29226),u=n(95256),d=n(43852),h=n(32540),g=n(84679),p=n(61443);function m(e){if(e instanceof o.y)return e;if(null!=e){if((0,a.c)(e))return _=e,new o.y((function(e){var t=_[p.L]();if((0,h.m)(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if((0,r.z)(e))return b=e,new o.y((function(e){for(var t=0;t<b.length&&!e.closed;t++)e.next(b[t]);e.complete()}));if((0,s.t)(e))return m=e,new o.y((function(e){m.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,g.h)}));if((0,c.D)(e))return f(e);if((0,u.T)(e))return n=e,new o.y((function(e){var t,r;try{for(var s=(0,i.XA)(n),o=s.next();!o.done;o=s.next()){var a=o.value;if(e.next(a),e.closed)return}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}e.complete()}));if((0,d.L)(e))return t=e,f((0,d.Q)(t))}var t,n,m,b,_;throw(0,l.z)(e)}function f(e){return new o.y((function(t){(function(e,t){var n,r,s,o;return(0,i.mG)(this,void 0,void 0,(function(){var a,c;return(0,i.Jh)(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=(0,i.KL)(e),l.label=1;case 1:return[4,n.next()];case 2:if((r=l.sent()).done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=l.sent(),s={error:c},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}},64271:(e,t,n)=>{n.d(t,{T:()=>c});var i=n(31603),r=n(16537),s=n(36344),o=n(2673),a=n(50750);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,o.yG)(e),c=(0,o._6)(e,1/0),l=e;return l.length?1===l.length?(0,r.Xf)(l[0]):(0,i.J)(c)((0,a.D)(l,n)):s.E}},84714:(e,t,n)=>{n.d(t,{of:()=>s});var i=n(2673),r=n(50750);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,i.yG)(e);return(0,r.D)(e,n)}},93440:(e,t,n)=>{n.d(t,{H:()=>a});var i=n(8867),r=n(25941),s=n(34446),o=n(11203);function a(e,t,n){void 0===e&&(e=0),void 0===n&&(n=r.P);var a=-1;return null!=t&&((0,s.K)(t)?n=t:a=t),new i.y((function(t){var i=(0,o.q)(e)?+e-n.now():e;i<0&&(i=0);var r=0;return n.schedule((function(){t.closed||(t.next(r++),0<=a?this.schedule(void 0,a):t.complete())}),i)}))}},78837:(e,t,n)=>{n.d(t,{g:()=>o});var i=n(8867),r=n(16537),s=n(36344);function o(e,t){return new i.y((function(n){var i=e(),o=t(i);return(o?(0,r.Xf)(o):s.E).subscribe(n),function(){i&&i.unsubscribe()}}))}},96643:(e,t,n)=>{n.d(t,{x:()=>r});var i=n(5972);function r(e,t,n,i,r){return new s(e,t,n,i,r)}var s=function(e){function t(t,n,i,r,s,o){var a=e.call(this,t)||this;return a.onFinalize=s,a.shouldUnsubscribe=o,a._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=r?function(e){try{r(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=i?function(){try{i()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return(0,i.ZT)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(n(69088).Lv)},18767:(e,t,n)=>{n.d(t,{u:()=>r});var i=n(31603);function r(){return(0,i.J)(1)}},5447:(e,t,n)=>{n.d(t,{d:()=>s});var i=n(19064),r=n(96643);function s(e){return(0,i.e)((function(t,n){var i=!1;t.subscribe((0,r.x)(n,(function(e){i=!0,n.next(e)}),(function(){i||n.next(e),n.complete()})))}))}},24666:(e,t,n)=>{n.d(t,{x:()=>o});var i=n(94173),r=n(19064),s=n(96643);function o(e,t){return void 0===t&&(t=i.y),e=null!=e?e:a,(0,r.e)((function(n,i){var r,o=!0;n.subscribe((0,s.x)(i,(function(n){var s=t(n);!o&&e(r,s)||(o=!1,r=s,i.next(n))})))}))}function a(e,t){return e===t}},90572:(e,t,n)=>{n.d(t,{h:()=>s});var i=n(19064),r=n(96643);function s(e,t){return(0,i.e)((function(n,i){var s=0;n.subscribe((0,r.x)(i,(function(n){return e.call(t,n,s++)&&i.next(n)})))}))}},14969:(e,t,n)=>{n.d(t,{P:()=>l});var i=n(54784),r=n(90572),s=n(84178),o=n(5447),a=n(27649),c=n(94173);function l(e,t){var n=arguments.length>=2;return function(l){return l.pipe(e?(0,r.h)((function(t,n){return e(t,n,l)})):c.y,(0,s.q)(1),n?(0,o.d)(t):(0,a.T)((function(){return new i.K})))}}},59179:(e,t,n)=>{n.d(t,{U:()=>s});var i=n(19064),r=n(96643);function s(e,t){return(0,i.e)((function(n,i){var s=0;n.subscribe((0,r.x)(i,(function(n){i.next(e.call(t,n,s++))})))}))}},29479:(e,t,n)=>{n.d(t,{h:()=>r});var i=n(59179);function r(e){return(0,i.U)((function(){return e}))}},31603:(e,t,n)=>{n.d(t,{J:()=>s});var i=n(17869),r=n(94173);function s(e){return void 0===e&&(e=1/0),(0,i.z)(r.y,e)}},38079:(e,t,n)=>{n.d(t,{p:()=>o});var i=n(16537),r=n(20610),s=n(96643);function o(e,t,n,o,a,c,l,u){var d=[],h=0,g=0,p=!1,m=function(){!p||d.length||h||t.complete()},f=function(e){return h<o?b(e):d.push(e)},b=function(e){c&&t.next(e),h++;var u=!1;(0,i.Xf)(n(e,g++)).subscribe((0,s.x)(t,(function(e){null==a||a(e),c?f(e):t.next(e)}),(function(){u=!0}),void 0,(function(){if(u)try{h--;for(var e=function(){var e=d.shift();l?(0,r.f)(t,l,(function(){return b(e)})):b(e)};d.length&&h<o;)e();m()}catch(e){t.error(e)}})))};return e.subscribe((0,s.x)(t,f,(function(){p=!0,m()}))),function(){null==u||u()}}},17869:(e,t,n)=>{n.d(t,{z:()=>c});var i=n(59179),r=n(16537),s=n(19064),o=n(38079),a=n(32540);function c(e,t,n){return void 0===n&&(n=1/0),(0,a.m)(t)?c((function(n,s){return(0,i.U)((function(e,i){return t(n,e,s,i)}))((0,r.Xf)(e(n,s)))}),n):("number"==typeof t&&(n=t),(0,s.e)((function(t,i){return(0,o.p)(t,i,e,n)})))}},37108:(e,t,n)=>{n.d(t,{Q:()=>o});var i=n(20610),r=n(19064),s=n(96643);function o(e,t){return void 0===t&&(t=0),(0,r.e)((function(n,r){n.subscribe((0,s.x)(r,(function(n){return(0,i.f)(r,e,(function(){return r.next(n)}),t)}),(function(){return(0,i.f)(r,e,(function(){return r.complete()}),t)}),(function(n){return(0,i.f)(r,e,(function(){return r.error(n)}),t)})))}))}},32734:(e,t,n)=>{n.d(t,{B:()=>c});var i=n(5972),r=n(16537),s=n(74822),o=n(69088),a=n(19064);function c(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new s.x}:t,i=e.resetOnError,c=void 0===i||i,u=e.resetOnComplete,d=void 0===u||u,h=e.resetOnRefCountZero,g=void 0===h||h;return function(e){var t,i,s,u=0,h=!1,p=!1,m=function(){null==i||i.unsubscribe(),i=void 0},f=function(){m(),t=s=void 0,h=p=!1},b=function(){var e=t;f(),null==e||e.unsubscribe()};return(0,a.e)((function(e,a){u++,p||h||m();var _=s=null!=s?s:n();a.add((function(){0!==--u||p||h||(i=l(b,g))})),_.subscribe(a),!t&&u>0&&(t=new o.Hp({next:function(e){return _.next(e)},error:function(e){p=!0,m(),i=l(f,c,e),_.error(e)},complete:function(){h=!0,m(),i=l(f,d),_.complete()}}),(0,r.Xf)(e).subscribe(t))}))(e)}}function l(e,t){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];if(!0!==t){if(!1!==t){var a=new o.Hp({next:function(){a.unsubscribe(),e()}});return(0,r.Xf)(t.apply(void 0,(0,i.ev)([],(0,i.CR)(n)))).subscribe(a)}}else e()}},954:(e,t,n)=>{n.d(t,{O:()=>o});var i=n(20680),r=n(2673),s=n(19064);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,r.yG)(e);return(0,s.e)((function(t,r){(n?(0,i.z)(e,t,n):(0,i.z)(e,t)).subscribe(r)}))}},53459:(e,t,n)=>{n.d(t,{R:()=>r});var i=n(19064);function r(e,t){return void 0===t&&(t=0),(0,i.e)((function(n,i){i.add(e.schedule((function(){return n.subscribe(i)}),t))}))}},20161:(e,t,n)=>{n.d(t,{w:()=>o});var i=n(16537),r=n(19064),s=n(96643);function o(e,t){return(0,r.e)((function(n,r){var o=null,a=0,c=!1,l=function(){return c&&!o&&r.complete()};n.subscribe((0,s.x)(r,(function(n){null==o||o.unsubscribe();var c=0,u=a++;(0,i.Xf)(e(n,u)).subscribe(o=(0,s.x)(r,(function(e){return r.next(t?t(n,e,u,c++):e)}),(function(){o=null,l()})))}),(function(){c=!0,l()})))}))}},84178:(e,t,n)=>{n.d(t,{q:()=>o});var i=n(36344),r=n(19064),s=n(96643);function o(e){return e<=0?function(){return i.E}:(0,r.e)((function(t,n){var i=0;t.subscribe((0,s.x)(n,(function(t){++i<=e&&(n.next(t),e<=i&&n.complete())})))}))}},63532:(e,t,n)=>{n.d(t,{b:()=>a});var i=n(32540),r=n(19064),s=n(96643),o=n(94173);function a(e,t,n){var a=(0,i.m)(e)||t||n?{next:e,error:t,complete:n}:e;return a?(0,r.e)((function(e,t){var n;null===(n=a.subscribe)||void 0===n||n.call(a);var i=!0;e.subscribe((0,s.x)(t,(function(e){var n;null===(n=a.next)||void 0===n||n.call(a,e),t.next(e)}),(function(){var e;i=!1,null===(e=a.complete)||void 0===e||e.call(a),t.complete()}),(function(e){var n;i=!1,null===(n=a.error)||void 0===n||n.call(a,e),t.error(e)}),(function(){var e,t;i&&(null===(e=a.unsubscribe)||void 0===e||e.call(a)),null===(t=a.finalize)||void 0===t||t.call(a)})))})):o.y}},27649:(e,t,n)=>{n.d(t,{T:()=>o});var i=n(54784),r=n(19064),s=n(96643);function o(e){return void 0===e&&(e=a),(0,r.e)((function(t,n){var i=!1;t.subscribe((0,s.x)(n,(function(e){i=!0,n.next(e)}),(function(){return i?n.complete():n.error(e())})))}))}function a(){return new i.K}},76562:(e,t,n)=>{n.d(t,{r:()=>r});var i=n(8867);function r(e,t){return new i.y((function(n){var i=0;return t.schedule((function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())}))}))}},98061:(e,t,n)=>{n.d(t,{z:()=>s});var i=n(8867),r=n(20610);function s(e,t){if(!e)throw new Error("Iterable cannot be null");return new i.y((function(n){(0,r.f)(n,t,(function(){var i=e[Symbol.asyncIterator]();(0,r.f)(n,t,(function(){i.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}},41563:(e,t,n)=>{n.d(t,{Q:()=>a});var i=n(8867),r=n(95635),s=n(32540),o=n(20610);function a(e,t){return new i.y((function(n){var i;return(0,o.f)(n,t,(function(){i=e[r.h](),(0,o.f)(n,t,(function(){var e,t,r;try{t=(e=i.next()).value,r=e.done}catch(e){return void n.error(e)}r?n.complete():n.next(t)}),0,!0)})),function(){return(0,s.m)(null==i?void 0:i.return)&&i.return()}}))}},97441:(e,t,n)=>{n.d(t,{l:()=>o});var i=n(16537),r=n(37108),s=n(53459);function o(e,t){return(0,i.Xf)(e).pipe((0,s.R)(t),(0,r.Q)(t))}},27511:(e,t,n)=>{n.d(t,{c:()=>o});var i=n(16537),r=n(37108),s=n(53459);function o(e,t){return(0,i.Xf)(e).pipe((0,s.R)(t),(0,r.Q)(t))}},65784:(e,t,n)=>{n.d(t,{v:()=>s});var i=n(98061),r=n(43852);function s(e,t){return(0,i.z)((0,r.Q)(e),t)}},91603:(e,t,n)=>{n.d(t,{x:()=>f});var i=n(97441),r=n(27511),s=n(76562),o=n(41563),a=n(98061),c=n(78816),l=n(2662),u=n(87991),d=n(95256),h=n(13532),g=n(29226),p=n(43852),m=n(65784);function f(e,t){if(null!=e){if((0,c.c)(e))return(0,i.l)(e,t);if((0,u.z)(e))return(0,s.r)(e,t);if((0,l.t)(e))return(0,r.c)(e,t);if((0,h.D)(e))return(0,a.z)(e,t);if((0,d.T)(e))return(0,o.Q)(e,t);if((0,p.L)(e))return(0,m.v)(e,t)}throw(0,g.z)(e)}},25333:(e,t,n)=>{n.d(t,{a:()=>r});var i=n(5972),r=function(e){function t(t,n){return e.call(this)||this}return(0,i.ZT)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(32073).w0)},49571:(e,t,n)=>{n.d(t,{o:()=>a});var i=n(5972),r=n(25333),s=n(70498),o=n(10135),a=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.pending=!1,i}return(0,i.ZT)(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),s.V.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&s.V.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,i=!1;try{this.work(e)}catch(e){i=!0,n=e||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,i=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,o.P)(i,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(r.a)},16677:(e,t,n)=>{n.d(t,{v:()=>s});var i=n(5972),r=n(36912),s=function(e){function t(t,n){void 0===n&&(n=r.b.now);var i=e.call(this,t,n)||this;return i.actions=[],i._active=!1,i}return(0,i.ZT)(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(r.b)},25941:(e,t,n)=>{n.d(t,{P:()=>s,z:()=>r});var i=n(49571),r=new(n(16677).v)(i.o),s=r},80210:(e,t,n)=>{n.d(t,{l:()=>i});var i={now:function(){return(i.delegate||Date).now()},delegate:void 0}},70498:(e,t,n)=>{n.d(t,{V:()=>r});var i=n(5972),r={setInterval:function(e,t){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];var o=r.delegate;return(null==o?void 0:o.setInterval)?o.setInterval.apply(o,(0,i.ev)([e,t],(0,i.CR)(n))):setInterval.apply(void 0,(0,i.ev)([e,t],(0,i.CR)(n)))},clearInterval:function(e){var t=r.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0}},80067:(e,t,n)=>{n.d(t,{z:()=>r});var i=n(5972),r={setTimeout:function(e,t){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];var o=r.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,(0,i.ev)([e,t],(0,i.CR)(n))):setTimeout.apply(void 0,(0,i.ev)([e,t],(0,i.CR)(n)))},clearTimeout:function(e){var t=r.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0}},95635:(e,t,n)=>{n.d(t,{h:()=>i});var i="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},61443:(e,t,n)=>{n.d(t,{L:()=>i});var i="function"==typeof Symbol&&Symbol.observable||"@@observable"},54784:(e,t,n)=>{n.d(t,{K:()=>i});var i=(0,n(3148).d)((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}))},17617:(e,t,n)=>{n.d(t,{N:()=>i});var i=(0,n(3148).d)((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}))},62178:(e,t,n)=>{n.d(t,{B:()=>i});var i=(0,n(3148).d)((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}))},2673:(e,t,n)=>{n.d(t,{_6:()=>c,jO:()=>o,yG:()=>a});var i=n(32540),r=n(34446);function s(e){return e[e.length-1]}function o(e){return(0,i.m)(s(e))?e.pop():void 0}function a(e){return(0,r.K)(s(e))?e.pop():void 0}function c(e,t){return"number"==typeof s(e)?e.pop():t}},38601:(e,t,n)=>{n.d(t,{D:()=>a});var i=Array.isArray,r=Object.getPrototypeOf,s=Object.prototype,o=Object.keys;function a(e){if(1===e.length){var t=e[0];if(i(t))return{args:t,keys:null};if((a=t)&&"object"==typeof a&&r(a)===s){var n=o(t);return{args:n.map((function(e){return t[e]})),keys:n}}}var a;return{args:e,keys:null}}},10135:(e,t,n)=>{function i(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}n.d(t,{P:()=>i})},3148:(e,t,n)=>{function i(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}n.d(t,{d:()=>i})},56612:(e,t,n)=>{function i(e,t){return e.reduce((function(e,n,i){return e[n]=t[i],e}),{})}n.d(t,{n:()=>i})},60798:(e,t,n)=>{n.d(t,{O:()=>o,x:()=>s});var i=n(86899),r=null;function s(e){if(i.v.useDeprecatedSynchronousErrorHandling){var t=!r;if(t&&(r={errorThrown:!1,error:null}),e(),t){var n=r,s=n.errorThrown,o=n.error;if(r=null,s)throw o}}else e()}function o(e){i.v.useDeprecatedSynchronousErrorHandling&&r&&(r.errorThrown=!0,r.error=e)}},20610:(e,t,n)=>{function i(e,t,n,i,r){void 0===i&&(i=0),void 0===r&&(r=!1);var s=t.schedule((function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()}),i);if(e.add(s),!r)return s}n.d(t,{f:()=>i})},94173:(e,t,n)=>{function i(e){return e}n.d(t,{y:()=>i})},87991:(e,t,n)=>{n.d(t,{z:()=>i});var i=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},13532:(e,t,n)=>{n.d(t,{D:()=>r});var i=n(32540);function r(e){return Symbol.asyncIterator&&(0,i.m)(null==e?void 0:e[Symbol.asyncIterator])}},11203:(e,t,n)=>{function i(e){return e instanceof Date&&!isNaN(e)}n.d(t,{q:()=>i})},32540:(e,t,n)=>{function i(e){return"function"==typeof e}n.d(t,{m:()=>i})},78816:(e,t,n)=>{n.d(t,{c:()=>s});var i=n(61443),r=n(32540);function s(e){return(0,r.m)(e[i.L])}},95256:(e,t,n)=>{n.d(t,{T:()=>s});var i=n(95635),r=n(32540);function s(e){return(0,r.m)(null==e?void 0:e[i.h])}},2662:(e,t,n)=>{n.d(t,{t:()=>r});var i=n(32540);function r(e){return(0,i.m)(null==e?void 0:e.then)}},43852:(e,t,n)=>{n.d(t,{L:()=>o,Q:()=>s});var i=n(5972),r=n(32540);function s(e){return(0,i.FC)(this,arguments,(function(){var t,n,r;return(0,i.Jh)(this,(function(s){switch(s.label){case 0:t=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,(0,i.qq)(t.read())];case 3:return n=s.sent(),r=n.value,n.done?[4,(0,i.qq)(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,(0,i.qq)(r)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function o(e){return(0,r.m)(null==e?void 0:e.getReader)}},34446:(e,t,n)=>{n.d(t,{K:()=>r});var i=n(32540);function r(e){return e&&(0,i.m)(e.schedule)}},19064:(e,t,n)=>{n.d(t,{e:()=>r});var i=n(32540);function r(e){return function(t){if(function(e){return(0,i.m)(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}},4447:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(5972),r=n(59179),s=Array.isArray;function o(e){return(0,r.U)((function(t){return function(e,t){return s(t)?e.apply(void 0,(0,i.ev)([],(0,i.CR)(t))):e(t)}(e,t)}))}},198:(e,t,n)=>{function i(){}n.d(t,{Z:()=>i})},67982:(e,t,n)=>{n.d(t,{U:()=>r});var i=n(94173);function r(e){return 0===e.length?i.y:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},84679:(e,t,n)=>{n.d(t,{h:()=>s});var i=n(86899),r=n(80067);function s(e){r.z.setTimeout((function(){var t=i.v.onUnhandledError;if(!t)throw e;t(e)}))}},29226:(e,t,n)=>{function i(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}n.d(t,{z:()=>i})},94100:function(e,t,n){var i;!function(r,s){var o="function",a="undefined",c="object",l="string",u="model",d="name",h="type",g="vendor",p="version",m="architecture",f="console",b="mobile",_="tablet",v="smarttv",y="wearable",w="embedded",x="Amazon",E="Apple",S="ASUS",k="BlackBerry",T="Firefox",R="Google",I="Huawei",O="LG",A="Microsoft",C="Motorola",F="Opera",P="Samsung",N="Sharp",L="Sony",M="Xiaomi",D="Zebra",U="Facebook",j=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},B=function(e,t){return typeof e===l&&-1!==q(t).indexOf(q(e))},q=function(e){return e.toLowerCase()},H=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===a?e:e.substring(0,350)},G=function(e,t){for(var n,i,r,a,l,u,d=0;d<t.length&&!l;){var h=t[d],g=t[d+1];for(n=i=0;n<h.length&&!l;)if(l=h[n++].exec(e))for(r=0;r<g.length;r++)u=l[++i],typeof(a=g[r])===c&&a.length>0?2===a.length?typeof a[1]==o?this[a[0]]=a[1].call(this,u):this[a[0]]=a[1]:3===a.length?typeof a[1]!==o||a[1].exec&&a[1].test?this[a[0]]=u?u.replace(a[1],a[2]):s:this[a[0]]=u?a[1].call(this,u,a[2]):s:4===a.length&&(this[a[0]]=u?a[3].call(this,u.replace(a[1],a[2])):s):this[a]=u||s;d+=2}},z=function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(B(t[n][i],e))return"?"===n?s:n}else if(B(t[n],e))return"?"===n?s:n;return e},W={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},$={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,p],[/opios[\/ ]+([\w\.]+)/i],[p,[d,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[p,[d,F]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[d,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[d,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[p,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[d,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure Browser"],p],[/\bfocus\/([\w\.]+)/i],[p,[d,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[p,[d,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[d,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[d,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[p,[d,T]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 Browser"]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 Browser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,U],p],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[d,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[d,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,"Chrome WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[d,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[p,z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[d,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,q]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,"",q]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,q]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[g,P],[h,_]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[u,[g,P],[h,b]],[/\((ip(?:hone|od)[\w ]*);/i],[u,[g,E],[h,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[g,E],[h,_]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[g,I],[h,_]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[g,I],[h,b]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[u,/_/g," "],[g,M],[h,b]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[g,M],[h,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[g,"OPPO"],[h,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[g,"Vivo"],[h,b]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[u,[g,"Realme"],[h,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[g,C],[h,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[g,C],[h,_]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[g,O],[h,_]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[g,O],[h,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[g,"Lenovo"],[h,_]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[g,"Nokia"],[h,b]],[/(pixel c)\b/i],[u,[g,R],[h,_]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[g,R],[h,b]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[g,L],[h,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[g,L],[h,_]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[g,"OnePlus"],[h,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[g,x],[h,_]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[g,x],[h,b]],[/(playbook);[-\w\),; ]+(rim)/i],[u,g,[h,_]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[g,k],[h,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[g,S],[h,_]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[g,S],[h,b]],[/(nexus 9)/i],[u,[g,"HTC"],[h,_]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[u,/_/g," "],[h,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[g,"Acer"],[h,_]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[g,"Meizu"],[h,b]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[g,N],[h,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[g,u,[h,b]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,u,[h,_]],[/(surface duo)/i],[u,[g,A],[h,_]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[g,"Fairphone"],[h,b]],[/(u304aa)/i],[u,[g,"AT&T"],[h,b]],[/\bsie-(\w*)/i],[u,[g,"Siemens"],[h,b]],[/\b(rct\w+) b/i],[u,[g,"RCA"],[h,_]],[/\b(venue[\d ]{2,7}) b/i],[u,[g,"Dell"],[h,_]],[/\b(q(?:mv|ta)\w+) b/i],[u,[g,"Verizon"],[h,_]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[g,"Barnes & Noble"],[h,_]],[/\b(tm\d{3}\w+) b/i],[u,[g,"NuVision"],[h,_]],[/\b(k88) b/i],[u,[g,"ZTE"],[h,_]],[/\b(nx\d{3}j) b/i],[u,[g,"ZTE"],[h,b]],[/\b(gen\d{3}) b.+49h/i],[u,[g,"Swiss"],[h,b]],[/\b(zur\d{3}) b/i],[u,[g,"Swiss"],[h,_]],[/\b((zeki)?tb.*\b) b/i],[u,[g,"Zeki"],[h,_]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],u,[h,_]],[/\b(ns-?\w{0,9}) b/i],[u,[g,"Insignia"],[h,_]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[g,"NextBook"],[h,_]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],u,[h,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],u,[h,b]],[/\b(ph-1) /i],[u,[g,"Essential"],[h,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[g,"Envizen"],[h,_]],[/\b(trio[-\w\. ]+) b/i],[u,[g,"MachSpeed"],[h,_]],[/\btu_(1491) b/i],[u,[g,"Rotor"],[h,_]],[/(shield[\w ]+) b/i],[u,[g,"Nvidia"],[h,_]],[/(sprint) (\w+)/i],[g,u,[h,b]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[g,A],[h,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[g,D],[h,_]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[g,D],[h,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,u,[h,f]],[/droid.+; (shield) bui/i],[u,[g,"Nvidia"],[h,f]],[/(playstation [345portablevi]+)/i],[u,[g,L],[h,f]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[g,A],[h,f]],[/smart-tv.+(samsung)/i],[g,[h,v]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[g,P],[h,v]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,O],[h,v]],[/(apple) ?tv/i],[g,[u,"Apple TV"],[h,v]],[/crkey/i],[[u,"Chromecast"],[g,R],[h,v]],[/droid.+aft(\w)( bui|\))/i],[u,[g,x],[h,v]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[g,N],[h,v]],[/(bravia[\w ]+)( bui|\))/i],[u,[g,L],[h,v]],[/(mitv-\w{5}) bui/i],[u,[g,M],[h,v]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[g,H],[u,H],[h,v]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,v]],[/((pebble))app/i],[g,u,[h,y]],[/droid.+; (glass) \d/i],[u,[g,R],[h,y]],[/droid.+; (wt63?0{2,3})\)/i],[u,[g,D],[h,y]],[/(quest( 2)?)/i],[u,[g,U],[h,y]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[h,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[u,[h,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[h,_]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,_]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,b]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[d,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[p,z,W]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[p,z,W]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,"Mac OS"],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,p],[/\(bb(10);/i],[p,[d,k]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[d,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[d,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[d,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[d,"Chromium OS"],p],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,p],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[d,p]]},V=function(e,t){if(typeof e===c&&(t=e,e=s),!(this instanceof V))return new V(e,t).getResult();var n=e||(typeof r!==a&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:""),i=t?function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n}($,t):$;return this.getBrowser=function(){var e,t={};return t.name=s,t.version=s,G.call(t,n,i.browser),t.major=typeof(e=t.version)===l?e.replace(/[^\d\.]/g,"").split(".")[0]:s,t},this.getCPU=function(){var e={};return e.architecture=s,G.call(e,n,i.cpu),e},this.getDevice=function(){var e={};return e.vendor=s,e.model=s,e.type=s,G.call(e,n,i.device),e},this.getEngine=function(){var e={};return e.name=s,e.version=s,G.call(e,n,i.engine),e},this.getOS=function(){var e={};return e.name=s,e.version=s,G.call(e,n,i.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===l&&e.length>350?H(e,350):e,this},this.setUA(n),this};V.VERSION="1.0.32",V.BROWSER=j([d,p,"major"]),V.CPU=j([m]),V.DEVICE=j([u,g,h,f,b,v,_,y,w]),V.ENGINE=V.OS=j([d,p]),typeof t!==a?(e.exports&&(t=e.exports=V),t.UAParser=V):n.amdO?(i=function(){return V}.call(t,n,t,e))===s||(e.exports=i):typeof r!==a&&(r.UAParser=V);var K=typeof r!==a&&(r.jQuery||r.Zepto);if(K&&!K.ua){var J=new V;K.ua=J.getResult(),K.ua.get=function(){return J.getUA()},K.ua.set=function(e){J.setUA(e);var t=J.getResult();for(var n in t)K.ua[n]=t[n]}}}("object"==typeof self?self:this)},5972:(e,t,n)=>{n.d(t,{CR:()=>c,FC:()=>d,Jh:()=>o,KL:()=>h,XA:()=>a,ZT:()=>r,ev:()=>l,mG:()=>s,qq:()=>u});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function s(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))}function o(e,t){var n,i,r,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}Object.create;function a(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}function l(e,t,n){if(n||2===arguments.length)for(var i,r=0,s=t.length;r<s;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function u(e){return this instanceof u?(this.v=e,this):new u(e)}function d(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),s=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",(function(e){return function(t){return Promise.resolve(t).then(e,l)}})),i[Symbol.asyncIterator]=function(){return this},i;function o(e,t){r[e]&&(i[e]=function(t){return new Promise((function(n,i){s.push([e,t,n,i])>1||a(e,t)}))},t&&(i[e]=t(i[e])))}function a(e,t){try{(n=r[e](t)).value instanceof u?Promise.resolve(n.value.v).then(c,l):d(s[0][2],n)}catch(e){d(s[0][3],e)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function h(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=a(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){(function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)})(i,r,(t=e[n](t)).done,t.value)}))}}}Object.create;"function"==typeof SuppressedError&&SuppressedError}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.amdO={},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,n)=>(__webpack_require__.f[n](e,t),t)),[])),__webpack_require__.u=e=>9513===e?"AAA-initAssistant.common.chunk.js":e+".vendors.chunk.js",__webpack_require__.miniCssF=e=>"../css/"+{5526:"Grammarly-check",9513:"AAA-initAssistant"}[e]+".styles.css",__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},__webpack_require__.l=(e,t,n,i)=>{if(inProgress[e])inProgress[e].push(t);else{var r,s;if(void 0!==n)for(var o=document.getElementsByTagName("script"),a=0;a<o.length;a++){var c=o[a];if(c.getAttribute("src")==e){r=c;break}}if(!r){s=!0;var l=e,u=(i=n.replace("chunk-",""),function(t){var n={type:t,target:{src:l}},i=inProgress[e];delete inProgress[e],i&&i.forEach((e=>e(n)))});return inProgress[e]=[t],import(l).then((()=>u("load"))).catch((()=>{var t;t={type:"CODE_SPLITTING_INJECT",file:e},chrome.runtime.sendMessage(t);var n=0,r=setInterval((()=>{var e=window.webpackChunk,t=Array.isArray(e)&&e.some((e=>Array.isArray(e)&&Array.isArray(e[0])&&e[0].includes(i)));t||n>12e4?(clearInterval(r),u(t?"load":"missing")):n+=100}),100)}))}inProgress[e]=[t];var d=(t,n)=>{r.onerror=r.onload=null,clearTimeout(h);var i=inProgress[e];if(delete inProgress[e],r.parentNode&&r.parentNode.removeChild(r),i&&i.forEach((e=>e(n))),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=d.bind(null,r.onerror),r.onload=d.bind(null,r.onload),s&&document.head.appendChild(r)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.j=5526,__webpack_require__.p="/src/js/",__webpack_require__.p=(path=__webpack_require__.p,__webpack_require__.p&&__webpack_require__.p.includes("://")?path:chrome.runtime.getURL(path)),loadStylesheet=e=>new Promise(((t,n)=>{var i=__webpack_require__.miniCssF(e),r=__webpack_require__.p+i;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var r=(o=n[i]).getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(r===e||r===t))return o}var s=document.getElementsByTagName("style");for(i=0;i<s.length;i++){var o;if((r=(o=s[i]).getAttribute("data-href"))===e||r===t)return o}})(i,r))return t();((e,t,n,i)=>{var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",r.onerror=r.onload=s=>{if(r.onerror=r.onload=null,"load"===s.type)n();else{var o=s&&("load"===s.type?"missing":s.type),a=s&&s.target&&s.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=o,c.request=a,r.parentNode.removeChild(r),i(c)}},r.href=t,(e=>{e.dispatchEvent(new Event("load"))})(r)})(e,r,t,n)})),installedCssChunks={5526:0},__webpack_require__.f.miniCss=(e,t)=>{installedCssChunks[e]?t.push(installedCssChunks[e]):0!==installedCssChunks[e]&&{9513:1}[e]&&t.push(installedCssChunks[e]=loadStylesheet(e).then((()=>{installedCssChunks[e]=0}),(t=>{throw delete installedCssChunks[e],t})))},(()=>{var e={5526:0};__webpack_require__.f.j=(t,n)=>{var i=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var r=new Promise(((n,r)=>i=e[t]=[n,r]));n.push(i[2]=r);var s=__webpack_require__.p+__webpack_require__.u(t),o=new Error;__webpack_require__.l(s,(n=>{if(__webpack_require__.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var r=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",o.name="ChunkLoadError",o.type=r,o.request=s,i[1](o)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,r,[s,o,a]=n,c=0;if(s.some((t=>0!==e[t]))){for(i in o)__webpack_require__.o(o,i)&&(__webpack_require__.m[i]=o[i]);if(a)a(__webpack_require__)}for(t&&t(n);c<s.length;c++)r=s[c],__webpack_require__.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{var e=__webpack_require__(13874),t=__webpack_require__(90944),n=__webpack_require__(32082),i=__webpack_require__(99304);class r{constructor({experimentClient:e,logger:t=n.Y.create("AlwaysAvailableAssistantLoader")}){this._disposables=[],this._subscriptions=[],this._experimentClient=e,this._logger=t}async _load(){this._logger.info(`Attempting to load assistant for domain: ${document.location.origin}`),await(0,i.O)()?this._experimentClient.isGateEnabled(e.D.AssistantInSidePanel)?this.isAlreadyLoaded()||((0,t.hF)()?this.isAlreadyLoaded()||(document.body.dataset.grAaaLoaded="true",Promise.all([__webpack_require__.e(4527),__webpack_require__.e(1918),__webpack_require__.e(9513)]).then(__webpack_require__.bind(__webpack_require__,77149)).then((({initAssistant:e})=>{this._disposables.push(e()),this._logger.info("Assistant loaded")}))):this._logger.info("Detected not running in the topmost frame")):this._logger.info("Assistant gate is not enabled"):this._logger.info("Side panel is not supported")}isAlreadyLoaded(){return"true"===document.body.dataset.grAaaLoaded&&(this._logger.info("Assistant is already loaded"),!0)}update(e){this._logger.info("is assistant can be loaded",e),e?this._load():this.dispose()}dispose(){this._logger.info("Disposing of resources"),delete document.body.dataset.grAaaLoaded,this._disposables.forEach((e=>null==e?void 0:e.dispose())),this._subscriptions.forEach((e=>null==e?void 0:e.unsubscribe()))}}var s=__webpack_require__(69911),o=__webpack_require__(88305);function a(e,t){var n,i,r;const s=null===(r=null===(i=null===(n=null==t?void 0:t.citationBuilder)||void 0===n?void 0:n.domains)||void 0===i?void 0:i[e])||void 0===r?void 0:r.disabled;return void 0!==s?!s:void 0}function c(e,t){return h(t).some((t=>new RegExp(t.domain).test(e)))}function l(e){var t,n;return!(null!==(n=null===(t=e.citationBuilder)||void 0===t?void 0:t.disabled)&&void 0!==n&&n)}function u(e,t){return h(t).some((t=>{const n=new RegExp(t.domain),i=new RegExp(t.pathname);return n.test(e.hostname)&&i.test(e.pathname)}))}function d(e,t,n){const i=a(e,n);return l(t)&&(void 0===i&&c(e,t)||!0===i)}function h(e){var t,n;return null!==(n=null===(t=e.citationBuilder)||void 0===t?void 0:t.sources)&&void 0!==n?n:[]}(0,o.hz)((()=>{const e=document.location.href;return(0,s.KK)(e)}));(0,o.hz)((e=>{const t=document.location.href;return{url:t,domain:(0,s.KK)(t),isUrlAllowlisted:u(document.location,e)}})),(0,o.hz)((()=>o.iy.create()));const g=["chat.openai.com","gemini.google.com","www.perplexity.ai","perplexity.ai","chatgpt.com","claude.ai","www.wikipedia.org",".wikipedia.org"],p=["docs.google.com"];class m{addTypingTarget(e){}dispose(e){}}var f=__webpack_require__(13391),b=__webpack_require__(32073);var _,v=__webpack_require__(10138);!function(e){function t(e,t){try{for(const n of Object.keys(t))if(t[n]&&t[n](e))return n;return null}catch(e){return null}}e.ckeditor4Selector="cke_editable",e.isSpecific={draftJs:e=>!(!e.hasAttribute("contenteditable")||!e.querySelector('[data-contents="true"] > [data-editor], [data-block]')),quill:e=>e.classList.contains("ql-editor")||e.classList.contains("ql-container"),redactor:e=>e.className.indexOf("redactor")>-1,prosemirror:e=>e.hasAttribute("pm-container")||e.classList.contains("ProseMirror"),scribe:e=>e.className.indexOf("scribe")>-1,trix:e=>e.className.indexOf("trix")>-1,"medium-editor":e=>e.className.indexOf("medium-editor")>-1,tinymce:e=>{if("IFRAME"!==e.tagName)return!1;const t=e;return t.id.indexOf("mce")>-1||!!(t.contentDocument&&t.contentDocument.querySelectorAll("#tinymce, .mce-content-body").length>0)},ckeditor4:t=>t.matches("iframe.cke_wysiwyg_frame")||t.classList.contains(e.ckeditor4Selector),ckeditor5:e=>e.classList.contains("ck-editor__editable"),slate:e=>"true"===e.getAttribute("data-slate-editor"),mobiledoc:e=>e.classList.contains("__mobiledoc-editor")},e.isGeneric={contenteditable:e=>{const t=e.attributes.getNamedItem("contenteditable");return!(!function(e){return!(e instanceof HTMLSelectElement)}(e)||!t||"true"!==t.value&&""!==t.value&&"plaintext-only"!==t.value)},textarea:e=>"TEXTAREA"===e.tagName,iframe:t=>{if("IFRAME"===t.tagName){const n=t;return!!(n.contentDocument&&n.contentDocument.body&&e.isGeneric.contenteditable(n.contentDocument.body))}return!1},iframeHost:t=>{if("IFRAME"===t.tagName){const n=t;return!(n.contentDocument&&n.contentDocument.body&&e.isGeneric.contenteditable(n.contentDocument.body))}return!1}},e.get=function(n){return{generic:t(n,e.isGeneric),specific:t(n,e.isSpecific)}}}(_||(_={}));var y=__webpack_require__(88030);const w=y.E0,x=2*w,E=y.Z7,S=new Set(["INPUT","BODY"]),k=new Set(["integrated","integrated_via_connector"]),T="unknown",R=y.E0;var I=__webpack_require__(32734),O=__webpack_require__(59179),A=__webpack_require__(90572),C=__webpack_require__(20161),F=__webpack_require__(64271),P=__webpack_require__(44071),N=__webpack_require__(8867),L=__webpack_require__(25941),M=__webpack_require__(93440);function D(e,t){return void 0===e&&(e=0),void 0===t&&(t=L.z),e<0&&(e=0),(0,M.H)(e,e,t)}var U=__webpack_require__(19064),j=__webpack_require__(96643);var B=__webpack_require__(5972),q=__webpack_require__(36344);Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function H(e=0,t,n){const i="number"==typeof e?e:null==e?void 0:e.getTime();return null!=i&&i>=2147483647?new N.y((e=>{const r=Date.now(),s=D(1e3,n).pipe((a=()=>Date.now()-r<i,void 0===c&&(c=!1),(0,U.e)((function(e,t){var n=0;e.subscribe((0,j.x)(t,(function(e){var i=a(e,n++);(i||c)&&t.next(e),!i&&t.complete()})))}))),(o=1,o<=0?function(){return q.E}:(0,U.e)((function(e,t){var n=[];e.subscribe((0,j.x)(t,(function(e){n.push(e),o<n.length&&n.shift()}),(function(){var e,i;try{for(var r=(0,B.XA)(n),s=r.next();!s.done;s=r.next()){var o=s.value;t.next(o)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}t.complete()}),void 0,(function(){n=null})))}))),null==t?(0,O.U)((()=>0)):(0,C.w)((()=>D(t,n)))).subscribe(e);var o,a,c;return()=>s.unsubscribe()})):null!=t?(0,M.H)(e,t,n):(0,M.H)(e,n)}var G=__webpack_require__(954),z=__webpack_require__(24666);var W=__webpack_require__(198),$=__webpack_require__(16537);var V,K=__webpack_require__(94173),J=__webpack_require__(2673);function X(e,t){return n=>n.pipe(z.x(e),(0,U.e)((function(e,t){var n,i=!1;e.subscribe((0,j.x)(t,(function(e){var r=n;n=e,i&&t.next([r,e]),i=!0})))})),A.h((([e,n])=>t(e,n))))}function Y(e){return t=>t.pipe(function(e){return(0,U.e)((function(t,n){var i=[];return t.subscribe((0,j.x)(n,(function(e){return i.push(e)}),(function(){n.next(i),n.complete()}))),(0,$.Xf)(e).subscribe((0,j.x)(n,(function(){var e=i;i=[],n.next(e)}),W.Z)),function(){i=null}}))}(e),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,J.jO)(e);return(0,U.e)((function(t,i){for(var r=e.length,s=new Array(r),o=e.map((function(){return!1})),a=!1,c=function(t){(0,$.Xf)(e[t]).subscribe((0,j.x)(i,(function(e){s[t]=e,a||o[t]||(o[t]=!0,(a=o.every(K.y))&&(o=null))}),W.Z))},l=0;l<r;l++)c(l);t.subscribe((0,j.x)(i,(function(e){if(a){var t=(0,B.ev)([e],(0,B.CR)(s));i.next(n?n.apply(void 0,(0,B.ev)([],(0,B.CR)(t))):t)}})))}))}(e))}function Z(e){const t=e.pipe((n="keypress",i={capture:!0},e=>e.pipe(C.w((e=>F.T(...e.map((e=>P.R(e,n,i)))))))),I.B());var n,i;const r=t.pipe(function(e,t,n){return i=>i.pipe(C.w((i=>H(e).pipe(O.U((()=>n(i))),G.O(t(i))))))}(w,(()=>({event:V.startTyping,timestamp:Date.now()})),(()=>({event:V.endTyping,timestamp:Date.now()-w}))),X(((e,t)=>e.event===t.event),((e,t)=>e.event===V.startTyping&&t.event===V.endTyping)),I.B());return t.pipe(O.U((e=>[e.target instanceof HTMLElement?e.target:document.activeElement,e.key,Date.now()])),Y(r),O.U((([e,[t,n]])=>{const i=n.timestamp-t.timestamp,r=e.length,s=e.reduce(((e,[t,n,i])=>{if(t instanceof HTMLElement){const r=e.get(t);e.set(t,{text:r?r.text+n:n,lastTypingTimestamp:i})}return e}),new Map);return Array.from(s.entries()).map((([e,t])=>({target:e,text:t.text,textLength:t.text.length,lastTypingTimestamp:t.lastTypingTimestamp,duration:Math.round(i*t.text.length/r)}))).filter((e=>e.duration>0))})),A.h((e=>e.length>0)))}!function(e){e.startTyping="startTyping",e.endTyping="endTyping"}(V||(V={}));const Q=()=>({ORGANIZATION_CONTROLS:{title:"Browser extension unavailable",message:"Your organization has turned off the Grammarly browser extension."},SERVER_UNAVAILABLE:{title:"Grammarly is temporarily unavailable",message:`There is an issue connecting to your organizations security settings. Please try again later\n                or <a href="${(0,t.Um)().support}">contact support</a> if the issue persists.`}});var ee;!function(e){function t(e,t){if(!e||!t)return!0;return!t.includes(e)}function n(e,t){var n;return Boolean((null==t?void 0:t.isDesktopIntegrationEnabled)&&(null===(n=e.llamaIntegration)||void 0===n?void 0:n.enabled))}function i(e,n,i,r){var o,a;const c=r?(0,s.KK)(r):void 0,l=n.isLlamaInstalled&&(null===(o=i.llamaIntegration)||void 0===o?void 0:o.enabled);return t(c,null===(a=i.llamaIntegration)||void 0===a?void 0:a.disabledByDomain)&&(l||"true"===e.showDesktopIntegrationExtensionToggle)}e.isEnabled=n,e.showSettingPopupToggle=i,e.showDisabledByDesktopExtensionGButton=function(e,t,r,s){return i(t,e,r,s)&&n(r,e)},e.isIntegrationEnabled=function(e,i,r){var s;return!(!e||!r)&&(t(i,null===(s=r.llamaIntegration)||void 0===s?void 0:s.disabledByDomain)&&n(r,e))}}(ee||(ee={}));function te(e,t){var n;const i=e[t],r=null===(n=null==i?void 0:i.enabled)||void 0===n||n;return{...e.common,...i,enabled:r}}const ne="data-enable-grammarly",ie=["data-gramm_editor","data-gramm","data-gramm_id","gramm_editor"],re=[...ie,"readonly","disabled"],se=["pm-container",{name:"class",value:"ProseMirror"},"data-synchrony",{name:"data-gramm",value:"false"},{name:ne,value:"false"},{name:"aria-label",value:"Search Facebook"}],oe=["changed-user","changed-plan","changed-dialect","cleanup","editor-fix","llama-action","close-current-tab"];function ae(e,t){let n=e.parentNode;for(;null!==n;){if(le(n,t))return n;n=n.parentNode}return!1}function ce(e){return"true"===e.contentEditable||"plaintext-only"===e.contentEditable}function le(e,t){if(!e)return!1;const n=e.matches||e.msMatchesSelector||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector;return!!n&&n.apply(e,[t])}function ue(e,t=null,n){return this.addEventListener(e,t,n),{off:()=>de.apply(this,[e,t,n])}}function de(e,t,n){this.removeEventListener(e,t||null,n)}var he=__webpack_require__(6752),ge=__webpack_require__(48691);var pe,me,fe;function be(e,t){var n,i,r;return"integrated"===(null==t?void 0:t.key)?t.integratedState.getPlainText():null!==(r=[e.text,null!==(i=null===(n=e.target)||void 0===n?void 0:n.textContent)&&void 0!==i?i:"",e.target instanceof HTMLTextAreaElement?e.target.value:""].reduce(((e,t)=>!(0,ge.HD)(e)||e.length<t.length?t:e),void 0))&&void 0!==r?r:""}function _e(e,t,n,i,r,s,o){var a,c,l,u;const d=function(e,t,n,i){var r,s,o,a,c,l,u;if(!(null===(r=e.connection)||void 0===r?void 0:r.online))return"disabled_due_to_network_connection";const d=Q();return t.isEnterpriseConfig&&(null===(s=t.unsupportedMessage)||void 0===s?void 0:s.message)===d.ORGANIZATION_CONTROLS.message?"disabled_by_enterprise":t.enabled||t.servicePage?null===(c=null===(a=null===(o=e.extensionSettings)||void 0===o?void 0:o[n])||void 0===a?void 0:a.enabled)||void 0===c||c?(null===(l=e.connectorSettings)||void 0===l?void 0:l.isConnected)?"integrated_via_connector":e.dynamicConfig&&e.extensionSettings&&ee.showDisabledByDesktopExtensionGButton(te(e.extensionSettings,n),null!==(u=e.dapi)&&void 0!==u?u:{},e.dynamicConfig,i)?"disabled_due_to_desktop_integration":"integrated":"disabled_by_user":"disabled_by_grammarly"}(e,t,n,i);if(!k.has(d))return d;const h=(0,ge.HD)(null===(a=null==r?void 0:r.unsupportedState)||void 0===a?void 0:a.reason)&&(null===(c=null==r?void 0:r.unsupportedState)||void 0===c?void 0:c.reason)!==me.unknown?"unsupported_with_reason":"unsupported";if("integrated"===(null==r?void 0:r.key)){const e=(null!==(l=r.integratedState.lastChangeEventTimestamp)&&void 0!==l?l:0)>o-x,t=(null!==(u=r.integratedState.lastCheckingStatusTimestamp)&&void 0!==u?u:0)>o-E;return e?r.integratedState.type===pe.connector?"integrated_via_connector":r.integratedState.type===pe.ghost?"integrated_via_ghost":t?"integrated":r.integratedState.isCheckingTextForeign?"disabled_due_to_non_english_lang":"disabled_due_to_capi_connection":h}var g;return(g=s)instanceof HTMLElement&&ie.some((e=>{const t=g.hasAttribute(e)?g:g.closest(`[${e}]`);if(!(t instanceof HTMLElement))return!1;const n=_.get(t);return n.generic||n.specific}))?"disabled_by_site":h}!function(e){e.default="default",e.connector="connector",e.ghost="ghost"}(pe||(pe={})),function(e){e.skipped="skipped",e.unknown="unknown"}(me||(me={}));class ve{constructor(e,i=n.Y.create("TypingTrackerImpl")){this._params=e,this._log=i,this._subs=new b.w0,this._typingTargetList=f.h.create([document]),this._isIframe=(0,t.n_)(),this._lastPrimaryLanguage=T,this._subs.add(Z(this._typingTargetList).subscribe((e=>{e.forEach((e=>{this._handleTyping(e)}))})))}async _handleTyping(e){var t,n,i;const r=_.get(e.target),s=null===(t=this._params.csSharedStore.get("fieldIntegrationStore"))||void 0===t?void 0:t.getTargetFieldTypingState(e),o=_e(this._params.storeContent.get(),this._params.pageConfig,this._params.domain,this._params.url,s,e.target,e.lastTypingTimestamp),a=function(e,t){return"integrated"!==e&&(!(t instanceof HTMLElement)||S.has(t.tagName)&&!ce(t))}(o,e.target),c=await async function(e,t,n){var i,r;const s=be(t,n);if(function(e){const t=e.match(/\b\w+\b/g);return t?t.length:0}(s)<5)return{text:s,primaryLanguage:T};try{const t=await Promise.race([e.detectLanguage(s),(0,he.gw)(R).then((()=>{}))]),[n]=null!==(i=null==t?void 0:t.languages)&&void 0!==i?i:[];return{text:s,languageDetection:t,primaryLanguage:null!==(r=null==n?void 0:n.language)&&void 0!==r?r:T}}catch(e){return{text:s,primaryLanguage:T}}}(this._params.browserApi.i18n,e,s);this._lastPrimaryLanguage=c.primaryLanguage===T?this._lastPrimaryLanguage:c.primaryLanguage;const l={integrationType:o,isIframe:this._isIframe,duration:e.duration,textLength:e.textLength,fieldType:r.specific&&r.generic?`${r.generic}.${r.specific}`:null!==(i=null!==(n=r.generic)&&void 0!==n?n:r.specific)&&void 0!==i?i:"unknown",primaryLanguage:this._lastPrimaryLanguage,..."unsupported"===(null==s?void 0:s.key)&&"unsupported_with_reason"===o?{unsupportedReason:s.unsupportedState.reason}:{},..."integrated"===(null==s?void 0:s.key)&&"integrated"===o?{integrationName:s.integratedState.integrationName}:{},..."integrated"===(null==s?void 0:s.key)?{isCheckingTextForeign:s.integratedState.isCheckingTextForeign}:{}};this._log.debug("typing detected:",{...l,shouldSkipTracking:a,detectionLanguageState:c,keyboardTypingState:e,targetFieldState:s,domain:this._params.domain}),a||this._params.rpc.addTypingDurationMetric(this._params.domain,l)}addTypingTarget(e){this._typingTargetList.modify((t=>t.includes(e)?t:[...t,e]))}dispose(){this._subs.unsubscribe()}static async create(e,t,n,i){const r=(0,v.T)().location.href,{originalDomain:o,domainAlias:a}=function(e,t){var n,i;const r=(0,s.j1)(new URL(e).hostname),o=null===(n=null==t?void 0:t.domainAliasRules)||void 0===n?void 0:n.find((t=>new RegExp(t.pattern).test(e)));return{originalDomain:r,domainAlias:null!==(i=null==o?void 0:o.alias)&&void 0!==i?i:r}}(r,e.view((e=>{var t;return null===(t=e.dynamicConfig)||void 0===t?void 0:t.serviceAvailabilityMetrics})).get()),c=await t.getPageConfig(o,r);return new ve({rpc:t,url:r,domain:a,pageConfig:c,storeContent:e,browserApi:n,csSharedStore:i})}}!function(e){e.create=async function(e,t,n,i){return await t.isTypingTrackingEnabled()?ve.create(e,t,n,i):new m}}(fe||(fe={}));var ye=__webpack_require__(26585);var we,xe,Ee=__webpack_require__(45013);!function(e){let t;!function(e){e.disableOnTab="disableOnTab",e.reloadTab="reloadTab",e.showOnboardingDialog="showOnboardingDialog",e.hideGdocsSigninPopupMessage="hideGdocsSigninPopupMessage",e.sendCsLogsToPopup="sendCsLogsToPopup",e.downloadDebugReportsFromCS="downloadDebugReportsFromCS"}(t=e.Kind||(e.Kind={}))}(we||(we={})),function(e){let t;!function(e){e.sendCsLogs="sendCsLogs"}(t=e.Kind||(e.Kind={}))}(xe||(xe={}));var Se,ke=__webpack_require__(8286),Te=__webpack_require__(75558);!function(e){const t=n.Y.create("Reports");function i(e){var t;const n=null===(t=self.document)||void 0===t?void 0:t.createElement("a");n.href="data:application/octet-stream,"+encodeURIComponent(function(e){const t=e=>{try{return JSON.stringify(e)}catch(t){return String(e)}};return[["Level","Logger","Timestamp","Message"].join("\t"),...e.map((e=>{const n=[e.level,e.loggerName,new Date(e.timestamp).toISOString(),e.message];return e.data&&n.push(t(e.data)),e.exception&&n.push(t(e.exception)),n.join("\t")}))].join("\n")}(e)),n.target="_blank",n.download="grammarly-logs.tsv",n.click()}async function r(e){if(t.debug("start download debug reports"),!(0,Te.OB)().historyLogsService.isHistoryEnabled())return t.debug("debug reports feature is not enabled"),alert("Logging is not enabled");if(!self.confirm(ke.o1))return;t.debug("confirm download debug reports");const n=[];e.sort((e=>e.envName===(0,Te.OB)().context?1:-1));try{await(0,he.Fb)(y.E0,s())}catch(e){t.warn("cannot get latest app state",e)}for(const t of e){const e=await t.getLogs();n.push(...null!=e?e:[])}n.sort(((e,t)=>e.timestamp-t.timestamp)),i(n)}async function s(){t.info("latest experiments state",await(0,Te.OB)().bgRpc.api.getExperimentTreatment()),t.info("latest storage state",await(0,Te.OB)().browserApi.preferences.getAll()),t.info("browser info",(0,Te.OB)().browserApi.getBrowserInfo())}e.download=r,e.initKeyboardShortcutHandler=function(e){return(0,P.R)(self,"keydown").pipe((0,A.h)((e=>"KeyS"===e.code&&e.altKey&&e.shiftKey&&(e.ctrlKey||e.metaKey)))).subscribe((()=>{r(e)}))},e.logLatestState=s}(Se||(Se={}));var Re,Ie,Oe=__webpack_require__(37970),Ae=__webpack_require__(67693);!function(e){function n(e){const n=()=>{e.bgRpc.api.sendToPopup({kind:xe.Kind.sendCsLogs,option:{logs:e.historyLogsService.getLogs(),isIframeIntegration:(0,t.n_)()}})};return e.message.on(we.Kind.sendCsLogsToPopup,n),{dispose(){e.message.off(we.Kind.sendCsLogsToPopup,n)}}}function i(e){return[new Oe.r("bg",(()=>e.bgRpc.api.getBGLogs()),Oe.r.getLogsFromSessionStorageFallbackGetter(Ae.v.bgHistoryLogs)),new Oe.r("cs",(()=>Promise.resolve(e.historyLogsService.getLogs())),Oe.r.getLogsFromSessionStorageFallbackGetter(Ae.v.csHistoryLogs))]}function r(e){return e.message.on(we.Kind.downloadDebugReportsFromCS,o),{dispose(){e.message.off(we.Kind.sendCsLogsToPopup,o)}}}function s(e){const n=(0,t.n_)()?new b.w0:Se.initKeyboardShortcutHandler(i(e));return{dispose(){n.unsubscribe()}}}function o(){const e=i((0,Ee.OB)());Se.download(e)}e.initSendLogsToPopupHandler=n,e.initDownloadDebugReportsListener=r,e.initKeyboardShortcutHandler=s,e.initListeners=function(e){const t=[n(e),s(e),r(e)];return{dispose(){t.forEach((e=>{e.dispose()}))}}},e.download=o}(Re||(Re={})),function(e){const t="grammarly-desktop-integration";e.inject=function(e=document.documentElement,n={}){var i,r;const s=`\n      div.${t} {\n        position: absolute;\n        width: 1px;\n        height: 1px;\n        padding: 0;\n        margin: -1px;\n        overflow: hidden;\n        clip: rect(0, 0, 0, 0);\n        white-space: nowrap;\n        border: 0;\n        -moz-user-select: none;\n        -webkit-user-select: none;\n        -ms-user-select:none;\n        user-select:none;\n      }\n\n      div.${t}:before {\n        content: attr(data-content);\n      }\n    `,o=document.createElement("style");o.textContent=s;const a=document.createElement("div");a.setAttribute("aria-label","grammarly-integration"),a.setAttribute("role","group"),a.setAttribute("tabindex","-1"),a.setAttribute("class",t);const c=document.createElement(t);return n.setPresentationRoleOnHost&&c.setAttribute("role","presentation"),c.attachShadow({mode:"open"}),c.setAttribute("data-grammarly-shadow-root","true"),null===(i=c.shadowRoot)||void 0===i||i.appendChild(o),null===(r=c.shadowRoot)||void 0===r||r.appendChild(a),e.appendChild(c),{activate:({isActive:e,isUserDisabled:t,mode:n})=>{null==a||a.setAttribute("data-content",JSON.stringify(n?{mode:n,isActive:e,isUserDisabled:t}:{isActive:e}))},remove:()=>{var e;null===(e=null==c?void 0:c.parentNode)||void 0===e||e.removeChild(c)}}},e.isInjected=function(){return!!document.querySelector(t)}}(Ie||(Ie={}));const Ce=/^(\S+\.)?coda\.io$/;var Fe;!function(e){e.full="full",e.limited="limited"}(Fe||(Fe={}));class Pe{constructor(e,t=n.Y.create("DesktopHiddenFieldIntegration"),i=ye.Tb){this._domain=e,this._log=t,this._getFelog=i,this._integration=null,this._root=document.documentElement,this._state=f.h.create(null),this.getActiveElement=()=>{const e=document.activeElement,t=null==e?void 0:e.shadowRoot,n=null==e?void 0:e.contentDocument;return t&&t.activeElement?t.activeElement:n&&n.activeElement?n.activeElement:e},this.updateState=(e,t,n,i)=>{var r;const s=!ee.isIntegrationEnabled(i,e,t),o=ee.isEnabled(t,i)?Fe.limited:Fe.full,a=!n;this._state.set({isActive:s,mode:o,isUserDisabled:a}),a?this.dispose():null===(r=this.integration)||void 0===r||r.activate({isActive:s,mode:o,isUserDisabled:a})},this.updateForFocusedIntegration=()=>{const e=this.getActiveElement(),t=null==e?void 0:e.closest("[role=dialog][aria-modal=true]"),n=null!=t?t:document.documentElement;return n!==this._root&&(this._root=n,this.dispose()),this.integration},this.dispose=()=>{this._integration&&(this._integration.remove(),this._integration=null)},this._state.pipe((0,A.h)(Boolean)).subscribe((e=>{this._log.debug("update DesktopHiddenField state",e)}))}get integration(){if(this._integration)return this._integration;if(Ie.isInjected())return this._log.debug("DesktopHiddenField is already injected"),null;try{this._integration=Ie.inject(this._root,{setPresentationRoleOnHost:Ce.test(this._domain)})}catch(e){return this._log.debug("DesktopHiddenField is not injected",e),this._getFelog().hiddenFieldInjectionFailed(),null}return this._log.debug("DesktopHiddenField is injected into "+(this._root===document.documentElement?"root":"dialog")),this._integration}}var Ne,Le,Me,De=__webpack_require__(84308),Ue=__webpack_require__(50750);!function(e){e.anonymous="anonymous",e.registered="registered",e.premium="premium",e.business="business",e.edu="edu",e.ngo="ngo",e.k12="k12",e.gov="gov"}(Ne||(Ne={})),function(e){function t(e){return!e.anonymous&&e.premium}function n(e){var t;return["BUSINESS","NGO","GOV"].includes((null===(t=e.institutionInfo)||void 0===t?void 0:t.organizationType)||"")}function i(e){return!!e.institutionInfo}function r(e){var t;return"EDU"===(null===(t=e.institutionInfo)||void 0===t?void 0:t.organizationType)}function s(e){var t;return"K12"===(null===(t=e.institutionInfo)||void 0===t?void 0:t.organizationType)}function o(e){var t;return"NGO"===(null===(t=e.institutionInfo)||void 0===t?void 0:t.organizationType)}function a(e){var t;return"GOV"===(null===(t=e.institutionInfo)||void 0===t?void 0:t.organizationType)}e.getType=function(e){return i(e)?o(e)?Ne.ngo:r(e)?Ne.edu:a(e)?Ne.gov:s(e)?Ne.k12:Ne.business:e.premium?Ne.premium:e.anonymous?Ne.anonymous:Ne.registered},e.isFree=function(e){return!e.anonymous&&!e.premium},e.isPremium=t,e.isFreeTrial=function(e){return!!(t(e)&&e.customFields&&e.customFields.frontend_premiumTrialEndDate)&&new Date<new Date(e.customFields.frontend_premiumTrialEndDate)},e.getUserRole=function(e,t){var n;return null===(n=e.roles)||void 0===n?void 0:n.find((e=>e.type===t))},e.isEdcBlocked=function(e){return!!e.edc&&!e.edc.compliant},e.isDocsDisabled=function(e){var t,n;return null!==(n=null===(t=e.editorFeatures)||void 0===t?void 0:t.docsDisabled)&&void 0!==n&&n},e.hasRole=function(e){return!!e.customFields&&(void 0!==e.customFields.frontend_role&&""!==e.customFields.frontend_role)},e.hasSoundFluentGoals=function(e){return!!e.customFields&&(void 0!==e.customFields.frontend_soundFluent&&""!==e.customFields.frontend_soundFluent)},e.hasPrimaryLanguage=function(e){return!!e.customFields&&(void 0!==e.customFields.frontend_primaryLanguage&&""!==e.customFields.frontend_primaryLanguage)},e.isBusinessAdmin=function(e){var t;return Boolean(n(e)&&(null===(t=null==e?void 0:e.institutionInfo)||void 0===t?void 0:t.admin))},e.shouldUserSeeLegacyGBBranding=function(e,t){return n(e)&&["BUSINESS","ENTERPRISE"].includes(t)},e.doesUserBelongToBusinessInstitution=n,e.doesUserBelongToInstitution=i,e.doesUserBelongToEDUInstitution=r,e.doesUserBelongToK12Institution=s,e.doesUserBelongToNGOInstitution=o,e.doesUserBelongToGOVInstitution=a,e.isClaimed=function(e){return e.groups.includes("claimed-invitation")};e.isGrammarlyEmployee=function(e){var t;return e.email.endsWith("@grammarly.com")&&624392205===(null===(t=e.institutionInfo)||void 0===t?void 0:t.id)},e.isTestUser=function(e){return e.email.endsWith("@bh.exacttarget.com")},e.isConsumerUser=function(e){return!i(e)},e.defaultUser={anonymous:!0,groups:[],id:"",premium:!1,isTest:!1,settings:{},subscriptionFree:!1,type:"anonymous",email:"",registrationDate:(new Date).toString(),firstName:"",lastName:""}}(Le||(Le={})),function(e){e.empty="empty",e.local="local",e.server="server",e.localOverride="localOverride"}(Me||(Me={}));const je={source:Me.local,version:"0",newRichTextFieldsEnabled:!0,fluidDisabledForFirefox:!1,fluidDisabledForSafari:!1,fullSentenceRewritesDisabled:!1,overrideKey:"dynamicConfigOverrideKey",ungatingRenewalNotificationEnabled:!1,quillJSCatchAllDisabled:!1};var Be=__webpack_require__(84714),qe=__webpack_require__(61443);function He(e){return(n=e)&&(n instanceof N.y||"object"==typeof n&&"lift"in n&&"subscribe"in n&&Ge(n.lift)&&Ge(n.subscribe))||function(e){return ze(e)&&(Symbol.observable in e&&Ge(e[Symbol.observable])||qe.L in e&&Ge(e[qe.L]))}(e)||ze(t=e)&&"then"in t&&Ge(null==t?void 0:t.then)||function(e){return"object"==typeof e&&null!==e&&"length"in e}(e)||function(e){return"object"==typeof e&&null!==e&&Symbol.iterator in e}(e)||function(e){return"object"==typeof e&&null!==e&&Symbol.asyncIterator in e}(e)||function(e){return"object"==typeof e&&null!==e&&"getReader"in e}(e)?(0,Ue.D)(e):function(e){return ze(e)&&"subscribe"in e&&Ge(null==e?void 0:e.subscribe)}(e)?(0,Ue.D)({[Symbol.observable||qe.L]:()=>e}):(0,Be.of)(e);var t,n}function Ge(e){return"function"==typeof e}function ze(e){return null!==e&&"object"==typeof e}const We=(e,t)=>{const n=f.h.create({}),i={getAll:async()=>await r.getAll(),get:async e=>await r.get(e),patch:async e=>await r.set(e),changes:(r=e.browserApi.preferences).changes};var r;const s={...i,view:n.view.bind(n)},a=(0,De.a)(He(i.changes).pipe((0,G.O)(null),(c=200,void 0===l&&(l=L.z),(0,U.e)((function(e,t){var n=null,i=null,r=null,s=function(){if(n){n.unsubscribe(),n=null;var e=i;i=null,t.next(e)}};function o(){var e=r+c,i=l.now();if(i<e)return n=this.schedule(void 0,e-i),void t.add(n);s()}e.subscribe((0,j.x)(t,(function(e){i=e,r=l.now(),n||(n=l.schedule(o,c),t.add(n))}),(function(){s(),t.complete()}),void 0,(function(){i=n=null})))}))),(0,C.w)((()=>i.getAll()))),(0,Ue.D)((0,o.XD)(5,y.Xd(2),(()=>e.bgRpc.api.getPageConfig(t,self.location.href))).catch((e=>null))).pipe((0,G.O)(null)),((e,i)=>{var r,s,o,a,c,l,u;const d=null!==(s=null===(r=e.extensionSettings)||void 0===r?void 0:r[t])&&void 0!==s?s:{},h=(null===(o=null==d?void 0:d.enabled)||void 0===o||o)&&(null===(a=null==i?void 0:i.enabled)||void 0===a||a);return n.set(e),{user:null!==(c=e.user)&&void 0!==c?c:Le.defaultUser,settings:e.extensionSettings,dynamicConfig:null!==(l=e.dynamicConfig)&&void 0!==l?l:je,dapi:e.dapi,enabled:h,siteSupported:null===(u=null==i?void 0:i.enabled)||void 0===u||u}}));var c,l;return{persistentStoreLite:s,viewStoreLite:a}};var $e=__webpack_require__(11657),Ve=__webpack_require__(24576);var Ke,Je=__webpack_require__(90023),Xe=__webpack_require__(49571),Ye=1,Ze={};function Qe(e){return e in Ze&&(delete Ze[e],!0)}var et=function(e){var t=Ye++;return Ze[t]=!0,Ke||(Ke=Promise.resolve()),Ke.then((function(){return Qe(t)&&e()})),t},tt=function(e){Qe(e)},nt={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=nt.delegate;return((null==n?void 0:n.setImmediate)||et).apply(void 0,(0,B.ev)([],(0,B.CR)(e)))},clearImmediate:function(e){var t=nt.delegate;return((null==t?void 0:t.clearImmediate)||tt)(e)},delegate:void 0},it=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return(0,B.ZT)(t,e),t.prototype.requestAsyncId=function(t,n,i){return void 0===i&&(i=0),null!==i&&i>0?e.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t._scheduled||(t._scheduled=nt.setImmediate(t.flush.bind(t,void 0))))},t.prototype.recycleAsyncId=function(t,n,i){var r;if(void 0===i&&(i=0),null!=i?i>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,i);var s=t.actions;null!=n&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==n&&(nt.clearImmediate(n),t._scheduled===n&&(t._scheduled=void 0))},t}(Xe.o),rt=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,B.ZT)(t,e),t.prototype.flush=function(e){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var n,i=this.actions;e=e||i.shift();do{if(n=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,n){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw n}},t}(__webpack_require__(16677).v))(it);var st=__webpack_require__(20680),ot=__webpack_require__(32540),at=__webpack_require__(4447);function ct(e,t,n){return n?ct(e,t).pipe((0,at.Z)(n)):new N.y((function(n){var i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)},r=e(i);return(0,ot.m)(t)?function(){return t(i,r)}:void 0}))}var lt=__webpack_require__(17869),ut=__webpack_require__(37108);function dt(e,t){return(0,ot.m)(t)?(0,lt.z)(e,t,1):(0,lt.z)(e,1)}var ht,gt,pt=__webpack_require__(84178);!function(e){const t=n.Y.create("universal.cs.integration.observables"),i=e=>(0,P.R)(e,"focus",{capture:!0});function r(e){return e instanceof Element&&e.shadowRoot&&e.shadowRoot.activeElement?r(e.shadowRoot.activeElement):e}function s(e,t){return{document:e,frame:t}}function a(e,n){const i=s(e),r=(0,Ue.D)(e.getElementsByTagName("iframe")),o=n.pipe(dt((e=>Array.from(e.addedNodes))),(0,A.h)((e=>"IFRAME"===e.nodeName))),a=(0,st.z)(r,o).pipe((0,A.h)((n=>function(e,n){try{const t=e.src;if(t&&"about:blank"!==t&&!t.startsWith("javascript")){return new URL(t,n.baseURI).origin===n.location.origin}return!0}catch(e){return t.warn("Error converting iframe's src to url",e),!0}}(n,e))),(0,lt.z)((e=>{try{return function(e){const t=e.contentDocument;return t&&"complete"===t.readyState}(e)?(0,Be.of)(e):ct((t=>e.addEventListener("load",t,!0)),(t=>e.removeEventListener("load",t))).pipe((0,O.U)((()=>e)),(0,pt.q)(1))}catch(e){return t.warn("failed to receive iframes document",e),(0,Be.of)(null)}})),(0,O.U)((e=>{try{if(null!==e&&null!==e.contentDocument)return s(e.contentDocument,e)}catch(e){t.warn("failed to receive iframes document",e)}return null})),(0,A.h)((e=>null!==e)));return a.pipe((0,G.O)(i))}e.createFocusObservable=function(e,t,n=i){return a(e,t).pipe((0,lt.z)((e=>function(e,t,n){var i,s;const o=e.document,a=D(y.E0),c=e.frame?q.E:(h=()=>(0,Be.of)(o.activeElement).pipe((0,A.h)((e=>e&&o.defaultView&&o.defaultView.HTMLElement&&e instanceof o.defaultView.HTMLElement))),new N.y((function(e){(0,$.Xf)(h()).subscribe(e)}))),l=t(o).pipe((0,O.U)((e=>e.target))),u=e.frame?q.E:(0,F.T)(a,n).pipe((0,A.h)((e=>!!o.defaultView&&"visible"===o.visibilityState&&!!o.activeElement)),(0,O.U)((e=>o.activeElement)),(0,z.x)()),d=(0,F.T)(u,l).pipe((0,A.h)((e=>o.defaultView&&o.defaultView.HTMLElement&&e instanceof o.defaultView.HTMLElement)),(0,O.U)((e=>r(e))));var h;if(null===(i=e.frame)||void 0===i?void 0:i.contentWindow)return(0,st.z)(c,d).pipe((0,z.x)(),(g=(0,F.T)((0,P.R)(null===(s=e.frame)||void 0===s?void 0:s.contentWindow,"unload")),(0,U.e)((function(e,t){(0,$.Xf)(g).subscribe((0,j.x)(t,(function(){return t.complete()}),W.Z)),!t.closed&&e.subscribe(t)}))));var g;return(0,st.z)(c,d).pipe((0,z.x)())}(e,n,t).pipe((0,O.U)((t=>({element:t,owner:e})))))),(0,z.x)(),(0,ut.Q)(rt))},e.createReadonlyObservable=function(e,t,n){return a(e,t).pipe((0,lt.z)((e=>function(e,t,n){const i=(e,t)=>e.length===t.length&&e.every(((e,n)=>e===t[n]));return t.pipe((0,O.U)((()=>(0,Je.zG)(n,e.querySelectorAll.bind(e),Array.from))),(0,z.x)(i),(0,O.U)((e=>(0,Je.zG)(e,Array.from,Ue.D))),(0,lt.z)((e=>e)),(0,A.h)(o.Nf))}(e.document,t,n).pipe((0,O.U)((t=>({element:t,owner:e})))))),(0,z.x)(),(0,ut.Q)(rt))},e.docInfo=s}(ht||(ht={})),function(e){function t(e,t){return n(e,t).pipe((0,I.B)(),(0,ut.Q)(rt))}function n(e,t){return new N.y((n=>{const i=new MutationObserver((e=>n.next(e)));return i.observe(e,t),()=>i.disconnect()}))}e.create=t,e.createUnsafe=n,e.createFlattenHot=function(e,t){return n(e,t).pipe(dt((e=>e)),(0,I.B)())},e.observeAttribute=function(e,n){return t(e,{attributes:!0,attributeFilter:[n],subtree:!1,childList:!1}).pipe((0,O.U)((t=>e.getAttribute(n))))},e.observeStyle=function(e){return t(e,{attributes:!0,attributeFilter:["style"],subtree:!1,childList:!1}).pipe((0,O.U)((t=>e.style)))},e.observeChildList=function(e){return t(e,{attributes:!1,subtree:!1,childList:!0}).pipe((0,O.U)((t=>e.childNodes)))}}(gt||(gt={}));var mt,ft=-1,bt=function(e){addEventListener("pageshow",(function(t){t.persisted&&(ft=t.timeStamp,e(t))}),!0)},_t=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},vt=function(){var e=_t();return e&&e.activationStart||0},yt=function(e,t){var n=_t(),i="navigate";return ft>=0?i="back-forward-cache":n&&(document.prerendering||vt()>0?i="prerender":document.wasDiscarded?i="restore":n.type&&(i=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},wt=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return i.observe(Object.assign({type:e,buffered:!0},n||{})),i}}catch(e){}},xt=function(e,t,n,i){var r,s;return function(o){t.value>=0&&(o||i)&&((s=t.value-(r||0))||void 0===r)&&(r=t.value,t.delta=s,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},Et=function(e){document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e()}))},St=function(e){var t=!1;return function(){t||(e(),t=!0)}},kt=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},Tt=0,Rt=1/0,It=0,Ot=function(e){e.forEach((function(e){e.interactionId&&(Rt=Math.min(Rt,e.interactionId),It=Math.max(It,e.interactionId),Tt=It?(It-Rt)/7+1:0)}))},At=function(){return mt?Tt:performance.interactionCount||0},Ct=function(){"interactionCount"in performance||mt||(mt=wt("event",Ot,{type:"event",buffered:!0,durationThreshold:0}))},Ft=[],Pt=new Map,Nt=0,Lt=[],Mt=function(e){if(Lt.forEach((function(t){return t(e)})),e.interactionId||"first-input"===e.entryType){var t=Ft[Ft.length-1],n=Pt.get(e.interactionId);if(n||Ft.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var i={id:e.interactionId,latency:e.duration,entries:[e]};Pt.set(i.id,i),Ft.push(i)}Ft.sort((function(e,t){return t.latency-e.latency})),Ft.length>10&&Ft.splice(10).forEach((function(e){return Pt.delete(e.id)}))}}},Dt=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=St(e),"hidden"===document.visibilityState?e():(n=t(e),Et(e)),n},Ut=[200,500],jt=function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},kt((function(){var n;Ct();var i,r=yt("INP"),s=function(e){Dt((function(){e.forEach(Mt);var t=function(){var e=Math.min(Ft.length-1,Math.floor((At()-Nt)/50));return Ft[e]}();t&&t.latency!==r.value&&(r.value=t.latency,r.entries=t.entries,i())}))},o=wt("event",s,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});i=xt(e,r,Ut,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),Et((function(){s(o.takeRecords()),i(!0)})),bt((function(){Nt=At(),Ft.length=0,Pt.clear(),r=yt("INP"),i=xt(e,r,Ut,t.reportAllChanges)})))})))};new Date;const Bt={textInputLatencyV1:.1,scrollLatencyV1:.1,resizeLatencyV1:.1,highlightsDisplay:.1,gButtonTextCheck:.1,inlineAlertDisplay:.1,inlineAlertApply:.1,gButtonDisplay:.1,gDocsParserExecutionTimeV1:.01,gDocsCachingExecutionTimeV1:1,interactionToNextPaint:.1,alertProcessing:.1,httpRequestLatency:.1},qt={textInputLatencyV1:{"docs.google.com":.01}},Ht=(e,n)=>Math.random()<((e,n)=>{var i,r,s;const o=(0,t.FN)()?void 0:(0,$e.Cg)(),a=null==n?void 0:n.sessionSamplingForMetrics,c=null==a?void 0:a.find((t=>(null==t?void 0:t.metricName)===e));if(o){const t=(null===(r=null===(i=null==c?void 0:c.byDomain)||void 0===i?void 0:i.find((e=>e.domain===o)))||void 0===r?void 0:r.value)||(null===(s=qt[e])||void 0===s?void 0:s[o]);if(void 0!==t)return t}return(null==c?void 0:c.value)||Bt[e]})(e,n),Gt=["client","client_version","device"],zt=["user_id","user_type","institution_id"];const Wt=(e,t="round")=>{switch(t){case"floor":return Math.floor(e);case"ceil":return Math.ceil(e);case"round":return Math.round(e);default:return(0,o.vE)(t)}};class $t{static trackTaskLatency(e,t,n=performance.now()){const i=Math.round(n-t),r=$t.getTaskLatency(e);(!r||r<i)&&$t._taskLatencyMap.set(e,i)}static getTaskLatency(e){return $t._taskLatencyMap.get(e)}static reset(){$t._taskLatencyMap.clear()}}$t._taskLatencyMap=new Map;var Vt=__webpack_require__(14969),Kt=__webpack_require__(29479);const Jt=2147483642;var Xt=__webpack_require__(13175);function Yt(e,t){const n=e.anchorNode;if(!n)return!1;const i=re.map((e=>Array.isArray(e)?`[${e[0]}="${e[1]}"]`:`[${e}]`)).join(","),r=t.activeElement,s=e.toString().trim(),o="TEXTAREA"!==n.tagName&&"INPUT"!==n.tagName,a=!r||"INPUT"!==r.tagName&&"TEXTAREA"!==r.tagName,c=!ce(n),l=!ae(n,i)&&!le(n,i),u=!ae(n,"[contenteditable=true],[contenteditable=plaintext-only]")&&!function(e){let t=e.parentNode;for(;null!==t;){if(ce(t))return t;t=t.parentNode}return!1}(n);return!!(s&&o&&a&&c&&l&&u)}var Zt,Qt=__webpack_require__(80885);!function(e){const t="important";function n(e){return String(e)+"px"}e.isValid=function(){const e=self.document.getSelection();return!(!e||e.toString().match(/[0-9_!@#$%^&*:"|<>?~().,:}{='-/ /]/))&&Yt(e,self.document)},e.animation=function(e){const i=document.createElement("div"),r=i.attachShadow({mode:"open"}),s=document.createElement("style");s.innerHTML=Qt.__css,r.appendChild(s);const o=self.document.getSelection().getRangeAt(0).getBoundingClientRect(),a=document.createElement("div");a.style.setProperty("top",n(o.top),t),a.style.setProperty("left",n(o.left),t),a.style.setProperty("height",n(o.height),t),a.style.setProperty("max-width",n(o.width),t),a.style.setProperty("z-index",Jt.toString(),t),a.classList.add(Qt.animatedUnderline,Qt.checkAnimatedUnderline),r.appendChild(a),document.body.appendChild(i);const c=D(10),l=(0,De.a)(e.pipe((0,Vt.P)(),(0,Kt.h)(!1),(0,G.O)(!0),(0,z.x)()),c.pipe((0,O.U)((()=>{const e="."+Xt.completeAnimation;if(document.querySelector(e))return!0;const t=Array.from(document.querySelectorAll("grammarly-extension"));for(const n of t)if(n.shadowRoot&&n.shadowRoot.querySelector(e))return!0;return!1})),(0,G.O)(!1),(0,z.x)())).pipe((0,A.h)((([e,t])=>!e||t)),(0,z.x)()).subscribe(u);return{unsubscribe:u};function u(){l.unsubscribe(),i.remove()}}}(Zt||(Zt={}));var en,tn=__webpack_require__(85458),nn=__webpack_require__(56661);!function(e){const n=Date.now(),i=e=>self.performance.mark("@grammarly-extension:"+e);e.callExecuteContentScript=()=>i("callExecuteContentScript"),e.checkScriptInitEnd=e=>{const r=Math.random()<.01&&(0,t.i7)();if(i("checkScriptInitEnd"),r){const t=Date.now();e.api.trackCall(nn.r,["sendFelogEvent",{ex_csInitPerf:{domain:self.location.host,initTime:t-n,pageLoadTime:t-self.performance.timing.responseEnd},hideUserInfo:!0,level:tn.in.INFO,logger:"checkScript.initialized"}])}},e.checkScriptInitStart=()=>i("checkScriptInitStart")}(en||(en={}));const rn="grExtInstalled",sn="grExtDisabled";function on(e){var t;null===e&&"next"===(null===(t=null===document||void 0===document?void 0:document.body)||void 0===t?void 0:t.dataset[sn])||(null===e?function(){var e;(null===(e=null===document||void 0===document?void 0:document.body)||void 0===e?void 0:e.dataset)&&delete document.body.dataset[sn]}():document.body.dataset[sn]=e)}const an=(0,P.R)(self.document,"click",{capture:!0});class cn{constructor(e,i,r,s=n.Y.create("ExtensionCheckIntegration")){this._csShareStorage=e,this._loadContentScript=i,this._log=s,this._pageEnable=!0,this._citationBuilderEnable=!1,this._humanWritingReportEnable=!1,this._enabledDefs=!1,this._isAnonymous=!0,this._wasLoaded=!1,this._isDesktopIntegrationEnable=!1,this._mutations=gt.createFlattenHot(self.document,{childList:!0,subtree:!0}),this._textFieldsObservable=ht.createFocusObservable(self.document,this._mutations),this._subs=[this._textFieldsObservable.subscribe((e=>{const t=e.owner.frame||e.element,n=_.get(t);if(this._log.debug("detected click",{field:t,fieldType:n}),this._pageEnable&&(n.generic||n.specific)){const e=crypto&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).substring(2);t.__grammarlyPerformanceTimerId=e,t.__grammarlyPerformanceTimerStartTime=performance.now(),this.load()}})),an.subscribe((e=>{2===e.detail&&this._enabledDefs&&this._pageEnable&&!this._isAnonymous&&Zt.isValid()&&(this._log.debug("dictionary event executed",e),this._csShareStorage.set("extensionDictionaryEvent",e),this._subs.push(Zt.animation(an)),this.load())}))],r&&!(0,t.n_)()&&this.load()}load(){this._wasLoaded&&!this._isDesktopIntegrationEnable||(this._log.info("Loading main content script"),this._wasLoaded=!0,en.callExecuteContentScript(),this.dispose(),this._loadContentScript())}dispose(){this._subs.forEach((e=>{try{e.unsubscribe()}catch(e){}}))}updateState(e,n,i,r,o,a,c,l){this._isDesktopIntegrationEnable=r,(!this._pageEnable&&n||!this._citationBuilderEnable&&o||!this._humanWritingReportEnable&&a)&&this.load(),!this._pageEnable||n||this._wasLoaded||(0,t.i7)()&&((e,t)=>{self.__grammarlyINPListenerInitialized||(self.__grammarlyINPListenerInitialized=!0,Ht("interactionToNextPaint",t)&&jt(e))})((e=>{if(!this._pageEnable){const n=(0,ye.Tb)();(({metric:e,domain:n,integrationIds:i,sessionIds:r,felog:s,productMetricsClient:o})=>{var a,c;const l=i.size>0,{osName:u,browserName:d}=(0,Ee.OB)().browserApi.getBrowserInfo();if(s.interactionToNextPaint(e.value,{os:u,browserName:d,domain:(0,$e.Cg)(n),grammarlyWasActive:l?"true":"false",rating:e.rating}),(0,t.i7)()){const t=20,s=[...i].slice(-t).join(","),u=[...r].slice(-t).join(","),d=l.toString(),h=null===(a=$t.getTaskLatency("alertProcessing"))||void 0===a?void 0:a.toString(),g=null===(c=$t.getTaskLatency("highlightProcessing"))||void 0===c?void 0:c.toString();o.send({event_name:"interactionToNextPaint-performance",dataset_name:"performance",latency:Wt(e.value),hostname:n,integration_id:s,extra:{session_id:u,grammarly_was_active:d,rating:e.rating,max_alert_processing_latency:h,max_highlight_processing_latency:g}},{additionalProps:[...Gt,...zt]}),$t.reset()}})({metric:e,domain:(0,s.ge)(),felog:n,integrationIds:new Set,sessionIds:new Set,productMetricsClient:c})}}),l),this._citationBuilderEnable=o,this._humanWritingReportEnable=a,this._isAnonymous=e,this._pageEnable=n,this._enabledDefs=i,on(this._pageEnable?null:"forever")}}var ln,un;!function(e){e.init=function(e,i){const r=n.Y.create("lib.external");!function(e,t,n,i=document,r=!1,s,o){const a=e,c=i.documentElement;if(r){const e=i.createElement("link");e.href=a,e.rel="preload",e.as="script",e.onload=()=>{e.remove()},c.prepend(e)}const l=i.createElement("script");l.async=!1,l.defer=!1,l.src=a,l.type="text/javascript",t&&l.setAttribute("data-ext-id",t),n&&l.setAttribute("data-ext-version",n),l.onload=()=>{null==s||s(),l.remove()},l.onerror=()=>{null==o||o()},c.prepend(l)}(i("src/js/Grammarly-externalEventsInjectedCs.js"),(0,t.pB)());const s=oe.map((t=>{const n=`external:${t}`;return ue.call(document,n,(({detail:t})=>{r.trace("external event",{event:n,detail:t}),e.sendBackground(n,t)}))}));return{dispose:()=>{s.forEach((e=>e.off()))}}}}(ln||(ln={})),function(e){function t(e){D(10).pipe((0,A.h)((()=>!!document.body)),(0,Vt.P)()).subscribe((()=>{document.body.dataset.newGrCSCheckLoaded=e.buildInfo.version,document.body.dataset[rn]=""}))}e.init=function(e,n,i,r){const s=[];return t(i),self.location.protocol===i.appConfig.url.grammarlyProtocol&&r.match(`^([a-z\\-0-9]+\\.)*${i.appConfig.url.grammarlyDomain}$`)&&s.push(ln.init(n,e.getUrl)),{dispose:()=>{s.forEach((e=>e.dispose()))}}}}(un||(un={}));let dn=!1,hn=[];function gn(){hn.forEach((e=>e&&e.dispose())),hn=[],dn=!0}const pn=y.E0;const mn=async e=>{if("https://www.grammarly.com"===document.location.origin&&"/signin"===document.location.pathname){const t=await e();t&&self.postMessage({name:"loginHint",data:t},document.location.origin)}};var fn=__webpack_require__(29427),bn=__webpack_require__(22407);const _n={HumanWritingReport:new bn.Experiment("extension_human_writing_report",["control","test"]),HumanWritingReportRolloutStudents:new bn.Experiment("extension_hwr_rollout_students",["control","test_on","test_off"]),HumanWritingReportRolloutFreeUser:new bn.Experiment("extension_hwr_rollout_free_user",["control","test_on","test_off"]),HumanWritingReportRolloutPremiumUser:new bn.Experiment("extension_hwr_rollout_premium_user",["control","test_on","test_off"]),HumanWritingReportRolloutG4E:new bn.Experiment("extension_hwr_rollout_g4e_institution",["control","test_on","test_off"])},vn=(new bn.Experiment("extension_authorship_aipd_entrypoint1",["control","test"]),new bn.Experiment("extension_authorship_aipd_entrypoint2_click",["control","test"]),{..._n}),yn={ttl:(0,y.LK)(30),useRefreshJitter:!0};class wn{constructor(e){this._rpc=e,this.type="gate"}getTreatment(){return this._rpc.api.getGateTreatment()}}class xn{constructor(e){this._rpc=e,this.type="experiment"}getTreatment(){return this._rpc.api.getExperimentTreatment()}logTreatment(e){return this._rpc.api.logExperimentTreatment(e)}}const En=Object.values(vn),Sn=Object.values(e.D);function kn(){return self.chrome&&self.chrome.runtime&&self.chrome.runtime.lastError}function Tn(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function Rn(){return Tn()+Tn()+"-"+Tn()+"-"+Tn()+"-"+Tn()+"-"+Tn()+Tn()+Tn()}var In;!function(e){e.background="message:to-priv",e.sidePanelCloseStatus="side-panel-close-status"}(In||(In={}));var On,An;!function(e){e.OpenSubscriptionDialog="OPEN_SUBSCRIPTION_DIALOG",e.SetUserInfo="SET_USER_INFO",e.ReloadBgPage="RELOAD_BACKGROUND_PAGE"}(On||(On={})),function(e){e[e.success=0]="success",e[e.successWithEmpty=1]="successWithEmpty",e[e.alreadyMigrated=2]="alreadyMigrated"}(An||(An={}));const Cn=n.Y.create("extension-api.message"),Fn=()=>`cs-bg-runtime-${(0,t.pB)()}`,Pn=()=>{};class Nn{constructor(){this._listeners={},this._queue={},this.fire=(e,t,n=Pn,i)=>{const r=this._listeners[e]||[];r.length?r.forEach((e=>e(t,n,i))):(this._queue[e]=this._queue[e]||[],this._queue[e].push({content:t,callback:n,sender:i}))},this.unlisten=(e,t)=>{const n=this._listeners[e]||[],i=n.indexOf(t);-1!==i&&(1===n.length?delete this._listeners[e]:n.splice(i,1))},this.listenOnce=(e,t)=>{const n=(i,r,s)=>{this.unlisten(e,n),t&&t(i,r,s)};this.listen(e,n)},this.listen=(e,t)=>{this._listeners[e]=this._listeners[e]||[],-1===this._listeners[e].indexOf(t)&&this._listeners[e].push(t);const n=this._queue[e]||[];if(n.length){for(const e of n)try{t(e.content,e.callback,e.sender)}catch(e){Cn.error("exception during proccesing buffered messages",e)}delete this._queue[e]}}}}const Ln=n.Y.create("Messaging.extension-api.content");class Mn{constructor(t,n,i,r,s){this.createPortConnection=t,this._bgIsWorking=n,this._extensionId=i,this._onRuntimeMessageFromBg=r,this._browserRuntimeSendMessage=s,this.kind="content-script-message-api",this._callbacks={},this._messageHelper=new Nn,this._disconnected=!1,this.broadcastBackground=async(e,t,n)=>{var i,r;const s=Rn();n&&"function"==typeof n&&(this._callbacks[s]=n);try{if(!this.backgroundPort){if(!await this._bgIsWorking())throw new Error("lost connection to bg port");this.initPort(),Ln.trace("Content script connection was restored")}null===(i=this.backgroundPort)||void 0===i||i.postMessage({type:e,callid:s,content:t})}catch(n){if(!await this._bgIsWorking())return this._onDisconnect();try{this.initPort(),null===(r=this.backgroundPort)||void 0===r||r.postMessage({type:e,callid:s,content:t})}catch(n){throw Ln.error("failed to invoke postMessage() on bg port",n,{type:e,callid:s,content:t}),n}}},this.onRuntimeMessage=this._onRuntimeMessageFromBg,this._onRuntimeMessageHandler=async(t,n,i)=>{if(i({status:!0}),(0,Te.OB)().experimentClient.isGateEnabled(e.D.FilterMessageByType)){if(t.type!==Fn())return;if(!await this._bgIsWorking())return this._onDisconnect()}else{if(!await this._bgIsWorking())return this._onDisconnect();if(n.id!==this._extensionId&&t.type!==Fn())return}this._onBgPortMessage(t.data),this.initPort()},this._onBgPortMessage=({callid:e,content:t,type:n})=>{this._callbacks[e]?(this._callbacks[e](t),delete this._callbacks[e]):this._messageHelper.fire(n,t,(t=>{if(!this.backgroundPort)throw new Error("fail reply to bg page - connection lost");this.backgroundPort.postMessage({content:t,callid:e})}))},this._onDisconnect=async()=>{var e,t;if(null===(t=null===(e=this.backgroundPort)||void 0===e?void 0:e.removeMessageListeners)||void 0===t||t.call(e),this.backgroundPort=null,await this._bgIsWorking())return Ln.trace("BG SW is shutdown, but BG SW page is still available."),void this._messageHelper.fire("bgSW-shutdown",null);this._disconnected||(this._onRuntimeMessageFromBg.removeListener(this._onRuntimeMessageHandler),this._disconnected=!0,Ln.warn("Content script messaging went disconnected."),this._messageHelper.fire("contentScript-disconnected",null))},this.initPort(),this._onRuntimeMessageFromBg.addListener(this._onRuntimeMessageHandler)}initPort(){this.backgroundPort||(this.backgroundPort=this.createPortConnection(In.background),this.backgroundPort.onMessage(this._onBgPortMessage),this.backgroundPort.onDisconnect(this._onDisconnect))}listen(e,t){this._messageHelper.listen(e,t)}sendRuntimeMessage(e){return this._browserRuntimeSendMessage(e)}}class Dn{constructor(e,t){this.port=e.runtime.connect({name:t})}onMessage(e){this.port.onMessage.addListener(e)}onDisconnect(e){this.port.onDisconnect.addListener(e)}postMessage(e){this.port.postMessage(e)}}var Un=__webpack_require__(74822),jn=__webpack_require__(68973),Bn=__webpack_require__(81986);function qn(e,t){if(!e||"object"!=typeof e)return e;try{const t=JSON.stringify(e,((e,t)=>(0,Bn.pb)(t)));return JSON.parse(t)}catch(n){return null==t||t(),e}}class Hn{constructor(e,t,n=(0,ye.Tb)()){this._rpcMessageName=e,this._message=t,this._telemetry=n,this.inbound=new N.y((e=>{const t=(t,n,i)=>{const r=JSON.stringify([i.tabId,i.frameId,t.clientId]);e.next({clientId:r,data:t.data})};return this._message.on(this._rpcMessageName,t),()=>this._message.off(this._rpcMessageName,t)})),this.outbound=e=>{const{tabId:t,frameId:n,clientId:i}=Hn.decodeClientId(e.clientId);this._message.sendTo({tabId:t,frameId:n},this._rpcMessageName,{clientId:i,data:qn(e.data,(()=>{var e;return null===(e=this._telemetry)||void 0===e?void 0:e.serializeTransportMsgFailed()}))})}}static decodeClientId(e){const[t,n,i]=JSON.parse(e);return{tabId:t,frameId:n,clientId:i}}}function Gn(e){const t=new Map;for(const{isFree:n,cardLayout:{group:i}}of e){t.has(i)||t.set(i,{lensName:i,free:0,premium:0});const e=t.get(i);e&&(e[n?"free":"premium"]+=1)}return Array.from(t.values()).sort(((e,t)=>t.premium-e.premium))}var zn=__webpack_require__(84706);const Wn="%appName%",$n={extensionSettingsToolbar:"%appName%SettingsToolbar",gdocsSidebarCardList:"%appName%AdvancedIssues",assistantCardList:"%appName%AdvancedIssues",extensionSettingsAssistant:"%appName%AssistantSettings",gdocsGoals:"%appName%AssistantGoals",extensionBusinessUphookPopup:"gb%appName%UphookPopup",gbExtensionSettingsToolbar:"gb%appName%SettingsToolbar",gbExtensionSettingsAssistant:"gb%appName%AssistantSettings",extensionGButton:"%appName%GButton",extPreviewsPopup:"%appName%PreviewsPopup",toneSuggestion:"%appName%ToneDetector",grammarlyGoPrompts:"%appName%GrammarlyGoPrompts",plagiarism:"%appName%_plagiarism_plagiarismView_premium"};function Vn(e,t){return{key:e,value:t}}function Kn(e,t){return Vn(e,t)}function Jn(e){return e.map((e=>[e.key,e.value].map(encodeURIComponent).join("="))).join("&")}function Xn(e,t){if(0===t.length)return e;const[n,i]=e.split("#"),r=n.includes("?");return[n,Jn(t)].join(r?"&":"?")+(i?`#${i}`:"")}function Yn(e){const n=[];var i,r;return void 0!==e.medium&&n.push(Kn("utm_medium",e.medium)),void 0!==e.source&&n.push(Kn("utm_source",e.source)),void 0!==e.campaign&&n.push(Kn("utm_campaign",(i=e.campaign,(null!==(r=$n[i])&&void 0!==r?r:i).replace(Wn,((e,n)=>{const i=zn.UA.getAppName((0,t.qs)(),(0,t.U8)(),(0,t.oX)());return 0===n?i:(r=i).charAt(0).toUpperCase()+r.slice(1);var r}))))),e.clickToRun&&n.push(Kn("click_to_run","true")),n}function Zn(e){return Yn(e)}Vn("fromExtension","true"),Vn("acr_values","idp:google");Yn({medium:"internal"})[0];function Qn(e,t){chrome.runtime.lastError?t(chrome.runtime.lastError):e()}class ei{constructor(){this._log=n.Y.create("extension-api.managed-storage.validator")}validate(e,t){switch(e){case"GrammarlyEnrollmentToken":return"string"==typeof t&&t.length>0&&/^[a-z0-9_-]+$/i.test(t);case"GrammarlyBlockedClients":case"GrammarlyBlockedDomains":return"string"==typeof t;case"GrammarlyConfidentialModeEnabled":case"GrammarlyDlpEnabled":return"boolean"==typeof t;case"GrammarlyExtensionMode":return"string"==typeof t&&("limited"===t||"full"===t);default:return this._log.warn(`Unknown key: ${e}`),!1}}}class ti{constructor(){this._log=n.Y.create("extension-api.managed-storage.chrome"),this._validator=new ei}get(e){return jn.O.fromPromise(Promise.race([new Promise((t=>{chrome.storage.managed.get(e,(n=>{Qn((()=>{const i=n[e];void 0===i||this._validator.validate(e,i)?t([i]):(this._log.warn(`Invalid value for "${e}": ${JSON.stringify(n[e])}`),t([void 0]))}),(n=>{this._log.error(`Could not get "${e}"`,n),t([void 0,n])}))}))})),new Promise((t=>{setTimeout((()=>{this._log.error(`Manage storage timeout to get "${e}"`),t([void 0,new Error("Manage storage timeout to get access")])}),3e3)}))]))}}var ni;!function(e){class t{constructor(e,t){this._port=e,this._getErrorMessage=t}onMessage(e){this._port.onMessage.addListener(e)}onDisconnect(e){this._port.onDisconnect.addListener((()=>e(this._getErrorMessage())))}postMessage(e){this._port.postMessage(e)}}e.PortImpl=t,e.createPort=function(e,n){return(0,o.fQ)(e.runtime.connectNative)?new t(e.runtime.connectNative(n),(()=>{var t;return null===(t=e.runtime.lastError)||void 0===t?void 0:t.message})):null}}(ni||(ni={}));class ii{constructor(e,t=n.Y.create("ChromeMV3SessionStorageApiImpl")){this._chromeInstance=e,this._logger=t,this.kind="chrome-mv3",this.get=e=>jn.O.create(((t,n)=>{this._chromeInstance.storage.session.get(e,(e=>{Qn((()=>t(e)),n)}))})),this.set=e=>jn.O.create(((t,n)=>{this._chromeInstance.storage.session.set(e,(()=>{Qn(t,n)}))})),this.getAll=()=>jn.O.create(((e,t)=>{this._chromeInstance.storage.session.get(null,(n=>{Qn((()=>e(n)),t)}))})),this.remove=e=>jn.O.create(((t,n)=>{this._chromeInstance.storage.session.remove(e,(()=>{Qn(t,n)}))})),this.removeAll=()=>jn.O.create(((e,t)=>{this._chromeInstance.storage.session.clear((()=>{Qn(e,t)}))})),this.onChange=e=>{const t=()=>{this.getAll().then((t=>e(t)))};return this._chromeInstance.storage.session.onChanged.addListener(t),()=>{try{this._chromeInstance.storage.session.onChanged.removeListener(t)}catch(e){this._logger.error("error removing session storage listener",e)}}},this.allowCStoUseSessionStorage=()=>jn.O.create(((e,t)=>{var n,i,r,s,o,a;null===(r=null===(i=null===(n=chrome.storage)||void 0===n?void 0:n.session)||void 0===i?void 0:i.setAccessLevel)||void 0===r||r.call(i,{accessLevel:null!==(a=null===(o=null===(s=chrome.storage)||void 0===s?void 0:s.AccessLevel)||void 0===o?void 0:o.TRUSTED_AND_UNTRUSTED_CONTEXTS)&&void 0!==a?a:"TRUSTED_AND_UNTRUSTED_CONTEXTS"},(()=>{Qn(e,t)}))}))}}class ri{constructor(){this.kind="memory",this._data={},this._listeners=[],this.get=e=>jn.O.sync((()=>(Array.isArray(e)?e:[e]).reduce(((e,t)=>({...e,[t]:this._data[t]})),{}))),this.set=e=>jn.O.sync((()=>{this._data={...this._data,...e},this._callListeners()})),this.getAll=()=>jn.O.sync((()=>this._data)),this.remove=e=>jn.O.sync((()=>{(Array.isArray(e)?e:[e]).forEach((e=>{e in this._data&&delete this._data[e]})),this._callListeners()})),this.removeAll=()=>jn.O.sync((()=>{this._data={},this._callListeners()})),this.onChange=e=>(this._listeners.push(e),()=>this._listeners.splice(this._listeners.indexOf(e),1))}_callListeners(){this._listeners.forEach((e=>e(this._data)))}}class si{constructor(e,t){this._chrome=e,this._manifestVersion=t,this.kind="web-extension",this.executeScript=(e,t,n)=>jn.O.create(((i,r)=>{"3"!==this._manifestVersion?this._chrome.tabs.executeScript(t,{file:e,matchAboutBlank:!0,...n?{frameId:Number(n)}:{}},(e=>oi(null==e?void 0:e[0],i,r))):this._chrome.scripting.executeScript({files:[e],target:{tabId:t,...n?{frameIds:[Number(n)]}:{}}},(e=>{var t;return oi(null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.result,i,r)}))})),this.executeFunction=(e,t,n)=>jn.O.create(((i,r)=>{"3"!==this._manifestVersion?this._chrome.tabs.executeScript(t,{code:`(${e.toString()})()`,matchAboutBlank:!0,...n?{frameId:Number(n)}:{}},(e=>oi(null==e?void 0:e[0],i,r))):this._chrome.scripting.executeScript({func:e,target:{tabId:t,...n?{frameIds:[Number(n)]}:{}}},(e=>{var t;return oi(null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.result,i,r)}))})),this.insertCSS=(e,t,n,i)=>jn.O.create(((r,s)=>{"3"!==this._manifestVersion?this._chrome.tabs.insertCSS(e,{file:t,code:n,matchAboutBlank:!0,...i?{frameId:Number(i)}:{}},(()=>oi(void 0,r,s))):this._chrome.scripting.insertCSS({target:{tabId:e,...i?{frameIds:[Number(i)]}:{}},files:t?[t]:void 0,css:n},(()=>oi(void 0,r,s)))}))}open(e,t){return jn.O.create(((n,i)=>{this._chrome.tabs.create({url:e,active:t},(e=>{Qn((()=>n(e)),i)}))}))}create(e){return jn.O.create(((t,n)=>{this._chrome.tabs.create(e,(e=>{Qn((()=>t(e)),n)}))}))}remove(e,t){return jn.O.fromPromise(this._chrome.tabs.remove(e,t))}updateCurrent(e){return jn.O.create(((t,n)=>{this._chrome.tabs.update({url:e},(e=>{Qn((()=>t(e)),n)}))}))}getActiveTab(){return jn.O.create(((e,t)=>{const n=this._chrome.tabs;n.query({active:!0,lastFocusedWindow:!0},(i=>{Qn((()=>{i&&i.length?e(i[0]):n.query({active:!0},(n=>{Qn((()=>{e(n[0])}),t)}))}),t)}))}))}getAllTabs(){return jn.O.create(((e,t)=>this._chrome.tabs.query({},(n=>Qn((()=>e(n)),t)))))}getActiveTabUrl(){return jn.O.create(((e,t)=>this.getActiveTab().then((n=>Qn((()=>e(n&&n.url)),t)))))}getActiveTabZoom(){return jn.O.create(((e,t)=>{this.getActiveTab().then((n=>{if(!n||!n.id)return e(void 0);this._chrome.tabs.getZoom(null==n?void 0:n.id).then((n=>{Qn((()=>e(n)),t)}))}))}))}_onActiveTabChange(e){this._chrome.tabs.onActivated.addListener((t=>this._chrome.tabs.get(t.tabId,e))),this._chrome.tabs.onUpdated.addListener(((t,n)=>{this.getActiveTab().then((i=>{i&&i.id===t&&(n.url||n.favIconUrl||"complete"===n.status||n.title)&&this._chrome.tabs.get(t,e)}))}))}_onTabChangeError(e,t,n){n(e),"Tabs cannot be edited right now (user may be dragging a tab)."===(null==e?void 0:e.message)&&setTimeout((()=>{this.getActiveTab().then((e=>{Qn((()=>t(e)),n)}))}),100)}onActiveTabChange(e,t){const n=n=>{Qn((()=>!!n&&e(n)),(n=>this._onTabChangeError(n,(t=>!!t&&e(t)),t)))};this._onActiveTabChange(n),this._chrome.windows.onFocusChanged.addListener((e=>this._chrome.tabs.query({active:!0,windowId:e,lastFocusedWindow:!0},(([e])=>n(e))))),this.getActiveTab().then(n)}onWindowOrActiveTabChange(e,t){const n=n=>{Qn((()=>e(n)),(n=>this._onTabChangeError(n,(t=>e(t)),t)))};this._onActiveTabChange(n),this._chrome.windows.getCurrent().then((i=>{Qn((()=>{i.focused?this.getActiveTab().then(n):e(void 0)}),(n=>{t(n),e(void 0)}))})),this._chrome.windows.onFocusChanged.addListener((t=>{this._chrome.windows.getCurrent().then((i=>{i.focused?this._chrome.tabs.query({active:!0,windowId:t,lastFocusedWindow:!0},(([e])=>n(e))):e(void 0)}))})),this._chrome.windows.onRemoved.addListener((()=>{this._chrome.windows.getCurrent().then((t=>{t.focused?this.getActiveTab().then(n):e(void 0)}))}))}reload(e){return jn.O.create(((t,n)=>{const i=()=>Qn((()=>t()),n);e.id?this._chrome.tabs.reload(e.id,{},i):this._chrome.tabs.reload(i)}))}closeCurrentTab(){return jn.O.create(((e,t)=>{this.getActiveTab().then((n=>{n&&n.id&&this._chrome.tabs.remove(n.id,(()=>{Qn((()=>e()),t)}))}))}))}focusTab(e){return jn.O.create(((t,n)=>{this._chrome.tabs.update(e,{highlighted:!0},(()=>{Qn((()=>t()),n)}))}))}sendMessageToTab(e,t,n){return jn.O.create(((i,r)=>{this._chrome.tabs.sendMessage(t,e,{frameId:n},(()=>{Qn((()=>i()),r)}))}))}get onUpdated(){return this._chrome.tabs.onUpdated}get onRemoved(){return this._chrome.tabs.onRemoved}}function oi(e,t,n){kn()?n(kn()):t(e)}var ai=__webpack_require__(94100);const ci=e=>e.split(".")[0];new Set(["google chrome","microsoft edge","samsung internet","opera"]);class li{get button(){const e=this._action;return{kind:"web-extension",setBadge(t){e.setBadgeText({text:t})},setIconByName(t){const{prefix:n,postfix:i}=function(e){return{prefix:"./src/icon/toolbar/icon",postfix:e?"-"+e:""}}(t);e.setIcon({path:{16:`${n}16${i}.png`,32:`${n}32${i}.png`}})},setTitle(t){e.setTitle({title:t})},setBadgeBackgroundColor(t){e.setBadgeBackgroundColor({color:t})}}}get baseUri(){var e;return null!==(e=this._baseUrl)&&void 0!==e?e:chrome.runtime.getURL("")}getBrowserInfo(e=self.navigator.userAgent){return((e=self.navigator.userAgent)=>{const t=new ai.UAParser(e).getResult();return{browserName:t.browser.name||"unknown",browserVersion:t.browser.version?ci(t.browser.version):void 0,osName:t.os.name||"unknown",osVersion:t.os.version?ci(t.os.version):void 0,userAgent:e}})(e)}constructor(e,n,i,r){var s;this.preferences=e,this.message=n,this.tabs=i,this._manifestVersion=r,this._isManifestV3="3"===this._manifestVersion,this._action=this._isManifestV3?chrome.action:chrome.browserAction,this.managedStorage=new ti,this.sessionStorage=this._isManifestV3&&(null===(s=chrome.storage)||void 0===s?void 0:s.session)?new ii(chrome):new ri,this.thirdPartyExtensionsInstalled={},this.notification={kind:"web-extension",create:e=>jn.O.create(((t,n)=>{const i=chrome.notifications,r=Rn();i.create(r,Object.assign({type:"basic"},e),(()=>{Qn((()=>{const e=new N.y((e=>{const t=t=>t===r&&e.next(t);return i.onClicked.addListener(t),()=>i.onClicked.removeListener(t)})),n=new N.y((e=>{const t=(t,n)=>t===r&&e.next({id:t,buttonIndex:n});return i.onButtonClicked.addListener(t),()=>i.onButtonClicked.removeListener(t)})),s=new N.y((e=>{const t=(t,n)=>t===r&&e.next({id:t,byUser:n});return i.onClosed.addListener(t),()=>i.onClosed.removeListener(t)}));t({id:r,click:e,buttonClick:n,close:s})}),n)}))})),clear:e=>jn.O.create(((t,n)=>{chrome.notifications.clear(e,(e=>{Qn((()=>t(e)),n)}))}))},this.cookies={kind:"web-extension",get:e=>jn.O.create(((t,n)=>chrome.cookies.get(e,(e=>Qn((()=>t(e)),n))))),remove:e=>jn.O.fromPromise(new Promise(((t,n)=>chrome.cookies.remove(e,(()=>Qn((()=>t(null)),n)))))),getAll:e=>jn.O.create(((t,n)=>chrome.cookies.getAll(e,(e=>Qn((()=>t(e)),n))))),set:e=>jn.O.create(((t,n)=>chrome.cookies.set(e,(e=>Qn((()=>t(e)),n))))),watch(e,t){const n=n=>{const{cookie:i,cause:r}=n;!i||!i.name||e.path&&e.path!==i.path||e.name!==i.name||e.domain&&-1===i.domain.indexOf(e.domain)||("explicit"===r&&t(i),"expired_overwrite"===r&&t())};return chrome.cookies.onChanged.addListener(n),()=>chrome.cookies.onChanged.removeListener(n)},getChanges(e){return new N.y((t=>this.watch(e,(e=>t.next(e)))))}},this.management={uninstallSelf(){chrome.management.uninstallSelf()}},this._baseUrl=(0,o.DV)((()=>chrome.runtime.getURL("")),(e=>null)),this.permissions=chrome.permissions?{watchAdded:e=>{chrome.permissions.onAdded.addListener(e)},added:new N.y((e=>{const t=t=>{e.next(t)};return chrome.permissions.onAdded.addListener(t),()=>{chrome.permissions.onAdded.removeListener(t)}})),watchRemoved:e=>{chrome.permissions.onRemoved.addListener(e)},removed:new N.y((e=>{const t=t=>{e.next(t)};return chrome.permissions.onRemoved.addListener(t),()=>{chrome.permissions.onRemoved.removeListener(t)}})),getAll:jn.O.fromAsync((()=>new Promise((e=>chrome.permissions.getAll(e))))),request:jn.O.fromAsync((e=>new Promise(((t,n)=>chrome.permissions.request(e,(e=>{chrome.runtime.lastError?n(chrome.runtime.lastError):t(e)})))))),contains:jn.O.fromAsync((e=>new Promise(((t,n)=>{chrome.permissions.contains(e,(e=>{chrome.runtime.lastError?n(chrome.runtime.lastError):t(e)}))}))))}:void 0,this.fetchBlocklistConfig=()=>jn.O.noop,this.getUrl=e=>this._baseUrl?this._baseUrl+e:chrome.runtime.getURL(e),this.fetchInternalResource=(e,t)=>jn.O.fromPromise(fetch(this.getUrl(e)).then((e=>"json"===t?e.json():e.arrayBuffer()))),this.openUrl=e=>this.tabs.open(e,!0),this.openSubscriptionPage=e=>function(e,n){var i;const r=[Vn("app_type","extension"),Vn("browser",(0,t.qs)()),...e.currentAlerts?[Vn("lensedAlerts",(s=Gn(e.currentAlerts),btoa(JSON.stringify(s))))]:[],...Zn({medium:"internal",campaign:e.utmCampaign,source:null!==(i=e.utmSource)&&void 0!==i?i:e.isAnonymous?"signupHook":"upHook"})];var s;const o=e.overrideUrl?e.overrideUrl:Xn((0,t.Um)().planComparison,r);n.open(o,!0)}(e,this.tabs),this.openSidePanel=e=>{var t;const n=(0,ye.Tb)().sidePanel;if(!(null===(t=chrome.sidePanel)||void 0===t?void 0:t.open)){const e="chrome.sidePanel?.open is not available";return n.openFail(e),Promise.reject(new Error(e))}const i=Hn.decodeClientId(e).tabId,r=Number(i);if(!i||isNaN(r)){const e=`Invalid tabId when open side panel: '${i}'`;return n.openFail(e),Promise.reject(new Error(e))}return chrome.sidePanel.open({tabId:r}).catch((e=>{throw n.openFail(e.message),e}))},this.isSidePanelSupported=()=>{var e;return Promise.resolve(!!(null===(e=chrome.sidePanel)||void 0===e?void 0:e.open))},this.openPopup=()=>{var e;const t=(0,ye.Tb)().sidePanel;if(!(null===(e=chrome.action)||void 0===e?void 0:e.openPopup)){const e="chrome.action.openPopup is not available";return t.openFail(e),Promise.reject(new Error(e))}return chrome.action.openPopup().catch((e=>{throw t.openPopupFail(e.message),e}))},this.isExtensionUrl=(e,t)=>this.getUrl(e)===t,this.reload=()=>chrome.runtime.reload(),this.i18n={detectLanguage:e=>jn.O.create(((t,n)=>chrome.i18n.detectLanguage(e,(e=>Qn((()=>t(e)),n))))),getUILanguage:()=>chrome.i18n.getUILanguage(),getAcceptLanguages:()=>jn.O.create(((e,t)=>chrome.i18n.getAcceptLanguages((n=>Qn((()=>e(n)),t)))))},this.identity=chrome.identity,this.initCodeSplittingListener=()=>{return chrome.runtime.onMessage.addListener((e=this.tabs.executeScript,(t,n,i)=>{t&&"CODE_SPLITTING_INJECT"===t.type&&t.file&&n&&n.tab&&null!=n.tab.id&&(e(t.file,Number(n.tab.id),n.frameId),i())}));var e},this.isExtensionInstalled=jn.O.fromAsync((async(e,n=!1)=>{if(!n&&void 0!==this.thirdPartyExtensionsInstalled[e])return this.thirdPartyExtensionsInstalled[e];if(!(0,t.L6)())return!1;const i=li.thirdPartyExtensionsData[e].publicResources.reduce(((n,i)=>((0,t.kD)()&&n.push(`chrome-extension://${li.thirdPartyExtensionsData[e].MSStoreId}${i}`),n.concat(`chrome-extension://${li.thirdPartyExtensionsData[e].id}${i}`))),[]);return(0,he.Wp)(i.map((e=>fetch(e)))).then((e=>!0)).catch((e=>!1))})),this.setUninstallURL=e=>chrome.runtime.setUninstallURL(e),this.connectNative=e=>ni.createPort(chrome,e),this.indexedDB=self.indexedDB}}li.thirdPartyExtensionsData={mseditor:{id:"gpaiobkfhnonedkhhfjpmhdalgeoebfa",MSStoreId:"hokifickgkhplphjiodbggjmoafhignh",publicResources:["/fonts/fabric-icons.css"]},office:{id:"ndjpnladcallmjemlbaebfadecfhkepb",MSStoreId:"gggmmkjegpiggikcnhidnjjhmicpibll",publicResources:["/fonts/fabric-icons.css"]}},async function(e,i=!0,a,c=!1){en.checkScriptInitStart();const l=(0,s.ge)(),u=Ee.Xb.init({...e,skipInitExtensionApi:i,skipWriteLogsToBackupStorage:!0}),h=n.Y.create("universal.check");if("text/html"!==document.contentType)return h.info("not a html page, skip integration check"),void(0,ye.Tb)().skipIntegrationForNonHtmlPage();mn(u.bgRpc.api.getRecentAccount);const m=function(e,t,n){const i=performance.now();return e.fetchTreatments().then((()=>{const e=performance.now()-i;if(e>n){const n=Math.ceil(e/1e3),i=n>60?60:n;t.fetchTimeout(i)}else t.fetchSuccess()})).catch((e=>{t.fetchFailed((0,Ve.H)(e)?e.message:String(e))}))}(u.experimentClient,{fetchSuccess:(0,ye.Tb)().checkScript.fetchTreatmentsSuccess,fetchFailed:(0,ye.Tb)().checkScript.fetchTreatmentsFail,fetchTimeout:(0,ye.Tb)().checkScript.fetchTreatmentsTimeout},pn);await Promise.race([m,(0,he.gw)(pn)]);const f=new cn(u.csShareStorage,(()=>{(null!=a?a:u.bgRpc.api.loadContentScript)(),gn()}),c),b=new Pe(l),_=un.init(u.browserApi,u.message,u.config,l),{viewStoreLite:v,persistentStoreLite:y}=We(u,l),w=new r({experimentClient:u.experimentClient}),x=(0,o.hz)((e=>{(0,ye.Tb)().sendFemetricsRate("checkScriptInitialized",{domain:(0,$e.Cg)(),isExtensionEnabled:e,isIframe:(0,t.n_)()},["firstInstall","registrationDate"])})),E=v.subscribe((e=>{var t,n,i,r;h.debug("check script state is updated",e);const s=null===(t=e.settings)||void 0===t?void 0:t.common;f.updateState(null===(i=null===(n=e.user)||void 0===n?void 0:n.anonymous)||void 0===i||i,e.enabled,null!==(r=null==s?void 0:s.enabledDefs)&&void 0!==r&&r,ee.isIntegrationEnabled(s,l,e.dynamicConfig),d(l,e.dynamicConfig,s),function(e,t,n,i=!1){if("enabled"===(null==t?void 0:t.kind)&&void 0===t.deniedClipboardAccessSince){const r=void 0===t.allowedClipboardAccess?function(e){return"enabled"===(null==e?void 0:e.kind)&&e.domainSettings.some((e=>e.logAllDocuments?e.logAllDocuments:e.activeDocumentIds.length>0))}(t):t.allowedClipboardAccess,s=t.allDomainsTrackingEnabled?""!==e&&p.concat((null==n?void 0:n.blockedDomains)||[]).every((t=>!new RegExp(t).test(e))):g.some((t=>new RegExp(t).test(e)));return r&&(s||i)}return!1}(l,null==s?void 0:s.humanWritingReport,e.dynamicConfig.hwr),u.productMetricsCSClient,e.dynamicConfig),b.updateState(l,e.dynamicConfig,e.enabled,s),w.update((e=>{var t,n,i;return!((null===(t=e.settings)||void 0===t?void 0:t.common.isDesktopIntegrationEnabled)||e.siteSupported&&!e.enabled)&&Boolean(null===(i=null===(n=e.settings)||void 0===n?void 0:n.common.alwaysAvailableAssistantSettings)||void 0===i?void 0:i.enabled)})(e)),x(e.enabled)})),S=[f,_,b,w];u.message.once("contentScript-disconnected",(()=>{h.info("Content script disconnected"),E.unsubscribe(),u.csShareStorage.clean(),S.forEach((e=>e&&e.dispose()))})),u.message.once(we.Kind.disableOnTab,(()=>{b.dispose()})),Re.initSendLogsToPopupHandler(u),hn.push(Re.initKeyboardShortcutHandler(u)),en.checkScriptInitEnd(u.bgRpc),(e=>{if(self.location.href.includes("grammarly.com/extension-success")){const t=document.getElementById("click-to-run");t&&(t.onclick=()=>{var t,n;confirm("Always allow Grammarly to run on every website")?(e.api.enableClickToRunOnAllWebsites(),null===(t=document.getElementById("click-to-run-success"))||void 0===t||t.click()):null===(n=document.getElementById("click-to-run-fail"))||void 0===n||n.click()})}})(u.bgRpc);const k=await fe.create(y.view(),u.bgRpc.api,u.browserApi,u.csShareStorage);hn.push(k),dn&&gn(),h.info("Check script initialization complete")}({browser:"chrome",extensionType:"chromiumWebExtension",deploymentType:"regular",browserApi:function(){const e=function(){var e;const t=new Un.x;return null===(e=chrome.storage)||void 0===e||e.onChanged.addListener(((e,n)=>{"local"===n&&t.next(e)})),{...(n=chrome,{get:e=>jn.O.create(((t,i)=>n.storage.local.get(e,(e=>{Qn((()=>t(e)),i)})))),set:e=>jn.O.create(((t,i)=>n.storage.local.set(e,(()=>{Qn(t,i)})))),getAll:()=>jn.O.create(((e,t)=>n.storage.local.get(null,(n=>{Qn((()=>e(n)),t)})))),remove:e=>jn.O.create(((t,i)=>n.storage.local.remove(e,(()=>{Qn(t,i)})))),removeAll:()=>jn.O.create(((e,t)=>n.storage.local.clear((()=>{Qn(e,t)}))))}),changes:t};var n}(),{manifestVersion:t,tabs:n}={manifestVersion:"3",tabs:new si(chrome,"3")},i=new Mn((e=>new Dn(chrome,e)),(r=()=>e.getAll(),async()=>{try{return await r(),!0}catch(e){return!1}}),chrome.runtime.id,chrome.runtime.onMessage,(e=>chrome.runtime.sendMessage(e)));var r;return new li(e,i,n,t)}(),createExperimentClient:e=>new fn.ExperimentClient(new xn(e),En,new wn(e),Sn,yn)})})();