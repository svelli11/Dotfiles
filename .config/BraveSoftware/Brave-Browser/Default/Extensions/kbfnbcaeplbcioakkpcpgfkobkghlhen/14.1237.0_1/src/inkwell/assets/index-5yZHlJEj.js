import{c as g,R as p,f as m,C as f,p as c,m as l,F as s,L as u,E as v,M}from"./start-BFd-djfI.js";const d=g(Symbol("Monitoring")),k=i=>{const r=i.getExecutionScopeDefinition("global");return p.all([r.register({token:d,useFactory:a=>{const e=i.getResolutionMetadata();return e===null?m(new f("Monitoring service can only be used in plugin context.")):c(a.resolve(s),l(n=>S(e.plugin,n)))}},{lifetime:u.Transient}),r.register({token:s,useFactory:a=>c(a.resolve(v),l(e=>new s({},e)))},{lifetime:u.Singleton,override:!1})])};function S(i,r){const e="plugin_"+i.replace(/-/g,"_"),n=new M(e,r);return{count:(t,o)=>n.count(t,o),duration:(t,o)=>n.duration(t,o),histogram:(t,o)=>n.histogram(t,o)}}export{d as MonitoringToken,k as activate};
//# sourceMappingURL=index-5yZHlJEj.js.map
