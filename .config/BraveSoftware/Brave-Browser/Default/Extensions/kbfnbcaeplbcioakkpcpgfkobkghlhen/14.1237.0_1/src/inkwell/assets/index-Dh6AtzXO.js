var D=Object.defineProperty;var v=s=>{throw TypeError(s)};var j=(s,t,e)=>t in s?D(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var f=(s,t,e)=>j(s,typeof t!="symbol"?t+"":t,e),d=(s,t,e)=>t.has(s)||v("Cannot "+e);var i=(s,t,e)=>(d(s,t,"read from private field"),e?e.call(s):t.get(s)),l=(s,t,e)=>t.has(s)?v("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e),m=(s,t,e,h)=>(d(s,t,"write to private field"),h?h.call(s,e):t.set(s,e),e),o=(s,t,e)=>(d(s,t,"access private method"),e);var y=(s,t,e,h)=>({set _(u){m(s,t,u,e)},get _(){return i(s,t,h)}});import{S as k,aa as x,n as E}from"./start-BFd-djfI.js";import{R}from"./index-Bm4tEXCw.js";var a,n,p,b,r,c;class U{constructor(){l(this,r);l(this,a,new Map);l(this,n,new k);l(this,p,0);l(this,b,null);f(this,"subscribe",t=>{const e=i(this,n).subscribe(t);return()=>E(e)});f(this,"getSnapshot",()=>{var t;return(t=i(this,b))!=null?t:m(this,b,Object.fromEntries(i(this,a).entries()))})}add(t,e){var w;const h=(w=i(this,a).get(e.slot))!=null?w:[],u="v".concat(y(this,p)._++);return i(this,a).set(e.slot,[...h,{key:u,view:R.createElement(t),options:e}]),o(this,r,c).call(this),x(()=>{const g=i(this,a).get(e.slot);g&&(i(this,a).set(e.slot,g.filter(S=>S.key!==u)),o(this,r,c).call(this))})}clear(){i(this,a).clear(),o(this,r,c).call(this)}[Symbol.dispose](){i(this,a).clear(),o(this,r,c).call(this),i(this,n).complete()}}a=new WeakMap,n=new WeakMap,p=new WeakMap,b=new WeakMap,r=new WeakSet,c=function(){m(this,b,null),i(this,n).next()};export{U as D};
//# sourceMappingURL=index-Dh6AtzXO.js.map
