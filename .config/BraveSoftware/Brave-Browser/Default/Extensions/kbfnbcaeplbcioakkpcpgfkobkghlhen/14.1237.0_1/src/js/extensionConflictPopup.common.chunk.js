(self.webpackChunk=self.webpackChunk||[]).push([[3587],{3180:(e,t,n)=>{n.r(t),n.d(t,{ExtensionConflictController:()=>u});var o=n(49231),i=n(67271),r=n(88637),l=n(29037),a=n(25419),s=n(23560),c=n(38635),d=n(71564),h=n(36081),f=n(37540),m=n(68717);const g=({onClose:e})=>o.createElement(h.X,{mainContent:o.createElement(s.k,{direction:"column",padding:8,paddingTop:0,gap:4},o.createElement(m.e,{size:40,level:"warning"}),o.createElement(c.X,{as:"h2",variant:"heading-small"},"Another writing extension is interfering with Grammarly"),o.createElement(d.x,{as:"p",variant:"text-small"},"We suggest removing your other extension to get the best of Grammarly."),o.createElement(f.z,{onClick:e,style:{minWidth:102}},"Got it")),onClose:e,size:"extra-large",includeMainContentPadding:!1});class u{constructor(e){this._doc=e,this._container=null}show(){var e,t;this._hide(),this._render(),null===(t=null===(e=this._findConflictDialog())||void 0===e?void 0:e.querySelector("button"))||void 0===t||t.addEventListener("click",(()=>this._hide()))}_hide(){this._container&&(this._container.dispose(),this._container=null)}_render(){this._container=r.V.get({monitorAs:"g-extension-conflict"}).inject(l.EM.fromDocument(this._doc,"g-extension-conflict"),l.zs.appendChild(this._doc.documentElement),a.G7.showWhenLoaded(o.createElement("div",{style:{position:"fixed",right:"16px",top:`${this._getCardOffsetTop()}px`,zIndex:99999},"data-grammarly-part":"extension-conflict-notification"},o.createElement(i.L,{chunkName:"extensionConflictPopup"},o.createElement(g,{onClose:()=>this._hide()})))))}_findConflictDialog(){const e=Array.from(this._doc.querySelectorAll("editor-card"));for(const t of e){const e=Array.from(t.querySelectorAll("div"));for(const t of e)if(t.shadowRoot){const e=Array.from(t.shadowRoot.querySelectorAll('div[role="alertdialog"]'));for(const t of e)if(t.innerText.toLocaleLowerCase().includes("editor"))return t}}}_getCardOffsetTop(){const e=this._findConflictDialog();return e?32+e.getBoundingClientRect().height:16}}}}]);