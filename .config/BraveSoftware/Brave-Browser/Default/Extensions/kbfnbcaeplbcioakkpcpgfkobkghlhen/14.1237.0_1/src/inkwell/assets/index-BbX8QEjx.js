var D=Object.defineProperty;var v=s=>{throw TypeError(s)};var j=(s,t,e)=>t in s?D(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var f=(s,t,e)=>j(s,typeof t!="symbol"?t+"":t,e),m=(s,t,e)=>t.has(s)||v("Cannot "+e);var i=(s,t,e)=>(m(s,t,"read from private field"),e?e.call(s):t.get(s)),l=(s,t,e)=>t.has(s)?v("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e),p=(s,t,e,h)=>(m(s,t,"write to private field"),h?h.call(s,e):t.set(s,e),e),c=(s,t,e)=>(m(s,t,"access private method"),e);var y=(s,t,e,h)=>({set _(u){p(s,t,u,e)},get _(){return i(s,t,h)}});import{S as k,ab as x,ag as E,n as C}from"./index-uVYElzgq.js";var a,n,d,b,r,o;class R{constructor(){l(this,r);l(this,a,new Map);l(this,n,new k);l(this,d,0);l(this,b,null);f(this,"subscribe",t=>{const e=i(this,n).subscribe(t);return()=>C(e)});f(this,"getSnapshot",()=>{var t;return(t=i(this,b))!=null?t:p(this,b,Object.fromEntries(i(this,a).entries()))})}add(t,e){var w;const h=(w=i(this,a).get(e.slot))!=null?w:[],u="v".concat(y(this,d)._++);return i(this,a).set(e.slot,[...h,{key:u,view:x.createElement(t),options:e}]),c(this,r,o).call(this),E(()=>{const g=i(this,a).get(e.slot);g&&(i(this,a).set(e.slot,g.filter(S=>S.key!==u)),c(this,r,o).call(this))})}clear(){i(this,a).clear(),c(this,r,o).call(this)}[Symbol.dispose](){i(this,a).clear(),c(this,r,o).call(this),i(this,n).complete()}}a=new WeakMap,n=new WeakMap,d=new WeakMap,b=new WeakMap,r=new WeakSet,o=function(){p(this,b,null),i(this,n).next()};export{R as D};
//# sourceMappingURL=index-BbX8QEjx.js.map
