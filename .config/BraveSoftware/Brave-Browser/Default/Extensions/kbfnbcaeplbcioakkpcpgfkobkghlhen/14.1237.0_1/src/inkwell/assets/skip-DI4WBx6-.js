import{aM as d,S as m,b1 as v,aL as c,aK as h,y as l}from"./index-uVYElzgq.js";import{s as y}from"./share-BO0c2DMx.js";var b=function(n){d(f,n);function f(e,i,r){e===void 0&&(e=1/0),i===void 0&&(i=1/0),r===void 0&&(r=v);var t=n.call(this)||this;return t._bufferSize=e,t._windowTime=i,t._timestampProvider=r,t._buffer=[],t._infiniteTimeWindow=!0,t._infiniteTimeWindow=i===1/0,t._bufferSize=Math.max(1,e),t._windowTime=Math.max(1,i),t}return f.prototype.next=function(e){var i=this,r=i.isStopped,t=i._buffer,a=i._infiniteTimeWindow,o=i._timestampProvider,s=i._windowTime;r||(t.push(e),!a&&t.push(o.now()+s)),this._trimBuffer(),n.prototype.next.call(this,e)},f.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var i=this._innerSubscribe(e),r=this,t=r._infiniteTimeWindow,a=r._buffer,o=a.slice(),s=0;s<o.length&&!e.closed;s+=t?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),i},f.prototype._trimBuffer=function(){var e=this,i=e._bufferSize,r=e._timestampProvider,t=e._buffer,a=e._infiniteTimeWindow,o=(a?1:2)*i;if(i<1/0&&o<t.length&&t.splice(0,t.length-o),!a){for(var s=r.now(),_=0,u=1;u<t.length&&t[u]<=s;u+=2)_=u;_&&t.splice(0,_+1)}},f}(m);function w(n,f,e,i,r){return function(t,a){var o=e,s=f,_=0;t.subscribe(c(a,function(u){var p=_++;s=o?n(s,u,p):(o=!0,u),i&&a.next(s)},r&&function(){o&&a.next(s),a.complete()}))}}function T(n,f){return h(w(n,f,arguments.length>=2,!0))}function W(n,f,e){var i,r,t,a,o=!1;return n&&typeof n=="object"?(i=n.bufferSize,a=i===void 0?1/0:i,r=n.windowTime,f=r===void 0?1/0:r,t=n.refCount,o=t===void 0?!1:t,e=n.scheduler):a=n!=null?n:1/0,y({connector:function(){return new b(a,f,e)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function S(n){return l(function(f,e){return n<=e})}export{b as R,T as a,S as b,w as c,W as s};
//# sourceMappingURL=skip-DI4WBx6-.js.map
