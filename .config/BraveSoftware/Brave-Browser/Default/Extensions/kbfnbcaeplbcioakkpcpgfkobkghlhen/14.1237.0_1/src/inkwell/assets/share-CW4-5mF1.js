import{at as A,aK as S,aD as _,az as E,aA as j,S as y}from"./start-BFd-djfI.js";function z(e){e===void 0&&(e={});var t=e.connector,s=t===void 0?function(){return new y}:t,r=e.resetOnError,c=r===void 0?!0:r,p=e.resetOnComplete,g=p===void 0?!0:p,O=e.resetOnRefCountZero,x=O===void 0?!0:O;return function(R){var u,n,a,i=0,f=!1,v=!1,d=function(){n==null||n.unsubscribe(),n=void 0},m=function(){d(),u=a=void 0,f=v=!1},w=function(){var o=u;m(),o==null||o.unsubscribe()};return A(function(o,h){i++,!v&&!f&&d();var b=a=a!=null?a:s();h.add(function(){i--,i===0&&!v&&!f&&(n=C(w,x))}),b.subscribe(h),!u&&i>0&&(u=new S({next:function(l){return b.next(l)},error:function(l){v=!0,d(),n=C(m,c,l),b.error(l)},complete:function(){f=!0,d(),n=C(m,g),b.complete()}}),_(o).subscribe(u))})(R)}}function C(e,t){for(var s=[],r=2;r<arguments.length;r++)s[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var c=new S({next:function(){c.unsubscribe(),e()}});return _(t.apply(void 0,E([],j(s)))).subscribe(c)}}export{z as s};
//# sourceMappingURL=share-CW4-5mF1.js.map
