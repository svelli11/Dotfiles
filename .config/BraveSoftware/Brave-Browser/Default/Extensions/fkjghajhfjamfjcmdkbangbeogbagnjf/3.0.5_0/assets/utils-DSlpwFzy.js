import{e as Re,k as ie,D as ae,O as ur,a as lr}from"./logging-DFlNDjhV.js";var se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hr(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Zt(n){if(n.__esModule)return n;var a=n.default;if(typeof a=="function"){var g=function A(){return this instanceof A?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};g.prototype=a.prototype}else g={};return Object.defineProperty(g,"__esModule",{value:!0}),Object.keys(n).forEach(function(A){var x=Object.getOwnPropertyDescriptor(n,A);Object.defineProperty(g,A,x.get?x:{enumerable:!0,get:function(){return n[A]}})}),g}var pr={exports:{}};(function(n,a){(function(g,A){A(n)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:se,function(g){if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)g.exports=globalThis.browser;else{const A="The message port closed before a response was received.",x=m=>{const O={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(O).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class k extends WeakMap{constructor(o,l=void 0){super(l),this.createItem=o}get(o){return this.has(o)||this.set(o,this.createItem(o)),super.get(o)}}const L=i=>i&&typeof i=="object"&&typeof i.then=="function",E=(i,o)=>(...l)=>{m.runtime.lastError?i.reject(new Error(m.runtime.lastError.message)):o.singleCallbackArg||l.length<=1&&o.singleCallbackArg!==!1?i.resolve(l[0]):i.resolve(l)},v=i=>i==1?"argument":"arguments",T=(i,o)=>function(d,...w){if(w.length<o.minArgs)throw new Error(`Expected at least ${o.minArgs} ${v(o.minArgs)} for ${i}(), got ${w.length}`);if(w.length>o.maxArgs)throw new Error(`Expected at most ${o.maxArgs} ${v(o.maxArgs)} for ${i}(), got ${w.length}`);return new Promise((S,I)=>{if(o.fallbackToNoCallback)try{d[i](...w,E({resolve:S,reject:I},o))}catch(u){console.warn(`${i} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,u),d[i](...w),o.fallbackToNoCallback=!1,o.noCallback=!0,S()}else o.noCallback?(d[i](...w),S()):d[i](...w,E({resolve:S,reject:I},o))})},P=(i,o,l)=>new Proxy(o,{apply(d,w,S){return l.call(w,i,...S)}});let M=Function.call.bind(Object.prototype.hasOwnProperty);const G=(i,o={},l={})=>{let d=Object.create(null),w={has(I,u){return u in i||u in d},get(I,u,U){if(u in d)return d[u];if(!(u in i))return;let _=i[u];if(typeof _=="function")if(typeof o[u]=="function")_=P(i,i[u],o[u]);else if(M(l,u)){let Y=T(u,l[u]);_=P(i,i[u],Y)}else _=_.bind(i);else if(typeof _=="object"&&_!==null&&(M(o,u)||M(l,u)))_=G(_,o[u],l[u]);else if(M(l,"*"))_=G(_,o[u],l["*"]);else return Object.defineProperty(d,u,{configurable:!0,enumerable:!0,get(){return i[u]},set(Y){i[u]=Y}}),_;return d[u]=_,_},set(I,u,U,_){return u in d?d[u]=U:i[u]=U,!0},defineProperty(I,u,U){return Reflect.defineProperty(d,u,U)},deleteProperty(I,u){return Reflect.deleteProperty(d,u)}},S=Object.create(i);return new Proxy(S,w)},Z=i=>({addListener(o,l,...d){o.addListener(i.get(l),...d)},hasListener(o,l){return o.hasListener(i.get(l))},removeListener(o,l){o.removeListener(i.get(l))}}),ve=new k(i=>typeof i!="function"?i:function(l){const d=G(l,{},{getContent:{minArgs:0,maxArgs:0}});i(d)}),ge=new k(i=>typeof i!="function"?i:function(l,d,w){let S=!1,I,u=new Promise(H=>{I=function(N){S=!0,H(N)}}),U;try{U=i(l,d,I)}catch(H){U=Promise.reject(H)}const _=U!==!0&&L(U);if(U!==!0&&!_&&!S)return!1;const Y=H=>{H.then(N=>{w(N)},N=>{let Q;N&&(N instanceof Error||typeof N.message=="string")?Q=N.message:Q="An unexpected error occurred",w({__mozWebExtensionPolyfillReject__:!0,message:Q})}).catch(N=>{console.error("Failed to send onMessage rejected reply",N)})};return Y(_?U:u),!0}),ue=({reject:i,resolve:o},l)=>{m.runtime.lastError?m.runtime.lastError.message===A?o():i(new Error(m.runtime.lastError.message)):l&&l.__mozWebExtensionPolyfillReject__?i(new Error(l.message)):o(l)},le=(i,o,l,...d)=>{if(d.length<o.minArgs)throw new Error(`Expected at least ${o.minArgs} ${v(o.minArgs)} for ${i}(), got ${d.length}`);if(d.length>o.maxArgs)throw new Error(`Expected at most ${o.maxArgs} ${v(o.maxArgs)} for ${i}(), got ${d.length}`);return new Promise((w,S)=>{const I=ue.bind(null,{resolve:w,reject:S});d.push(I),l.sendMessage(...d)})},we={devtools:{network:{onRequestFinished:Z(ve)}},runtime:{onMessage:Z(ge),onMessageExternal:Z(ge),sendMessage:le.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:le.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},J={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return O.privacy={network:{"*":J},services:{"*":J},websites:{"*":J}},G(m,we,O)};g.exports=x(chrome)}})})(pr);var Rt=pr.exports;const oe=hr(Rt);var F=(n=>(n[n.LOCAL=0]="LOCAL",n[n.SYNCED=1]="SYNCED",n))(F||{}),C=(n=>(n[n.TWITCH=0]="TWITCH",n[n.YOUTUBE=1]="YOUTUBE",n[n.KICK=2]="KICK",n))(C||{}),D=(n=>(n[n.TWITCH=0]="TWITCH",n[n.YOUTUBE_OAUTH_CREDENTIALS=1]="YOUTUBE_OAUTH_CREDENTIALS",n[n.YOUTUBE=2]="YOUTUBE",n[n.YOUTUBE_API_KEY=3]="YOUTUBE_API_KEY",n[n.KICK=4]="KICK",n))(D||{}),be={exports:{}};be.exports;(function(n,a){var g=200,A="__lodash_hash_undefined__",x=800,m=16,O=9007199254740991,k="[object Arguments]",L="[object Array]",E="[object AsyncFunction]",v="[object Boolean]",T="[object Date]",P="[object Error]",M="[object Function]",G="[object GeneratorFunction]",Z="[object Map]",ve="[object Number]",ge="[object Null]",ue="[object Object]",le="[object Proxy]",we="[object RegExp]",J="[object Set]",i="[object String]",o="[object Undefined]",l="[object WeakMap]",d="[object ArrayBuffer]",w="[object DataView]",S="[object Float32Array]",I="[object Float64Array]",u="[object Int8Array]",U="[object Int16Array]",_="[object Int32Array]",Y="[object Uint8Array]",H="[object Uint8ClampedArray]",N="[object Uint16Array]",Q="[object Uint32Array]",vr=/[\\^$.*+?()[\]{}|]/g,wr=/^\[object .+?Constructor\]$/,Tr=/^(?:0|[1-9]\d*)$/,p={};p[S]=p[I]=p[u]=p[U]=p[_]=p[Y]=p[H]=p[N]=p[Q]=!0,p[k]=p[L]=p[d]=p[v]=p[w]=p[T]=p[P]=p[M]=p[Z]=p[ve]=p[ue]=p[we]=p[J]=p[i]=p[l]=!1;var De=typeof se=="object"&&se&&se.Object===Object&&se,Cr=typeof self=="object"&&self&&self.Object===Object&&self,X=De||Cr||Function("return this")(),Ye=a&&!a.nodeType&&a,ee=Ye&&!0&&n&&!n.nodeType&&n,$e=ee&&ee.exports===Ye,Te=$e&&De.process,He=function(){try{var e=ee&&ee.require&&ee.require("util").types;return e||Te&&Te.binding&&Te.binding("util")}catch{}}(),We=He&&He.isTypedArray;function Er(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}function Or(e,r){for(var t=-1,s=Array(e);++t<e;)s[t]=r(t);return s}function Sr(e){return function(r){return e(r)}}function Ir(e,r){return e==null?void 0:e[r]}function Ur(e,r){return function(t){return e(r(t))}}var Lr=Array.prototype,Pr=Function.prototype,ce=Object.prototype,Ce=X["__core-js_shared__"],me=Pr.toString,$=ce.hasOwnProperty,ze=function(){var e=/[^.]+$/.exec(Ce&&Ce.keys&&Ce.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),qe=ce.toString,jr=me.call(Object),Nr=RegExp("^"+me.call($).replace(vr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fe=$e?X.Buffer:void 0,Ge=X.Symbol,Ke=X.Uint8Array;fe&&fe.allocUnsafe;var Ve=Ur(Object.getPrototypeOf,Object),Ze=Object.create,Mr=ce.propertyIsEnumerable,Br=Lr.splice,W=Ge?Ge.toStringTag:void 0,Ae=function(){try{var e=Se(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Fr=fe?fe.isBuffer:void 0,Je=Math.max,kr=Date.now,Qe=Se(X,"Map"),re=Se(Object,"create"),Rr=function(){function e(){}return function(r){if(!q(r))return{};if(Ze)return Ze(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}();function z(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var s=e[r];this.set(s[0],s[1])}}function Dr(){this.__data__=re?re(null):{},this.size=0}function Yr(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}function $r(e){var r=this.__data__;if(re){var t=r[e];return t===A?void 0:t}return $.call(r,e)?r[e]:void 0}function Hr(e){var r=this.__data__;return re?r[e]!==void 0:$.call(r,e)}function Wr(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=re&&r===void 0?A:r,this}z.prototype.clear=Dr,z.prototype.delete=Yr,z.prototype.get=$r,z.prototype.has=Hr,z.prototype.set=Wr;function R(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var s=e[r];this.set(s[0],s[1])}}function zr(){this.__data__=[],this.size=0}function qr(e){var r=this.__data__,t=de(r,e);if(t<0)return!1;var s=r.length-1;return t==s?r.pop():Br.call(r,t,1),--this.size,!0}function Gr(e){var r=this.__data__,t=de(r,e);return t<0?void 0:r[t][1]}function Kr(e){return de(this.__data__,e)>-1}function Vr(e,r){var t=this.__data__,s=de(t,e);return s<0?(++this.size,t.push([e,r])):t[s][1]=r,this}R.prototype.clear=zr,R.prototype.delete=qr,R.prototype.get=Gr,R.prototype.has=Kr,R.prototype.set=Vr;function K(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var s=e[r];this.set(s[0],s[1])}}function Zr(){this.size=0,this.__data__={hash:new z,map:new(Qe||R),string:new z}}function Jr(e){var r=pe(this,e).delete(e);return this.size-=r?1:0,r}function Qr(e){return pe(this,e).get(e)}function Xr(e){return pe(this,e).has(e)}function et(e,r){var t=pe(this,e),s=t.size;return t.set(e,r),this.size+=t.size==s?0:1,this}K.prototype.clear=Zr,K.prototype.delete=Jr,K.prototype.get=Qr,K.prototype.has=Xr,K.prototype.set=et;function V(e){var r=this.__data__=new R(e);this.size=r.size}function rt(){this.__data__=new R,this.size=0}function tt(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}function nt(e){return this.__data__.get(e)}function st(e){return this.__data__.has(e)}function it(e,r){var t=this.__data__;if(t instanceof R){var s=t.__data__;if(!Qe||s.length<g-1)return s.push([e,r]),this.size=++t.size,this;t=this.__data__=new K(s)}return t.set(e,r),this.size=t.size,this}V.prototype.clear=rt,V.prototype.delete=tt,V.prototype.get=nt,V.prototype.has=st,V.prototype.set=it;function at(e,r){var t=Le(e),s=!t&&Ue(e),c=!t&&!s&&nr(e),h=!t&&!s&&!c&&ir(e),b=t||s||c||h,f=b?Or(e.length,String):[],y=f.length;for(var B in e)b&&(B=="length"||c&&(B=="offset"||B=="parent")||h&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||rr(B,y))||f.push(B);return f}function Ee(e,r,t){(t!==void 0&&!xe(e[r],t)||t===void 0&&!(r in e))&&Oe(e,r,t)}function ot(e,r,t){var s=e[r];(!($.call(e,r)&&xe(s,t))||t===void 0&&!(r in e))&&Oe(e,r,t)}function de(e,r){for(var t=e.length;t--;)if(xe(e[t][0],r))return t;return-1}function Oe(e,r,t){r=="__proto__"&&Ae?Ae(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var gt=_t();function he(e){return e==null?e===void 0?o:ge:W&&W in Object(e)?vt(e):St(e)}function Xe(e){return te(e)&&he(e)==k}function ut(e){if(!q(e)||Et(e))return!1;var r=je(e)?Nr:wr;return r.test(Pt(e))}function lt(e){return te(e)&&sr(e.length)&&!!p[he(e)]}function ct(e){if(!q(e))return Ot(e);var r=tr(e),t=[];for(var s in e)s=="constructor"&&(r||!$.call(e,s))||t.push(s);return t}function er(e,r,t,s,c){e!==r&&gt(r,function(h,b){if(c||(c=new V),q(h))mt(e,r,b,t,er,s,c);else{var f=s?s(Ie(e,b),h,b+"",e,r,c):void 0;f===void 0&&(f=h),Ee(e,b,f)}},ar)}function mt(e,r,t,s,c,h,b){var f=Ie(e,t),y=Ie(r,t),B=b.get(y);if(B){Ee(e,t,B);return}var j=h?h(f,y,t+"",e,r,b):void 0,ne=j===void 0;if(ne){var Ne=Le(y),Me=!Ne&&nr(y),gr=!Ne&&!Me&&ir(y);j=y,Ne||Me||gr?Le(f)?j=f:jt(f)?j=xt(f):Me?(ne=!1,j=dt(y)):gr?(ne=!1,j=pt(y)):j=[]:Nt(y)||Ue(y)?(j=f,Ue(f)?j=Mt(f):(!q(f)||je(f))&&(j=wt(y))):ne=!1}ne&&(b.set(y,j),c(j,y,s,h,b),b.delete(y)),Ee(e,t,j)}function ft(e,r){return Ut(It(e,r,or),e+"")}var At=Ae?function(e,r){return Ae(e,"toString",{configurable:!0,enumerable:!1,value:Ft(r),writable:!0})}:or;function dt(e,r){return e.slice()}function ht(e){var r=new e.constructor(e.byteLength);return new Ke(r).set(new Ke(e)),r}function pt(e,r){var t=ht(e.buffer);return new e.constructor(t,e.byteOffset,e.length)}function xt(e,r){var t=-1,s=e.length;for(r||(r=Array(s));++t<s;)r[t]=e[t];return r}function bt(e,r,t,s){var c=!t;t||(t={});for(var h=-1,b=r.length;++h<b;){var f=r[h],y=void 0;y===void 0&&(y=e[f]),c?Oe(t,f,y):ot(t,f,y)}return t}function yt(e){return ft(function(r,t){var s=-1,c=t.length,h=c>1?t[c-1]:void 0,b=c>2?t[2]:void 0;for(h=e.length>3&&typeof h=="function"?(c--,h):void 0,b&&Tt(t[0],t[1],b)&&(h=c<3?void 0:h,c=1),r=Object(r);++s<c;){var f=t[s];f&&e(r,f,s,h)}return r})}function _t(e){return function(r,t,s){for(var c=-1,h=Object(r),b=s(r),f=b.length;f--;){var y=b[++c];if(t(h[y],y,h)===!1)break}return r}}function pe(e,r){var t=e.__data__;return Ct(r)?t[typeof r=="string"?"string":"hash"]:t.map}function Se(e,r){var t=Ir(e,r);return ut(t)?t:void 0}function vt(e){var r=$.call(e,W),t=e[W];try{e[W]=void 0;var s=!0}catch{}var c=qe.call(e);return s&&(r?e[W]=t:delete e[W]),c}function wt(e){return typeof e.constructor=="function"&&!tr(e)?Rr(Ve(e)):{}}function rr(e,r){var t=typeof e;return r=r??O,!!r&&(t=="number"||t!="symbol"&&Tr.test(e))&&e>-1&&e%1==0&&e<r}function Tt(e,r,t){if(!q(t))return!1;var s=typeof r;return(s=="number"?Pe(t)&&rr(r,t.length):s=="string"&&r in t)?xe(t[r],e):!1}function Ct(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}function Et(e){return!!ze&&ze in e}function tr(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||ce;return e===t}function Ot(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}function St(e){return qe.call(e)}function It(e,r,t){return r=Je(r===void 0?e.length-1:r,0),function(){for(var s=arguments,c=-1,h=Je(s.length-r,0),b=Array(h);++c<h;)b[c]=s[r+c];c=-1;for(var f=Array(r+1);++c<r;)f[c]=s[c];return f[r]=t(b),Er(e,this,f)}}function Ie(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var Ut=Lt(At);function Lt(e){var r=0,t=0;return function(){var s=kr(),c=m-(s-t);if(t=s,c>0){if(++r>=x)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}function Pt(e){if(e!=null){try{return me.call(e)}catch{}try{return e+""}catch{}}return""}function xe(e,r){return e===r||e!==e&&r!==r}var Ue=Xe(function(){return arguments}())?Xe:function(e){return te(e)&&$.call(e,"callee")&&!Mr.call(e,"callee")},Le=Array.isArray;function Pe(e){return e!=null&&sr(e.length)&&!je(e)}function jt(e){return te(e)&&Pe(e)}var nr=Fr||kt;function je(e){if(!q(e))return!1;var r=he(e);return r==M||r==G||r==E||r==le}function sr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=O}function q(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}function te(e){return e!=null&&typeof e=="object"}function Nt(e){if(!te(e)||he(e)!=ue)return!1;var r=Ve(e);if(r===null)return!0;var t=$.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&me.call(t)==jr}var ir=We?Sr(We):lt;function Mt(e){return bt(e,ar(e))}function ar(e){return Pe(e)?at(e):ct(e)}var Bt=yt(function(e,r,t){er(e,r,t)});function Ft(e){return function(){return e}}function or(e){return e}function kt(){return!1}n.exports=Bt})(be,be.exports);var Dt=be.exports;const cr=hr(Dt);function xr(n,a){chrome.storage.onChanged.addListener(g=>{if(chrome.runtime.lastError){Re(JSON.stringify(chrome.runtime.lastError));return}n.forEach(A=>{if(typeof A=="string")g[A]!==void 0&&a&&(a[A]=g[A].newValue);else{const{key:x,cb:m}=A;g[x]!==void 0&&m(g[x].newValue)}})})}async function br(n,a,g=F.SYNCED){const m=await(g===F.LOCAL?oe.storage.local:oe.storage.sync).get(n.map(L=>typeof L=="string"?L:L.key));if(chrome.runtime.lastError)throw Re(JSON.stringify(chrome.runtime.lastError)),chrome.runtime.lastError;if(g===F.LOCAL){const L=n.reduce((v,T)=>{const P=typeof T=="string"?T:T.key;return{...v,[P]:ie[P]}},{}),E=n.reduce((v,T)=>{const P=typeof T=="string"?T:T.key,M=m[P]===void 0?ie[P]:m[P];return a&&(a[P]=M),typeof T!="string"&&T.cb(M),{...v,[P]:M}},{});return cr({},L,E)}const O=n.reduce((L,E)=>{const v=typeof E=="string"?E:E.key;return{...L,[v]:ae[v]}},{}),k=n.reduce((L,E)=>{const v=typeof E=="string"?E:E.key,T=m[v]===void 0?ae[v]:m[v];return a&&(a[v]=T),typeof E!="string"&&E.cb(T),{...L,[v]:T}},{});return cr({},O,k)}async function Jt(n,a=F.SYNCED){if(await(a===F.LOCAL?oe.storage.local:oe.storage.sync).set(n),chrome.runtime.lastError)throw Re(JSON.stringify(chrome.runtime.lastError)),chrome.runtime.lastError}const ye={...ae},_e={...ie},Yt=br(Object.keys(ae),ye),$t=br(Object.keys(ie),_e,F.LOCAL);xr(Object.keys(ae),ye);xr(Object.keys(ie),_e);function Ht(n=F.SYNCED){return n==null||n===F.SYNCED?ye:_e}async function Qt(n=F.SYNCED){return n===F.LOCAL?(await $t,_e):(await Yt,ye)}const mr=Ht();function fr(n){switch(n.type){case C.TWITCH:return n.username.toLowerCase();case C.KICK:case C.YOUTUBE:return n.displayName.toLowerCase();default:return""}}function Wt(n){switch(n.type){case C.KICK:case C.TWITCH:return n.username;case C.YOUTUBE:return n.manualInputQuery;default:return""}}function Xt(n){switch(n){case"twitch":case"kick":return!0;default:return!1}}const en=Wt;function zt(n){switch(n.type){case C.KICK:case C.TWITCH:return n.username;case C.YOUTUBE:return n.id;default:return""}}function Be(n){return n.type+zt(n)}function rn(n){switch(n.type){case C.KICK:case C.TWITCH:return`${n.type}-${n.username}`;case C.YOUTUBE:{const a=n.type+n.id+n.manualInputQuery;return n.videoId?a+n.videoId:a}default:return""}}function yr(n){return n.map(a=>typeof a=="string"?{type:C.TWITCH,value:a}:a)}function tn(n,a){return yr(n).map(g=>g.type+g.value).includes(Be(a))}function qt(n,a){return fr(n)<fr(a)?-1:1}function Gt(n,a,g){return g?n.viewerCount-a.viewerCount:a.viewerCount-n.viewerCount}function Ar(n,a,g){const A=g.map(O=>O.type+O.value),x=A.indexOf(Be(n)),m=A.indexOf(Be(a));return x===-1&&m>=0?1:m===-1&&x>=0?-1:x!==-1&&m!==-1?x-m:null}function nn(n,a,g,A=!0){g=yr(g);const x=n.viewerCount!=null,m=a.viewerCount!=null;if(x&&!m)return-1;if(m&&!x)return 1;if(x&&m){const k=Ar(n,a,g);return k??Gt(n,a,A)}const O=Ar(n,a,g);return O??qt(n,a)}const Fe=1e3,ke=Fe*60,dr=ke*60;function sn(n){const a=new Date(n);let g=Date.now()-a.getTime();const A=Math.floor(g/dr);g%=dr;const x=Math.floor(g/ke);g%=ke;const m=Math.floor(g/Fe);return g%=Fe,`${A?`${A}:`:""}${String(x).padStart(2,"0")}:${String(m).padStart(2,"0")}`}function an(n){switch(n.type){case C.TWITCH:return`https://www.twitch.tv/${n.username}`;case C.YOUTUBE:return n.viewerCount!=null?`https://www.youtube.com/watch?v=${n.videoId}`:`https://www.youtube.com/channel/${n.id}`;case C.KICK:return`https://kick.com/${n.username}`;default:return""}}function on(n){return n!=null}const _r=[D.TWITCH,D.YOUTUBE_API_KEY,D.YOUTUBE,D.KICK];function gn(n){return n.some(a=>_r.includes(a.type))}function un(n){return n.filter(a=>_r.includes(a.type)).length>1}function ln(n){return n.logins.find(a=>a.type===D.YOUTUBE)}function Kt(){var A,x;const n={origins:[]},a=mr.logins.some(m=>m.type===D.TWITCH),g=mr.logins.some(m=>m.type===D.YOUTUBE_API_KEY||m.type===D.YOUTUBE);return a&&((A=n.origins)==null||A.push(...ur[lr.TWITCH])),g&&((x=n.origins)==null||x.push(...ur[lr.YOUTUBE])),n}function cn(){return oe.permissions.request(Kt())}export{D as A,Xt as B,C,F as S,Ht as a,oe as b,ln as c,se as d,hr as e,tn as f,br as g,nn as h,Be as i,an as j,gn as k,xr as l,en as m,on as n,Zt as o,cr as p,sn as q,cn as r,Jt as s,un as t,yr as u,zt as v,Qt as w,rn as x,qt as y,Wt as z};
